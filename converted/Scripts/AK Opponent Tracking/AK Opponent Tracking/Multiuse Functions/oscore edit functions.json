{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "oscore edit functions",
    "packageName": null,
    "script": "--OppGainedAff\n\nfunction OppGainedAff(aff)\n\tif not aff then return end\n\tlocal affStr = {}\n\taff = aff:lower()\n  if string.find(aff,\" \") then                          --Multi Venoms\n\t \t\tak.eatsbetweenaffs = 0\n      for word in string.gmatch(aff, \"%a+\") do\n         if (word == \"sensitivity\" or word == \"prefarar\") and affstrack.score.deaf == 0 then \n            word = \"deaf\" \n         end\n         if table.contains(affstrack.mentallist, word) then\n            ak.occie.aura.mental = ak.occie.aura.mental + 1 \n         end\n         if table.contains(affstrack.physicallist, word) then\n            ak.occie.aura.physical = ak.occie.aura.physical + 1 \n         end\n\t\t\t\t if word == \"amnesia\" then\n\t\t\t\t    affstrack.score.amnesia = 100\n\t\t\t\t    if amnesiatimer then \n\t\t\t\t\t\t\tkillTimer(amnesiatimer)\n\t\t\t\t\t\t\tamnesiatimer = nil \n\t\t\t\t\t\tend\n            amnesiatimer = tempTimer(1, [[OppLostAff(\"amnesia\")]])\n         elseif string.find(word,\"unweave\") then\n            affstrack.score[word] = affstrack.score[word] + 100\n            table.insert(affStr,word:title())\n         elseif word == \"wrenchhead\" then\n            affstrack.score.wrenchhead = 100\n            OppGainedAff(\"dizziness\")\n            disableTimer(\"Wrench Head Timer\")\n            enableTimer(\"Wrench Head Timer\")\n            ak.HeadWrenchDisable = tempTimer(24,[[affstrack.score.wrenchhead = 0;ak.scoreup(target)]])\n            ak.InitialWrench = tempTimer(3.5,[[OppGainedAff(\"dizziness\")]])\n            table.insert(affStr,word:title())\n\t\t\t\t elseif word == \"armexpend\" then\n            affstrack.score.armexpend = 100\n            ak.armexpendtimer = tempTimer(8,[[affstrack.score.armexpend = 0;ak.scoreup(target)]])\n            table.insert(affStr,word:title())\t\n\t\t\t\t elseif word == \"blisters\" then\n            affstrack.score.blisters = 100\n            ak.blisterkiller = tempTimer(20,[[affstrack.score.blisters = 0;ak.scoreup(target)]])\n            table.insert(affStr,word:title())\t\n\t\t\t\t elseif word == \"hamstring\" then\n            affstrack.score.hamstring = 100\n            ak.hamstringtimer = tempTimer(9.5,[[affstrack.score.hamstring = 0;ak.scoreup(target)]])\n            table.insert(affStr,word:title())         \n\t\t\t\t elseif word == \"worm\" then\n            affstrack.score.worm = 100\n            ak.wormtimer = tempTimer(20,[[affstrack.score.worm = 0;ak.scoreup(target)]])\n            table.insert(affStr,word:title())\t                      \t\t\t\t \n         elseif word == \"wrenchtorso\" then\n            affstrack.score.wrenchtorso = 100\n            ak.TorsoWrenchDisable = tempTimer(24,[[affstrack.score.wrenchtorso = 0;ak.scoreup(target)]])\n            table.insert(affStr,word:title())\n         elseif word == \"epseth\" or word == \"crippledleg\" then\n            if affstrack.score[\"leftleg\"] < 100 then       \n               affstrack.score[\"leftleg\"] = 100\n               ak.AddedAffReset(\"leftleg\") \n\t\t\t\t\t\ttable.insert(affStr,word:title())\n            elseif affstrack.score[\"rightleg\"] < 100 then       \n               affstrack.score[\"rightleg\"] = 100\n               ak.AddedAffReset(\"rightleg\") \n\t\t\t\t\t\ttable.insert(affStr,word:title())\n            end\n         elseif word == \"epteth\" or word == \"crippledarm\" then\n            if affstrack.score[\"leftarm\"] < 100 then       \n               affstrack.score[\"leftarm\"] = 100\n               ak.AddedAffReset(\"leftarm\") \n\t\t\t\t\t\ttable.insert(affStr,word:title())\n            elseif affstrack.score[\"rightarm\"] < 100 then       \n               affstrack.score[\"rightarm\"] = 100\n               ak.AddedAffReset(\"rightarm\") \n\t\t\t\t\t\ttable.insert(affStr,word:title())\n            end\t\t\t\t\t\t\n\t\t\t\t elseif word == \"frozen\" then\n            affstrack.score[word] = affstrack.score[word] + 100 \n            table.insert(affStr,aff:title()) \n            if affstrack.score.frozen > 300 then\n               affstrack.score.frozen = 300\n            end\t\t\t\t\t\t\t\n\t\t\t\t elseif word == \"deepfreeze\" then\n            affstrack.score[\"frozen\"] = affstrack.score[\"frozen\"] + 200 \n            table.insert(affStr,\"Frozen\") \n            if affstrack.score.frozen > 300 then\n               affstrack.score.frozen = 300\n            end\t\t\t\t\t\t\t\t\t\t\n         elseif affstrack.score[word] then\n            if affstrack.score[word] < 100 then       \n               affstrack.score[word] = 100\n               ak.AddedAffReset(word)\n               if (word == \"deaf\" or word == \"sensitivity\") then \n                  word = \"prefarar\" \n               end   \n               table.insert(affStr,word:title())\n            end\n         elseif affstrack.venoms[word] then \n            if affstrack.score[affstrack.venoms[word]] < 100 then    \n               affstrack.score[affstrack.venoms[word]] = 100\n               ak.AddedAffReset(affstrack.venoms[word])\n               if (word == \"deaf\" or word == \"sensitivity\") then \n                  word = \"prefarar\" \n               end\n               table.insert(affStr,affstrack.venoms[word]:title())  \n            end\n         end\n\t\t  end\n\telse          --Single venom\n\t\t ak.eatsbetweenaffs = 1\n     if (aff == \"sensitivity\" or aff == \"prefarar\") and affstrack.score.deaf == 0 then \n        aff = \"deaf\" \n     end  \n     if table.contains(affstrack.mentallist, aff) then\n        ak.occie.aura.mental = ak.occie.aura.mental + 1 \n     end\n     if table.contains(affstrack.physicallist, aff) then\n        ak.occie.aura.physical = ak.occie.aura.physical + 1 \n     end\n\t\t if aff == \"amnesia\" then\n\t\t\t\taffstrack.score.amnesia = 100\n\t\t\t\tif amnesiatimer then \n\t\t\t\t   killTimer(amnesiatimer)\n\t\t\t\t   amnesiatimer = nil \n\t\t\t\tend\n        amnesiatimer = tempTimer(1, [[OppLostAff(\"amnesia\")]])\n     elseif string.find(aff,\"unweave\") then\n        affstrack.score[aff] = affstrack.score[aff] + 100\n        table.insert(affStr,aff:title())\n     elseif aff == \"wrenchhead\" then\n        affstrack.score.wrenchhead = 100\n        affstrack.score.torso = 100\n        OppGainedAff(\"dizziness\")\n        disableTimer(\"Wrench Head Timer\")\n        enableTimer(\"Wrench Head Timer\")\n        ak.HeadWrenchDisable = tempTimer(24,[[affstrack.score.wrenchhead = 0;ak.scoreup(target)]])\n        ak.InitialWrench = tempTimer(3.5,[[OppGainedAff(\"dizziness\")]])\n        table.insert(affStr,aff:title())\t\t\t\n\t\t elseif aff == \"blisters\" then\n        affstrack.score.blisters = 100\n        ak.blisterkiller = tempTimer(20,[[affstrack.score.blisters = 0;ak.scoreup(target)]])\n        table.insert(affStr,aff:title())\t\n     elseif aff == \"wrenchtorso\" then\n        affstrack.score.wrenchtorso = 100\n        ak.TorsoWrenchDisable = tempTimer(24,[[affstrack.score.wrenchtorso = 0;ak.scoreup(target)]])\n        table.insert(affStr,aff:title())\n\t\t elseif aff == \"armexpend\" then\n        affstrack.score.armexpend = 100\n        ak.TorsoWrenchDisable = tempTimer(8,[[affstrack.score.armexpend = 0;ak.scoreup(target)]])\n        table.insert(affStr,aff:title())\t\n\t\t elseif aff == \"hamstring\" then\n         affstrack.score.hamstring = 100\n         ak.TorsoWrenchDisable = tempTimer(9.5,[[affstrack.score.hamstring = 0;ak.scoreup(target)]])\n         table.insert(affStr,aff:title())\t\n\t\t elseif aff == \"worm\" then\n          affstrack.score.worm = 100\n          ak.wormtimer = tempTimer(20,[[affstrack.score.worm = 0;ak.scoreup(target)]])\n          table.insert(affStr,aff:title())\t                  \n     elseif aff == \"epseth\" or aff == \"crippledleg\" then\n        if affstrack.score[\"leftleg\"] < 100 then       \n           affstrack.score[\"leftleg\"] = 100\n           ak.AddedAffReset(\"leftleg\") \n        elseif affstrack.score[\"rightleg\"] < 100 then       \n           affstrack.score[\"rightleg\"] = 100\n           ak.AddedAffReset(\"rightleg\") \n        end\n        table.insert(affStr,\"Epseth\")\n     elseif aff == \"epteth\" or aff == \"crippledarm\" then\n        if affstrack.score[\"leftarm\"] < 100 then       \n           affstrack.score[\"leftarm\"] = 100\n           ak.AddedAffReset(\"leftarm\") \n        elseif affstrack.score[\"rightarm\"] < 100 then       \n           affstrack.score[\"rightarm\"] = 100\n           ak.AddedAffReset(\"rightarm\") \n        end\n        table.insert(affStr,\"Epteth\")    \n\t\telseif aff == \"frozen\" then \n        affstrack.score[aff] = affstrack.score[aff] + 100\n        table.insert(affStr,aff:title())\n        if affstrack.score.frozen > 300 then\n           affstrack.score.frozen = 300\n        end \n\t\telseif aff == \"deepfreeze\" then\n        affstrack.score[\"frozen\"] = affstrack.score[\"frozen\"] + 200 \n        table.insert(affStr,\"Frozen\") \n        if affstrack.score.frozen > 300 then\n           affstrack.score.frozen = 300\n        end\t\t                                         \n     elseif affstrack.score[aff] then\n        if affstrack.score[aff] < 100 then       \n           affstrack.score[aff] = 100\n           ak.AddedAffReset(aff)\n           if aff == \"deaf\" or aff == \"sensitivity\" then \n              aff = \"prefarar\" \n           end\n\t\t\t   if aff == \"hypochondria\" then\n\t\t\t\t   enableTimer(\"Hypochondria Timer\")\n\t\t\t   end\n\t\t\t   if aff == \"hellsight\" then\n\t\t\t\t   affstrack.score.slickness = 100\n\t\t\t   end\n           table.insert(affStr,aff:title())   \n        end\n     elseif affstrack.venoms[aff] then \n        if affstrack.score[affstrack.venoms[aff]] < 100 then    \n           affstrack.score[affstrack.venoms[aff]] = 100\n           ak.AddedAffReset(affstrack.venoms[aff])\n           if aff == \"deaf\" or aff == \"sensitivity\" then \n              aff = \"prefarar\" \n           end\n           table.insert(affStr,affstrack.venoms[aff]:title())       \n        end \n     end\n\tend\n\tif #affStr > 0 then \n\t\t\tak.echogain(table.concat(affStr, \" \")) \n\t\t\tif rtpkrnl then ApK(table.concat(affStr, \" rtpkrnl \")) end--AKG Display\n\tend\n\tak.scoreup(target)\nend\n\nfunction OppLostAff(aff)\n\tlocal affStr = \"\"\n\taff = aff:lower()\n\tif string.find(aff,\" \") then\n\t\tfor word in string.gmatch(aff, \"%a+\") do\n\t\t\tif affstrack.score[word] > 0 then\n\t\t\t\taffstrack.score[word] = 0\n\t\t\t\taffStr = word:title()\n\t\t\tend\n\t\tend\n\telse\n\t\tif affstrack.score[aff] > 0 then\n\t\t\taffstrack.score[aff] = 0\n\t\t\taffStr = aff:title()\n\t\tend\n\tend\n   if affStr:len() > 0 then ak.echolost(affStr) end\n\tak.scoreup(target)\n\nend",
    "eventHandlerList": null
}