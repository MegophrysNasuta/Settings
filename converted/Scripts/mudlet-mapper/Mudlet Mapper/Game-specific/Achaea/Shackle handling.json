{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "Shackle handling",
    "packageName": null,
    "script": "local density = false\n--Wear shackle function\n\nfunction mmp.WearShackle()\n  if mmp.settings.shackle and density then\n    send(\"wear shackle\")\n  end\nend\n\nfunction mmp.UnwearShackle()\n  if mmp.settings.shackle and mmp.defs.current.density then\n    density = true\n    send(\"remove shackle\")\n  elseif not mmp.defs.current.density then\n    density = false\n  end\nend\n\n--Event Handlers\nregisterAnonymousEventHandler(\"mmapper failed path\", \"mmp.WearShackle\")\nregisterAnonymousEventHandler(\"mmapper stopped\", \"mmp.WearShackle\")\nregisterAnonymousEventHandler(\"mmapper arrived\", \"mmp.WearShackle\")\nregisterAnonymousEventHandler(\"started speedwalk\", \"mmp.UnwearShackle\")",
    "eventHandlerList": null
}