{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "Achaea",
    "packageName": null,
    "script": "registerAnonymousEventHandler(\"mmp link externals\", \"mmp.addWingsAchaea\")\n\n\n\nfunction mmp.addWingsAchaea()\n  --Trimmed down version of the original function, meant to only be used for wings. (Where the command varies based on several MCONFIGS)\n\n  local function getcmd(word)\n    return\n      mmp.settings.removewings and\n      string.format(\n        [[script:sendAll(\"wear wings\", \"say *%s %s\", \"remove wings\", false)]],\n        (mmp.settings.winglanguage and mmp.settings.winglanguage or \"\"),\n        word\n      ) or\n      string.format(\n        [[script:send(\"say *%s %s\", false)]],\n        (mmp.settings.winglanguage and mmp.settings.winglanguage or \"\"),\n        word\n      )\n  end\n\n  --Achaea stuff!\n  if mmp.game ~= \"achaea\" then\n    return\n  end\n  local area = getRoomArea(mmp.currentroom)\n  --WINGS!\n  if\n    (mmp.settings.duanathar or mmp.settings.duanatharan or mmp.settings.duantahar) and\n    not mmp.inside\n  then\n    --Sarapis wings.\n    if mmp.oncontinent(area, \"Main\") then\n      if mmp.settings.duanatharan then\n        mmp.tempSpecialExit(4882, getcmd(\"duanatharan\"))\n        mmp.tempSpecialExit(3885, getcmd(\"duanathar\"))\n      elseif mmp.settings.duantahar then\n        mmp.tempSpecialExit(42319, getcmd(\"duanathar\"))\n        mmp.tempSpecialExit(4882, getcmd(\"duanatharan\"))\n      else\n        mmp.tempSpecialExit(3885, getcmd(\"duanathar\"))\n      end\n      --Meropis Wings\n    elseif mmp.oncontinent(area, \"Meropis\") then\n      if mmp.settings.duanatharan then\n        mmp.tempSpecialExit(51603, getcmd(\"duanatharan\"))\n        mmp.tempSpecialExit(51188, getcmd(\"duanathar\"))\n      elseif mmp.settings.duantahar then\n        mmp.tempSpecialExit(42319, getcmd(\"duanathar\"))\n        mmp.tempSpecialExit(51603, getcmd(\"duanatharan\"))\n      else\n        mmp.tempSpecialExit(51188, getcmd(\"duanathar\"))\n      end\n    end\n  end\n  --Island wings.\n  if mmp.settings.duanatharic and not mmp.inside then\n    if\n      mmp.oncontinent(area, \"Main\") or\n      mmp.oncontinent(area, \"Arcadia\") or\n      mmp.oncontinent(area, \"Outer\") or\n      mmp.oncontinent(area, \"Meropis\") or\n      mmp.oncontinent(area, \"Island\") or\n      mmp.oncontinent(area, \"North\")\n    then\n      mmp.tempSpecialExit(47571, getcmd(\"duanatharic\"))\n    end\n  end\n  -- Stratospheric Harness support -- PapaGuacamole\n  if mmp.settings.harness and not mmp.inside then\n    -- eastern isles\n    if mmp.oncontinent(area, \"Eastern_Isles\") then\n      mmp.tempSpecialExit(54231, \"Shake Harness\")\n      -- northern isles\n    elseif mmp.oncontinent(area, \"Northen_Isles\") then\n      mmp.tempSpecialExit(48719, \"Shake Harness\")\n      -- western isles\n    elseif mmp.oncontinent(area, \"Western_Isles\") then\n      mmp.tempSpecialExit(54632, \"Shake Harness\")\n    end\n  end\n  -- Air Elemental Aero Soar\n  if mmp.settings.soar and not mmp.inside then\n    --Sarapis soar.\n    if mmp.oncontinent(area, \"Main\") then\n      if\n        gmcp.Char.Status.class == \"air Elemental Lord\" or\n        gmcp.Char.Status.class == \"air Elemental Lady\"\n      then\n        mmp.tempSpecialExit(4882, \"aero soar high\", 10)\n        -- duanatharan\n        mmp.tempSpecialExit(3885, \"aero soar low\", 10)\n        -- duanathar\n        mmp.tempSpecialExit(54173, \"aero soar stratosphere\", 10)\n        -- Stratosphere!\n      end\n      --Meropis soar\n    elseif mmp.oncontinent(area, \"Meropis\") then\n      if\n        gmcp.Char.Status.class == \"air Elemental Lord\" or\n        gmcp.Char.Status.class == \"air Elemental Lady\"\n      then\n        mmp.tempSpecialExit(51603, \"aero soar high\", 10)\n        -- duanatharan\n        mmp.tempSpecialExit(51188, \"aero soar low\", 10)\n        -- duanathar\n        mmp.tempSpecialExit(54173, \"aero soar stratosphere\", 10)\n        -- Stratosphere!\n      end\n    end\n  end\n  --universe tarot\n  if mmp.settings.universe and mmp.oncontinent(area, \"Main\") then\n    local tarotLocations =\n      {\n        azdun = 1772,\n        blackrock = 10573,\n        bitterfork = 25093,\n        genji = 10091,\n        manusha = 8730,\n        newthera = 20386,\n        caerwitrin = 17678,\n        shastaan = 2855,\n        mannaseh = 1745,\n        manara = 9124,\n        brasslantern = 30383,\n        mhojave = 39103,\n        thraasi = 35703,\n        newhope = 25581,\n      }\n    for village, roomnum in pairs(tarotLocations) do\n      mmp.tempSpecialExit(\n        roomnum,\n        [=[script:\n        mmp.customwalkdelay(4.5)\n        send(\"fling universe at ground\",false)\n        tempTimer(4,[[send(\"touch ]=] ..\n        village ..\n        [=[\",false)]])\n        ]=],\n        10\n      )\n    end\n  end\n  --gare\n  if mmp.settings.gare and gmcp.Char and string.match(gmcp.Char.Status.race, \"Dragon\") then\n    if\n      mmp.oncontinent(area, \"Main\") or\n      mmp.oncontinent(area, \"Meropis\") or\n      mmp.oncontinent(area, \"Island\") or\n      mmp.oncontinent(area, \"North\") or\n      mmp.oncontinent(area, \"Arcadia\")\n    then\n      mmp.tempSpecialExit(\n        12695,\n        [=[script:\n        mmp.customwalkdelay(4.5)\n        send(\"pierce the veil\",false)\n        ]=],\n        20\n      )\n    end\n  end\n  mmp.clearpathcache()\nend",
    "eventHandlerList": null
}