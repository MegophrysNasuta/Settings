{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "mmp_relock_areas",
    "packageName": null,
    "script": "function mmp_relock_areas()\n\tlocal getAreaRooms, lockRoom, lockedareas = getAreaRooms, lockRoom, mmp.locked\n\n\tfor areaid, areaname in pairs(getAreaTableSwap()) do\n\t\tif lockedareas[areaid] then\n\t\t\tlocal rooms = getAreaRooms(areaid) or {}\n\t\t\tfor _, roomid in pairs(rooms) do\n\t\t\t\tlockRoom(roomid, true)\n\t\t\tend\n\t\telse\n\t\t\tlocal rooms = getAreaRooms(areaid) or {}\n\t\t\tfor _, roomid in pairs(rooms) do\n\t\t\t\tlockRoom(roomid, false)\n\t\t\tend\n\t\tend\n\tend\n\n\t-- make sure area with ID 0 is locked - this was causing crashing issues\n\tlocal rooms = getAreaRooms(0) or {}\n\tfor _, roomid in pairs(rooms) do\n\t\tlockRoom(roomid, true)\n\tend\nend",
    "eventHandlerList": "\n\t\t\t\t\t\t\t"
}