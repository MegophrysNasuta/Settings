{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "Salve Functions",
    "packageName": null,
    "script": "function wsys.affcuredsalve(affliction)\n wsys.applying = nil\nend -- func\n\n\nfunction wsys.emptysalve()\n for k,v in pairs(wsys.tb.cures[wsys.applying]) do\n   wsys.predicted[v] = nil\n\t\n   if wsysf.affs[v] then\n     wsysf.core.debug.print(2, \"Empty salve should clear \".. v..\"?\")\n   end\n   disableTrigger(string.title(v) .. \" -\")\n end -- for\n wsys.pairscheck(wsys.cure)\n wsys.applying = nil\n wsys.cure = nil\n disableTrigger(\"Empty Salves\")\nend -- func\n\n\nfunction wsys.mendingreset()\n if wsys.applying == \"mendinglegs\" then\n  if wsys.aff.brokenrightleg then\n   wsys.aff.damagedrightleg = true\n   enableTrigger(\"Damagedrightleg -\")\n   wsys.aff.brokenrightleg = nil\n   disableTrigger(\"Brokenrightleg -\")\n  end -- if\n  if wsys.aff.brokenleftleg then\n   wsys.aff.damagedleftleg = true\n   enableTrigger(\"Damagedleftleg -\")\n   wsys.aff.brokenleftleg = nil\n   disableTrigger(\"Brokenleftleg -\")\n  end -- if\n  if wsys.aff.cleg then\n   wsys.aff.cleg = nil\n   disableTrigger(\"Cleg -\")\n   wsys.aff.bleg = true\n   enableTrigger(\"Bleg -\")\n  end -- if\n elseif wsys.applying == \"mendingarms\" then\n  if wsys.aff.brokenrightarm then\n   wsys.aff.brokenrightarm = nil\n   disableTrigger(\"Brokenrightarm -\")\n   wsys.aff.damagedrightarm = true\n   enableTrigger(\"Damagedrightarm -\")\n  end -- if\n  if wsys.aff.brokenleftarm then\n   wsys.aff.brokenleftarm = nil\n   disableTrigger(\"Brokenleftarm -\")\n   wsys.aff.damagedleftarm = true\n   enableTrigger(\"Damagedleftarm -\")\n  end -- if\n  if wsys.aff.carm then\n   wsys.aff.carm = nil\n   disableTrigger(\"Carm -\")\n   wsys.aff.barm = true\n   enableTrigger(\"Barm -\")\n  end -- if\n end -- if\n wsys.applying = false\n wsys.cure = nil\n disableTrigger(\"Empty Salves\")\nend -- func\n\n\nfunction wsys.restoreset()\n if not wsys.lifevision then\n  if wsys.applying == \"restorationlegs\" then\n   wsys.aff.damagedleftleg = nil\n   wsys.aff.damagedrightleg = nil\n   wsys.aff.mangledleftleg = nil\n   wsys.aff.mangledrightleg = nil\n   wsys.aff.bleg = nil\n  elseif wsys.applying == \"restorationarms\" then\n   wsys.aff.damagedleftarm = nil\n   wsys.aff.damagedrightarm = nil\n   wsys.aff.mangledleftarm = nil\n   wsys.aff.mangledrightarm = nil\n   wsys.aff.barm = nil\n  elseif wsys.applying == \"restorationhead\" then\n   wsys.aff.damagedhead = nil\n   wsys.aff.mangledhead = nil\n  elseif wsys.applying == \"restorationtorso\" then\n   wsys.aff.mildtrauma = nil\n   wsys.aff.serioustrauma = nil\n   wsys.aff.heartseed = nil\n  end -- if\n end -- if\n wsys.applying = false\n wsys.cure = nil\n disableTrigger(\"Empty Salves\")\nend -- func\n\n\nfunction wsys.salvebal()\n if wsys.applying then\n   wsys.gotBal(\"salve\")\n   wsys.applying = false\n end\nend -- func\n\nfunction wsys.applied()\n if wsys.applying then\n  if string.starts(wsys.applying, \"restoration\") then\n    if wsys.aff.timeflux then\n      wsys.lostBal(\"salve\", 6.3)\n    else\n      wsys.lostBal(\"salve\", 4.3)\n    end\n  else\n    if wsys.aff.timeflux then\n      wsys.lostBal(\"salve\", 1.4)\n    else\n      wsys.lostBal(\"salve\", 1.9)\n    end\n  end\n end\nend",
    "eventHandlerList": null
}