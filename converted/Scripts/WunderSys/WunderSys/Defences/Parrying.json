{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "Parrying",
    "packageName": null,
    "script": "wsys.toparry = wsys.toparry or false\n\nlocal parryTable = {\n  [\"ll\"] = \"left leg\",\n  [\"rl\"] = \"right leg\",\n  [\"la\"] = \"left arm\",\n  [\"ra\"] = \"right arm\",\n  [\"h\"] = \"head\",\n  [\"t\"] = \"torso\",\n  [\"n\"] = \"nothing\",\n}\n\nfunction wsys.parrying(limb)\n  wsys.def[\"parry\"] = limb\n  wsys.toparry = false\nend  --func\n\nfunction wsys.parrynothing()\n  wsys.def[\"parry\"] = false\n  wsys.toparry = false\nend\n\nfunction wsys.parryf(l)\n  local limb = parryTable[l]\n  if not wsys.toparry and wsys.def.parry ~= limb and (wsys.settings.haveparry or wsys.isDragon()) then\n    wsys.toparry = limb\n    if wsys.toparry then\n      wsys.parryFunction()\n      if wsys.timer.parryftimer then\n        killTimer(tostring(wsys.timer.parryftimer))\n        wsys.timer.parryftimer = tempTimer(5, [[wsys.timer.parryftimer = nil;wsys.toparry = false]])\n      end\n    end\n  end\nend --func\n\n\nfunction wsys.parryFunction()\n  if wsys.isDragon() then\n    wsys.dofreeadd(\"clawparry \" .. wsys.toparry)\n  elseif wsys.isClass(\"monk\") then\n    wsys.dofreeadd(\"guard \" .. wsys.toparry)\n  else\n    wsys.dofreeadd(\"parry \" .. wsys.toparry)\n  end -- if\nend --func\n\n",
    "eventHandlerList": null
}