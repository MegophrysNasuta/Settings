{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "asthma prioritise",
    "packageName": null,
    "script": "function wsys.asthmaHandling(event, affliction, class)\n  if event == \"got aff\" then\n    if wsys.aff.asthma and wsys.aff.slickness --[[ and not wsys.aff.impatience ]] and ( wsys.aff.weariness or wsys.aff.paralysis ) then\n      wsys.switchPrios(\"asthma\", 2 )\n    elseif wsys.aff.impatience and wsys.aff.asthma and wsys.classTimerExists(\"alchemist\") then\n      wsys.switchPrios(\"asthma\", 1 )\n    end\n  end\nend --func\n\nregisterAnonymousEventHandler(\"got aff\", \"wsys.asthmaHandling\")\nregisterAnonymousEventHandler(\"reset aff prios\", \"wsys.asthmaHandling\")\n\n\nfunction wsys.asthmaHandlingLost(event, affliction)\n  if event == \"lost aff\" then\n    if not (wsys.aff.asthma and wsys.aff.slickness and not wsys.aff.impatience and ( wsys.aff.weariness or wsys.aff.paralysis )) and not wsys.classTimerExists(\"alchemist\") then\n      wsys.affPrioRestore( \"asthma\" )\n    elseif not (wsys.aff.impatience and wsys.aff.asthma) and wsys.classTimerExists(\"alchemist\") and (wsys.affPosition(\"temperedcholeric\") ~= 2) then\n      wsys.affPrioRestore( \"asthma\" )\n    end\n  end\nend --func\n\nregisterAnonymousEventHandler(\"lost aff\", \"wsys.asthmaHandlingLost\")",
    "eventHandlerList": null
}