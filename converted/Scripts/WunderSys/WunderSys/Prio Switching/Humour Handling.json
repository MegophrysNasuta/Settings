{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "Humour Handling",
    "packageName": null,
    "script": "function wsys.humourGainedHandling(event, affliction, class)\n  if event == \"got aff\" then\n    --any of the tempered humours\n      if wsys.aff.temperedcholeric and wsys.aff.temperedcholeric >= 4 then\n        wsys.switchPrios(\"temperedcholeric\", 2 )\n        --prio sensi here at 3 or something\n      elseif wsys.aff.temperedsanguine and wsys.aff.temperedsanguine >= 4 then\n        wsys.switchPrios(\"temperedsanguine\", 2 )\n      elseif wsys.aff.temperedphlegmatic and wsys.aff.temperedphlegmatic >= 4 then\n        --wsys.switchPrios(\"temperedphlegmatic\", 2 )\n      elseif wsys.aff.temperedmelancholic and wsys.aff.temperedmelancholic >= 4 then\n        wsys.switchPrios(\"temperedmelancholic\", 2 )\n      end\n    end\nend --func\n\nregisterAnonymousEventHandler(\"got aff\", \"wsys.humourGainedHandling\")\n\nfunction wsys.humourLevelLost()\n    if wsys.aff.temperedcholeric and wsys.aff.temperedcholeric <= 2 then\n        wsys.affPrioRestore(\"temperedcholeric\")\n        --prio sensi here at 3 or something\n      elseif wsys.aff.temperedsanguine and wsys.aff.temperedsanguine <= 1 then\n        wsys.affPrioRestore(\"temperedsanguine\" )\n      elseif wsys.aff.temperedphlegmatic and wsys.aff.temperedphlegmatic <= 2  then\n        wsys.affPrioRestore(\"temperedphlegmatic\" )\n      elseif wsys.aff.temperedmelancholic and wsys.aff.temperedmelancholic <= 2 then\n        wsys.affPrioRestore(\"temperedmelancholic\" )\n      end\nend --func\n\nfunction wsys.humourcured(event, affliction)\n  if event == \"lost aff\" then\n    if affliction == \"temperedcholeric\" or (wsys.affPosition(\"temperedcholeric\") ~= wsys.defaultAffPosition(\"temperedcholeric\")) then\n      wsys.affPrioRestore(\"temperedcholeric\")\n    elseif affliction == \"temperedsanguine\" or (wsys.affPosition(\"temperedsanguine\") ~= wsys.defaultAffPosition(\"temperedsanguine\")) then\n      wsys.affPrioRestore(\"temperedsanguine\")\n    elseif affliction == \"temperedphlegmatic\" or (wsys.affPosition(\"temperedphlegmatic\") ~= wsys.defaultAffPosition(\"temperedphlegmatic\")) then\n      wsys.affPrioRestore(\"temperedphlegmatic\")\n    elseif affliction == \"temperedmelancholic\" or (wsys.affPosition(\"temperedmelancholic\") ~= wsys.defaultAffPosition(\"temperedmelancholic\")) then\n      wsys.affPrioRestore(\"temperedmelancholic\")\n    end\n  end\nend\n\nregisterAnonymousEventHandler(\"lost aff\", \"wsys.humourcured\")",
    "eventHandlerList": null
}