{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "Precache",
    "packageName": null,
    "script": "local minerals = {\"antimony\", \"argentum\", \"arsenic\", \"aurum\", \"azurite\", \"bisemutum\", \"calamine\", \"calcite\", \"cinnabar\", \"cuprum\", \"dolomite\", \"ferrum\", \"gypsum\", \"magnesium\", \"malachite\", \"plumbum\", \"potash\", \"quartz\", \"quicksilver\", \"realgar\", \"stannum\"}\nlocal herbs = {\"ash\", \"bayberry\", \"bellwort\", \"bloodroot\", \"cohosh\", \"elm\", \"ginger\", \"ginseng\", \"goldenseal\", \"hawthorn\", \"kelp\", \"kola\", \"lobelia\", \"skullcap\", \"valerian\", \"sileris\", \"moss\", \"pear\"}\n\nwsys.keepout = wsys.keepout or {}\n\nfunction wsys.setkeepouttable()\n  wsys.settings.precache = wsys.settings.precache or {}\n  wsys.settings.precache[wsys.profile] = wsys.settings.precache[wsys.profile] or {}\n  --Clear the entire table\n  wsys[\"keepout\"] = {}\n  for k,v in pairs(wsys.settings[\"precache\"][wsys.profile]) do\n    wsys[\"keepout\"][k] = v\n  end\nend\n\nfunction wsys.precacheset(herb, num, profile)\n  local p = wsys.profile\n  if profile then p = profile end\n  if (table.contains(minerals, herb) or table.contains(herbs, herb)) then\n    if tonumber(num) > 0 then\n      wsys.settings[\"precache\"][p][herb] = tonumber(num)\n      wsys.precachedisplay()\n      wsys.setkeepouttable()\n      wsys.outrqueue()\n      wsys.saveSettings()\n    elseif tonumber(num) == 0 then\n      wsys.settings[\"precache\"][p][herb] = nil\n      wsys.precachedisplay()\n      wsys.setkeepouttable()\n      wsys.outrqueue()\n      wsys.saveSettings()\n    else\n      wsys.report(\"Cannot set a number lower than 0!\")\n    end\n  else\n    --invalid fucking herb right here son\n    wsys.report(herb .. \" is not a valid herb or mineral!\")\n  end\nend\n\nfunction wsys.precachedisplay()\n  wsys.report(\"Precached Herbs/Minerals\")\n  if wsys.settings[\"precache\"][wsys.profile] == nil then\n    wsys.settings[\"precache\"][wsys.profile] = {}\n  end\n  local minerals = {\"antimony\", \"argentum\", \"arsenic\", \"aurum\", \"azurite\", \"bisemutum\", \"calamine\", \"calcite\", \"cinnabar\", \"cuprum\", \"dolomite\", \"ferrum\", \"gypsum\", \"magnesium\", \"malachite\", \"plumbum\", \"potash\", \"quartz\", \"quicksilver\", \"realgar\", \"stannum\"}\n  local herbs = {\"ash\", \"bayberry\", \"bellwort\", \"bloodroot\", \"cohosh\", \"elm\", \"ginger\", \"ginseng\", \"goldenseal\", \"hawthorn\", \"kelp\", \"kola\", \"lobelia\", \"skullcap\", \"valerian\", \"sileris\", \"moss\", \"pear\"}\n  if wsys.settings.usetransmutation then\n    local x = 0\n    for k,v in ipairs(minerals) do\n      x = x + 1\n      local num = 0\n      if wsys.settings[\"precache\"][wsys.profile][v] then\n        num = wsys.settings[\"precache\"][wsys.profile][v]\n      end\n      local d = \"<dark_slate_gray>[<white>\" .. num .. \"<dark_slate_gray>] <white>\"\n      if (x-1)%3 == 0 then\n        echo(\"\\n\")\n      end\n      cecho(d)\n      local nWithSpace = v\n      local length = nWithSpace:len() + math.floor(math.log10(math.max(1,num)))\n      if length < 25 and (x-1)%3~=2 then\n        local pad = 25 - length\n        nWithSpace = string.rep(\" \", pad)\n      else\n        nWithSpace = \"\"\n      end\n      cecho(\"<white>\"..v)\n      local aliasone = \"wconfig precache \" .. v .. \" \" .. num + 1\n      local commandone = [[expandAlias(\"]]..aliasone..[[\")]]\n      echo(\" \")\n      echoLink(\"(+)\", commandone, \"Add one more \" .. v, true)\n      echo(\" \")\n      local aliastwo = \"wconfig precache \" .. v .. \" \" .. num - 1\n      local commandtwo = [[expandAlias(\"]]..aliastwo..[[\")]]\n      echoLink(\"(-)\", commandtwo, \"Remove one \" .. v, true)\n      cecho(\"<white>\"..nWithSpace)\n    end\n  else\n    local x = 0\n    for k,v in ipairs(herbs) do\n      x = x + 1\n      local num = 0\n      if wsys.settings[\"precache\"][wsys.profile][v] then\n        num = wsys.settings[\"precache\"][wsys.profile][v]\n      end\n      local d = \"<dark_slate_gray>[<white>\" .. num .. \"<dark_slate_gray>] <white>\"\n      if (x-1)%3 == 0 then\n        echo(\"\\n\")\n      end\n      cecho(d)\n      local nWithSpace = v\n      local length = nWithSpace:len() + math.floor(math.log10(math.max(1,num)))\n      if length < 25 and (x-1)%3~=2 then\n        local pad = 25 - length\n        nWithSpace = string.rep(\" \", pad)\n      else\n        nWithSpace = \"\"\n      end\n      cecho(\"<white>\"..v)\n      local aliasone = \"wconfig precache \" .. v .. \" \" .. num + 1\n      local commandone = [[expandAlias(\"]]..aliasone..[[\")]]\n      echo(\" \")\n      echoLink(\"(+)\", commandone, \"Add one more \" .. v, true)\n      echo(\" \")\n      local aliastwo = \"wconfig precache \" .. v .. \" \" .. num - 1\n      local commandtwo = [[expandAlias(\"]]..aliastwo..[[\")]]\n      echoLink(\"(-)\", commandtwo, \"Remove one \" .. v, true)\n      cecho(\"<white>\"..nWithSpace)\n    end\n  end\nend",
    "eventHandlerList": null
}