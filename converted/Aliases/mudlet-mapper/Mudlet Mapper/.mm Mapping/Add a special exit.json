{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "alias",
    "name": "Add a special exit",
    "script": "-- spe clear and spe list match on this\nif matches[2] == \"clear\" or matches[2] == \"list\" then return end\n\n-- need the current room, but we're lost\nif not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo(\"Don't know where we are at the moment.\") return end\n\nlocal otherroom = tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])\n\n-- need the another room, but it doesn't actually exist\nif not otherroom or not mmp.roomexists(otherroom) then mmp.echo(matches[2]..\" doesn't exist.\") return end\n\naddSpecialExit(mmp.currentroom, tonumber(otherroom), matches[3])\naddSpecialExit(mmp.currentroom, tonumber(otherroom), matches[3])\nmmp.echo(string.format(\"Added special exit with command '%s' to %s (%d).\", matches[3], getRoomName(otherroom), otherroom))\ncenterview(mmp.currentroom)",
    "command": null,
    "packageName": null,
    "regex": "^(?:spe|exit special) (\\w+) (.+)$"
}