{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "alias",
    "name": "Show char marks",
    "script": "local c = 0\nlocal m = {}\nlocal areas = getAreaTable()\nlocal show_area = table.size(areas) > 1 and true or false\n\nfor area, id in pairs(areas) do\n  for _, roomid in pairs(getAreaRooms(id)) do\n    local c = getRoomChar(roomid)\n    if c ~= '' and c ~= ' ' then\n      m[c] = m[c] or {}\n      m[c][#m[c]+1] = roomid\n    end\n  end\nend\n\nif not next(m) then mmp.echo(\"This map has no char marks on it. Do mc on and rcc <mark> in a room to add them!\") return end\n\nfor letter, rooms in pairs(m) do\n  table.sort(rooms)\n  mmp.echo(\"Rooms with the <\"..mmp.settings.echocolour..\">\"..letter..\"<reset> character on them:\")\n  for i = 1, #rooms do\n    if not show_area then\n      cecho(string.format(\"  <sea_green>%-5s<reset> %s\\n\", rooms[i], getRoomName(rooms[i])))\n    else\n      cecho(string.format(\"  <sea_green>%-5s<reset> %-35s <dim_grey>(in<reset> %s<dim_grey>)\\n\", rooms[i], getRoomName(rooms[i]), mmp.areatabler[getRoomArea(rooms[i])]))\n    end\n  end\nend",
    "command": null,
    "packageName": null,
    "regex": "^show char marks$"
}