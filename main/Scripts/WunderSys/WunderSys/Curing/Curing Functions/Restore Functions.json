{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "Restore Functions",
    "packageName": null,
    "script": "function wsys.restore()\n enableTrigger(\"Restore\")\n if wsys.timer.restorewait then\n  killTimer(tostring(wsys.timer.restorewait))\n end\n wsys.timer.restorewait = tempTimer(wsys.myPing() * 2, [[wsys.timer.restorewait = nil;disableTrigger(\"Restore\");wsys.lockqueue()]])\n wsys.doOnce(\"restore\", 5)\nend -- func\n\nlocal restoreprompt = false\n\nfunction wsys.restored()\n if wsys.timer.restorewait then\n  if wsys.vmode then wsys.ignoreRestoBreaks() end\n  wsys.restoresub()\n  disableTrigger(\"Restore\")\n  wsys.cure = \"restore\"\n  if restoreprompt then killTrigger(tostring(restoreprompt)) end\n  if not wsys.aff.blackout then\n   if wsys.timer.restorewait then\n    killTimer(tostring(restorewait))\n   end\n   wsys.timer.restorewait = nil\n   restoreprompt = tempLineTrigger(1,1, [[if isPrompt() then wsys.emptyrestore() end]])\n  end -- if\n end -- if\nend -- func\n\n\nfunction wsys.emptyrestore()\n for k,v in pairs(wsys.tb.cures.restore) do\n    wsys.predicted[v] = nil\n\t\n    if wsysf.affs[v] then\n      wsysf.core.debug.print(2, \"Empty restore should clear \".. v..\"?\")\n    end\n  disableTrigger(string.title(v) .. \" -\")\n end -- for\n wsys.pairscheck(\"restore\")\n wsys.cure = nil\nend -- func\n\nfunction wsys.ignoreRestoBreaks()\n  wsys.report(\"Ignoring restoration breaks\")\n  wsys.switchPrios( \"damagedleftleg\", 26 )\n  wsys.switchPrios( \"damagedrightleg\", 26 )\n  wsys.switchPrios( \"mangledleftleg\", 26 )\n  wsys.switchPrios( \"mangledrightleg\", 26 )\n  wsys.switchPrios( \"damagedleftarm\", 26 )\n  wsys.switchPrios( \"damagedrightarm\", 26 )\n  wsys.switchPrios( \"mangledleftarm\", 26 )\n  wsys.switchPrios( \"mangledrightarm\", 26 )\n  wsys.switchPrios( \"damagedhead\", 26 )\n  wsys.switchPrios( \"mangledhead\", 26 )\nend\n\n\nfunction wsys.unignoreRestoBreaks()\n  wsys.report(\"Resume curing resto breaks\")\n  wsys.affPrioRestore( \"damagedleftleg\" )\n  wsys.affPrioRestore( \"damagedrightleg\" )\n  wsys.affPrioRestore( \"mangledleftleg\" )\n  wsys.affPrioRestore( \"mangledrightleg\" )\n  wsys.affPrioRestore( \"damagedleftarm\" )\n  wsys.affPrioRestore( \"damagedrightarm\" )\n  wsys.affPrioRestore( \"mangledleftarm\" )\n  wsys.affPrioRestore( \"mangledrightarm\" )\n  wsys.affPrioRestore( \"damagedhead\" )\n  wsys.affPrioRestore( \"mangledhead\" )\nend",
    "eventHandlerList": null
}