{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "Curing Balances",
    "packageName": null,
    "script": "--for when you regain a balance\nfunction wsys.gotBal(bal)\n  wsys.times.bals.got[bal] = getTime(true, \"HH:mm:ss:zzz\" )\n  wsys.bals[bal] = true\n  if wsys.timer[bal..\"bal\"] then\n   killTimer(tostring(wsys.timer[bal..\"bal\"]))\n  end\n  wsys.timer[bal..\"bal\"] = nil\n  raiseEvent(\"got bal\", bal)\nend\n\n--for when you lose a balance (except balance/equilibrium)\nfunction wsys.lostBal(bal, time)\n  wsys.times.bals.lost[bal] = getTime(true, \"HH:mm:ss:zzz\" )\n  local thebal = bal\n  wsys.bals[bal] = false\n  raiseEvent(\"lost bal\", thebal)\n  --set the timer with the 'time' failsafe here\n  if wsys.timer[bal..\"bal\"] then\n    killTimer(tostring(wsys.timer[bal..\"bal\"]))\n  end\n  wsys.timer[bal..\"bal\"] = tempTimer(time, function() \n       wsys.times.bals.got[bal] = getTime(true, \"HH:mm:ss:zzz\" )\n\t\twsys.timer[bal..\"bal\"] = nil\n       wsys.bals[bal] = true\n       raiseEvent(\"got bal\", bal)\n\tend)\nend",
    "eventHandlerList": null
}