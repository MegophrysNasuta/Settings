{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "limb management",
    "packageName": null,
    "script": "function lb.addHit(name, ltar, amount)\n  name = name:lower():title()\n  if not lb[name] then lb.initTarget(name) end\n  if not lb[name].hits[ltar] then \n    cecho(\"<red>(!) Limb not found: \" .. tostring(ltar) .. \".\\n\")\n    return\n  end\n  lb[name].hits[ltar] = lb[name].hits[ltar] + amount\n  if lb[name].t[ltar] then killTimer(lb[name].t[ltar]) end\n  lb[name].t[ltar] = tempTimer(180, [[\n    lb.resetLimb(\"]] .. name .. [[\", \"]] .. ltar .. [[\")\n    lb[\"]] .. name .. [[\"].t[\"]] .. ltar .. [[\"] = nil\n  ]])\n  cecho(\" \" .. ((lb[name].hits[ltar] > 100 and \"<firebrick>\") or \"<ansi_yellow>\") .. \"(\"\n            .. ((lb[name].hits[ltar] > 100 and \"<orange_red>\") or \"<yellow>\") .. lb[name].hits[ltar] .. \"%\"\n            .. ((lb[name].hits[ltar] > 100 and \"<firebrick>\") or \"<ansi_yellow>\") .. \")\")    \n  raiseEvent(\"limb hits updated\", name, ltar, amount)\nend\n\nfunction lb.resetLimb(name, ltar)\n  name = name:lower():title()\n  if not lb[name].hits[ltar] then\n    cecho(\"<red>(!) Limb not found: \" .. tostring(ltar) .. \".\\n\")\n    return\n  end\n  lb[name].hits[ltar] = 0\n  lb.echo(\"Reset \" .. name .. ((name:sub(-1) == \"s\" and \"'\") or \"'s\") .. \" \" .. ltar .. \".\")\nend\n\nfunction lb.salve(name, area)\n  lb[name].t.cure = tempTimer(3.7, [[\n    local convert = {\n      head = {\"head\"},\n      torso = {\"torso\"},\n      arms = {[1] = \"left arm\", [2] = \"right arm\"},\n      legs = {[1] = \"left leg\", [2] = \"right leg\"},\n    }\n    if not convert[\"]] .. area .. [[\"] then return end\n    for _, ltar in ipairs(convert[\"]] .. area .. [[\"]) do \n      if lb[\"]] .. name .. [[\"].hits[ltar] >= 100 then \n        if lb[\"]] .. name .. [[\"].t.cure then killTimer(lb[\"]] .. name .. [[\"].t.cure) end\n        lb.resetLimb(\"]] .. name .. [[\", ltar, true)\n        if lb[\"]] .. name .. [[\"].t[ltar] then\n          killTimer(lb[\"]] .. name .. [[\"].t[ltar])\n          lb[\"]] .. name .. [[\"].t[ltar] = nil\n        end\n        lb[\"]] .. name .. [[\"].t.cure = nil\n        break\n      end\n    end\n  ]])\nend\n\nfunction lb.resetAll(name)\n  for _, v in ipairs({\"head\", \"torso\", \"left arm\", \"right arm\", \"left leg\", \"right leg\"}) do \n    if lb[name] then\n      if lb[name].hits[v] > 0 then \n        lb.resetLimb(name, v)\n      end\n      if lb[name].t[v] then \n        killTimer(lb[name].t[v])\n        lb[name].t[v] = nil\n      end\n    end\n  end\nend",
    "eventHandlerList": null
}