{
    "attribs": {
        "isActive": "yes",
        "isFolder": "no"
    },
    "type": "script",
    "name": "Tragedy",
    "packageName": null,
    "script": "Tragedy = Tragedy or {}\nTragedy.hits = Tragedy.hits or {}\nfunction Tragedy.echo(what)\n\t--cecho(\"\\n<dark_violet>[<DarkGoldenrod>Tragedy<dark_violet>]<white>:\"..what)\nend\n\n\nfunction Tragedy.Cure(ctype)\n\tif tarAff(\"aeon\") and table.contains(curetables[ctype], \"asthma\") and tarAff(\"asthma\") then \n\t\t\ttable.remove(xtarget.afflictions, table.index_of(xtarget.afflictions, \"asthma\")) \n\t\t\tTragedy.echo(\"<orange> CURED ASTHMA\")\n\t\t\tlastcured[ctype] = \"asthma\"\n\t\t\tcuretime[ctype] = getEpoch()\n\telse\n\t\tfor i = 1, #curetables[ctype] do\n\t\t\tif tarAff(curetables[ctype][i]) then\n\t\t\t\ttable.remove(xtarget.afflictions, table.index_of(xtarget.afflictions, curetables[ctype][i]))\n\t\t\t\tTragedy.echo(\"<orange> CURED \" .. string.upper(curetables[ctype][i]))\n\t\t\t\tlastcured[ctype] = curetables[ctype][i]\n\t\t\t\tcuretime[ctype] = getEpoch()\n\t\t\t\tbreak\n\t\t\tend\n\t\tend\n\tend\nend\n\n\nfunction Tragedy.curedaff(aff)\n\tif tarAff(aff) then\n\t\ttable.remove(xtarget.afflictions, table.index_of(xtarget.afflictions, aff))\n\t\tTragedy.echo(\"<orange> CURED \" .. string.upper(aff))\n\tend\nend\n\nfunction Tragedy.noshowAdd(aff)\n\tif venom_conversion[aff] then\n\t\tlocal affname = venomToAff(aff)\n\t\tif not tarAff(affname) then\n\t\t\ttable.insert(xtarget.afflictions, affname)\n\t\t\tTragedy.echo(\"<red> (Party)<medium_orchid> AFFLICTED \"..string.upper(affname))\n\t\tend\n\telse\n\t\tif not tarAff(aff) then\n\t\t\ttable.insert(xtarget.afflictions, aff)\n\t\t\tTragedy.echo(\"<red> (Party)<medium_orchid> AFFLICTED \"..string.upper(aff))\n\t\tend\n\tend\nend\n\nfunction Tragedy.TrackerAdd(aff)\n\tif venom_conversion[aff] then\n\t\tlocal affname = venomToAff(aff)\n\t\tif not tarAff(affname) then\n      table.insert(xtarget.afflictions, affname)\n      if amIinParty() then\n\t\t\t\t--send(\"pt \" .. affname .. \" on \" .. string.title(xtarget.name))\n\t\t\tend\n\t\t\tTragedy.echo(\"<medium_orchid> AFFLICTED \"..string.upper(affname))\n\t\tend\n\telse\n\t\tif not tarAff(aff) then\n\t\t\ttable.insert(xtarget.afflictions, aff)\n\t\t\t if amIinParty() then\n        --send(\"pt \" .. aff .. \" on \" .. string.title(xtarget.name))\n      end\n\t\t\tTragedy.echo(\"<medium_orchid> AFFLICTED \"..string.upper(aff))\n\t\tend\n\tend\nend\n\t\t\nfunction tarAff(aff)\n  return table.contains(xtarget.afflictions, aff)\nend",
    "eventHandlerList": null
}