<MudletPackage version="1.001"><TriggerPackage><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>meropisknocker</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>meropisknocker</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Knocker, Meropis</name><script>knockareacheck = gmcp.Room.Info.num

if knockareacheck == 57177 then
  cecho("\n&lt;white&gt;+--------- MEROPIS KNOCKER EXITS ---------+")
  cecho("\n&lt;white&gt;|    North: Northern Vasnari Mountains    |")
  cecho("\n&lt;white&gt;|    Northeast: Squall Cleft              |")
  cecho("\n&lt;white&gt;|    East: Daoric Plains                  |")
  cecho("\n&lt;white&gt;|    South: Mirror Caves                  |")
  cecho("\n&lt;white&gt;|    West: Northern Scrublands            |")
  cecho("\n&lt;white&gt;+-----------------------------------------+")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>The cavernous firmament. (indoors)</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>limb.1.2</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>limb.1.2</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limb</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>limb salve</name><script>if lb[matches[2]] then 
  -- Add your own highlights here!
  lb.salve(matches[2], matches[3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(\w+) takes some salve from a vial and rubs it on (?:her|his) (.+).$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>init limb target</name><script>lb.initTarget(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Your target is now\: (\w+) \(an adventurer\)$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>open limb hit gate</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>25</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>[System]: Running queued</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>autolearn</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>learn 20 apostasy from maric</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
				</regexCodeList><regexCodePropertyList>
				</regexCodePropertyList></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Talisman</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>Talisman</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Talisman</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Talisman Trade In</name><script>talisman.highlight()
local talismankey = talisman.getkey(multimatches[2][4])
if talismankey then
	talisman.announce(talismankey, tonumber(multimatches[2][3]))
	talisman.add(talismankey, tonumber(multimatches[2][3]), 1)
end
if layout then
	layout.chatAppend("&lt;CadetBlue&gt;"..line.."\n")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>has traded the level</string><string>^(\w+) has traded the level (\d+) piece '(.+)' to you\.$</string></regexCodeList><regexCodePropertyList>
						<integer>0</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Talisman Market Item</name><script>cecho(string.format("  &lt;yellow&gt;(%s)", math.round(tonumber(matches[2])/13500, 1)))
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^\d+\s+\w \w+\s+\d+\s+\w+\s+(\d+)\s+\d+\s+(No|Yes)$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Talisman Cache Opened</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>10</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>As you open a supreme talisman cache a bright light shines from within.</string><string>As you open an interlocked cache a bright light shines from within.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Refined Something</name><script>refinedtalisman=true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>100</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You refine</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stocking Talisman (same as normal but no gate)</name><script>local talismankey = talisman.getkey(matches[2])
if refinedtalisman then
  talisman.add(talismankey, 1, 1, talisman.types.refine)
else
  talisman.add(talismankey, 1, 1, talisman.types.promo)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You have been awarded with (.+) talisman piece\!$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Talisman Trade Out</name><script>-- NOTE: this trigger does not remove pieces.. We assume you used the trade alias, which removed them
-- This means you should not manually trade or it will lose track of pieces.
talisman.highlight()
local talismankey = talisman.getkey(multimatches[2][3])
if talismankey then
	talisman.announce(talismankey, 0)
end
if layout then
	layout.chatAppend("&lt;CadetBlue&gt;"..line.."\n", true)
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You trade the level </string><string>^You trade the level (\d+) piece (.+) to (\w+)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Talisman List</name><script>talisman.more = 0
talisman.reset()

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>999</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>Num   Name                              Level Set        Keyword                  </string><string>----------------------------------------------------------------------------------</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Talisman Found</name><script>talisman.highlight()
local talismankey = talisman.getkey(multimatches[2][2])
if talismankey then
	local initcount = talisman.getcount(talismankey)
	talisman.announce(talismankey, tonumber(multimatches[2][3]))
	talisman.add(talismankey, tonumber(multimatches[2][3]), 1)
	if layout then
		layout.chatAppend(string.format("&lt;CadetBlue&gt;%s (%d)(%s)\n", line, talisman.getcount(talismankey), (Denizen or "?")), true)
	end
elseif layout then
	layout.chatAppend(string.format("&lt;CadetBlue&gt;%s (unknown?)\n", line))
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You have found </string><string>^You have found (.+) \(level (\d+)\) talisman piece!$</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Megophrys</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>Megophrys</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Movement Blocked</name><script>Megophrys.hitWall()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>A wall blocks your way.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>onConnect</name><script>Megophrys.onConnect()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>Password correct. Welcome to Achaea.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Class Switch</name><script>Megophrys.onConnect()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^You are now a member of the (\w+) class.$</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>On Unjournal</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>put journal279704 in hat405053 </mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>You do not make any changes.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Megophrys_autotarget_IH</name><script>Megophrys.autoSelectHuntingTargetLine(matches)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^([A-Za-z\-\']+)(\d+)\s+(.*)</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Update Power Bars</name><script>Megophrys.findTargetsInLine(matches[2])
Megophrys.updateBars()
Megophrys.updateMissionCtrlBar()
Megophrys.updatePrepGauges()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string /></regexCodeList><regexCodePropertyList>
					<integer>7</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Speedwalk finished</name><script>Megophrys.endSpeedwalk()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>You have arrived at your destination!</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>OffEQ Can't Move</name><script>if Megophrys.autoEscaping then
  cecho('\n&lt;cyan&gt;Off EQ! Can\'t flee yet...\n')
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>You are recovering equilibrium and cannot move yet.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>CFS</name><script>if matches[1] == 'Credits currently available for purchase:' then
  totalCreditsForSale = 0
  totalCreditPrice = 0
else
  totalCreditsForSale = totalCreditsForSale + tonumber(matches[2])
  totalCreditPrice = totalCreditPrice + (tonumber(matches[2]) * tonumber(matches[3]))
  cecho('\t&lt;cyan&gt;'.. tostring(totalCreditsForSale) ..' credits for '..
        tostring(totalCreditPrice) ..' gold.')
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>Credits currently available for purchase:</string><string>^\s+(\d+) credits at (\d+) gold per credit\.$</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Need to Swim</name><script>send('swim '.. string.lower(matches[2]))
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^There's water ahead of you. You'll have to SWIM (\w+) to make it through.$</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>QQ</name><script>Megophrys.onDisconnect()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>You grow still and begin to silently pray for preservation of your soul while</string></regexCodeList><regexCodePropertyList>
					<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fullsense</name><script>Megophrys.fullSensed = (Megophrys.fullSensed or {})

if matches[1]:starts('Focusing') then
  Megophrys.fullSensed = {}
end

if not Megophrys.fullSensed[matches[3]] then
  Megophrys.fullSensed[matches[3]] = {matches[2]}
else
  local tbl = Megophrys.fullSensed[matches[3]]
  tbl[#tbl + 1] = matches[2]
end

if finalDisplayTimer then killTimer(finalDisplayTimer) end
finalDisplayTimer = tempTimer(0.2, function()
  echo('\n')
  for location, players in spairs(Megophrys.fullSensed) do
    if location:len() &gt; 28 then
      location = location:cut(26) ..'...'
    end
    local spacer = string.rep(' ', 30 - location:len())
    echo(location ..':'.. spacer .. table.concat(players, ', ') ..'\n')
  end
end)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>Focusing your every sense, you scour the area for traces of others:</string><string>^You sense (\w+) at (.*)\.$</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>General Combat</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding</name><script>cecho('\n&lt;cyan&gt;REBOUNDING ON '.. string.upper(matches[2]) ..'!\n')

if matches[2] == target then
  Megophrys.targetRebounding = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aa0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You suddenly perceive the vague outline of an aura of rebounding around (\w+).$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parry!</name><script>Megophrys.hitParry()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(\w+) parries the attack with a deft manoeuvre.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Farsee</name><script>Megophrys.Util.gagLine()

cecho('\n&lt;light_goldenrod&gt;Found '.. matches[2] ..' near '.. matches[3] ..'\n')
if matches[1]:starts('You see that') then
  Megophrys.highlightTargetRoom(matches[3], matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#f7ff97</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Though too far away to accurately perceive details, you see that (\w+) is in (.+)\.</string><string>^You see that (\w+) is at (.+)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pressured</name><script>Megophrys.underPressure()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You struggle to move, the very air rebelling against your passage.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Exit Blocked</name><script>cecho('\n&lt;orange&gt;'.. string.upper(matches[2]) ..' BLOCKING '.. string.upper(matches[3]) ..'\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(\w+) moves over to block the (\w+) exit.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding Falls</name><script>if matches[2] == target then
  Megophrys.targetRebounding = false
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(\w+)'s aura of weapons rebounding disappears.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>LimbTrack</name><script>tempTimer(0.1, Megophrys[Megophrys.class].updatePrepGauges)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>As your blow lands with a crunch, you perceive</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shield!</name><script>cecho('\n&lt;cyan&gt;Shield on: '.. matches[2] ..'!\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#00ffff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^A nearly invisible magical shield forms around (.*)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Highlight Rebound</name><script>Megophrys.hitRebounding()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#00ffff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>The attack rebounds back onto you!</string><string>The attack rebounds onto you!</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Balance Back</name><script>Megophrys.gainedBalance()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You have recovered balance on all limbs.</string><string>You are no longer stunned.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Target Not Found</name><script>if Megophrys.autoAttacking then
  Megophrys.stopAttack('Targeting failure')
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>Nothing can be seen here by that name.</string><string>You detect nothing here by that name.</string><string>I do not recognise anything called that here.</string><string>You cannot see that being here.</string><string>Ahh, I am truly sorry, but I do not see anyone by that name here.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hit Shield</name><script>Megophrys.hitShield()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>A dizzying beam of energy strikes you as your attack rebounds off </string></regexCodeList><regexCodePropertyList>
						<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysed!</name><script>cecho('\n&lt;red&gt;PARALYSED! UNABLE TO MOVE!\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>Frustratingly, your body won't respond to your call to action.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>EQ Back</name><script>Megophrys.gainedEQ()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You have recovered equilibrium.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Target stands</name><script>if matches[2] == target then
  Megophrys.targetProne = false
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(\w+) stands up.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Class Detection (single opponent)</name><script>-- all credit to Herald Romaen Andeithus</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>riposte stop!</name><script>Megophrys.riposteUp = true
tempPromptTrigger([[Megophrys.riposteUp = false]], 1)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Lightning-quick, (\w+) flicks \w+ blade out in riposte\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Monk CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>tekura basic</name><script>Megophrys.setOpponentClass('tekura')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) pumps out at you with a powerful side kick\.$</string><string>^(\w+) unleashes a powerful hook towards you\.$</string><string>^(\w+) lets fly at you with a snap kick\.$</string><string>^(\w+) balls up one fist and hammerfists you\.$</string><string>^(\w+) drops to the floor and sweeps \w+ legs round at you\.$</string><string>^(\w+) kicks \w+ leg high and scythes downwards at you\.$</string><string>^(\w+) spins into the air and throws a whirlwind kick towards you\.$</string><string>^(\w+) hurls \w+ towards you with a lightning-fast moon kick\.$</string><string>^(\w+) launches a powerful uppercut at you\.$</string><string>^(\w+) forms a spear hand and stabs out at you\.$</string><string>^(\w+) twists his torso and sends a roundhouse towards you\.$</string><string>^(\w+) throws his palm towards your face\.$</string><string>^Blue light crackles forth from (\w+)'s palms, striking you down and snapping your puny limbs\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>shikudo basic</name><script>Megophrys.setOpponentClass('shikudo')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^\w+ lashes out with a straight kick at you\.$</string><string>^Pain blossoms as the instep of \w+'s foot smashes into the vulnerable cluster of nerves beneath your right arm, sending you spinning from your mount\.$</string><string>^\w+ spins a full rotation, bringing .+ around in a blur to crash into your .+\.$</string><string>^Dropping back into a low crouch, \w+ whips .+ at your .+\.$</string><string>^\w+ whips .+ at the side of your neck\.$</string><string>^\w+ lashes out with a high kick at your head\.$</string><string>^Lunging off \w+ back foot, \w+ viciously drives the end of .+ into your solar plexus\.$</string><string>^The staff cracks across your \w+ thigh, the muscles suddenly becoming weak\.$</string><string>^Your \w+ arm goes numb as the length of the staff cracks across it\.$</string><string>Blinding pain radiates from your throat and you suddenly find yourself unable to draw breath.</string><string>You feel your knee crunch under the force of the kick, nausea and pain racking you.</string><string>The staff takes you off your feet, sending you sprawling.</string><string>The end of the staff drives into your left leg, sending lances of pain along the entire limb.</string><string>The staff drives into your torso, a shock of pain running through the limb.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shaman CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>shaman basic</name><script>Megophrys.setOpponentClass('shaman')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^With an appraising glance at you, (\w+) shapes the arms and legs of a rough doll\.$</string><string>^(\w+) points an imperious finger at you\.$</string><string>As all four of your limbs break, pain overwhelms you and you wonder what you've done to deserve such a fate.</string><string>^Your (\w+) leg is suddenly mangled nearly beyond repair, and pain erupts up and down the length of it\.$</string><string>You feel something akin to a veil passing over your senses.</string><string>The insidious power saps at your physical and mental reserves.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>3</integer><integer>1</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Psion CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>psion basic</name><script>Megophrys.setOpponentClass('psion')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^A sharp pain across your throat and a sudden lack of breath comes moments before you register the retreat of (\w+), bloody dagger in hand\.$</string><string>^In a blur of motion (\w+) rushes at you, \w+ blade rending your flesh in a devastating flurry of \d+ strokes\.$</string><string>^(\w+) delivers a series of lashes against you with a translucent lash, and the very fabric of your being violently rebels against your mortal flesh\.$</string><string>Your body locks up as lightning explodes from the blade as it hacks into you.</string><string>^Lightning explodes from the lash as it smashes into you, your body locking in agony as the current rips through your body\.$</string><string>^A terrible weariness overcomes you as (\w+) darts out \w+ blade and drives the tip into you just beneath your \w+ shoulder\.$</string><string>^(\w+) delivers a series of lashes against you with a translucent lash, and your muscles grow weak, lethargy overcoming you in a rush\.$</string><string>The spikes adorning the lash rip into your flesh, tearing bloody furrows.</string><string>^Golden chains of light coalesce in the hands of (\w+), and s?he casts them out to bind you to \w+\.$</string><string>^(\w+) delivers a series of lashes against you with a translucent lash, and your thoughts scatter like leaves on the wind\.$</string><string>^Stars explode in front of your eyes as (\w+) smashes a translucent mace into the side of your head\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sentinel CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Waterlord CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>waterlord basic</name><script>Megophrys.setOpponentClass('waterlord')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^A wave of nausea rolls over you as (\w+) casually waves a hand in your direction\.$</string><string>^You double over and hack up water beneath the pitiless gaze of (\w+)\.$</string><string>Your skin dries and cracks and a sudden, insatiable thirst overcomes you.</string><string>^A sudden deluge of shockingly cold water drenches you, robbing you of strength by the will of (\w+)\.$</string><string>^You feel suddenly light-headed as ripples race across the amorphous form of (\w+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>3</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sylvan CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Depthswalker CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>depthswalker basic</name><script>Megophrys.setOpponentClass('depthswalker')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) delivers a lightning-fast strike to you with .+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pariah CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>pariah basic</name><script>Megophrys.setOpponentClass('pariah')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You feel a sharp pain, gone as swiftly as it came, and a fine crimson spray </string><string>^(\w+) traces a writhing logograph in the air before you.+$</string><string>^.+the blood upon \w+ knife bursting into arcane flame as it hangs in the wake of the blade's passage\.$</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer><integer>1</integer><integer>0</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Occultist CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>occultist basic</name><script>Megophrys.setOpponentClass('occultist')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) makes a quick, sharp gesture toward you\.$</string><string>^(\w+) passes \w+ hand in front of you. You feel an invisible claw brush the back of your skull, but quickly brush it off\.$</string><string>^(\w+) passes \w+ hand in front of you. You feel an invisible claw brush the back of your skull\.$</string><string>^(\w+) places both hands on either side of your head and stares straight into your eyes. A ghostly ocher light gleams from \w+ pupils and shoots into your eyes, and your mind expands with alien and strange visions\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blademaster CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>blademaster basic</name><script>Megophrys.setOpponentClass('blademaster')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^With a smooth lunge to the \w+, (\w+) draws .+ from its scabbard and delivers a powerful slash across your \w+\.$</string><string>^Lashing out with a clenched fist, (\w+) aims a precise strike at your sternum\.$</string><string>^Sweeping out with a blade hand, (\w+) strikes at the back of your knee.$</string><string>^As (\w+) draws .+ from its scabbard, s?he drives the pommel into your chin\.$</string><string>^With a fluid motion, (\w+) aims a blow just below your shoulder.$</string><string>^With masterful technique, (\w+) draws .+ from its scabbard and unleashes \w+ precise strikes towards you\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Druid CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>druid simple</name><script>Megophrys.setOpponentClass('druid')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) springs forwards onto you and mauls you viciously\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Magi CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>magi basic</name><script>Megophrys.setOpponentClass('magi')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) calls upon .+ and unleashes a forceful blow at your .+ with \w+ staff\.$</string><string>^With efficient, precise motions a crystalline golem latches onto your .+, before giving a vicious twist\.$</string><string>The element of earth shakes you to the core</string><string>You scream in pain as the forest of sharpened crystals pierces your body.</string><string>A gust of wind strikes you, throwing you to the ground.</string><string>^As a crystalline golem begins to pulse with a strange inner glow, you feel suddenly sluggish and unsteady\.$</string><string>Waves of elemental water surge over your body, chilling you to the bone.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>2</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>priest basic</name><script>Megophrys.setOpponentClass('priest')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^"Know the pain which you have caused," (\w+) proselytises, finger pointed directly at you\.$</string><string>^(\w+) utters a prayer and smites you with .+\.$</string><string>^(\w+) strikes you with a dark bolt of energy directed through his mace\.$</string><string>^"Repent for your crimes\!" (\w+) denounces you, hand raised in warding\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alchemist CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>alchemist basic</name><script>Megophrys.setOpponentClass('alchemist')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) glowers at you with a look of repressed disgust before making a slight gesture toward you\.$</string><string>^A short convulsion sweeps through your body as (\w+) wracks your .+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jester CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>jester basic</name><script>Megophrys.setOpponentClass('jester')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^With an appraising glance at you, (\w+) shapes the arms and legs of a rough puppet\.$</string><string>^With a sinister grin, (\w+) turns to you and begins a relentless onslaught of truly horrific humour, \w+ disregard for boundaries or propriety on display for all to see\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Apostate CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>apostate basic</name><script>Megophrys.setOpponentClass('apostate')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The daegger has looped around and dives toward your shadow, impaling it and you!</string><string>Your flesh is set alight by the Baalzadeen.</string><string>The Baalzadeen's terrible gaze turns to you, and utter terror floods your soul.</string><string>^([A-Z][a-z]+)'s Baalzadeen casts a piercing glance at you\.$</string><string>^With a snarl, ([A-Z][a-z]+)'s Baalzadeen opens its mouth and spews a foul black liquid all over you\.$</string><string>^([A-Z][a-z]+) stares at you, giving you the evil eye\.$</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bard CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bard simple</name><script>Megophrys.setOpponentClass('bard')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You feel as if the world has closed in on you after listening to \w+'s droning, repetitive isorhythm\.$</string><string>^(\w+) viciously jabs a Soulpiercer into you\.$</string><string>^With a wink, (\w+) recites \"Ode to Elixirs\" to you\.$</string><string>The songblessing upon the rapier sings out with a piercing high note.</string><string>The songblessing unleashes a stunning percussive blast.</string><string>The Contradanse melody swells sharply in your ear with a discombobulating sonic burst.</string><string>^\w+ eyes gleaming, \w+ smiles and quickly sings a jaunty limerick at you\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serpent CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>serpent</name><script>Megophrys.setOpponentClass('serpent')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) quickly pricks you with (?:his|her) dirk\.$</string><string>^(\w+) flays away your aura of rebounding defence\.$</string><string>^(\w+) points a finger at you and you feel anti-magic sweep over you\.$</string><string>^With fluid grace, (\w+) snaps \w+ wrist, bringing .+ back to crack viciously into you\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Firelord CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>firelord basic</name><script>Megophrys.setOpponentClass('firelord')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) fashions a weave of flame and casts it about you, its burning tendrils.+\.$</string><string>^The flames that are the eyes of \w+ flare as \w+ rakes them across you in an imperious glare\.$</string><string>^A whip of flame coalesces in the hand of \w+, with which \w+ viciously lashes you\.$</string><string>^The flaming brand which marks your brow burns ever brighter, seeking only to consume you\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Knight CD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>dwc</name><script>Megophrys.setOpponentClass('DWC Knight')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) slashes into your .+ with a scimitar\.$</string><string>^(\w+) swings a scimitar at your .+ with all \w+ might\.$</string><string>^Lightning-quick, (\w+) jabs your .+ with a scimitar\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>twohander</name><script>Megophrys.setOpponentClass('2H Knight')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) unleashes a terrible blow at your .+ with .+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alchemist</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ether Seek</name><script>display(multimatches)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You reach out into the ether, folding it aside to reveal (\w+)</string><string>^into the opening, the image of (.+) swims into view, then fades$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Auto-Formulation</name><script>local targetPotency = 1
local targetStability = 1
local targetVolatility = 1

if (matches[3] == "Incendiary" or matches[3] == "Devitalisation" or
    matches[3] == "Intoxicant" or matches[3] == "Monoxide" or
    matches[3] == "Toxin") then
  targetPotency = 2
  targetVolatility = 5
elseif matches[3] == "Nutritional" or matches[3] == "Vaporisation" then
  targetPotency = 5
  targetStability = 2
elseif matches[3] == "Enhancement" then
  targetPotency = 3
  targetStability = 4
end

local actualPotency = tonumber(matches[4])
local actualVolatility = tonumber(matches[5])
local actualStability = tonumber(matches[6])

for i=actualPotency - 1, targetPotency, -1 do
  send('dilute potency of '.. matches[2])
end

for i=actualVolatility - 1, targetVolatility, -1 do
  send('dilute volatility of '.. matches[2])
end

for i=actualStability - 1, targetStability, -1 do
  send('dilute stability of '.. matches[2])
end

for i=actualPotency + 1, targetPotency do
  send('enhance potency of '.. matches[2])
end

for i=actualVolatility + 1, targetVolatility do
  send('enhance volatility of '.. matches[2])
end

for i=actualStability + 1, targetStability do
  send('enhance stability of '.. matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Phial(\d+)\s+(\w+)\s+\d+\s+(\d)\s+(\d)\s+(\d)$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Magi</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scry</name><script>Megophrys.Util.gagLine()

cecho('\n&lt;cyan&gt;Found '.. matches[2] ..' @ '.. matches[3] ..'\n')
Megophrys.highlightTargetRoom(matches[3], matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You create a pool of water in the air in front of you and look through it, sensing (\w+) at (.*)\.</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>InfernoOut</name><script>Megophrys.Magi.lostInferno()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>The inferno finally burns itself out.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Roof!</name><script>Megophrys.flyingBlocked()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>There is not enough overhead room to fly.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aerial</name><script>Megophrys.flyingSuccess()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You suck in your breath, and with a mighty blast of air, exhale it</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Channeling</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inking</name><script>Megophrys.inking = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You gather together the inks that are needed in order to create the</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Done inking</name><script>Megophrys.inking = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^As the \w+ tattoo's shape is codified on the</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>fk that tat ig</name><script>Megophrys.inking = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>As the inking process is ruined, the ink dissipates into the surrounding air.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anti-Theft</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Put that gold back</name><script>cecho('\n&lt;red&gt;Anti-theft measures activated.\n')
send('put sovereigns in pack')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You get (\d+) gold sovereigns from a \w+ (back)?pack\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Put that pack back</name><script>cecho('\n&lt;red&gt;Anti-theft measures activated.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>wear pack370332</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You remove a wyrmskin pack.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serpent Hypnosis</name><script>Megophrys.shout('HYPNOSIS! SERPENT FUCKERY AFOOT!! HYPNOSIS! SERPENT FUCKERY AFOOT!! ('.. matches[2] ..')')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(\w+) snaps his fingers in front of you\.$</string><string>You suddenly realise that you have been mesmerised!</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Psion</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clarity up</name><script>Megophrys.Psion.clarityUp = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>A total focus overcomes you; the mundanity of everyday distractions unable</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ironwill Interrupted</name><script>cecho('\n&lt;cyan&gt;IRONWILL INTERRUPTED ON '.. matches[2]:upper() ..'\n')
Megophrys.channeling = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You cease purging foreign influence from the mind of (\w+)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ironwill Complete</name><script>Megophrys.channeling = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#eeee00</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Your iron will drives out the foreign influence upon the mind of \w+\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>LightBind up</name><script>cecho('\n&lt;cyan&gt;LIGHTBIND UP ON '.. matches[2]:title() ..'\n')

if matches[2]:lower() == target:lower() then
  Megophrys.Psion.lightBindUp = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You fashion chains of golden light and cast them out to ensnare (\w+).$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clarity down</name><script>Megophrys.Psion.clarityUp = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>Distractions reassert themselves, your mental clarity returning to mundane</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>LightBind Down</name><script>cecho('\n&lt;cyan&gt;LIGHTBIND DOWN ON '.. matches[2]:title() ..'\n')

if matches[2]:lower() == target:lower() then
  Megophrys.Psion.lightBindUp = false
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^The golden chains of light which bind (\w+) dissipate\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ironwill Unnecessary</name><script>Megophrys.channeling = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#eeee00</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You sense no foreign influence upon the mind of \w+\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Party Combat</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Assist</name><script>cecho('\n&lt;cyan&gt;Following party target: '.. matches[2] ..'\n')
Megophrys.setTarget(matches[2])

if not Megophrys.autoAttacking and target ~= 'none' then
  Megophrys.autoAttack()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You are now targeting (\w+).$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Suppress PT fail</name><script>Megophrys.Util.gagLine()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You are not the member of any party.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Follow target</name><script>if target:lower() ~= matches[3]:lower() then
  cecho('\n&lt;cyan&gt;Following '.. matches[2] ..'\'s target: '.. matches[3] ..'\n')
  Megophrys.setTarget(matches[3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>\(Party\): (\w+) says, "Target:? (\w+)."</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Announce Transfix</name><script>send('pt TRANSFIXED '.. string.upper(matches[2]))
Megophrys.Magi.targetIsTransfixed()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^With blinding speed, you weave fire and air together in a hypnotic pattern that transfixes (\w+).$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>reject_forced_unenemy_all</name><script>send('enemy '.. Megophrys.enemies:concat(' | enemy '))
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>In a moment of forgiveness, you declare that you have no enemies.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Announce Removed Blindness</name><script>send('pt Removed blindness on '.. string.upper(matches[2]))
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You weave fire and air together to transfix (\w+), but succeed only in curing his blindness.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gags</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gag PreAlias</name><script>Megophrys.Util.gagLine()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You are not fallen or kneeling.</string><string>You are already wielding that.</string><string>Your aura of weapons rebounding disappears.</string><string>[System]: Queued eqbal commands cleared.</string><string>[System]: Added NEXTATTACK to your eqbal queue.</string><string>You cannot use that ability again so soon.</string><string>You do not have enough rage to perform that ability.</string><string>You must wait a short time before you can use a battlerage ability again.</string><string>Alias "nextAttack" will now execute:</string><string>You are not a member of any party.</string><string>You do not have enough Shin power stored to do that.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>2</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Empty Queue Clear</name><script>Megophrys.Util.gagLine()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>Your queues are already empty.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shouts</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hamstring Down</name><script>Megophrys.shout('Hamstring down! Move if you need!')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You feel the tightness in your hamstring subside, allowing free movement onceagain.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>WunderSys Foundation</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>WunderSys Foundation</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>WunderSys Foundation</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Affliction Tracking</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alchemist</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Temper</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ glowers at you with a look of repressed disgust before making a slight gesture toward you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Humour down</name><script>wsysf.aff_tracking.stack_down( "tempered"..matches[2] )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your (\w+) humour drains some\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Magi</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning Stack 3</name><script>wsysf.aff_tracking.set_aff_value( "burning", 3 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your vision begins to fade with the all-consuming agony of the fires that are consuming you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning Stack 5</name><script>wsysf.aff_tracking.set_aff_value( "burning", 5 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your skin runs like wax as it melts from your bones.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning Stack 2</name><script>wsysf.aff_tracking.set_aff_value( "burning", 2 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The fires consuming your flesh begin to crackle with greater intensity.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning Stack 4</name><script>wsysf.aff_tracking.set_aff_value( "burning", 4 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your skin begins to char from the bones as the fires feast upon you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Air Elemental Lord</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pressure Up from Tension</name><script>wsysf.aff_tracking.stack_up("pressure")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel the air suddenly growing thick around you, your breaths becoming cloying.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pressure Up</name><script>local count = wsysf.affv.manaleech + wsysf.affv.deadening + wsysf.affv.disloyalty + 1

if count &gt; 3 then count = 3 end

wsysf.aff_tracking.stack_up("pressure", count)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^As the dark intent of (\w+) falls upon you, you feel the air surrounding you begin to thrum with tension\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>2h Weaponmastery</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>2h Fracture</name><script>wsysf.aff_tracking.twoh.current_person = matches[2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>10</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) brings .+ down upon you with a brutal overhand blow\.$</string><string>^([A-Z][a-z]+) explodes upward from a low crouch, driving .+ toward your torso\.$</string><string>^([A-Z][a-z]+) unleashes a terrible blow at your (right|left) (arm|leg) with .+\.$</string><string>^([A-Z][a-z]+) comes around with a terrible swing of .+ toward your (left|right) (arm|leg)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Battlefury focus precision</name><script>wsysf.aff_tracking.twoh.focus_prec( matches[2] )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) shifts into a more aggressive stance\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Psion</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unweave Body up</name><script>wsysf.aff_tracking.stack_up("unweavingbody")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel the weave of your physical form unravelling, your end drawing ever closer.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unweave Mind Up</name><script>wsysf.aff_tracking.stack_up("unweavingmind")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Dizziness overcomes you as your mind continues to unravel.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unweave Spirit Up</name><script>wsysf.aff_tracking.stack_up("unweavingspirit")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a terrible chill as you are drawn ever closer to the Finality's unforgiving grasp.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weaves Inverted</name><script>wsysf.aff_tracking.psion.invert()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) plucks at invisible threads in the air before h(?:er|im), and you feel a sudden nausea as your fundamental essence shifts\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Forager Status Report</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>Forager Status Report</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Custom Stuff</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>foraging abundant</name><script>forageArea = matches[2]
forageStatus = "abundant"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Your foragers report back to you with much vigour\, claiming an abundance of resources to be gathered in (.+)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Band Report</name><script>send("writelog erc Foraging Status: " ..forageArea.. " - " ..forageStatus.. " prospects with " ..matches[2].. " bands present")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Your scouts report that there appears to be approximately (\d+) bands of individuals already gathering\.$</string><string>^Your scouts report that there appears to be approximately (\d+) bands of individuals already gathering resources in this locale\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>foraging devoid</name><script>forageArea = matches[2]
forageStatus = "devoid"
--send("writelog erc Foraging Status: " ..matches[2].. " - devoid with " ..matches[3].. " bands present")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Your foragers report back to you, noting that the (.+) seems devoid of resources\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>foraging positive</name><script>forageArea = matches[2]
forageStatus = "positive"
--send("writelog erc Foraging Status: " ..matches[2].. " - positive prospects with " ..matches[3].. " bands present")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Your foragers report back to you\, seeming positive about the potential prospects of a full expedition to the (.+)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Band report 2</name><script>send("writelog erc Foraging Status: " ..forageArea.. " - " ..forageStatus.. " prospects with 0 bands present")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>Your scouts report that there doesn't seem to be anyone actively scouring this locale for resources at the present.</string></regexCodeList><regexCodePropertyList>
						<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>foraging scant</name><script>forageArea = matches[2]
forageStatus = "scant"
--send("writelog erc Foraging Status: " ..matches[2].. " - scant prospects with " ..matches[3].. " bands present")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Your foragers report back to you, unenthusiastically reporting that there are some scant resources to be gathered in the (.+)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>sapienceknocker</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>sapienceknocker</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Knocker, Sapience</name><script>knockareacheck = gmcp.Room.Info.num

if knockareacheck == 57174 then
  cecho("\n&lt;white&gt;+--------- SAPIENCE KNOCKER EXITS ---------+")
  cecho("\n&lt;white&gt;|     North: Morindar                      |")
  cecho("\n&lt;white&gt;|     Northeast: Vents of Hthrak           |")
  cecho("\n&lt;white&gt;|     East: Northreach                     |")
  cecho("\n&lt;white&gt;|     Southeast: Eastern Shore             |")
  cecho("\n&lt;white&gt;|     South: New Hope                      |")
  cecho("\n&lt;white&gt;|     Southwest: Moghedu                   |")
  cecho("\n&lt;white&gt;|     West: Azdun Catacombs                |")
  cecho("\n&lt;white&gt;|     Northwest: Beastlord Dungeon         |")
  cecho("\n&lt;white&gt;|     Out: Saiha'balan Grotto              |")
  cecho("\n&lt;white&gt;|                                          |")
  cecho("\n&lt;white&gt;| LOCATION GUIDE:                          |")
  cecho("\n&lt;white&gt;|                                          |")
  cecho("\n&lt;white&gt;| Sparks for tanks: NE                     |")
  cecho("\n&lt;white&gt;| Istar/Istarion: NE, exit wilderness      |")
  cecho("\n&lt;white&gt;| Tundra, Mirror Tower: N, exit wilderness |")
  cecho("\n&lt;white&gt;| Quick duanathar: S then OUT              |")
  cecho("\n&lt;white&gt;| Potash: OUT                              |")
  cecho("\n&lt;white&gt;+------------------------------------------+")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>The cavernous firmament. (indoors)</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>AK Opponent Tracking</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>AK Opponent Tracking</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>AK Opponent Tracking</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Class Changed(gmcp)</name><script>ak.classenable()
if wsys then  
   monkenemy = {}
   if gmcp.Char.Status.class ~= "Monk" or gmcp.Char.Status.race:match("Dragon") then
      wsys.monkstance = false
   end 
   if ndba and gmcp.Char.Status.class ~= "Monk" then 
      enemylist = enemylist or {}
      if #enemylist &gt; 0 then
         for i = 1, #enemylist do
            if ndba.isashtani(enemylist[i]) then
               send("unenemy "..enemylist[i])
               table.insert(monkenemy, enemylist[i])
            end   
         end
      end
   end
end
enableTrigger("Trait Gag Out")
send("trait list known")
disableTrigger("Class Changed(gmcp)")
enableTrigger("Class Changed Prompt Lock")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Your draconic form melts away, leaving you suddenly weaker and more vulnerable.$</string><string>^Your race is now that of </string><string>^With an ear-splitting roar, you rear back your draconic head and scream out your triumph.$</string><string>^Reveling in your total mastery of the form, you beat your mighty wings, throw your massive head back</string><string>^Your last login was from domain:</string><string>You are not in Dragon form.</string><string>You already maintain the form of the Dragon.</string><string>You are now a member of the</string><string>^You are already in .* form\.$</string><string>^You have switched to the .* specialisation\.$</string><string>On and on, your soul cascades upon the currents that now sustain your form. </string><string>With a cursory thought, you still your clamorous heart and arise whole, gazing out from within your</string><string>Your elemental might has already overtaken your form.</string><string>You pray to the spirits of the fallen for a fresh chance at life, and are reincarnatedinto </string><string>You switch your martial school to that of Shikudo.</string><string>With a victorious roar, you bellow your triumph into the firmament.</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>0</integer><integer>0</integer><integer>0</integer><integer>1</integer><integer>1</integer><integer>2</integer><integer>2</integer><integer>3</integer><integer>2</integer><integer>3</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Class Changed Prompt Lock</name><script>enableTrigger("Class Changed(gmcp)")
disableTrigger("Class Changed Prompt Lock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string /></regexCodeList><regexCodePropertyList>
						<integer>7</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slain Target</name><script>if IsTargetted(matches[2]) and not table.contains(ak.burstfucks,matches[2]) then 
	 if ak.ai() then return end
   if IsTargetted(lockedminds) then lockedminds = nil end
   weaponattack = {}
   if isActive("Confirmed Hit Limbs", "trigger") &gt; 0 then
      ak.limbs.parseBreaks()
   end
   ak.oresetparse()
   ak.defs.sileris = false
   ak.defs.speed = false
   affstrack.score.deaf = 100
   affstrack.score.blind = 100
   ak.scoreup(matches[2])
end
ak.limbs.limbreset(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You have slain ([\w'\-]+)\.$</string><string>^Unable to withstand the arrow piercing [\w'\-]+ chest, ([\w'\-]+) stumbles to the ground, collapsing in a pool </string><string>^([\w'\-]+) has been slain by [\w'\-]+\.$</string><string>^([\w'\-]+)\'s body disintegrates and a ghostly spirit rises from the ashes\. The ghost cries out in pain as a body forms around [\w'\-]+ that has .*\.$</string><string>^The last vestiges of strength having ebbed from ([\w'\-]+)\'s body\, [\w'\-]+ sinks to the floor with a sigh\.Suddenly\, your surroundings are enveloped in a blinding white light\, forcing you to cower with your hands over your eyes\. When you tentatively open them once more\, you are astonished to find ([\w'\-]+) alive once more\.$</string><string>^The last vestiges of strength having ebbed from ([\w'\-]+)\'s body\, (?:he|she) sinks to the floor with a sigh\. Suddenly\, your surroundings are enveloped in a blinding white light\, forcing you to cower with your hands over your eyes\. When you tentatively open them once more\, you are astonished to find [\w'\-]+ alive once more\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Venom Wipe|Reset|Gagging</name><script>currentvenoms = {}
ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>Being careful not to poison yourself, you wipe off all the venoms from an ornate steel rapier.</string><string>There are no venoms on that item at present.</string><string>You carefully wipe the venoms from your claws.</string><string>Being careful not to poison yourself, you wipe off all the venoms from a sharpened buckawn's spine.</string><string>You are already wielding </string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>0</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cures(i)</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Opponent Smoked</name><script>if ak.ai() then 
	setTriggerStayOpen("Opponent Smoked", 0)
	return
elseif not IsTargetted(matches[2]) then
	setTriggerStayOpen("Opponent Smoked", 0)
	return
else
	ak.currentsmoke = matches[2]
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>2</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) takes a long drag off (?:her|his) (.*).$</string><string>^A great gurgling sound is heard as ([\w'\-]+) takes a long drag from .*\. </string><string>^([\w'\-]+) takes a long drag off an enamel bubble pipe\.$</string><string>^([\w'\-]+) takes a long\, smooth drag from [\w'\-]+ pipe\.$</string><string>^([\w'\-]+) takes a few short puffs from [\w'\-]+ pipe\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Restored</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   for i = 1, #affstrack.restored do 
      if affstrack.score[affstrack.restored[i]] &gt; 0 and affstrack.score[affstrack.restored[i]] &lt; 200 then 
         affstrack.score[affstrack.restored[i]] = 0   
      end
   end
   ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) crackles with blue energy that wreathes itself about (?:her|his) limbs.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tension</name><script>if ak.ai() then return end
local aff = "tension"
if ak.ProTrackingConfirmed then ak.ProTrackingConfirmed(aff) end
affstrack.score[aff] = 0
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) sucks in a great gasp of air\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Writhed Bound</name><script>if ak.ai() then return end
--send("outr rope")
if IsTargetted(matches[2]) then
   affstrack.score.bound = 0
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>([\w'\-]+) has writhed free of [\w'\-]+ entanglement by ropes.</string><string>^Gritting [\w'\-]+ glistening teeth into a rictus grin, ([\w'\-]+) emits a low rumble as [\w'\-]+ flexes [\w'\-]+ rippling muscles, bursting the bindings that hold [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slime</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   affstrack.score.slime = 0
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) finally rids [\w'\-]+ of the slime covering [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Applied</name><script>if ak.ai() then return end

if ak.limbs.shikudoParse then
  ak.limbs.shikudoParse()
end

if not IsTargetted(matches[2]) then return end
if matches[3] == "skin" and not ak.defs.mass then 
   ak.defs.mass = true
	 ak.bals.salve = true
   cecho("&lt;cyan&gt;Mass Consideration Removed") 
elseif ak.bals.salve then
	if affstrack.score.aeon == 100 and affstrack.score.slickness == 100 then
	   return
	else 
	   affstrack.score.tempslickness= 0
	   ak.bals.salve = false
	   if affstrack.score.slickness&gt;0 then 
	      if ak.thoughtIhad then 
					ak.thoughtIhad("slickness") 
				else 
					affstrack.score.slickness = 0 
				end  
	   end
	   ak.cure.apply(matches[3]) 		
		 if ak.timers.apply then			
		 	killTimer(ak.timers.apply)		
		 end
	   ak.timers.apply = tempTimer(.8,[[ak.bals.salve = true;ak.timers.apply = false]])
	   --cecho("&lt;cyan&gt;Processed Cures")
	end
else
	if ak.timers.apply then 
		ak.bals.salve = true
		cecho("&lt;cyan&gt;Ignored Cures")
	end
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#0000ff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) takes some (?:balm|salve) from a vial and rubs it on (?:her|his) ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bucket</name><script>if ak.ai() then return end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) saturates (himself|herself) with water\, putting out the fire that raged\.$</string><string>^The fires consuming ([\w'\-]+) diminish somewhat\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dwinnu</name><script>if ak.ai() then return end
--send("outr rope")
if IsTargetted(matches[2]) then
   affstrack.score.bound = 0
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>\'DWINNU\! DWINNU\' chants ([\w'\-]+) urgently as [\w'\-]+ bonds turn to dust and fall off\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Insomnia</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   ak.currentmana = ak.currentmana - 100
   affstrack.score.insomnia = 0
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>([\w'\-]+) clenches [\w'\-]+ fists and grits [\w'\-]+ teeth.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bucket2</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   if affstrack.score.aflame == 100 then
      affstrack.score.aflame = 0
      ak.scoreup(matches[2])
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) saturates (himself|herself) with water\, putting out the fire that raged\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Concentrate</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   if affstrack.score.confusion &gt; 0 then
      if ak.thoughtIhad then ak.thoughtIhad("confusion") else affstrack.score.confusion = 0 end
   end 
   affstrack.score.disrupt = 0
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+)\'s eyes lose their focus suddenly\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Salve Highlighter</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   cecho("\n\n\n&lt;cyan&gt;OPPONENT APPLIED TO THEIR &lt;yellow&gt;"..matches[3].."!!\n\n\n")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#0000ff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) takes some balm from a vial and rubs it on (?:her|his) ([\w'\-]+).$</string><string>^([\w'\-]+) takes some salve from a vial and rubs it on (?:her|his) ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Opponent Ate</name><script>if ak.ai() then return end
local donotrun = {
	"azurite mote",
  "gypsum crystal",
	"echinacea root", 
	"bisemutum chip",
	"kola nut",
	"black cohosh root",
	"skullcap flower",
	"dolomite grain",
	"irid moss",
	"potash crystal",
	"quartz grain",
	"ball of myrrh gum",
	"antimony flake",
	"ginger root",
}
if table.contains(donotrun, matches[3]) then
	setTriggerStayOpen("Opponent Ate", 0)
	return
elseif not IsTargetted(matches[2]) then
	setTriggerStayOpen("Opponent Ate", 0)
	return
else
	ak.currenteat = matches[3]
end  
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>2</mStayOpen><mCommand /><packageName /><mFgColor>#ffffff</mFgColor><mBgColor>#5500ff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) eats (?:a|an|some) (.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mass Down</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
ak.defs.mass = false
cecho("&lt;cyan&gt;Mass Consideration Set")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>A great weight seems to have been lifted from ([\w'\-]+).</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Focused</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	if ak.bals.focus then
		affstrack.score.rixil = 0
		ak.bals.focus = false
		ak.timers.focus = tempTimer(2.2,[[ak.bals.focus = true;ak.timers.focus = nil]])--2.2
		ak.cure.focus(matches[2])
	end
	ak.currentmana = ak.currentmana - 250
  affstrack.score.rixil = 0
  if not ak.timers.focus then 
     if not ak.bals.focus then  
         ak.bals.focus = true 
         cecho("&lt;cyan&gt;Ignored Cures")
         if ak.thoughtIhad then ak.thoughtIhad("impatience") else affstrack.score.impatience = 0 end
      end 
  end
  if affstrack.score.impatience&gt;0 then
     if ak.thoughtIhad then ak.thoughtIhad("impatience") else affstrack.score.impatience = 0 end
     cecho("\n\n&lt;yellow&gt;IMPATIENCE CURED!!")
     cecho("\n\n&lt;yellow&gt;IMPATIENCE CURED!!")
     cecho("\n\n&lt;yellow&gt;IMPATIENCE CURED!!")
  end
end



</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^A look of extreme focus crosses the face of ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Transfix Cured</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   affstrack.score.transfixed = 0
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) has writhed free of ([\w'\-]+) state of transfixation\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Writhed Fire Bullshit</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("aflame")
	 OppLostAff("bound")
end
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) has writhed free of (his|her) conflagrant weave\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Opponent Tree</name><script>if ak.ai() then 
	setTriggerStayOpen("Opponent Tree", 0)
	return
elseif not IsTargetted(matches[2]) then
	setTriggerStayOpen("Opponent Tree", 0)
	return
else
	ak.currenttree = matches[2]
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>2</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) touches a tree of life tattoo.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Class Cures</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest</name><script>if ak.ai() then return end
if ndba and ndba.names[target] and ndba.getclass(target) == "Priest" then
   ak.cure.passive() 
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The guardian angel begins to shimmer with a soft red light.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest Angel Care</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The guardian angel of ([\w'\-]+) shimmers and (he|she) gives a sigh of relief.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fool Cure</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if affstrack.score.paralysis&gt;0 then 
     if ak.thoughtIhad then ak.thoughtIhad("paralysis") else affstrack.score.paralysis = 0 end  
   end
   ak.cure.passive()
   ak.cure.passive() 
   ak.cure.passive() 
	 ak.resetbacktrack()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) presses a tarot to (?:her|his) forehead, producing a wan smile\.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Might</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) lets out a mighty roar\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sylvan Heal</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) stands suddenly upright\, rooted to the earth\.$ </string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alchemist Salt</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) sketches out a symbol in the air with (?:her|his) finger in the shape of a bisected circle.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BM Alleviate</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.tree()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^As (?:he|she) massages key pressure points, a look of relief comes over ([\w'\-]+)'s face as (?:her|his) ailments ease.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Boosted Passive</name><script>if ak.ai() then return end
if IsTargetted(multimatches[2][2]) then 
   --affstrack.score.paralysis = 0
   ak.cure.passive() 
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A look of relief comes over ([\w'\-]+) as [\w'\-]+ grows less pale\.$</string><string>^([\w'\-]+) grows older before your eyes\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest 2</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A flickering nimbus outlines ([\w'\-]+) for an instant\, before fading from sight\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Magi Bloodboil</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if affstrack.score.haemophilia&gt;0 then 
     if ak.thoughtIhad then ak.thoughtIhad("haemophilia") else affstrack.score.haemophilia = 0 end
   end
   ak.cure.passive()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Perspiration suddenly breaks out on ([\w'\-]+)\'s forehead\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bard Hallelujah</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A song can be heard on the edge of hearing as the air distorts about ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest Rite of Healing</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A gentle glow surrounds ([\w'\-]+)\.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Magi Harmony</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A soft chiming emanates from ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fitnessing</name><script>if ak.ai() then return end
ocured.kelp = ocured.kelp or {}
ocured.treed = ocured.treed or {}
ocured.cureall = ocured.cureall or {}
if IsTargetted(matches[2]) then
   cecho("&lt;cyan&gt;Processed Cures")
   ocured.kelp.asthma = nil
   ocured.treed.asthma = nil
   ocured.cureall.asthma = nil
   if affstrack.score.weariness&gt;0 then 
     if ak.thoughtIhad then ak.thoughtIhad("weariness") else affstrack.score.weariness = 0 end 
   end
   affstrack.score.asthma = 0
   ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) draws a deep, measured breath.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shaman Daina</name><script>if ak.ai() then return end
if IsTargetted(multimatches[2][2]) then 
   ak.cure.passive()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A pale mist begins to rise from the skin of</string><string>^A pale mist begins to rise from the skin of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sylvan Panacea</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) is surrounded in a cool\, refreshing mist\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tarot Sun</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The globe of light illuminates ([\w'\-]+) with its brilliance\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unknown</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive() 
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) invokes the power of the elements and a soft white nimbus momentarily surrounds ([\w'\-]+)\.$</string><string>^Divine essence flares around ([\w'\-]+)\.$</string><string>^A look of relief comes over ([\w'\-]+) as [\w'\-]+ grows less pale\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fool Third Person</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive() 
   ak.cure.passive()
   ak.cure.passive()
	 ak.resetbacktrack()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[\w'\-]+ presses a tarot to ([\w'\-]+)\'s forehead, producing a wan smile\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest Healing</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end
--if matches[3] == "Fire" imp or para
--elseif matches[3] == "Air" asthma
--elseif matches[3] == "Earth" slickness
--elseif matches[3] == "Air and Earth" -- anorexia
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) calls upon the powers of (.*) and projects (his|her) spiritual essence inwardly\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Psion Expunge</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end
--CAN CURE PARALYSIS

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A slight tightening of the eyes is the only sign (\w+) makes that \w+ has made a great effort of will\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BM Phoenix</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   ak.oresetparse()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Throwing back [\w'\-]+ head\, ([\w'\-]+) shouts out in defiance as blazing flames consume [\w'\-]+ for a single\, glorious instant before dying away\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest Bedevil</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   ak.oresetparse()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With a grand gesture of righteous fury, ([\w'\-]+) bedevils you with (?:his|her) afflictions\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragon Healing</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if affstrack.score.weariness&gt;0 and affstrack.score.recklessness&gt;0 then 
     if ak.thoughtIhad then ak.thoughtIhad("weariness") else affstrack.score.weariness = 0 end
   end
   affstrack.score.weariness = 0
   affstrack.score.recklessness = 0
	 if affstrack.score.prone == 100 then
	 ak.cure.passive()
	 else
   ak.cure.passive()
   ak.cure.passive()
   ak.cure.passive() 
	 ak.resetbacktrack()
	 end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>([\w'\-]+) lets out a great keening, casting the impurities from (?:her|his) form.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Apostate Syphon</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A demonic crimson glow emanates from ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Air Lord Tempest</name><script>if ak.ai() then return end
if IsTargetted(multimatches[2][2]) then 
   ak.cure.passive()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The winds that compose</string><string>^The winds that compose ([\w'\-]+) fall still\, [\w'\-]+ tempestuous form dispersing into nothing\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shrugging|WaterLord|EarthLord</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if affstrack.score.weariness&gt;0 then 
     if ak.thoughtIhad then ak.thoughtIhad("weariness") else affstrack.score.weariness = 0 end 
   end
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) hunches (?:her|his) shoulders and lets out a soft hiss.</string><string>^The amorphous form of ([\w'\-]+) trembles\, some of the liquid composing it falling away from the greater whole\.$</string><string>^Magma erupts forth from beneath the plates that cover ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Runewarden Dagaz</name><script>if IsTargetted(matches[2]) then 
	 if ak.ai() then return end
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A rune like a rising sun upon the ground flares, bathing ([\w'\-]+) with healing magic.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Air Lord Tempest</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The tempestuous form of ([\w'\-]+) is cleansed by a purifying breeze\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest Sacrifice</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   ak.oresetparse()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The room is consumed in an explosion of light, out of which ([\w'\-]+) emerges refreshed and renewed\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slough</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.cure.passive()
end
--CAN CURE PARALYSIS

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The fiery outer layers of ([\w'\-]+) fall away\, turning to dust as they drift to the ground\. Though ([\w'\-]+) seems diminished for an instant\, [\w'\-]+ fires soon rage with fury once more\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rage</name><script>if ak.ai() then return end
if not IsTargetted(matches[2]) then return end
affs = {}
ocured = ocured or {}
ocured[ocured.conversion["rage"]] = {}
ak.occie.aura.parsereduct("rage")
for i = 1, #affstrack.eaten["rage"] do
   if affstrack.score[affstrack.eaten["rage"][i]] &gt; 0 then
      table.insert(affs, affstrack.eaten["rage"][i])
   end
end 
if #affs &gt; 0 then
   ak.echoForPossibleCures(table.concat(affs, " "))
   for i = 1, #affs do
      ocured[ocured.conversion["rage"]][affs[i]] = affstrack.score[affs[i]]
      affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / #affs
      if affstrack.score[affs[i]] &lt; ak.errorallowance then
          affstrack.score[affs[i]] = 0
      end
   end
end
ak.scoreup(matches[2])
 

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+)'s eyes flash with rage\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sentinel Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>ensnare blinded</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("blind")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You flourish a .* before the eyes of ([\w'\-]+)\, restoring (his|her) blindness\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Doubleslash Venom Limb</name><script>if IsTargetted(matches[3]) then
   weaponattack = weaponattack or {}
   enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
   enableTrigger("Confirmed Hit")  
   table.insert(weaponattack, matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You draw the blade of (.+) in an expert lateral slice across the \w+ of (\w+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Double Strike</name><script>if IsTargetted(matches[2]) then
   if affstrack.score.impatience == 0 then 
      OppGainedAff("impatience")
   elseif affstrack.goldenscore &gt; 1 or affstrack.score.impatience == 100 then
      OppGainedAff("epilepsy")
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Turning with the motion of your strike\, you come back around and slam the haft of your weapon into the temple of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Petrified</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("petrified")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) freezes suddenly\, [\w'\-]+ eyes locked in a state of frozen horror as [\w'\-]+ becomes stone\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lacerate</name><script>if IsTargetted(matches[2]) then
  OppGainedAff("haemophilia")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You viciously lacerate ([\w'\-]+) with .+\.$</string><string>^You viciously lacerate the .+ of ([\w'\-]+) with .+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thrust Venom</name><script>if IsTargetted(matches[2]) then
   weaponattack = weaponattack or {}
   enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
   enableTrigger("Confirmed Hit")  
   table.insert(weaponattack, ak.spear)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Stepping forward\, you continue the motion of your initial thrust\, performing a second quick jab at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Petrify Wore Off</name><script>if IsTargetted(matches[2]) then 
   OppLostAff("petrified")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) sucks in a gasp of air and begins to move normally once more\.$</string><string>^You gaze into the eyes of ([\w'\-]+)\, projecting your implacable will\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>DoubleSlash Venoms</name><script>if IsTargetted(matches[2]) then
   weaponattack = weaponattack or {}
   enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
   enableTrigger("Confirmed Hit")  
   table.insert(weaponattack, matches[3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You lay open the flesh of ([\w'\-]+) with an expert lateral slice with (.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>ensnare transfixed</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("transfixed")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You expertly flourish a .* in front of the eyes of ([\w'\-]+)\, mesmerising (his|her) with your skill\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gouge limb weariness</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("weariness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You savagely gouge the .+ of ([\w'\-]+) with.+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parry Bypass'd</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if ak.ProTrackingConfirmed then 
      ak.ProTrackingConfirmed("haemophilia") 
   else
      affstrack.score.haemophilia = 100
      ak.scoreup(matches[2])
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You strike through the weakened defences of (\w+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gouge</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("weariness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You savagely gouge into ([\w'\-]+) with (.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>RiveStrike</name><script>if IsTargetted(matches[2]) then 
   ak.defs.reRebounding = true
   ak.defs.shield = false
   ak.defs.rebounding = false
   weaponattack = weaponattack or {}
   enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
   enableTrigger("Confirmed Hit")  
   table.insert(weaponattack, ak.spear)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The point of .* strikes the aura of rebounding surrounding ([\w'\-]+)\, and rapid cracks begin to spread outward from the point of impact\. Moments later\, the protection shatters\.$</string><string>^Stepping forward\, you continue the motion of your initial thrust\, performing a second quick jab at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Meta</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Basilisk gaze confusion</name><script>OppGainedAff("confusion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You gaze at ([\w'\-]+) with the eyes of the basilisk\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Woodlore</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sentinel Pets</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Butterfly Dizziness</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("blind")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^A gossamer butterfly goes into a frenzy of motion in front of the eyes of ([\w'\-]+)\, and [\w'\-]+ sways unsteadily\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fox</name><script>ak.animalsup = ak.animalsup or {}
table.insert(ak.animalsup, "fox")
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You pause and concentrate on the image of a sly fox, sending your thoughts into the forest around you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Butterfly Blind Strip</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("blind")
end
ak.animalsup = ak.animalsup or {}
local animaltoremove = "butterfly"
if table.contains(ak.animalsup, animaltoremove) then
   for i = 1, #ak.animalsup do
      if ak.animalsup[i] == animaltoremove then
         table.remove(ak.animalsup,i)
      end
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^A gossamer butterfly goes into a frenzy of motion in front of the eyes of ([\w'\-]+)\, and [\w'\-]+ blinks rapidly\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fox HealthLeech</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("healthleech")
end
ak.animalsup = ak.animalsup or {}
local animaltoremove = "fox"
if table.contains(ak.animalsup, animaltoremove) then
   for i = 1, #ak.animalsup do
      if ak.animalsup[i] == animaltoremove then
         table.remove(ak.animalsup,i)
      end
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^A cunning red fox leaps upon ([\w'\-]+)\, sinking its teeth into [\w'\-]+ skin\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wolf Hallucinations</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("hallucinations")
end
ak.animalsup = ak.animalsup or {}
local animaltoremove = "wolf"
if table.contains(ak.animalsup, animaltoremove) then
   for i = 1, #ak.animalsup do
      if ak.animalsup[i] == animaltoremove then
         table.remove(ak.animalsup,i)
      end
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^A grey wolf lets out a baying howl at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Badger(Nausea)</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("nausea")
end
ak.animalsup = ak.animalsup or {}
local animaltoremove = "badger"
if table.contains(ak.animalsup, animaltoremove) then
   for i = 1, #ak.animalsup do
      if ak.animalsup[i] == animaltoremove then
         table.remove(ak.animalsup,i)
      end
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^A grumpy badger carves great gouges in the flesh of ([\w'\-]+) with its claws\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Butterfly Transfix</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("transfixed")
end
ak.animalsup = ak.animalsup or {}
local animaltoremove = "butterfly"
if table.contains(ak.animalsup, animaltoremove) then
   for i = 1, #ak.animalsup do
      if ak.animalsup[i] == animaltoremove then
         table.remove(ak.animalsup,i)
      end
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^A gossamer butterfly goes into a frenzy of movement before the eyes of ([\w'\-]+)\, mesmerising [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Butterfly</name><script>ak.animalsup = ak.animalsup or {}
table.insert(ak.animalsup, "butterfly")
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You close your eyes and visualise a serene glade full of fluttering butterflies, yearning for the companionship of the delicate creatures.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Badger</name><script>ak.animalsup = ak.animalsup or {}
table.insert(ak.animalsup, "badger")
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A momentary feeling of annoyance takes hold of you as you picture the image of a badger.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Butterfly Dizziness</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("dizziness")
end
ak.animalsup = ak.animalsup or {}
local animaltoremove = "butterfly"
if table.contains(ak.animalsup, animaltoremove) then
   for i = 1, #ak.animalsup do
      if ak.animalsup[i] == animaltoremove then
         table.remove(ak.animalsup,i)
      end
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^A gossamer butterfly goes into a frenzy of motion in front of the eyes of ([\w'\-]+)\, and [\w'\-]+ sways unsteadily\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Raven</name><script>ak.animalsup = ak.animalsup or {}
table.insert(ak.animalsup, "raven")
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A thrilling sensation overcomes you as you concentrate on the image of a flying raven, soaring high in the clouds.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wolf</name><script>ak.animalsup = ak.animalsup or {}
table.insert(ak.animalsup, "wolf")
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The call of the hunt overtakes you for a moment as you call the image of a wolf to your mind.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Raven</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("sensitivity")
end
ak.animalsup = ak.animalsup or {}
local animaltoremove = "raven"
if table.contains(ak.animalsup, animaltoremove) then
   for i = 1, #ak.animalsup do
      if ak.animalsup[i] == animaltoremove then
         table.remove(ak.animalsup,i)
      end
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^An ebony raven dives down upon ([\w'\-]+)\, pecking at [\w'\-]+ face and eyes\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Passive attacks</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Raven passive</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("paranoia")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>^The raven dives at (\w+) and pulls up short, making (.*) uneasy\.$</string></regexCodeList><regexCodePropertyList>
										<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>butterfly</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("stupidity")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>^A huge gossamer butterfly flutters wildly about ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
										<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lemming passive</name><script>if IsTargetted(matches[2]) then 
   OppGainedAff("vertigo")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>^The lemming races between the legs of (\w+)\.$</string></regexCodeList><regexCodePropertyList>
										<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Elemental Classlock Correction</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fire Lord</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	ak.elementalfied("Fire")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The fiery outer layers of ([\w'\-]+) fall away\, turning to dust as they drift to the ground\. Though ([\w'\-]+)seems diminished for an instant\, [\w'\-]+ fires soon rage with fury once more\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Earth Lord</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	ak.elementalfied("Earth")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The magma\-wreathed form of ([\w'\-]+) smashes into you\, crushing you beneath [\w'\-]+ massive bulk and searing you to the bone\.$</string><string>^With a terrible roar ([\w'\-]+) whips a colossal fist at your .*\.$</string><string>^You feel bones grinding against one another as the fist of ([\w'\-]+) smashes into your .* with pulverising force\.$</string><string>^Magma erupts from the cracks between the plates covering ([\w'\-]+)\, cloaking [\w'\-]+ in a churning shroud of molten stone\.$</string><string>^The stone fist of ([\w'\-]+) crunches into your .*\.$</string><string>^The rock plates covering the form of ([\w'\-]+) rapidly thicken\, sharp spires of stone rapidly sprouting from them\.$</string><string>^Cloaked in a shifting mantle of molten stone\, ([\w'\-]+) charges in from the .* with a deafening roar\.$</string><string>^Magma ceases to bubble up from beneath the outer strata of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer><integer>0</integer><integer>0</integer><integer>0</integer><integer>0</integer><integer>0</integer><integer>0</integer><integer>0</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragon Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Claw Reset</name><script>if ak.ai() then return end
expandAlias("dofree wipe claws")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your claws are already dripping with venoms, Wyrm.</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dcursed</name><script>if ak.ai() then return end
if dragoncursesent then OppGainedAff(dragoncursesent) end
dragoncursesent = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>([\w'\-]+) convulses under the influence of some invisible force.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragon Curse Set</name><script>if ak.ai() then return end
dragoncursesent = matches[2]
ak.scoreup(matches[3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You summon your ancient power and direct the curse of ([\w'\-]+) to strike down ([\w'\-]+) in \d+ seconds\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bound</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   affstrack.score.bound = 100
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Abruptly the keening ends, and a blossom of ethereal tendrils bursts from ([\w'\-]+)'s chest, ensnaring (him|her) in a web of undulating bonds\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Roar</name><script>if ak.ai() then return end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your nostrils flare with a rush of air as your sinuous body contracts and your mouth opens wide to emit a rippling, unbroken roar that reverberates through the very earth underfoot.</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limb Counter</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limb Hit Weapon Last</name><script>if ak.ai() then return end
local augment = "none"
local weapon = matches[3]
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,augment)
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Lightning-quick, you jab [\w'\-]+'s (right leg|left leg|right arm|left arm|head|torso) with (.*)\.</string><string>^Lightning-quick, you stab [\w'\-]+'s (right leg|left leg|right arm|left arm|head|torso) with (.*)\.</string><string>^You slash into [\w'\-]+\'s (right leg|left leg|right arm|left arm|head|torso) with (.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Missed Single Removal Limbs</name><script>if string.findPattern(matches[1],"rebounds") then
   ak.limbs.blademaster.rebound = true
   ak.limbs.currentbreak.who[#ak.limbs.currentbreak.who] = ak.limbs.currentbreak.attacker[#ak.limbs.currentbreak.attacker]
elseif #ak.limbs.currentbreak.who &gt; 0 then
   table.remove(ak.limbs.currentbreak.weapon, #ak.limbs.currentbreak.who)
   table.remove(ak.limbs.currentbreak.limb, #ak.limbs.currentbreak.who)
   table.remove(ak.limbs.currentbreak.attacker,#ak.limbs.currentbreak.who)
   if #ak.limbs.currentbreak.augment == #ak.limbs.currentbreak.who then
      table.remove(ak.limbs.currentbreak.augment,#ak.limbs.currentbreak.who)
   end
   table.remove(ak.limbs.currentbreak.who,#ak.limbs.currentbreak.who)
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) dodges nimbly out of the way\.$</string><string>^([\w'\-]+) quickly jumps back, avoiding the attack\.$</string><string>^([\w'\-]+) twists (his|her) body out of harm's way\.$</string><string>^A reflection of ([\w'\-]+) blinks out of existence.$</string><string>^([\w'\-]+) parries the attack with a deft manoeuvre.$</string><string>^([\w'\-]+) steps into the attack, grabs your arm, and throw</string><string>^A chaos orb intercepts the attack against (\+) and renders it harmless\.$</string><string>^([\w'\-]+) moves into your attack, knocking your blow aside before viciously countering with a strike to your head\.$</string><string>^The attack rebounds onto [\w'\-]+\!$</string><string>^The attack rebounds back onto [\w'\-]+\!$</string><string>You parry the attack with a deft manoeuvre.</string><string>^You move inside [\w'\-]+\'s guard\, deflecting (his|her) attack to one side with your forearm before countering with a swift blow to (his|her) temple\.$</string><string>The attack rebounds off your rebounding aura!</string><string>You twist your body out of harm's way.</string><string>^Cracks spider across the surface of the crimson shield surrounding ([\w'\-]+)\, before it abruptly winks out of existence\.$</string><string>^You step into the attack\, grab ([\w'\-]+) by the arm\, and throw [\w'\-]+ violently to the ground\.$</string><string>You miss.</string><string>One of your reflections has been destroyed! You have 0 left.</string><string>He misses.</string><string>She misses.</string><string>You quickly jump back, avoiding the attack.</string><string>^You lash out at ([\w'\-]+) with .*\, but miss\.$</string><string>^\w+\'s blow lands upon you but is robbed of much of its impact by \w+ flawed technique\.$</string><string>^Your blow strikes \w+ but is robbed of much of its impact by your faulty technique\.$</string><string>([\w'\-]+) lashes out with a clumsy blow at ([\w'\-]+)\, landing with far reduced force\.$</string><string>You fumble your strike, the attack going wide.</string><string>^(\w+) stumbles\, \w+ attack going wide\.$</string><string>You dodge nimbly out of the way.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confirmed Hit Limbs</name><script>if ak.ai() then
	ak.limbs.currentbreak.weapon = {}
	ak.limbs.currentbreak.limb = {}
	ak.limbs.currentbreak.attacker = {}
	ak.limbs.currentbreak.who = {}
	ak.limbs.currentbreak.augment = {}
	ak.limbs.absorbed = false
	disableTrigger("Missed Single Removal Limbs")                --DO NOT CHANGE!
  disableTrigger("Parry locate")
  disableTrigger("Monk Parry")
elseif isPrompt() then
	ak.limbs.parseBreaksPrompt()
else
	if not ak.limbs.deleteset then
		--deleteLine() --THIS ISNT EVEN PROMPT WHY DELETE IT?
		--ak.showPrompt()
	end
	ak.limbs.parseBreaks()
end



</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string /><string>^He connects to the .*\!$</string><string>^She connects to the .*\!$</string><string>^You connect to the .*\!$</string><string>^You direct a crystalline golem to (.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>7</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parry locate</name><script>if not IsTargetted(matches[2]) then return end
if ak.ai() then return end
if ak.limbs.currentbreak.limb and #ak.limbs.currentbreak.limb &gt; 0 and ak.limbs.currentbreak.who[#ak.limbs.currentbreak.who] == target then 
   targetparry = ak.limbs.currentbreak.limb[#ak.limbs.currentbreak.limb]
   cecho("&lt;cyan&gt;\n\n YOU HIT PARRY(&lt;white&gt;"..targetparry:title().."&lt;cyan&gt;)!!\n\n")
   cecho("&lt;yellow&gt;\n\n YOU HIT PARRY(&lt;white&gt;"..targetparry:title().."&lt;yellow&gt;)!!\n\n") 
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) parries the attack with a deft manoeuvre.$</string><string>^([\w'\-]+) steps into the attack, grabs your arm, and throw</string><string>^A chaos orb intercepts the attack against (\+) and renders it harmless\.$</string><string>^([\w'\-]+) moves into your attack, knocking your blow aside before viciously countering with a strike to your head\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>SoA</name><script>if ak.ai() then return end
ak.limbs.absorbed = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your shield completely absorbs the damage.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limb Hit Weapon First</name><script>if ak.ai() then return end
if matches[3] == "flesh" then 
   return 
end
local augment = "none"
local weapon = matches[2]
if weapon == "claws" then
   augment = "percent"
   weapon = "dragonrend"
elseif weapon == "maul" then
   augment = "percent"
   weapon = "maul"
elseif weapon == "vines" then
	if affstrack.vinewreathe then
   weapon = "wreathed"
	else
   weapon = "viridianrend"
	end
end
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,augment)
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You viciously jab (.*) into [\w'\-]+'s (right leg|left leg|right arm|left arm|head|torso)\.$</string><string>^You viciously stab (.*) into [\w'\-]+'s (right leg|left leg|right arm|left arm|head|torso)\.$</string><string>^Lunging forward with long, flashing ([\w'\-]+) extended, you tear into the flesh of [\w'\-]+\'s (right leg|left leg|right arm|left arm|head|torso)\.$</string><string>^You command the razor-edged thorny ([\w'\-]+) around you to lash out and rend the (right leg|left leg|right arm|left arm|head|torso) of .*\.$</string><string>^You spring forwards and ([\w'\-]+) [\w'\-]+\'s (right leg|left leg|right arm|left arm|head|torso)\.$</string><string>^You swing (.*) at [\w'\-]+\'s (right leg|left leg|right arm|left arm|head|torso) with all your might\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shatter</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shattered</name><script>if ak.ai() then return end
local augment = "shattered"
ak.limbs.limb_table_check(matches[3])
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,"shattered")
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,augment)
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")



</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You strike the (right leg|left leg|right arm|left arm|head|torso) of ([\w'\-]+) with a mighty blow\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mangled</name><script>if IsTargetted(matches[2]) then
	 if ak.ai() then return end
   local limbt = ak.limbs.standardizeLimb(matches[3]) 
   affstrack.score[limbt] = 300
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+)\'s (right leg|left leg|right arm|left arm|head|torso) has been beaten into uselessness\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smite</name><script>if ak.ai() then return end
local weapon = matches[4]
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[2])
table.insert(ak.limbs.currentbreak.augment,"smite")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You utter a prayer and smite ([\w'\-]+)\'s (right leg|left leg|right arm|left arm|head|torso) with (.*)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Magi</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Staff Strike</name><script>if ak.ai() then return end
ak.defs.shield = false
if matches[2] == "Sllshya" then
   table.insert(ak.limbs.currentbreak.weapon, "waterstaff")
elseif matches[2] == "Garash" then
   table.insert(ak.limbs.currentbreak.weapon, "earthstaff")
elseif matches[2] == "Kkractle" then
   table.insert(ak.limbs.currentbreak.weapon, "firestaff")
elseif matches[2] == "Whiirh" then
   table.insert(ak.limbs.currentbreak.weapon, "airstaff")
end
local limb = ak.limbs.standardizeLimb(matches[4])
table.insert(ak.limbs.currentbreak.limb, limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[3])
enableTrigger("Missed Single Removal Limbs")
enableTrigger("Parry locate")          
enableTrigger("Confirmed Hit Limbs")





</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You call upon ([\w'\-]+) and unleash a forceful blow towards ([\w'\-]+)'s (right leg|left leg|right arm|left arm|head|torso) with your trusty staff\.*</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shikudo</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nervestrike</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if ak.shikudo.LimbBlock() then return end
local augment = "none"
local weapon = "nervestrike"
local limb = ak.limbs.standardizeLimb("head")
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[2])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You whip a .+ at the side of ([\w'\-]+)\'s neck\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hiraku</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if ak.shikudo.LimbBlock() then return end
local augment = "none"
local weapon = "hiraku"
local limb = ak.limbs.standardizeLimb("head")
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker, "Me")
table.insert(ak.limbs.currentbreak.who,matches[2])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Stepping forward\, you drive .+ at the face of ([\w'\-]+)\.$</string><string>^Bracing your back foot\, you lunge forward with .+ at the face of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ruku Combo</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if ak.shikudo.LimbBlock() then return end
local augment = "none"
local weapon = "ruku"
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[2])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You whip .+ at ([\w'\-]+) in a controlled arc\, bringing its length to crack against [\w'\-]+ (right leg|left leg|right arm|left arm|head|torso)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Needle</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if ak.shikudo.LimbBlock() then return end
local augment = "none"
local weapon = "needle"
local limb = ak.limbs.standardizeLimb("head")
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[2])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With pinpoint precision\, you drive .+ at the throat of ([\w'\-]+)\.$</string><string>^Reversing your grip on .+\, you drive the top of the weapon into the throat of ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ruku</name><script>if ak.ai() then return end
--ak.limbs.ParseonLine()
if ak.shikudo.LimbBlock() then return end
local augment = "none"
local weapon = "ruku"
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[3])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You spin a full rotation\, bringing .+ around in a blur of motion to smash into the (left arm|right arm|head|torso|left leg|right leg) of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spinkick Head</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
local augment = "none"
local weapon = "spinkick"
local limb = ak.limbs.standardizeLimb("head")
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[2])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>2</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Whirling around\, you bring the ball of your foot crashing into the temple of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>RisingKick</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
local augment = "none"
local weapon = "risingkick"
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[3])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You drive your foot up in a rising kick at the ([\w'\-]+) of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Front Kick</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
local augment = "none"
local weapon = "frontkick"
local limb = ak.limbs.standardizeLimb(matches[2].."arm")
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[3])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You lash out with a straight kick at the ([\w'\-]+) shoulder of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hiru</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if ak.shikudo.LimbBlock() then return end
local augment = "none"
local weapon = "hiru"
local limb = ak.limbs.standardizeLimb("head")
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker, "Me")
table.insert(ak.limbs.currentbreak.who,matches[2])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Whirling .+ in a tight arc\, you bring the weapon around to crash into the side of the head of ([\w'\-]+)\.$</string><string>^Snapping back into a ready stance\, you whirl .+ in a long sweep at the head of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Livestrike</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if ak.shikudo.LimbBlock() then return end
local augment = "none"
local weapon = "livestrike"
local limb = ak.limbs.standardizeLimb("torso")
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[2])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Lunging forward, you drive the end of .+ viciously into the solar plexus of ([\w'\-]+)\.$</string><string>^Turning with the motion\, you channel the momentum of your previous strike into a thrust at the solar plexus of ([\w'\-]+) with .+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spinkick Torso</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
local augment = "none"
local weapon = "spinkick"
local limb = ak.limbs.standardizeLimb("torso")
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[2])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Whirling around\, you bring the ball of your foot smashing into the ribs of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dart</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if ak.shikudo.LimbBlock() then return end
local augment = "none"
local weapon = "dart"
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[3])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Sharply extending out your arms in front of you\, you deliver a lightning\-fast thrust to the (right leg|left leg|right arm|left arm|head|torso) of ([\w'\-]+) with .+\.$</string><string>^Spinning on one foot you bring .+ around in a lightning fast thrust at the (right leg|left leg|right arm|left arm|head|torso) of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flashheel</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
local augment = "none"
local weapon = "flashheel"
ak.limbs.shikudo.flashed = matches[2]
local limb = ak.limbs.standardizeLimb(matches[2].." leg")
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker, "Me")
table.insert(ak.limbs.currentbreak.who,matches[3])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Snapping your leg out to its full extent\, you drive a heel into the ([\w'\-]+) knee of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thrust</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if ak.shikudo.LimbBlock() then return end
local augment = "none"
local weapon = "thrust"
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[3])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Stepping forward\, you drive the end of .+ into the (right leg|left leg|right arm|left arm|head|torso) of ([\w'\-]+)\.$</string><string>^Continuing your kata\, you spin .+ in your hands and drive it in a sharp thrust towards the (right leg|left leg|right arm|left arm|head|torso) of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kuro</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if ak.shikudo.LimbBlock() then return end
local augment = "none"
local weapon = "kuro"
local limb = ak.limbs.standardizeLimb(matches[2].." leg")
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[3])
table.insert(ak.limbs.currentbreak.augment,"Shikudo")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Falling back into a low crouch\, you lash out with a swift strike at the ([\w'\-]+) thigh of ([\w'\-]+)\.$</string><string>^Dropping into a lower stance\, you sweep a .+ at the ([\w'\-]+) thigh of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hyperfocus</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hyperfocus Chosen</name><script>if ak.ai() then return end
ak.limbs.hyperfocus = ak.limbs.standardizeLimb(multimatches[2][2])
ak.scoreup()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will now focus on bypassing attempts to deflect blows when striking the</string><string>^You will now focus on bypassing attempts to deflect blows when striking the (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>None</name><script>if ak.ai() then return end
ak.limbs.hyperfocus = false
ak.scoreup()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are not currently focussing on exploiting flaws in defensive technique.</string><string>You cease to focus on exploiting flaws in defensive technique.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Monk</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>WWK</name><script>if ak.ai() then return end
table.insert(ak.limbs.currentbreak.weapon,"wwk")
table.insert(ak.limbs.currentbreak.limb, "head")
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"none")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
disableTrigger("Monk Parry")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You spin into the air and throw a whirlwind kick towards</string><string>^You spin into the air and throw a whirlwind kick towards ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>MNK</name><script>if ak.ai() then return end
disableTrigger("Missed Single Removal Limbs") 
disableTrigger("Parry locate") 
enableTrigger("Monk Parry")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You hurl yourself towards</string><string>^You hurl yourself towards ([\w'\-]+) with a lightning-fast moon kick\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>SNK</name><script>if ak.ai() then return end
disableTrigger("Missed Single Removal Limbs") 
disableTrigger("Parry locate") 
enableTrigger("Monk Parry")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You let fly at </string><string>^You let fly at ([\w'\-]+) with a snap kick\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>HFP</name><script>if ak.ai() then return end
disableTrigger("Missed Single Removal Limbs")  
disableTrigger("Parry locate")
enableTrigger("Monk Parry")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You ball up one fist and hammerfist</string><string>^You ball up one fist and hammerfist ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Queued Combo</name><script>local combodraw = multimatches[2][2]:lower()
if not string.findPattern(combodraw,"hfp") and not string.findPattern(combodraw,"snk") and not string.findPattern(combodraw,"spp") and not string.findPattern(combodraw,"mnk") and not string.findPattern(combodraw,"drawslash") then
	return
end
combodraw = string.gsub(combodraw, "|", " ")
combodraw = combodraw:split(" ")
ak.limbs.parriedlimbs = {}
for i = 1, #combodraw do
   if string.findPattern(combodraw[i],"hfp") then
      table.insert(ak.limbs.parriedlimbs,combodraw[i+1]:lower().."leg")
   elseif string.findPattern(combodraw[i],"snk") then
      table.insert(ak.limbs.parriedlimbs,combodraw[i+1]:lower().."leg")
   elseif string.findPattern(combodraw[i],"spp") then
      table.insert(ak.limbs.parriedlimbs,combodraw[i+1]:lower().."arm")
   elseif string.findPattern(combodraw[i],"mnk") then
      table.insert(ak.limbs.parriedlimbs,combodraw[i+1]:lower().."arm")
	 elseif string.findPattern(combodraw[i],"drawslash") then
      table.insert(ak.limbs.parriedlimbs,combodraw[i+2]:lower().."arm")
   end 
end
ak.monkcombodraw = combodraw
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Running queued</string><string>^Running queued \w+ command\: (.*)$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>SPP</name><script>if ak.ai() then return end
disableTrigger("Missed Single Removal Limbs")
disableTrigger("Parry locate")  
enableTrigger("Monk Parry")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You form a spear hand and stab out towards</string><string>^You form a spear hand and stab out towards ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>AXK</name><script>if ak.ai() then return end
if axkpunch1 then killTrigger(axkpunch1) end
if ak.monk.axkpunch then axkpunch1 = tempTrigger("You have recovered balance on your", [[ak.monk.axkpunch();killTrigger(axkpunch1)]]) end
table.insert(ak.limbs.currentbreak.weapon,"axk")
table.insert(ak.limbs.currentbreak.limb, "head")
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"none")
enableTrigger("Parry locate")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
disableTrigger("Monk Parry")


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You kick your leg high and scythe downwards at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>SDK</name><script>if ak.ai() then return end
table.insert(ak.limbs.currentbreak.weapon,"sdk")
table.insert(ak.limbs.currentbreak.limb, "torso")
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"none")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
disableTrigger("Monk Parry")



</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You pump out at</string><string>^You pump out at ([\w'\-]+) with a powerful side kick\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Monk Parry</name><script>if ak.ai() then return end
ak.limbs.parriedlimbs = ak.limbs.parriedlimbs or {}
if not IsTargetted(matches[2]) then return end
if #ak.limbs.parriedlimbs == 0 then return end
targetparry = ak.limbs.parriedlimbs[1]
cecho("&lt;cyan&gt;\n\n YOU HIT PARRY(&lt;white&gt;"..targetparry:title().."&lt;cyan&gt;)!!\n\n")
cecho("&lt;yellow&gt;\n\n YOU HIT PARRY(&lt;white&gt;"..targetparry:title().."&lt;yellow&gt;)!!\n\n")
disableTrigger("Parry locate") 
disableTrigger("Monk Parry")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) steps into the attack, grabs your arm, and throw</string><string>^([\w'\-]+) parries the attack with a deft manoeuvre.$</string><string>^A chaos orb intercepts the attack against (\+) and renders it harmless\.$</string><string>^([\w'\-]+) moves into your attack, knocking your blow aside before viciously countering with a strike to your head\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sent Queue</name><script>local combodraw = multimatches[2][2]
if not string.findPattern(combodraw,"hfp") and not string.findPattern(combodraw,"snk") and not string.findPattern(combodraw,"spp") and not string.findPattern(combodraw,"mnk") and not string.findPattern(combodraw,"drawslash") then
	return
end
combodraw = string.gsub(combodraw, "/", " ")
combodraw = combodraw:split(" ")
ak.limbs.parriedlimbs = {}
for i = 1, #combodraw do
   if string.findPattern(combodraw[i],"hfp") then
      table.insert(ak.limbs.parriedlimbs,combodraw[i+1]:lower().."leg")
   elseif string.findPattern(combodraw[i],"snk") then
      table.insert(ak.limbs.parriedlimbs,combodraw[i+1]:lower().."leg")
   elseif string.findPattern(combodraw[i],"spp") then
      table.insert(ak.limbs.parriedlimbs,combodraw[i+1]:lower().."arm")
   elseif string.findPattern(combodraw[i],"mnk") then
      table.insert(ak.limbs.parriedlimbs,combodraw[i+1]:lower().."arm")
	 elseif string.findPattern(combodraw[i],"drawslash") then
      table.insert(ak.limbs.parriedlimbs,combodraw[i+2]:lower().."arm")
   end 
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Alias "</string><string>Alias \"\w+\" will now execute\: \"(.*)\"</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>HKP</name><script>if ak.ai() then return end
table.insert(ak.limbs.currentbreak.weapon,"hkp")
table.insert(ak.limbs.currentbreak.limb, "torso")
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"none")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
disableTrigger("Monk Parry")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You unleash a powerful hook towards</string><string>^You unleash a powerful hook towards ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>UCP</name><script>if ak.ai() then return end
table.insert(ak.limbs.currentbreak.weapon,"ucp")
table.insert(ak.limbs.currentbreak.limb, "head")
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"none")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
disableTrigger("Monk Parry")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You launch a powerful uppercut at</string><string>^You launch a powerful uppercut at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vodun|Puppetry</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Puppet Mangle</name><script>if IsTargetted(matches[3]) then
	 if ak.ai() then return end
   local limbt = ak.limbs.standardizeLimb(matches[2]) 
   if affstrack.score[limbt] &gt; 0 then
	    affstrack.score[limbt] = 300
			ak.vodunmangled = true
			tempTimer(5,[[ak.vodunmangled = false]])
	 else
	    affstrack.score[limbt] = 200
	 end
   ak.scoreup(matches[3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The (right leg|left leg|right arm|left arm|head|torso) of ([\w'\-]+) is suddenly horribly mangled by an unseen force\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BladeMaster</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>ArmSlash</name><script>if ak.ai() then return end
local augment = "none"
local limb = ak.limbs.standardizeLimb(matches[2].."arm")
table.insert(ak.limbs.currentbreak.weapon,"armslash")
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"blademaster")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Spinning to the ([\w'\-]+) as you draw .* from its sheath\, you unleash a precise slash across ([\w'\-]+)\'s arms\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>CompassSlash</name><script>if ak.ai() then return end
local augment = "none"
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,"compassslash")
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"blademaster")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Whispering a prayer to the [\w'\-]+ winds\, you draw .* and unleash a slash towards [\w'\-]+\'s (.*)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>LegSlash</name><script>if ak.ai() then return end
local augment = "none"
local limb = ak.limbs.standardizeLimb(matches[2].."leg")
table.insert(ak.limbs.currentbreak.weapon,"legslash")
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"blademaster")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With a smooth lunge to the ([\w'\-]+)\, you draw .* from its scabbard and deliver a powerful slash across [\w'\-]+\'s legs\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Drawslash</name><script>if ak.ai() then return end
local limb = ak.limbs.standardizeLimb(multimatches[2][3])
table.insert(ak.limbs.currentbreak.weapon,"drawslash")
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"blademaster")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With expert precision\, you draw .* from its scabbard and unleash a vicious slash towards ([\w'\-]+)\.$</string><string>^Your blade bites deep into (his|her|His|Her) (.*)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Centre Slash</name><script>if ak.ai() then return end
local augment = "none"
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,"centreslash")
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"blademaster")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^In a single motion, you draw .* from its scabbard and loose a vicious (rising|falling) slash at [\w'\-]+\'s ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stancing</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thyr</name><script>ak.limbs.blademaster.stance.Me = "Thyr"
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Readying yourself with a flourish, you flow into the Thyr stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sanya</name><script>ak.limbs.blademaster.stance.Me = "Sanya"
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Clearing your mind, you sink into the Sanya stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unstanced</name><script>ak.limbs.blademaster.stance["Me"] = "None"
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You adopt a neutral stance.</string></regexCodeList><regexCodePropertyList>
									<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mir</name><script>ak.limbs.blademaster.stance.Me = "Mir"
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Resolving to move as water, you enter the Mir stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Arash</name><script>ak.limbs.blademaster.stance.Me = "Arash"
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Mind set on the dancing flame, you take up the Arash stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Doya</name><script>ak.limbs.blademaster.stance.Me = "Doya"
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Lowering your centre of gravity, you drop into the Doya stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>2H</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Undercut</name><script>local augment = ak.limbs.twoh.stance["Me"] or "knight"
local weapon = matches[2]
local limb = "torso"
if ak.ai() then return end
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,augment)
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Bracing your feet\, you lunge upward at [\w'\-]+ with (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hew</name><script>if matches[3] == "flesh" then 
   return 
end
if ak.ai() then return end
local augment = ak.limbs.twoh.stance["Me"] or "knight"
local weapon = matches[2]
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,augment)
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Taking hold of (.+) with a firm two-handed grip\, you hew savagely at [\w'\-]+\'s (right leg|left leg|right arm|left arm|head|torso)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Overhand</name><script>if matches[3] == "flesh" then 
   return 
end
if ak.ai() then return end
local augment = ak.limbs.twoh.stance["Me"] or "knight"
local weapon = matches[2]
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,augment)
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Raising (.+) above your head\, you bring it down upon [\w'\-]+\'s (head) with terrible force\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pulverise</name><script>if ak.ai() then return end
local augment = ak.limbs.twoh.stance["Me"] or "knight"
local weapon = matches[2]
local limb = ak.limbs.standardizeLimb(matches[4])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,augment)
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Throwing your full weight into the motion\, you bring (.*) across in a terrible blow toward (.*)\'s (right leg|left leg|right arm|left arm|head|torso)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sentinel</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trip</name><script>if ak.ai() then return end
local weapon = matches[3]
local limb = ak.limbs.standardizeLimb(matches[4])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"trip")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You swiftly sweep ([\w'\-]+)'s feet out from beneath [\w'\-]+ with (.*) before driving the point of the weapon into [\w'\-]+ (right leg|left leg|right arm|left arm|head|torso)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lacerate</name><script>if ak.ai() then return end
local weapon = matches[3]
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"sentinel")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You viciously lacerate the (right leg|left leg|right arm|left arm|head|torso) of [\w'\-]+ with (.*)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Doublestrike</name><script>if ak.ai() then return end
local weapon = matches[2]
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[4])
table.insert(ak.limbs.currentbreak.augment,"sentinel")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You draw the blade of (.*) in an expert lateral slice across the (right leg|left leg|right arm|left arm|head|torso) of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gouge</name><script>if ak.ai() then return end
local weapon = matches[4]
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[3])
table.insert(ak.limbs.currentbreak.augment,"sentinel")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You savagely gouge the (right leg|left leg|right arm|left arm|head|torso) of ([\w'\-]+) with (.*)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>RiveStrike</name><script>if ak.ai() then return end
local weapon = ak.spear
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"sentinel")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Stepping forward\, you continue the motion of your initial thrust\, performing a second quick jab at the (right leg|left leg|right arm|left arm|head|torso) of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thrust</name><script>if ak.ai() then return end
local weapon = matches[2]
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"sentinel")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You deftly thrust (.*) into the (right leg|left leg|right arm|left arm|head|torso) of [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>DWC</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Undercut</name><script>if ak.ai() then return end
if matches[3] == "flesh" then 
   return 
end
local augment = "undercut"
local weapon = matches[2]
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,augment)
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You swing (.*) at the (right leg|left leg|right arm|left arm|head|torso) of [\w'\-]+ with all your might\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blunt</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limb Hit Weapon Last</name><script>if ak.ai() then return end
local weapon = matches[3]
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"blunt")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With a steady hand\, you batter [\w'\-]+\'s (right leg|left leg|right arm|left arm|head|torso) with (.*)\.$</string><string>^You smash [\w'\-]+\'s (right leg|left leg|right arm|left arm|head|torso) with (.*)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limb Hit Weapon First</name><script>if ak.ai() then return end
local weapon = matches[2]
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"blunt")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You bring (.*) crashing down on [\w'\-]+\'s (right leg|left leg|right arm|left arm|head|torso)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>DWB</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limb Hit Weapon First</name><script>if ak.ai() then return end
local weapon = matches[2]
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"whirl")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You whip (.*) toward the (right leg|left leg|right arm|left arm|head|torso) of [\w'\-]+\.$</string><string>^You skilfully whirl (.*) toward the (right leg|left leg|right arm|left arm|head|torso) of [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jester</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bop OFF</name><script>if ak.ai() then return
else
return
end
local weapon = matches[4]
local limb = ak.limbs.standardizeLimb(matches[3])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,matches[2])
table.insert(ak.limbs.currentbreak.augment,"sentinel")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You reach out and bop ([\w'\-]+)\'s (right leg|left leg|right arm|left arm|head|torso) with your blackjack.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>SnB</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slice</name><script>if ak.ai() then return end
local augment = "none"
local weapon = matches[3]
local limb = ak.limbs.standardizeLimb(matches[2])
table.insert(ak.limbs.currentbreak.weapon,weapon)
table.insert(ak.limbs.currentbreak.limb,limb)
table.insert(ak.limbs.currentbreak.attacker,"Me")
table.insert(ak.limbs.currentbreak.who,target)
table.insert(ak.limbs.currentbreak.augment,"slice")
enableTrigger("Missed Single Removal Limbs")          
enableTrigger("Confirmed Hit Limbs")
enableTrigger("Parry locate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You slice into the (right leg|left leg|right arm|left arm|head|torso) of [\w'\-]+ with (.*)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dwb Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Expend Legs</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
	EchoForMajorAff("PRONE")
	OppGainedAff("prone")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The power of your blow sweeps the legs out from under ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Momentum Gain</name><script>ak.dwb.momentum = ak.dwb.momentum + 1
ak.scoreup(matches[3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You skilfully whirl (.*) toward ([\w'\-]+)\, slamming the balls of metal into (him|her)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Expended Arms</name><script>if matches[2] == "left" then
	local aff = "armexpend clumsiness"
	OppGainedAff(aff)
elseif matches[2] == "right" then
--no tattoos
	local aff = "armexpend clumsiness"
	OppGainedAff(aff)
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You feel the satisfying crunch of bone as your attack connects with the (left|right) arm of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Momentum Drop</name><script>ak.dwb.momentum = ak.dwb.momentum - 1
if ak.dwb.momentum &lt; 0 then
	ak.dwb.momentum = 0
end
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your momentum decreases.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>New Trigger</name><script>display(gmcp.Char.Vitals.charstats[4])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have not built up sufficient momentum to perform such an assault against Majin.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No Momentum</name><script>ak.dwb.momentum = 0
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have lost all of your gained momentum.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Psion Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lost Blasted</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) shakes (\w+) head, (\w+) dull eyes slightly less vacant\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blast</name><script>if ak.ai() then return end
aff = "mindravaged"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Bringing your formidable mental facilities to bear against ([\w'\-]+), you summon up and hurl a terrible unfocussed blast of psionic might to ravage (\w+) mind.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weaving</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Entwine (prone)</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Prone")
   OppGainedAff("Entangled")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You lash out with a translucent lash, expertly wrapping it about the prone form of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cleave</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Prone")
   ak.defs.shield = false
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your blow cleaves through the magical shield surrounding ([\w'\-]+)\, continuing on to drive (?:him|her) from (?:his|her) feet\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Entwine (standing)</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Prone")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You lash out with a translucent lash, entangling it about the feet of ([\w'\-]+) and sending (?:him|her) tumbling to the ground with a sharp tug\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hamstring (prone)</name><script>if IsTargetted(matches[3]) then
   OppGainedAff("Prone")
   local smashlimb = matches[2].."leg"
   if affstrack.score[smashlimb] &lt; 200 then
      affstrack.score[smashlimb] = 200
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You duck low, your blade slicing into the (left|right) leg of ([\w'\-]+)\.$</string><string>^([\w'\-]+) stumbles, falling to the ground\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cleave (miss)</name><script>if IsTargetted(matches[2]) then
   ak.defs.shield = false
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your blow scythes through the air in front of ([\w'\-]+), missing entirely\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weaving</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Transcendance fading</name><script>deleteLine()
cecho("&lt;LightGoldenrod&gt;\n " ..matches[2].. "\% Transcendance\n")
ak.psion.transcend = matches[2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Your inaction causes the harmonisation of your body and mind to falter\: you are now only (\d+) percent of the way to transcendence\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Transcendence</name><script>deleteLine()
cecho("&lt;LightGoldenrod&gt;\n " ..matches[2].. "\% Transcendance\n")
ak.psion.transcend = matches[2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Your body and mind continue to harmonise\: you are (\d+) percent of the way to full transcendence\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prepared</name><script>ak.psion.prepared = matches[2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You prepare to alter future creations to possess the (\w+) modification\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Transcendence Full</name><script>deleteLine()
cecho("&lt;LightGoldenrod&gt;\nTranscended!\n")
ak.psion.transcend = 100
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You have achieved transcendence\: your body and mind operate as one\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limbs</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Exsanguinate</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Nausea")
	 if ak.bleeding &gt;= 150 then
	 	OppGainedAff("Anorexia")
	 end
	 ak.limbs.LimbHit(matches[2], "Me", "psion", "torso", "percent")
end
if IsTargetted(matches[2]) and affstrack.score.haemophilia &gt; 0 then 	
	local bleedr = 20
	ak.bleeding = ak.bleeding + bleedr
	cecho(ak.bleeding)
	ak.scoreup(matches[2])
end
-- LIMB HIT: torso
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Stepping forward, you brutally drive a translucent sword into ([\w'\-]+)'s guts, ripping it free in a spray of crimson\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hamstring</name><script>if IsTargetted(matches[3]) then
  local smashlimb = matches[2].."leg"
	ak.limbs.LimbHit(matches[3], "Me", "psion", smashlimb, "percent")
  if affstrack.score[smashlimb] &lt; 100 then
		OppGainedAff(smashlimb)
  end
	if IsTargetted(matches[3]) and affstrack.score.haemophilia &gt; 0 then 	
		local bleedr = 55
		ak.bleeding = ak.bleeding + bleedr
		cecho(ak.bleeding)
		ak.scoreup(matches[3])
	end
end


      
-- LIMB HIT: leg
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You duck low, your blade slicing into the (left|right) leg of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Backhand</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Stupidity")
   OppGainedAff("Dizziness")
	 ak.limbs.LimbHit(matches[2], "Me", "psion", "head", "percent")	
end
if IsTargetted(matches[2]) and affstrack.score.haemophilia &gt; 0 then 	
	local bleedr = 15
	ak.bleeding = ak.bleeding + bleedr
	cecho(ak.bleeding)
	ak.scoreup(matches[2])
end
-- LIMB HIT: head
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You deliver a savage backhanded blow with a translucent mace to the face of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Puncture</name><script>if IsTargetted(matches[3]) then
	 local smashlimb = matches[2].."arm"
	 ak.limbs.LimbHit(matches[3], "Me", "psion", smashlimb, "percent")
   OppGainedAff("Weariness")
end
if IsTargetted(matches[3]) and affstrack.score.haemophilia &gt; 0 then 	
	local bleedr = 45
	ak.bleeding = ak.bleeding + bleedr
	cecho(ak.bleeding)
	ak.scoreup(matches[3])
end
-- LIMB HIT: arm
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With a lightning-fast jab of your blade you puncture the cluster of nerves just below the (right|left) shoulder of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sever</name><script>if IsTargetted(matches[3]) then
	 local smashlimb = matches[2].."arm"
   OppGainedAff("Clumsiness")
	 ak.limbs.LimbHit(matches[3], "Me", "psion", smashlimb, "percent")
end
if IsTargetted(matches[3]) and affstrack.score.haemophilia &gt; 0 then 	
	local bleedr = 45
	ak.bleeding = ak.bleeding + bleedr
	cecho(ak.bleeding)
	ak.scoreup(matches[3])
end
-- LIMB HIT: arm
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With a precise strike you sever the muscles in the (right|left) arm of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Overhand</name><script>if IsTargetted(matches[2]) then
	 ak.limbs.LimbHit(matches[2], "Me", "psion", "head", "percent")
	 if affstrack.score.prone == 100 then 
	 		OppGainedAff("Impatience") 
	 else 
	    OppGainedAff("Stupidity")
	 end	 
	 if affstrack.score.head &gt; 0 then
	 		OppGainedAff("Impatience")
	 end
end
if IsTargetted(matches[2]) and affstrack.score.haemophilia &gt; 0 then 	
	local bleedr = 15
	ak.bleeding = ak.bleeding + bleedr
	cecho(ak.bleeding)
	ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You bring a translucent mace around in a savage overhand strike, smashing it into the face of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deathblow</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Asthma")
	 ak.limbs.LimbHit(matches[2], "Me", "psion", "head", "percent")
end
if IsTargetted(matches[2]) and affstrack.score.haemophilia &gt; 0 then 
	local bleedr = 0	
	if affstrack.score.prone == 100 then
		bleedr = 160
	else
		bleedr = 75
	end
	ak.bleeding = ak.bleeding + bleedr
	cecho(ak.bleeding)
	ak.scoreup(matches[2])
end
-- LIMB HIT: head
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Striking like coiled lightning, your hand flashes out and lays open the throat of ([\w'\-]+) with a translucent dagger in a spray of crimson\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Attack Clumsy</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Your blow strikes ([\w'\-]+) but is robbed of much of its impact by your faulty technique\.$</string><string>^([\w'\-]+)\'s blow lands upon you but is robbed of much of its impact by ([\w'\-]+) flawed technique\.$</string><string>^([\w'\-]+) lashes out with a clumsy blow at ([\w'\-]+)\, landing with far reduced force\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prepare</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Laceration</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Haemophilia")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^The spikes adorning your [\w'\-]+ tear bloody furrows in the flesh of ([\w'\-]+)\.$</string><string>^Your blade tears into ([\w'\-]+), a spray of crimson exploding from the wound as your weapon strikes bone\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rattle</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Epilepsy")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^As your weapon strikes ([\w'\-]+), power blasts outward in a concussive wave\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disruption</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Paralysis")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Lightning explodes from your weapon as it smashes into ([\w'\-]+), (?:his|her) body locking up in agony as it rips through (?:him|her)\.$</string><string>^Lightning explodes from your blade as you hack into ([\w'\-]+), (?:his|her) body locking up as the current rips through (?:him|her)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dazzle</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Clumsiness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^As your weapon strikes ([\w'\-]+) a brilliant flash of light explodes forth\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vapours</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("Asthma")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^As your weapon strikes ([\w'\-]+) a wave of cloying vapours rolls over (?:him|her)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unweave</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unweave Stacks</name><script>local Uaff = matches[3]

if IsTargetted(matches[2]) then
   ak.psion.unweaving[Uaff] = ak.psion.unweaving[Uaff] + 1
   local unweave = "unweaving"..matches[3]
   OppGainedAff(unweave)
	 cecho("\n&lt;cyan&gt;Unweaving "..Uaff.." stacks at &lt;yellow&gt;"..ak.psion.unweaving[Uaff])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You detect fluctuations in the essence of ([\w'\-]+) as (?:his|her) (mind|body|spirit) becomes critically close to unweaving utterly\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unweave</name><script>if IsTargetted(matches[2]) then
   local Uaff = matches[3]
   local unweave = "unweaving"..matches[3]
   ak.psion.unweaving[Uaff] = ak.psion.unweaving[Uaff] + 1
	 OppGainedAff("Prone")
   OppGainedAff(unweave)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You lash at ([\w'\-]+) with a translucent lash, directing the fundamental weave of (?:his|her) (mind|body|spirit) to begin unwinding\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Depthswalker Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Redemption</name><script>ak.removeshadow(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Drawing the shadow of ([\w'\-]+) from .+, you suffuse it with your power\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cull</name><script>if IsTargetted(multimatches[2][2]) then 
   enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
   enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!
   weaponattack = weaponattack or {}
   table.insert(weaponattack, multimatches[2][3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You lay into</string><string>^You lay into ([\w'\-]+) with a vicious blow from (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon speed</name><script>if IsTargetted(matches[2]) then
   ak.defs.speed = false
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Directing your will upon ([\w'\-]+), you tear away the protection granted to (?:her|him) by the speed elixir\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon</name><script>if IsTargetted(matches[2]) then
   aeonreset = false
   OppGainedAff("aeon")
   AeonTimer = tempTimer(15,[[aeonreset = true]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Invoking the might of Aeon, you bring down a curse of terrible proportions upon ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reap</name><script>if IsTargetted(multimatches[2][2]) then 
   enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
   enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!
   weaponattack = weaponattack or {}
   table.insert(weaponattack, multimatches[2][3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You unleash a vicious reaping blow at</string><string>^You unleash a vicious reaping blow at ([\w'\-]+) with (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shadowmadness Tracking</name><script>if IsTargetted(multimatches[2][2]) then 
   OppGainedAff(multimatches[2][3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You sense that</string><string>^You sense that ([\w'\-]+) has been struck down with the ([\w'\-]+) madness\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shield Shattered</name><script>ak.removeshadow(matches[2])
ak.defs.shield = false
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your shadow leaps for ([\w'\-]+)\, hammering [\w'\-]+ shield in a silent frenzy that causes it to explode in a shower of prismatic shards\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Boostloop</name><script>ak.boostloop = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Bending your will upon .+, you corrupt the weapon's timestream.$</string><string>As you push your aeonic might beyond its limits, you feel yourself grow older.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mutilate</name><script>OppGainedAff(multimatches[1][2])
ak.removeshadow(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You rub some ([\w'\-]+) on .+\.$</string><string>^Drawing the shadow of ([\w'\-]+) from .+, you plunge .+ savagely into the ephemeral mass\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Claimed Shadow!</name><script>ak.addshadow(matches[2])

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#00ffff</mFgColor><mBgColor>#ff0000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You claim the shadow of ([\w'\-]+), storing it within your phylactery\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Phylactery Tracking</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Phylactname</name><script>table.insert(ak.ShadowList,matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+)$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Phylactery Starting</name><script>ak.ShadowList = {}
enableTrigger("Phylactname")
enableTrigger("Phylactery End")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have stored the following people's shadows within your phylactery:</string><string>--------------------------------------------------------------------------------</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shadow Removed</name><script>ak.removeshadow(matches[2])
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You draw the shadow of ([\w'\-]+) from within .+\, allowing it to dissipate into nothing\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Phylactery End</name><script>disableTrigger("Phylactname")
disableTrigger("Phylactery End")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your phylactery holds ([\w'\-]+) shadows of a maximum \d+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Attunes</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Attuned Madness Aff</name><script>if IsTargetted(multimatches[2][2]) then 
   OppGainedAff(multimatches[2][3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You sense that</string><string>^You sense that ([\w'\-]+) has been struck down with the ([\w'\-]+) (madness|degeneration)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unattuned Target</name><script>if matches[2] == target:lower():title() then
	disableTrigger("Unattuned Target")
	killTimer(attunetimer)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You unattune the shadow of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Attuned Target</name><script>--cecho("\n\n\nFired!")
if matches[2] == target:lower():title() then
	ak.attuned = true
	enableTrigger("Unattuned Target")
	attunetimer = tempTimer(160, [[
		ak.attuned = false
		if svo then svo.boxDisplay("Target Unattuned", "red:black") end
	]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Reaching out to the shadow of ([\w'\-]+), you plunge (?:.+) into it and attune it to the directive of (Degeneration|Madness)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Degeneration Attuned Aff</name><script>if IsTargetted(multimatches[2][2]) then 
   OppGainedAff(multimatches[2][3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You determine that</string><string>^You determine that ([\w'\-]+) is suffering from ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hinder</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Preempt</name><script>if IsTargetted(matches[2]) then
	if affstrack.score.preempt == 0 then
		affstrack.score.preempt = 100
		
		ak.scoreup(matches[2])
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You begin dedicating part of your attention to predicting where (\w+) shall try to flee to\.$</string><string>^Someone else is already preempting the movements of (\w+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Preempt Fade</name><script>if IsTargetted(matches[2]) then
	if affstrack.score.preempt == 100 then
		affstrack.score.preempt = 0
		
		ak.scoreup(matches[2])
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You are no longer predicting the movements of (\w+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Instills</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>3</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							</regexCodeList><regexCodePropertyList>
							</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Looped Instill</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A grey miasma flares around ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Timeloop</name><script>OppGainedAff("timeloop")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Grey fog begins to rise from the suddenly panicked-looking</string><string>^Grey fog begins to rise from the suddenly panicked-looking ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Degeneration</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Degeneration</name><script>if IsTargetted(multimatches[2][2]) then
	if not multimatches[3][1]:find("stiffens into paralysis.") then
		ak.instill("Degeneration")
	end
end

--Weariness, Clumsiness, Paralysis, Damage
--[[
if IsTargetted(matches[2]) and (ak.boostloop or affstrack.score.timeloop &gt;= 50) then 
   OppGainedAff("weariness")
   OppGainedAff("clumsiness") 
elseif IsTargetted(matches[2]) then 
   if affstrack.score.weariness == 0 then
      OppGainedAff("weariness")
   elseif affstrack.score.clumsiness == 0 and affstrack.score.weariness == 100 then
      OppGainedAff("clumsiness") 
   end
   ak.paradegen = true
end
--]]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>3</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>As the weapon strikes</string><string>^As the weapon strikes ([\w'\-]+)\, the contact area begins to rot before your eyes\.$</string><string>^(.+)$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Degeneration All</name><script>--Depression, Nausea, Hypochondria, Anorexia/Masochism
if IsTargetted(matches[2]) then
   ak.fullinstill("Degeneration")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The face of ([\w'\-]+) contorts in pain.</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Madness</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Madness Sequence</name><script>if IsTargetted(multimatches[2][2]) then
   ak.instill("Madness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>4</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>As the weapon strikes</string><string>^As the weapon strikes ([\w'\-]+), (?:his|her) face grows vacant and s?he begins to tremble\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Depression</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Depression Sequence</name><script>if IsTargetted(multimatches[2][2]) then
   ak.instill("Depression")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>3</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>As the weapon strikes</string><string>^As the weapon strikes ([\w'\-]+)\, it burns with a sickly yellow glow\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Depression All</name><script>--Depression, Nausea, Hypochondria, Anorexia/Masochism
if IsTargetted(multimatches[2][2]) then
   ak.fullinstill("Depression")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A look of total despair crosses the face of</string><string>^A look of total despair crosses the face of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Leach</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Leach All</name><script>if IsTargetted(multimatches[2][2]) then
   ak.fullinstill("Leach")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^As the scythe comes away, the writhing shadow of ([\w'\-]+) clings to the weapon\.$</string><string>^You claim the shadow of ([\w'\-]+), storing it within your phylactery\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Leach Sequence</name><script>if IsTargetted(multimatches[2][2]) then
   ak.instill("Leach")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>4</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>As the weapon strikes</string><string>^As the weapon strikes ([\w'\-]+), s?he seems greatly diminished\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retribution</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retribution Sequence</name><script>if IsTargetted(multimatches[2][2]) then
   ak.instill("Retribution")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>3</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>As the weapon strikes</string><string>^As the weapon strikes ([\w'\-]+), it blazes with incandescent white flame\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retribution All</name><script>if IsTargetted(multimatches[2][2]) then
   ak.fullinstill("Retribution")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The white flame leaps from the scythe to</string><string>^The white flame leaps from the scythe to ([\w'\-]+), blazing with a terrible intensity before guttering out\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Targossas Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dazzle</name><script>--confusion --dizziness
local aff = "confusion"
local aff2 = "dizziness"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
   OppGainedAff(aff2)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You direct a dazzling ray of divine light at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hellsight</name><script>local aff = "hellsight"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You stare intently at ([\w'\-]+), opening [\w'\-]+ mind to the unspeakable visions that spew from the bowels of hell\.$</string><string>^(w+) claws at {his|her} eyes, fingers scrabbling frantically.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Obviously(i)</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rolling Getup</name><script>if ak.ai() then return end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) rolls smoothly back to [\w'\-]+ feet\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Snake Bite</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   --ak.defs.sileris = false
   OppGainedAff("scytherus")
   ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^An .* sinks its fangs into the neck of ([\w'\-]+)\, injecting a potent dose of toxin\.$</string><string>^A .* sinks its fangs into the neck of ([\w'\-]+)\, injecting a potent dose of toxin\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Attended</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   affstrack.score.deaf = 100
   affstrack.score.blind = 100
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^[\w'\-]+ glows with an emerald hue and snaps [\w'\-]+ fingers at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impatience</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) and affstrack.score.impatience &lt; 100 then 
   OppGainedAff("impatience")
   if affstrack.score.hypochondria &gt; 0 then

   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) shuffles ([\w'\-]+) feet in boredom\.$</string><string>^([\w'\-]+) suddenly starts scratching at an itch like mad\.$</string><string>^You glare at ([\w'\-]+)\, cursing ([\w'\-]+) with mental maladies\.$</string><string>^His eyes gleaming\, [\w'\-]+ smiles and quickly sings a jaunty limerick at ([\w'\-]+)\.$</string><string>^Her eyes gleaming\, [\w'\-]+ smiles and quickly sings a jaunty limerick at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Diagnosing Off Balance</name><script>if ak.ai() then return end
ak.diagnosingoffbal = true
ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You can not do that again so soon.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
  if ak.ProTrackingConfirmed then 
     ak.ProTrackingConfirmed("clumsiness") 
  else
     affstrack.score.clumsiness = 100
     ak.scoreup(matches[2])
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) misses you with [\w'\-]+ dirk by a hair\.$</string><string>^([\w'\-]+) points [\w'\-]+ finger at you\, but nothing seems to happen\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Awake</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppLostAff("sleep")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) wakes up with a gasp of pain\.$</string><string>^([\w'\-]+) opens (?:his|her) eyes and stretches languidly, a smile on (?:his|her) face\.$</string><string>^([\w'\-]+) opens (?:his|her) eyes and yawns mightily\.$</string><string>^([\w'\-]+) awakens with a start\.$</string><string>^([\w'\-]+) opens [\w'\-]+ eyes and yawns mightily\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deafness</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if ak.ProTrackingConfirmed then 
      ak.ProTrackingConfirmed("deaf") 
   else
      affstrack.score.deaf = 100
      ak.scoreup(matches[2])
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The side of ([\w'\-]+)\'s head is lightly struck by [\w'\-]+\'s rapier\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>TimeLoop</name><script>if ak.ai() then return end
if IsTargetted(multimatches[2][2]) then 
   OppGainedAff("timeloop")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Grey fog begins to rise from the suddenly panicked-looking</string><string>^Grey fog begins to rise from the suddenly panicked\-looking ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hamstring Lost</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppLostAff("hamstring")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) seems able to move more freely all of a sudden\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Not Asthmatic</name><script>if ak.thoughtIhad and affstrack.score.asthma &gt; 0 then
	ak.thoughtIhad("asthma")	
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You attempt to squeeze the life out of the effigy in your hands, but find the torso too tight.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deafness</name><script>if ak.ai() then return end
if IsTargetted(multimatches[2][2]) then   
   affstrack.score.deaf = 100
   tempTimer(5,[[affstrack.score.deaf = 0;ak.scoreup(]]..multimatches[2][2]..[[)]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>A brief look of concentration crosses the face of</string><string>A brief look of concentration crosses the face of ([\w'\-]+)</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paranoia</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
  OppGainedAff("paranoia")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The raven dives at </string><string>^The raven dives at ([\w'\-]+) and pulls up short\, making (him|her) uneasy\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Frozen Disrupt</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   affstrack.score.disrupt = 100
   if affstrack.score.frozen &lt; 100 then affstrack.score.frozen = 100 end
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) shivers particularly intensely\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Psion Epseth</name><script>if ak.ai() then return end
if IsTargetted(matches[4]) then
   smashlimb = matches[2]..matches[3]
   if affstrack.score[smashlimb] &lt; 100 then
      OppGainedAff(smashlimb)
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^[\w'\-]+ ducks low\, \w+ blade slicing into the ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Darkshade</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then 
   if ak.ProTrackingConfirmed then 
      ak.ProTrackingConfirmed("darkshade") 
   else
      affstrack.score.darkshade = 100
      ak.scoreup(matches[2])
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) stiffens suddenly, (his|her) features a masque frozen in agony\.$</string><string>^([\w'\-]+) lets out a piercing scream, as if wounded by the very sunlight\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if ak.ProTrackingConfirmed then 
      ak.ProTrackingConfirmed("nausea") 
   else
      affstrack.score.nausea = 100
      ak.scoreup(matches[2])
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) doubles over\, vomiting violently\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Agith'tai</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
  OppGainedAff(gmcp.Char.Afflictions.Add.name)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Your mental defences lash out against ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidty</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   if FocusCount() == 0 and affstrack.score.impatience == 100 then
      if ak.ProTrackingConfirmed then 
         ak.ProTrackingConfirmed("stupidity") 
      else 
         affstrack.score.stupidity = 100
      end
      affstrack.score.impatience = 0
      ak.scoreup(matches[2])
   elseif affstrack.score.impatience &gt; 0 then
      if ak.ProTrackingConfirmed then 
         ak.ProTrackingConfirmed("stupidity") 
      else 
         affstrack.score.stupidity = 100
         ak.scoreup(matches[2])
      end
      --affstrack.score.impatience = 100
      --ak.scoreup(matches[2])
   else
      if ak.ProTrackingConfirmed then 
         ak.ProTrackingConfirmed("stupidity") 
      else 
         affstrack.score.stupidity = 100
         ak.scoreup(matches[2])
      end
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Tears fill ([\w'\-]+)'s eyes and begin to slowly run down ([\w'\-]+) face\.$</string><string>^([\w'\-]+) flaps ([\w'\-]+) arms madly\.$</string><string>^([\w'\-]+) stumbles and pokes ([\w'\-]+) in the eye\.$</string><string>^([\w'\-]+) makes a strangled meowing noise and quickly shuts up, blushing\.$</string><string>^([\w'\-]+) picks ([\w'\-]+) nose absently\.$</string><string>^([\w'\-]+) breaks down and sobs uncontrollably\.$</string><string>^([\w'\-]+) gets down on one knee and serenades the world\.$</string><string>^([\w'\-]+) falls to his knees in worship\.$</string><string>^([\w'\-]+) hugs himself compassionately\.$</string><string>^([\w'\-]+) grunts a bit and then lets out a loud \"OINK\!\"$</string><string>^([\w'\-]+) waggles his eyebrows comically\.$</string><string>^([\w'\-]+) wails like an old woman\.$</string><string>^([\w'\-]+) moans, holding his head\.$</string><string>^You cast a net of stupidity over ([\w'\-]+)'s mind\.$</string><string>^([\w'\-]+) twitches spasmodically\.$</string><string>^([\w'\-]+) fondles (herself|himself) absently\.$</string><string>^([\w'\-]+) blinks\.$</string><string>^([\w'\-]+) lets out a loud\, long \"MOOOOOOOOOOO\!\"$</string><string>^([\w'\-]+) attempts to do a standing backflip\, but merely stumbles over [\w'\-]+ own feet\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersomnia</name><script>if IsTargetted(matches[2]) then 
  OppGainedAff("hypersomnia")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) suddenly appears tired all of a sudden\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dementia</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if ak.ProTrackingConfirmed then 
      ak.ProTrackingConfirmed("dementia") 
   else
      affstrack.score.dementia = 100
      ak.scoreup(matches[2])
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) stares about [\w'\-]+ frenziedly\, wild\-eyed\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Invalid Aff</name><script>if ak.ai() then return end
if currentlydiagnosingak then cecho("&lt;cyan&gt;\n\n\n"..currentlydiagnosingak.." IS NOT A VALID AFF\n\n") end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>That is not a valid affliction to check for.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slickness</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(multimatches[2][2]) and not table.contains(ak.slickfucks,multimatches[2][2]) then 
  ak.defs.sileris = false
  if partyRelayed then partyRelayed("slickness") end
  --OppGainedAff("slickness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The protective coating covering the skin of</string><string>^The protective coating covering the skin of ([\w'\-]+) sloughs off\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone</name><script>if ak.ai() then return end
--ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
	EchoForMajorAff("PRONE")
	OppGainedAff("prone")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Sweeping out with a blade hand, [\w'\-]+l strikes at the back of ([\w'\-]+)'s knee\.$</string><string>^Drawing an enormous breath\, [\w'\-]+ exhales\, expelling a gale of wind with such force that ([\w'\-]+) is knocked over\.$</string><string>^([\w'\-]+) is knocked forcefully off (?:her|his) feet by the impact of [\w'\-]+\'s huge tail\.$</string><string>^([\w'\-]+)\'s eyes close suddenly as (?:she|he) falls asleep\.$</string><string>^([\w'\-]+) is knocked off h(?:is|er) feet by the heaving ground\.$</string><string>^[\w'\-]+ throws (?:his|her) palms forward, releasing a stream of deadly blue light to cripple ([\w'\-]+)\.$</string><string>^Drawing an enormous breath, you exhale, expelling a gale of wind with such force that ([\w'\-]+) is </string><string>([\w'\-]+) is knocked forcefully off (?:his|her) feet by the impact of your huge tail\.$</string><string>^You hear two loud snaps and see ([\w'\-]+) fall to the ground\.$</string><string>^You knock the legs out from under ([\w'\-]+) and send (him|her) sprawling\.$</string><string>^You duck low and smash your shield into the knees of ([\w'\-]+)\, causing them to buckle underneath (?:her|him)\.$</string><string>^Stepping forward, you grab the useless .* of ([\w'\-]+), wrench (him|her) violently forward, and throw (him|her) to the ground\.$</string><string>^You lunge downward, slamming the edge of .+ into the shins of ([\w'\-]+)\.</string><string>^You swiftly sweep ([\w'\-]+) feet out from beneath</string><string>^An .* tangles itself in the legs of ([\w'\-]+)\, sending (her|him) sprawling to the ground\.$</string><string>^A .* tangles itself in the legs of ([\w'\-]+)\, sending (her|him) sprawling to the ground\.$</string><string>^Dropping into a low crouch\, you expertly tangle .* with the legs of ([\w'\-]+)\, sending [\w'\-]+ sprawling\.$</string><string>^The staff sweeps the legs out from under ([\w'\-]+)\, sending [\w'\-]+ sprawling\.$</string><string>^The instep of your foot smashes into the [\w'\-]+ underarm of ([\w'\-]+)\, throwing [\w'\-]+ from [\w'\-]+ feet and sending [\w'\-]+ spinning to the ground\.$</string><string>^[\w'\-]+ drops low\, tangling .+ with the legs of ([\w'\-]+) and sending [\w'\-]+ sprawling\.$</string><string>^[\w'\-]+ drops to the floor and sweeps [\w'\-]+ legs round at ([\w'\-]+)\.$</string><string>^([\w'\-]+) slips on a thin layer of fluid\, [\w'\-]+ feet flying out from under [\w'\-]+\.$</string><string>^Water thunders down upon ([\w'\-]+)\, driving [\w'\-]+ relentlessly to [\w'\-]+ knees\.$</string><string>^The [\w'\-]+ leg of ([\w'\-]+) buckles under the impact\, and [\w'\-]+ goes sprawling\.$</string><string> ^[\w'\-]+ lunges downward, slamming theedge of .* into the shins of ([\w'\-]+)\.$</string><string>^Sweeping out with a blade hand\, [\w'\-]+ strikes at the back of ([\w'\-]+)\'s knee\.$</string><string>^As your blow cuts deeply into the leg of ([\w'\-]+)\, you drive savagely forward\, taking [\w'\-]+ clean off [\w'\-]+ feet\.$</string><string>^You strike a savage blow with your quarterstaff at (\w+)\'s damaged leg\, bringing \w+ crashing to the ground\.$</string><string>^(\w+) is flung violently from \w+ feet\.$</string><string>^([\w'\-]+) has already fallen to the ground\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Not Crushed Throat</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	if affstrack.score.crushedthroat&gt;0 then 
		if ak.thoughtIhad then 
			ak.thoughtIhad("crushedthroat") 
		else 
			affstrack.score.crushedthroat = 0 
		end  
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) is not sufficiently incapacitated for you to dispatch \w+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epilepsy</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if ak.ProTrackingConfirmed then 
      ak.ProTrackingConfirmed("epilepsy") 
   else
      affstrack.score.epilepsy = 100
      ak.scoreup(matches[2])
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) begins to jerk and shake violently\, foaming at the mouth\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dustbomb</name><script>if ak.ai() then return end
OppGainedAff("blackout")
tempTimer(4,[[affstrack.score.blackout = 0;ak.scoreup(target)]])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You lob a dust bomb at the ground and watch it explode.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parried Venom Decline</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) and ak.thoughtIhad then
   affstrack.score.prone = 0
   affstrack.score.scalded = 0  
   ak.thoughtIhad("nausea") 
   ak.thoughtIhad("paralysis") 
elseif IsTargetted(matches[2]) then
   affstrack.score.prone = 0
   affstrack.score.scalded = 0
   affstrack.score["nausea"] = 0
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) parries the attack with a deft manoeuvre.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blindness</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then   
   affstrack.score.blind = 100
   tempTimer(6,[[affstrack.score.blind = 0;ak.scoreup(]]..matches[2]..[[)]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) blinks slowly\, and begins to tremble\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Peace</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppLostAff("pacifism")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+)\'s eyes are filled with compassion and peace\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Diagnosing On Balance</name><script>if ak.ai() then return end
ak.diagnosingoffbal = false
ak.deleteFull()
if currentlydiagnosingak and currentlydiagnosingak ~= "" then
   send(currentlydiagnosingak)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You may check someone for afflictions once again.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bcry</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppGainedAff("sensitivity")	
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#55ffff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) falls to [\w'\-]+ knees and clutches [\w'\-]+ ears as the shaft of sound strikes ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Expert Diagnose False</name><script>if ak.ai() then return end
if ak.thoughtIhad then 
   ak.thoughtIhad(matches[3]) 
else
   affstrack.score[matches[3]] = 0
   ak.scoreup(matches[2])
end
ak.diagnosingoffbal = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Casting a discerning eye over ([\w'\-]+), you can see no symptoms of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asleep</name><script>if ak.ai() then return end
--ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
   affstrack.score.sleep = 100
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+)'s eyes close suddenly as (?:he|she) falls asleep\.$</string><string>^([\w'\-]+) tosses back and forth in restless slumber\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Infestation</name><script>if ak.ai() then return end
if IsTargetted(multimatches[2][2]) then 
   if ak.ProTrackingConfirmed then
      ak.ProTrackingConfirmed(multimatches[2][3]) 
   else
      affstrack.score[multimatches[2][3]] = 100
      ak.scoreup(multimatches[2][2])
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You sense through your malignant connection to your infestation that </string><string>^You sense through your malignant connection to your infestation that ([\w'\-]+) has been cursed with ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nairat</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   affstrack.score.bound = 100
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Ethereal bonds flash forth to bind ([\w'\-]+) as [\w'\-]+ gaze falls upon a nairat rune\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mickey</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   ak.mickey = false
   if ak.ProTrackingConfirmed then 
      ak.ProTrackingConfirmed("nausea") 
   else
      affstrack.score.nausea = 100
      ak.scoreup(matches[2])
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) pops a mickey into (her|her) mouth\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Agoraphobia</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if ak.ProTrackingConfirmed then 
      ak.ProTrackingConfirmed("agoraphobia") 
   else
      affstrack.score.agoraphobia = 100
      ak.scoreup(matches[2])
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) is gripped with fear\, staring out with terrified eyes\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Target Standing</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	 ak.limbs.limb_table_check(matches[2])
   affstrack.score.prone = 0
	 if applycure.lastapplied and applycure.lastapplied == "legs" then
      AKcalculateSalve()
	 end
	 if ocured and ocured.bloodroot and ocured.bloodroot.paralysis and ocured.bloodroot.slickness and ak.ProTrackingConfirmed then
	 	ak.ProTrackingConfirmed("slickness")	
	 end
	 affstrack.score.paralysis = 0
   --if affstrack.score.rightleg&gt;0 and affstrack.score.rightleg&lt;100 then
   --   if ak.thoughtIhad then ak.thoughtIhad("rightleg") else affstrack.score.rightleg = 0 end 
   --   --ak.limbs.limbcount[target].rightleg = (ak.limbs.limbcount[target].lastpercentrightleg)
   --   _G[target.."rightlegdisablelimbdamage"] = nil
   --   --ak.limbs.limbcount[target].leftleg = (ak.limbs.limbcount[target].lastpercentleftleg)
   --   _G[target.."leftlegdisablelimbdamage"] = nil
   --   affstrack.score.leftleg = 0
   --elseif affstrack.score.leftleg&gt;0 and affstrack.score.leftleg&lt;100 then
   --   if ak.thoughtIhad then ak.thoughtIhad("leftleg") else affstrack.score.leftleg = 0 end
   --   --ak.limbs.limbcount[target].leftleg = (ak.limbs.limbcount[target].lastpercentleftleg)
   --   _G[target.."leftlegdisablelimbdamage"] = nil
   --   --ak.limbs.limbcount[target].rightleg = (ak.limbs.limbcount[target].lastpercentrightleg)
   --   _G[target.."rightlegdisablelimbdamage"] = nil
   --   affstrack.score.rightleg = 0
   --else
      if applycure and applycure.possiblemendings and #applycure.possiblemendings == 1 and applycure.possiblemendings[1] == "leftleg" then
         AKcalculateSalve()
         if affstrack.score.rightleg &gt;= 100 then
            ak.limbs.limbcount[target].rightleg = ak.limbs.limbcount[target].lastpercentrightleg
            cecho("\n\n&lt;cyan&gt;"..target.."'s &lt;yellow&gt;Right Leg &lt;cyan&gt;Count Is Off! Attempting To Correct!\n\n")
            _G[target.."rightlegdisablelimbdamage"] = nil
            if ak.thoughtIhad then ak.thoughtIhad("rightleg") else affstrack.score.rightleg = 0 end
         end
      elseif applycure and applycure.possiblemendings and #applycure.possiblemendings == 1 and applycure.possiblemendings[1] == "rightleg" then
         AKcalculateSalve()
         if affstrack.score.leftleg &gt;= 100 then
            ak.limbs.limbcount[target].leftleg = ak.limbs.limbcount[target].lastpercentleftleg
            cecho("\n\n&lt;cyan&gt;"..target.."'s &lt;yellow&gt;Left Leg &lt;cyan&gt;Count Is Off! Attempting To Correct!\n\n")
            _G[target.."leftlegdisablelimbdamage"] = nil
            if ak.thoughtIhad then ak.thoughtIhad("leftleg") else affstrack.score.leftleg = 0 end
         end
      else
				if ak.limbs.limbcount[target].maxbreaks.rightleg &lt; ak.limbs.limbcount[target].maxbreaks.leftleg and affstrack.score.leftleg &gt;= 100 and affstrack.score.rightleg &gt;= 100 then
					ak.limbs.limbcount[target].leftleg = ak.limbs.limbcount[target].lastpercentleftleg
					cecho("\n\n&lt;cyan&gt;"..target.."'s &lt;yellow&gt;Left Leg &lt;cyan&gt;Count Is Off! Attempting To Correct!\n\n")
					_G[target.."leftlegdisablelimbdamage"] = nil
					if ak.thoughtIhad then ak.thoughtIhad("leftleg") else affstrack.score.leftleg = 0 end				
				elseif ak.limbs.limbcount[target].maxbreaks.rightleg &gt; ak.limbs.limbcount[target].maxbreaks.leftleg and affstrack.score.rightleg &gt;= 100 and affstrack.score.leftleg &gt;= 100 then
					ak.limbs.limbcount[target].rightleg = ak.limbs.limbcount[target].lastpercentrightleg
					cecho("\n\n&lt;cyan&gt;"..target.."'s &lt;yellow&gt;Right Leg &lt;cyan&gt;Count Is Off! Attempting To Correct!\n\n")
					_G[target.."rightlegdisablelimbdamage"] = nil
					if ak.thoughtIhad then ak.thoughtIhad("rightleg") else affstrack.score.rightleg = 0 end
				else
					if ak.limbs.FindLastBrokenLeg() == "leftleg" and affstrack.score.leftleg &gt; 100 then
         	   ak.limbs.limbcount[target].leftleg = ak.limbs.limbcount[target].lastpercentleftleg
         	   cecho("\n\n&lt;cyan&gt;"..target.."'s &lt;yellow&gt;Left Leg &lt;cyan&gt;Count Is Off! Attempting To Correct!\n\n")
         	   _G[target.."leftlegdisablelimbdamage"] = nil
         	   if ak.thoughtIhad then ak.thoughtIhad("leftleg") else affstrack.score.leftleg = 0 end
					elseif affstrack.score.rightleg &gt; 100 then
         	   ak.limbs.limbcount[target].rightleg = ak.limbs.limbcount[target].lastpercentrightleg
         	   cecho("\n\n&lt;cyan&gt;"..target.."'s &lt;yellow&gt;Right Leg &lt;cyan&gt;Count Is Off! Attempting To Correct!\n\n")
         	   _G[target.."rightlegdisablelimbdamage"] = nil
         	   if ak.thoughtIhad then ak.thoughtIhad("rightleg") else affstrack.score.rightleg = 0 end
					end
				end
      end
   --end
   affstrack.score.leftleg = 0
   affstrack.score.rightleg = 0
   ak.scoreup(matches[2])
   cecho("&lt;cyan&gt;\n\n"..target.. " IS NO LONGER PRONE.  HE|SHE IS UP!!\n\n")
   cecho("&lt;cyan&gt;"..target.. " IS NO LONGER PRONE.  HE|SHE IS UP!!\n\n")
   cecho("&lt;cyan&gt;"..target.. " IS NO LONGER PRONE.  HE|SHE IS UP!!\n\n")
   cecho("&lt;cyan&gt;"..target.. " IS NO LONGER PRONE.  HE|SHE IS UP!!\n\n")
   if ak.limbs.limbcount[matches[2]] then
      _G[target.."rightlegdisablelimbdamage"] = nil
      _G[target.."leftlegdisablelimbdamage"] = nil
   end
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) stands up\.$</string><string>^([\w'\-]+) rolls smoothly back to [\w'\-]+ feet\.$</string><string>^([\w'\-]+) backs away and out of your reach\.$</string><string>^([\w'\-]+) pushes off the ground, coming back up into a guard position\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Expert Diagnose True</name><script>if ak.ai() then return end
if ak.ProTrackingConfirmed then 
   ak.ProTrackingConfirmed(matches[4]) 
else 
   affstrack.score[matches[4]] = 100
   ak.scoreup(matches[2])
end
ak.diagnosingoffbal = true

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Casting a discerning eye over ([\w'\-]+), you determine that (he|she) shows the symptoms of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Masochism</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if ak.ProTrackingConfirmed then 
      ak.ProTrackingConfirmed("masochism") 
   else
      affstrack.score.masochism = 100
      ak.scoreup(matches[2])
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) drives a clenched fist into [\w'\-]+ gut\.$</string><string>^([\w'\-]+) uses [\w'\-]+ right foot to stomp on [\w'\-]+ left as hard as possible\.$</string><string>^([\w'\-]+) smiles as [\w'\-]+ rams [\w'\-]+ fist into [\w'\-]+ jaw\.$</string><string>^With the heel of [\w'\-]+ palm\, ([\w'\-]+) smacks [\w'\-]+ upside the head\.$</string><string>^([\w'\-]+) uses [\w'\-]+ [\w'\-]+ foot to stomp on [\w'\-]+ [\w'\-]+ as hard as possible\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
  if ak.ProTrackingConfirmed then 
     ak.ProTrackingConfirmed("confusion") 
  else
     affstrack.score.confusion = 100
     ak.scoreup(matches[2])
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) looks about bemusedly\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Relapsed</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
	if ak.ProTrackingConfirmed then 
	   ak.ProTrackingConfirmed("scytherus") 
	else 
	   affstrack.score.scytherus = 100
	   ak.scoreup(matches[2])
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) screams out in agony\, struck by the effects of a vicious venom\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Claustrophobia</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then 
   if ak.ProTrackingConfirmed then 
      ak.ProTrackingConfirmed("claustrophobia") 
   else
      affstrack.score.claustrophobia = 100
      ak.scoreup(matches[2])
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) begins to pant in terror\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>if ak.ai() then return end
--ak.limbs.ParseonLine()
if IsTargetted(matches[2]) and affstrack.score.paralysis &lt; 100 then 
  OppGainedAff("paralysis")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Horror overcomes ([\w'\-]+)'s face as ([\w'\-]+) body stiffens into paralysis\.$</string><string>^([\w'\-]+) stiffens suddenly\, (his|her) features a masque frozen in agony\.$</string><string>^([\w'\-]+)'s body stiffens rapidly with paralysis\.$</string><string>^The body of ([\w'\-]+) locks in paralysis as [\w'\-]+ directs a short burst of arcane power in [\w'\-]+ direction\.$</string><string>^Lunging to the side\, [\w'\-]+ brings [\w'\-]+ shield around to smash into the spine of ([\w'\-]+)\.$</string><string>^[\w'\-]+ recites an epic tale of the heroism of Nicator to ([\w'\-]+)\.$</string><string>^Horror overcomes the face of ([\w'\-]+) as [\w'\-]+ body locks in paralysis\.$</string><string>^([\w'\-]+)\'s limbs suddenly lock up\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trample</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   smashlimb = matches[3]..matches[4]
   if affstrack.score[smashlimb] &lt; 100 then
      OppGainedAff(smashlimb)
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) screams as (?:her|his) ([\w'\-]+) ([\w'\-]+) is crushed\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shikudo</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ruku Slickness</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then 
  local aff = "slickness"
	ak.AddedAffReset(aff)
	affstrack.score[aff] = 100
	ak.echogain(aff:title())
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) staggers as the staff cracks across [\w'\-]+ ribs\, sweat breaking out upon [\w'\-]+ forehead\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flashheel Bonus Limb</name><script>if ak.ai() then return end
if not ak.limbs.shikudo.flashed then
  return
end
ak.limbs.ParseonLine()
local smashlimb = ak.limbs.shikudo.flashed.."leg"
if affstrack.score[smashlimb] &lt; 100 then
   OppGainedAff(smashlimb)
end
ak.limbs.shikudo.flashed = false


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel the satisfying crunch of bone under the impact of your heel.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kuro weariness|lethargy</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
	if ak.kata &gt;= 11 then
		OppGainedAff("lethargy, weariness")
	elseif affstrack.score.weariness&lt;100 then 
		local aff = "weariness"
		ak.AddedAffReset(aff)
		affstrack.score[aff] = 100
		ak.echogain(aff:title())
		ak.scoreup(matches[2])
	else
		local aff = "lethargy"
		ak.AddedAffReset(aff)
		affstrack.score[aff] = 100
		ak.echogain(aff:title())
		ak.scoreup(matches[2])
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The staff cracks across the [\w'\-]+ thigh of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Needle crushedthroat</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then 
	local aff = "crushedthroat"
	ak.AddedAffReset(aff)
	affstrack.score[aff] = 100
	ak.echogain(aff:title())
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The end of the staff smashes into the exposed throat of ([\w'\-]+)\, crushing cartilage\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hiru Dizziness</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then 
	local aff = "dizziness"
	ak.AddedAffReset(aff)
	affstrack.score[aff] = 100
	ak.echogain(aff:title())
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The staff connects to the side of ([\w'\-]+)\'s head with a resounding crack\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ruku clumsiness|healthleech</name><script>if ak.ai() then return end
--ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
	if ak.kata and ak.kata &gt;= 9 then
		OppGainedAff("clumsiness, healthleech")
	elseif affstrack.score.clumsiness &lt;100 then 
		local aff = "clumsiness"
		ak.AddedAffReset(aff)
		affstrack.score[aff] = 100
		ak.echogain(aff:title())
		ak.scoreup(matches[2])
	else 
	  local aff = "healthleech"
		ak.AddedAffReset(aff)
		affstrack.score[aff] = 100
		ak.echogain(aff:title())
		ak.scoreup(matches[2])
	end
end

--if kata &gt; 8 ruku gives both
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You whip a .+ at ([\w'\-]+) in a controlled arc\, bringing its length to crack against [\w'\-]+ [\w'\-]+ arm\.$</string><string>^You spin a full rotation\, bringing .+ staff around in a blur of motion to smash into the [\w'\-]+ arm of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hiraku Anorexia</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then 
	local aff = "anorexia"
	ak.AddedAffReset(aff)
	ak.AddedAffReset("stuttering")
	affstrack.score[aff] = 100
	affstrack.score["stuttering"] = 100
	ak.echogain("anorexia, stuttering")
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The staff smashes into the face of ([\w'\-]+) with a sickening crunch\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Livestrike asthma</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then 
	local aff = "asthma"
	ak.AddedAffReset(aff)
	affstrack.score[aff] = 100
	ak.echogain(aff:title())
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The breath of ([\w'\-]+) leaves [\w'\-]+ in an explosive gasp as the end of the staff smashes home\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Air Elemental</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disloyalty</name><script>if ak.ai() then return end
if IsTargetted(matches[4]) then
   affstrack.score.disloyalty = 100
	 ak.scoreup(matches[4])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A howling wind sweeps over ([\w'\-]+)\, ripping flesh from bone and leaving [\w'\-]+ face a bloody ruin\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Artificing</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Conflagrate</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
   if affstrack.score.aflame &lt; 200 then
      affstrack.score.aflame = 200
   end
   OppGainedAff("conflagrate")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^As a crystalline golem turns toward ([\w'\-]+), the flames crackling across</string><string>^The conflagration about ([\w'\-]+) continues to rage, searing flesh from bone\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scalded</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
   OppGainedAff("scalded")
   if ak.scaldTimer then killTimer(ak.scaldTimer) end
   ak.scaldTimer = tempTimer(17,[[
   	affstrack.score.scalded = 0
   	ak.scoreup(]]..matches[2]..[[)
   ]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Leaning down over the incapacitated form of ([\w'\-]+)\, a crystalline golem sprays a stream of super\-heated steam directly into [\w'\-]+ face\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dehydrate</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
   affstrack.score.prone = 100
   if affstrack.score.aflame &lt; 100 then
      affstrack.score.aflame = 100
   end
   if dehydratetimer then 
      killTimer(dehydratetimer)
      dehydratetimer = nil 
   end
   OppGainedAff("dehydrate")
   dehydratetimer = tempTimer(45, [[OppLostAff("dehydrate")]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) winces in evident discomfort as a crystalline golem points a single appendage at [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>TimeFlux</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
if fluxtimer then killTimer(fluxtimer);fluxtimer = nil end
OppGainedAff("timeflux")
fluxtimer = tempTimer(65, [[OppLostAff("timeflux")]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^As a crystalline golem begins to pulse with a strange inner glow, ([\w'\-]+) sways unsteadily\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Timeflux Wear Off</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
   if fluxtimer then 
      killTimer(fluxtimer)
      fluxtimer = nil 
   end
   OppLostAff("timeflux")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) appears far less sluggish all of a sudden\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypothermia</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(multimatches[2][2]) then
   affstrack.score.frozen = 300
   affstrack.score.hypothermia = 100
   ak.scoreup(multimatches[2][2])
end
--affstrack.score.frozen = (affstrack.score.frozen * 2)-100
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>As a crystalline golem blasts </string><string>^As a crystalline golem blasts ([\w'\-]+) with icy water, [\w'\-]+ begins to shake and tremble uncontrollably\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Failed Hypothermia</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
   if affstrack.score.frozen &gt; 200 then
      affstrack.score.frozen = 200
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A crystalline golem blasts ([\w'\-]+) with an icy stream of water\, but it does little more than irritate [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smash</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[4]) then
   smashlimb = matches[2]..matches[3]
   if affstrack.score[smashlimb] &lt; 100 then
      OppGainedAff(smashlimb)
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The crackle of snapping bone can be heard as a crystalline golem viciously twists the ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fire Lord Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weave</name><script>if IsTargetted(matches[2]) then
	 OppGainedAff("bound")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You fashion a weave of flame and cast it about ([\w'\-]+), entangling (him|her) in its conflagrant tendrils\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vapourise</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("aflame")
	 ak.defs.shield = false
end
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You superheat the air surrounding ([\w'\-]+)\, (his|her) magical shield shattering under the onslaught and (his|her)skin catching aflame\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flamewhip Sensi</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("sensitivity")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The skin of ([\w'\-]+) is left sensitive and raw\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Char</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("paralysis clumsiness")
end
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You reach out and clasp the face of ([\w'\-]+) between your hands, (her|his) skin rapidly beginning to blacken beneath your grasp\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blister</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("blisters aflame")
end
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Bending the might of Kkractle upon the pitiful ([\w'\-]+), you command that (she|he) burn from within\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flamewhip Para</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("paralysis")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) convulses, face locked in a rictus of agony\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spark momentum</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spark 1</name><script>ak.firelord.spark = 1
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aa0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your fires begin to rage with the desire to consume\.$</string><string>^As you cease to burn with such intensity the warping of the air that surrounds you fades\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spark 2</name><script>ak.firelord.spark = 2
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa00</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The very air warps about you as your flames burn ever brighter\.$</string><string>^Your searing white flames are diminished, turning to a burning orange\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spark 3</name><script>ak.firelord.spark = 3
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffff00</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The flames that compose you turn a searing white\.$</string><string>^The burning crown about your head flickers out of existence\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spark 4</name><script>ak.firelord.spark = 4
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffffff</mFgColor><mBgColor>#ff0000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A crown of flames ignites about your head, a mark of Kkractle's esteem\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spark 0</name><script>ak.firelord.spark = 0
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The loud crackling of your flames grows quiet, their strength greatly reduced\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Queue &amp; Server Aliases</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ran Off SS Split</name><script>if matches[2] == "OATTACK" then
	ak.queue.eqbal = {}
	ak.queue.sent = {}
	return
end

local cursedraw = matches[2]:lower()
cursedraw = string.gsub(cursedraw, "|", " ")


cursedraw = cursedraw:split(" ")
for k,v in pairs(cursedraw) do
   if string.findPattern(cursedraw[k],"overcharge") then
      affstrack.overcharge = true
   elseif string.findPattern(cursedraw[k],"relapse") then
      invoked = cursedraw[k+1]
   elseif string.findPattern(cursedraw[k],"invoke") then
      invoked = cursedraw[k+2]
   elseif string.findPattern(cursedraw[k],"impurity") then
      nextcurse = cursedraw[k+1]
   elseif string.findPattern(cursedraw[k],"instill") then
      nextinstill = cursedraw[k+3]
   elseif string.findPattern(cursedraw[k],"moon") then
      nextmoon = cursedraw[k+3]
   elseif string.findPattern(cursedraw[k],"deadeyes") then
      nextcurse = cursedraw[k+2]
      nextcurse2 = cursedraw[k+3]
   elseif string.findPattern(cursedraw[k],"imbibe") then
      imbibedraw = cursedraw[k+1]
   elseif string.findPattern(cursedraw[k],"truewrack") then
      alchemisttruewrack = cursedraw[k+2]
      alchemisttruewracktwo = cursedraw[k+3]
	 elseif string.findPattern(cursedraw[k],"wrack") then
      alchemistwrack = cursedraw[k+2]
   end
end
if table.contains(cursedraw,"combo") and ak.MonkType() ~= "Tekura" then
	ak.shikudo.AliasSplit(cursedraw)
end






</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Running queued [\w'\-]+ command\: (.*)$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serverside Alias Setting</name><script>if matches[2] == "dor" then return end
affstrack.overcharge = false

local cursedraw = matches[3]:lower()
cursedraw = string.gsub(cursedraw, "/", " ")

cursedraw = cursedraw:split(" ")
for k,v in pairs(cursedraw) do
   if string.findPattern(cursedraw[k],"overcharge") then
      affstrack.overcharge = true
   elseif string.findPattern(cursedraw[k],"relapse") then
      invoked = cursedraw[k+1]
   elseif string.findPattern(cursedraw[k],"invoke") then
      invoked = cursedraw[k+2]
   elseif string.findPattern(cursedraw[k],"impurity") then
      nextcurse = cursedraw[k+1]
   elseif string.findPattern(cursedraw[k],"instill") then
      nextinstill = cursedraw[k+3]
   elseif string.findPattern(cursedraw[k],"moon") then
      nextmoon = cursedraw[k+3]
   elseif string.findPattern(cursedraw[k],"deadeyes") then
      nextcurse = cursedraw[k+2]
      nextcurse2 = cursedraw[k+3]
   elseif string.findPattern(cursedraw[k],"imbibe") then
      imbibedraw = cursedraw[k+1]
   elseif string.findPattern(cursedraw[k],"truewrack") then
      alchemisttruewrack = cursedraw[k+2]
      alchemisttruewracktwo = cursedraw[k+3]
	 elseif string.findPattern(cursedraw[k],"wrack") then
      alchemistwrack = cursedraw[k+2]
   end
end
if table.contains(cursedraw,"combo") and ak.MonkType() ~= "Tekura" then
	ak.shikudo.AliasSplit(cursedraw)
end





	

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Alias \"([\w'\-]+)\" will now execute\: \"(.*)\"</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aliases Setting</name><script>--deleteFull()
local deletealla = {"boomer","mineralmainttwo","mineralmaint","oattack","oattackrl","oattackll","oattackra","oattackla","oattackt","oattackh","oattacklr","oattackll",
      "oattackar","oattackal","oattackch","oattackct","oattacktwo","oattackrltwo","oattacklltwo","oattackratwo","oattacklatwo",
      "oattackttwo","oattackhtwo","oattacklatwo","oattacklltwo","oattackartwo","oattackaltwo","oattackchtwo","oattackcttwo","oattackr"
}
if table.contains(deletealla,matches[2]) then
   ak.deleteFull()
   ak.aliases[matches[2]] = matches[3]
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Alias \"([\w'\-]+)\" will now execute\: \"(.*)\"</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Add Clear Prompt Killer</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>[System]: Queued eqbal commands cleared.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curing</name><script>send("curing off")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Automatic affliction curing disabled.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Queue Gagging</name><script>ak.deleteFull()
--deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>[System]: Added </string><string>[System]: Running queued</string><string>Your queues are already empty.</string><string>Your eqbal queue is full.</string><string>Your eqbal queue is already empty.</string><string>[System]: Queued eqbal commands cleared.</string><string>Cleared your queues.</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>2</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alias Dump</name><script>--deleteFull()
local deletealla = {"boomer","mineralmainttwo","mineralmaint","oattack","oattackrl","oattackll","oattackra","oattackla","oattackt","oattackh","oattacklr","oattackll",
      "oattackar","oattackal","oattackch","oattackct","oattacktwo","oattackrltwo","oattacklltwo","oattackratwo","oattacklatwo",
      "oattackttwo","oattackhtwo","oattacklatwo","oattacklltwo","oattackartwo","oattackaltwo","oattackchtwo","oattackcttwo","oattackr"
}
if table.contains(deletealla,multimatches[2][2]) then
   ak.deleteFull()
	 ak.aliases.lastsend[multimatches[2][2]] = nil
   ak.aliases[multimatches[2][2]] = nil
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have cleared alias</string><string>^You have cleared alias \"(.+)\"\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serpent Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Double Stab</name><script>if ak.ai() then return end
enableTrigger("Missed Dstab Removal")                --DO NOT CHANGE!
enableTrigger("Confirmed Dstab")                        --DO NOT CHANGE!
weaponattack = weaponattack or {}               
table.insert(weaponattack, ak.odirk)
--table.insert(weaponattack, ak.odirk)     --change
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You prick ([\w'\-]+) twice in rapid succession with your dirk.$</string><string>^You quickly prick ([\w'\-]+) with your dirk\.$</string><string>^Striking like a snake\, you prick ([\w'\-]+) a second time with your dirk\.$</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bite</name><script>if ak.ai() then return end
OppGainedAff(matches[3])
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You sink your fangs into ([\w'\-]+), injecting just the proper amount of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confirmed Dstab</name><script>if ak.ai() then return end
cecho("&lt;cyan&gt;.")
hitrelay = {"1"}
currentvenoms = currentvenoms or {}
weaponattack = weaponattack or {}
if #weaponattack &gt; 0 then 
   for i = 1, #weaponattack do
      currentvenoms[weaponattack[i]] = currentvenoms[weaponattack[i]] or {1}
      table.insert(hitrelay, affstrack.venoms[currentvenoms[weaponattack[i]][1]])
      table.remove(currentvenoms[weaponattack[i]], 1)  
   end
end
if #hitrelay &gt; 1 then 
   if table.contains(hitrelay, "1") then table.remove(hitrelay, "1") end
   OppGainedAff(table.concat(hitrelay, " ")) 
end
weaponattack = nil
disableTrigger("Missed Dstab Removal")                --DO NOT CHANGE!
disableTrigger("Confirmed Dstab")  
--ak.deleteFull()
deleteLine()
ak.showPrompt()

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string /></regexCodeList><regexCodePropertyList>
							<integer>7</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Missed Dstab Removal</name><script>if ak.ai() then return end
weaponattack = weaponattack or {}
if #weaponattack &gt; 0 then
   table.remove(weaponattack, #weaponattack)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) dodges nimbly out of the way\.$</string><string>^([\w'\-]+) quickly jumps back, avoiding the attack\.$</string><string>^([\w'\-]+) twists (his|her) body out of harm's way\.$</string><string>^A reflection of ([\w'\-]+) blinks out of existence.$</string><string>^([\w'\-]+) parries the attack with a deft manoeuvre.$</string><string>^([\w'\-]+) steps into the attack, grabs your arm, and throw</string><string>^A chaos orb intercepts the attack against (\+) and renders it harmless\.$</string><string>^([\w'\-]+) moves into your attack, knocking your blow aside before viciously countering with a strike to your head\.$</string><string>^Cracks spider across the surface of the crimson shield surrounding ([\w'\-]+)\, before it abruptly winks out of existence\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dirk Changeup</name><script>if ak.ai() then return end
if string.findPattern(matches[2],"dirk") then
   ak.odirk = matches[2]
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You begin to wield (.*) in your (left|right) hand\.$</string><string>^You start to wield (.*) in your (right|left) hand\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thoths</name><script>if ak.ai() then return end
ak.odirk = "Thoth's fang" 
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You start to wield Thoth's fang in your right hand.</string><string>You start to wield Thoth's fang in your left hand.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blademaster Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Strikes</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chest</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("hypochondria")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With rapid precision, you aim first a punch then a spearhand blow at two points on ([\w'\-]+)'s chest.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stomach</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("anorexia")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You aim a measured blow at ([\w'\-]+)'s stomach, feeling muscles clench beneath your fist.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hands</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Lunging forward with practised grace, you strike at the back of ([\w'\-]+)'s (right|left) hand.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Armpit</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("slickness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With a swift, snaking strike, you thrust upwards at ([\w'\-]+)'s unprotected armpit.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kidneys</name><script>if IsTargetted(matches[3]) then
	OppGainedAff("addiction")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Dancing behind h(er|is) with a neat sidestep, you strike at ([\w'\-]+)'s kidney with a balled fist.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chin</name><script>--gz.landed_venom("delphinium")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Stepping in close, you strike upwards at a precise point below ([\w'\-]+)'s chin.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shoulder</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("weariness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With a fluid motion, you aim a blow just below ([\w'\-]+)'s shoulder.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Groin</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("recklessness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Targeting a vulnerable point, you lash out at ([\w'\-]+)'s groin with a calculated strike.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Knee</name><script>if IsTargetted(matches[2]) then
	ak.mounted = false
	OppGainedAff("prone")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Sweeping out with a blade hand, you strike at the back of ([\w'\-]+)'s knee.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ears</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("clumsiness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Lashing out with open palms, you box ([\w'\-]+)\'s ears.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nose</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("disloyalty")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With the heel of your palm\, you send a pulverising blow at ([\w'\-]+)\'s nose.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Temple</name><script>if IsTargetted(matches[3]) then
	OppGainedAff("stupidity")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Striking h(er|is) temple with a clenched fist, you leave ([\w'\-]+) reeling.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Neck</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("paralysis")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With fluid motions of your iron fingers, you strike precisely at pressure points on ([\w'\-]+)'s neck.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Throat</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("asthma")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With iron fingers, you aim a darting strike at a weak point on ([\w'\-]+)'s throat.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Eyes</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("hallucinations")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With pinpoint strikes to ([\w'\-]+)'s sockets, you burst blood vessels in h(er|is) eyes, causing them to run red.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone Stuff</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>ImpaleSlash</name><script>if IsTargetted(matches[3]) then
	OppGainedAff("impaleslash")
   if impaleslashtimer then killTimer(impaleslashtimer);impaleslashtimer = nil end
   impaleslashtimer = tempTimer(30, [[OppLostAff("impaleslash")]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.*) steady in your grip, you drag its razor edge across arteries within ([\w'\-]+)'s abdomen\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fist It</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hamstring</name><script>--Seriously?  You're worried about hamstring?  

if IsTargetted(matches[3]) then
   OppGainedAff("hamstring")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Ducking behind ([\w'\-]+)\, you strike at ([\w'\-]+)'s hamstring with a rigid\, practised grip\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vitiate</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("vitiate")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Thrusting at ([\w'\-]+)'s chest with a blade hand outstretched, you release an unmitigated torrent of Shin energy upon h(?:im|er), and (he|she) crumples helplessly\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>First Third Person</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("voidfist")
   if voidtimer then killTimer(voidtimer) end
	 if ak.limbs.blademaster.stance["Me"] == "Sanya" then
      voidtimer = tempTimer(7.5, [[OppLostAff("voidfist")]])	 
	 else
      voidtimer = tempTimer(4.5, [[OppLostAff("voidfist")]])
   end
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>His eyes dark and expression blank, [\w'\-]+ strikes ([\w'\-]+) a hollow blow.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hamstring recover</name><script>if IsTargetted(matches[2]) then
   OppLostAff("hamstring")
end
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>([\w'\-]+) seems able to move more freely all of a sudden.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lightning Infuse Check</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Minute bolts of lightning arc across ([\w'\-]+)\'s skin\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Air Fist</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("airfist")
   if airfisttimer then killTimer(airfisttimer) end
	 if ak.limbs.blademaster.stance["Me"] == "Thyr" then
      airfisttimer = tempTimer(19.5, [[OppLostAff("airfist")]])	 
	 else
      airfisttimer = tempTimer(14.5, [[OppLostAff("airfist")]])
   end
end



</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Freeing your mind to the unpredictable dance of the wind\, you hurl a blow towards ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Void Fist</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("voidfist")
   if voidtimer then killTimer(voidtimer) end
	 if ak.limbs.blademaster.stance["Me"] == "Sanya" then
      voidtimer = tempTimer(20, [[OppLostAff("voidfist")]])	 
	 else
      voidtimer = tempTimer(15, [[OppLostAff("voidfist")]])
   end
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Emptying your mind of conscious thought, you welcome the void as you strike ([\w'\-]+) a hollow blow\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sylvan Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hailstone (clumsiness)</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("clumsiness")
	if affstrack.overcharge == true then
		OppGainedAff("weariness")
	end
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) stumbles clumsily as the blow lands.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hailstone (epilepsy)</name><script>if IsTargetted(matches[2]) then
	if affstrack.score.clumsiness &lt; 100 and affstrack.score.clumsiness &gt; 0 then
      if ak.ProTrackingConfirmed then 
         ak.ProTrackingConfirmed("clumsiness") 
      else 
         affstrack.score.clumsiness = 100
         ak.scoreup(matches[2])
      end
	end
	affstrack.score.clumsiness = 100
	OppGainedAff("epilepsy")
	if affstrack.overcharge == true then
		OppGainedAff("weariness")
	end
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) begins to shake uncontrollably.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Feedback</name><script>ak.feedback = matches[2]
ak.ae = 0
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Directing a sliver of power through your air and earth channels, you create a conduit between the clouds above and ([\w'\-]+)\.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Static (paralysis)</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("paralysis")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Channeling arcane power through your air and earth channels, you summon forth a burst of arcane static directed at ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shear (break shield)</name><script>if IsTargetted(matches[2]) then
   ak.defs.shield = false
end
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You summon a blade of condensed air and shear cleanly through the protective shield surrounding (.*).$</string><string>^You summon a blade of wind to shear at the magical shield of (.*), but find no such barrier.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hailstone (imaptience)</name><script>if IsTargetted(matches[2]) then
	if affstrack.score.clumsiness &lt; 100 and affstrack.score.clumsiness &gt; 0 then
      if ak.ProTrackingConfirmed then 
         ak.ProTrackingConfirmed("clumsiness")
      else 
         affstrack.score.clumsiness = 100
         ak.scoreup(matches[2])
      end
	elseif affstrack.score.epilepsy &lt; 100 and affstrack.score.epilepsy &gt; 0 then
      if ak.ProTrackingConfirmed then 
         ak.ProTrackingConfirmed("epilepsy") 
      else 
         affstrack.score.epilepsy = 100
         ak.scoreup(matches[2])
      end
	end
	OppGainedAff("impatience")
	if affstrack.overcharge == true then
		OppGainedAff("weariness")
	end
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^A puzzled expression crosses the face of ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flash (unblind)</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("blind")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Summoning forth power through your air and earth channels, you conjure forth a brilliant flash of light at ([\w'\-]+), who blinks rapidly.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Arcane Energy</name><script>ak.ae = matches[2]+0
ak.scoreup(target)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You have (\d+) units of arcane energy built up\.</string><string>^You have (\d+) units of arcane energy stored\.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vine Wreathe Enabled</name><script>if IsTargetted(matches[2]) then
   affstrack.vinewreathe = true
end
--display(matches[2])



</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Uttering a quiet recitation, you gesture towards ([\w'\-]+). A mass of writhing vines burst forth from the ground, grabbing hold of (his|her) form\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vine Wreathe Disabled</name><script>if IsTargetted(matches[2]) then
   affstrack.vinewreathe = false
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The vines flailing about ([\w'\-]+)\'s form recede\.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flash (transfix)</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("transfixed")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Summoning forth power through your air and earth channels, you conjure forth a brilliant flash of light at ([\w'\-]+), who freezes in place.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bolt (blackout)</name><script>if IsTargetted(matches[2]) then
   OppGainedAff("blackout")
   tempTimer(4,[[affstrack.score.blackout = 0;ak.scoreup(]]..matches[2]..[[)]])
	if affstrack.overcharge == true then
		OppGainedAff("paralysis")
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Raising your hands above your head, you channel power through your earth and air channels. Focusing upon (.*), you direct your arcane might in a focused burst, bringing down lightning to smite (him|her)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sylvan Rend Venoms</name><script>enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!
weaponattack = weaponattack or {}
if matches[2] == "claws" then
   table.insert(weaponattack, "your wickedly sharp claws")
elseif matches[2] == "vines" then
   table.insert(weaponattack, "the thorny vines covering your arms")
else
   table.insert(weaponattack, matches[2])
end
if affstrack.crushedherb then
   currentvenoms = currentvenoms or {}
   currentvenoms["the thorny vines covering your arms"] = currentvenoms["the thorny vines covering your arms"] or {}
   table.insert(currentvenoms["the thorny vines covering your arms"], affstrack.crushedherb)
   table.insert(weaponattack, "the thorny vines covering your arms")
end
--display(weaponattack)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You command the razor-edged thorny ([\w'\-]+) around you to lash out and rend the (right leg|left leg|right arm|left arm|head|torso) of .*\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disturb Gone</name><script>ak.disturbed = false
ak.ae = 0
ak.feedback = false
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The clouds overhead abruptly wink out of existence.</string><string>The weather here is not disturbed - you cannot redirect the feedback of your spells.</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crushed Pots</name><script>affstrack.crushedherb = affstrack.crushedpots[matches[2]]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Crushing a (.*) in your hand, you absorb the remnants of natural energy stored within.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cyclone (dizziness)</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("dizziness")
	if affstrack.overcharge == true then
		OppGainedAff("asthma")
	end
end



</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Summoning forth energy that you have gathered, you conjure forth a terrible cyclone of wind, picking up ([\w'\-]+) and whipping (her|him) about in a frenzy.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disturbed</name><script>ak.disturbed = true
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Clouds boil into existence above you, their dark mass seething.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cyclone (impatience)</name><script>if IsTargetted(matches[2]) then
	affstrack.score.dizziness = 100
	OppGainedAff("impatience")
	if affstrack.overcharge == true then
		OppGainedAff("asthma")
	end
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Summoning forth energy that you have gathered, you conjure forth a terrible cyclone of wind, picking up the disorientated form of ([\w'\-]+) and whipping (her|him) about in a frenzy, dashing (her|him) against any available surfaces.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thunderclap (sensitivity)</name><script>local aff = "sensitivity"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
	if affstrack.overcharge == true then
		OppGainedAff("paralysis")
	end
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Channeling large quantities of arcane power through your air channel, you direct a localised explosion of pure sound at ([\w'\-]+)</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Razorwind (healthleech)</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("healthleech")
	if affstrack.overcharge == true then
		OppGainedAff("asthma")
	end
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Tapping into your air channel, you summon forth a vicious wind to lacerate the body of ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Overcharge Tracker</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Not overcharged</name><script>disableTrigger("Not overcharged")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string /><string>^Channeling arcane power through your air and earth channels, you summon forth a burst of arcane static directed at ([\w'\-]+).$</string><string>^Channeling large quantities of arcane power through your air channel, you direct a localised explosion of pure sound at ([\w'\-]+).$</string><string>^Summoning forth power through your air and earth channels, you conjure forth a brilliant flash of light at ([\w'\-]+), who blinks rapidly.$</string><string>^Summoning forth power through your air and earth channels, you conjure forth a brilliant flash of light at ([\w'\-]+), who freezes in place.$</string><string>^Tapping into your air channel, you summon forth a vicious wind to lacerate the body of ([\w'\-]+).$</string><string>^Summoning forth energy that you have gathered, you conjure forth a terrible cyclone of wind, picking up ([\w'\-]+) and whipping (her|him) about in a frenzy.$</string><string>^Summoning forth energy that you have gathered, you conjure forth a terrible cyclone of wind, picking up the disorientated form of ([\w'\-]+) and whipping (her|him) about in a frenzy, dashing (her|him) against any available surfaces.$</string><string>^([\w'\-]+) stumbles clumsily as the blow lands.$</string><string>^([\w'\-]+) begins to shake uncontrollably.$</string><string>^A puzzled expression crosses the face of ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
								<integer>7</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Overcharged</name><script>OppGainedAff("clumsiness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You have (.*) units of arcane energy stored.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shaman Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vodun</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cripple</name><script>if ak.ai() then return end
ak.mounted = false
if IsTargetted(multimatches[2][2]) then
   aff = "leftleg rightleg rightarm leftarm prone"
   OppGainedAff(aff) 
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a prayer to the spirits, you break all the limbs on your doll of </string><string>With a prayer to the spirits, you break all the limbs on your doll of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed</name><script>ak.bleeding = ak.bleeding + 220
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You draw a sharp fingernail across the torso of the doll.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Speed Stripped</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   ak.defs.speed = false
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You curse your doll to move slowly and tardily\, and ([\w'\-]+)\'s speed defence is removed\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Concussion</name><script>if ak.ai() then return end
affstrack.score.head = 100
ak.scoreup(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You flick the temple of a doll of </string><string>^You flick the temple of a doll of ([\w'\-]+)\, hard\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reckless</name><script>if ak.ai() then return end
OppGainedAff("recklessness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You whisper soothing words of false comfort to a doll of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slow</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   affstrack.score.aeon = 100
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) seems to be moving in slow motion suddenly.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bound</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   affstrack.score.bound = 100
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You tie up a doll of ([\w'\-]+) with a piece of string.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Imbibe</name><script>if ak.ai() then return end
OppGainedAff(imbibedraw)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You laugh sadistically as you jab an envenomed pin into your doll of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizzy</name><script>if ak.ai() then return end
OppGainedAff("dizziness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You spin a doll of ([\w'\-]+) rapidly in a circle\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion</name><script>if ak.ai() then return end
OppGainedAff("confusion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You wave your hands quickly in front of the eyes of your doll of ([\w'\-]+).</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spiritlore</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Arius</name><script>if ak.ai() then return end
ak.limbs.ParseonLine()
if IsTargetted(matches[2]) and affstrack.score.deaf == 100 then
	EchoForMajorAff("PRONE")
	OppGainedAff("prone disrupt")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A terrible cold fills your chest\, constricting your lungs\. Your mouth falls open and an unearthly\, terrible roar emanates forth at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curses</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bloodlet CD</name><script>if ak.ai() then return end
ak.shaman.bloodlet = true
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You may let your victim's blood once again\.$</string><string>The realisation that none can match you with the blade suddenly dawns upon you.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Coagulation</name><script>if ak.ai() then return end
cecho("\n&lt;dodger_blue&gt;Coagulated!")
ak.shaman.coagulation = false
ak.bleeding = ak.bleeding - 140
if ak.bleeding &lt; 0 then
	ak.bleeding = 0 
end
if invoked~= nil then
   OppGainedAff(invoked)
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#00aaff</mFgColor><mBgColor>#ffffff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With methodical ruthlessness you cast your hand at [\w'\-]+, a wash of cold causing [\w'\-]+ blood to evolve</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jinx Gone</name><script>ak.jinxcount = ak.jinxcount - 1
if ak.jinxcount &lt; 0 then
	ak.jinxcount = 0
end
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have not built up enough malign power to unleash a jinx.</string><string>Your malign power dissipates back to normal levels.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Coagulate CD</name><script>if ak.ai() then return end
ak.shaman.coagulation = true
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You may channel spiritual energy to cause a coagulation once again.</string><string>A clinical, ruthless presence overcomes you for an instant, before you reassert control.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jinx Gone</name><script>if ak.ai() then return end
ak.shaman.jinx = false
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have not built up enough malign power to unleash a jinx.</string><string>Your malign power dissipates back to normal levels.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bloodlet</name><script>if ak.ai() then return end
cecho("\n&lt;medium_violet_red&gt;Bloodlet!")
ak.shaman.bloodlet = false
if affstrack.score.haemophilia &gt; 0 then
	ak.bleeding = ak.bleeding + ak.bloodletbleed()
	echo(ak.bleeding)
end
OppGainedAff("haemophilia")
ak.dontremovehaemo = true

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffffff</mFgColor><mBgColor>#ff557f</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Lacerations appear upon ([\w'\-]+) form, as if slashed by an invisible blade\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No affliction</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   local nohave = matches[3]
   if nohave == "paralyse" then nohave = "paralysis" end  
   if nohave == "plague" then nohave = "voyria" end
   if nohave == "clumsy" then nohave = "clumsiness" end
   if nohave == "dizzy" then nohave = "dizziness" end
   if nohave == "stupid" then nohave = "stupidity" end
   if ak.thoughtIhad then ak.thoughtIhad(nohave) else affstrack.score[nohave] = 0 end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>([\w'\-]+) does not suffer from ([\w'\-]+) \- you may not relapse it.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Relapse CD</name><script>if ak.ai() then return end
ak.shaman.relapse = true
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You may utilise spiritual energy to relapse afflictions once again\.$</string><string>^A sinister sensation washes over you for the briefest instant, but quickly fades into little more</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curse Add</name><script>if ak.ai() then return end
if not IsTargetted(multimatches[2][2]) then return end
ak.bleedincrease = 40 --curse
local curse = multimatches[2][3]
if curse then
	 curse = curse:lower()
   if curse ~= "breach" and curse ~= "tzantza" and curse ~= "inflame" then
	 		if affstrack.score[curse] then
				OppGainedAff(curse)
			elseif curse == "peace" then 
         curse = "pacifism"
				 OppGainedAff(curse)  
      elseif curse == "paralyse" then 
         curse = "paralysis"
				 OppGainedAff(curse)  
      elseif curse == "plague" then
          curse = "voyria"
					OppGainedAff(curse)
      elseif curse == "clumsy" then
          curse = "clumsiness" 
					OppGainedAff(curse)
      elseif curse == "dizzy" then
          curse = "dizziness" 
					OppGainedAff(curse)
      elseif curse == "stupid" then
          curse = "stupidity" 
					OppGainedAff(curse)
      elseif curse == "vomiting" then
          curse = "nausea" 
					OppGainedAff(curse)
      elseif curse == "reckless" then
          curse = "recklessness"
					OppGainedAff(curse)
			elseif curse == "fear" then
          ak.tumbling = false
					ak.scoreup(multimatches[2][2])
			elseif curse == "bleed" then
			
			else
				cecho("Unknown Curse &lt;cyan&gt;"..curse) 
      end
   end
end
if ak.shaman and ak.shaman.pararedo and ak.shaman.pararedo == "init" then 
	ak.shaman.pararedo = true 
elseif ak.shaman and ak.shaman.pararedo then
	ak.shaman.pararedo = false	
end



</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You point an imperious finger at</string><string>^You point an imperious finger at ([\w'\-]+)\, bringing the curse of ([\w'\-]+) down upon [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jinx</name><script>if ak.ai() then return end
local conversion = {
	["paralyse"] = "paralysis",
	["plague"] = "voyria",
	["clumsy"] = "clumsiness",
	["dizzy"] = "dizziness",
	["stupid"] = "stupidity",
	["vomiting"] = "nausea",
	["reckless"] = "recklessness",
	["nausea"] = "nausea",

}
ak.bleedincrease = 80
local setter = ""
ak.shaman.jinx = false
ak.jinxcount = ak.jinxcount - 1
if matches[2] ~= "breach" and matches[2] ~= "tzantza" then
	 if table.contains(conversion,matches[2]) then
	 	setter = setter.." "..conversion[matches[2]]
	 else
	 	setter = setter.." "..matches[2]
	 end
end
if matches[3] ~= "breach" and matches[3] ~= "tzantza" then
	 if table.contains(conversion,matches[3]) then
	 	setter = setter.." "..conversion[matches[3]]
	 else
	 	setter = setter.." "..matches[3]
	 end
end
if matches[2] == "tzantza" or matches[3] == "tzantza" then
	ak.tzantzajinxed = true
end
OppGainedAff(setter)




</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Summoning your malign power, you direct a twin assault of the curses ([\w'\-]+) and ([\w'\-]+) at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bloodlet used</name><script>if ak.ai() then return end
ak.shaman.bloodlet = false
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You may not let the blood of your victim again so soon\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jinx Charged</name><script>if ak.ai() then return end
ak.shaman.jinx = true
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your malign power may be unleashed in the form of a jinx against your victim.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Relapse used</name><script>if ak.ai() then return end
ak.shaman.relapse = false
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#55aa00</mFgColor><mBgColor>#ffffff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You may not yet channel spiritual energy to cause a relapse again\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inflamed</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffffff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[\w'\-]+ writhes in agony as steam begins rising from [\w'\-]+ skin\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Relapsed</name><script>ak.shaman.Relapseaff = "none"
OppGainedAff(matches[3])

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You sense the insidious power of Syvis strike down ([\w'\-]+) with ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jinx Charged</name><script>ak.jinxcount = ak.jinxcount + 1
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your malign power may be unleashed in the form of a jinx against your victim.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Relapsing</name><script>if ak.ai() then return end
cecho("&lt;LawnGreen&gt;\nRelapsed!")
ak.shaman.relapse = false
ak.shaman.Relapseaff = matches[2]
local currentrelapse = matches[2]
if ak.ProTrackingConfirmed then 
	ak.ProTrackingConfirmed(currentrelapse) 
end 


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#55aa00</mFgColor><mBgColor>#ffffff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You manipulate the ([\w'\-]+) affliction affecting ([\w'\-]+), altering it to relapse at a later time.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tarot Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hierophant Used</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   OppLostAff("hierophant")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^By the power of the Hierophant\, you command ([\w'\-]+)\.$</string><string>^You issue the command\, but ([\w'\-]+) just ignores you\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lovers</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   OppGainedAff("lovers")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You throw a Lovers tarot at ([\w'\-]+) and as it strikes true\, a look of utter love covers [\w'\-]+ face\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hierophant</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   OppGainedAff("hierophant")
   if ak.timers.Hiero then killTimer(ak.timers.Hiero) end
   ak.timers.Hiero = tempTimer(60,[[
      if affstrack.score.hierophant &gt; 0 then 
         OppLostAff("hierophant")
      end
      killTimer(ak.timers.Hiero)
   ]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You quickly fling a Hierophant tarot card at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   aeonreset = false
   OppGainedAff("aeon")
   AeonTimer = tempTimer(15,[[aeonreset = true]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Standing the Aeon on your open palm\, you blow it lightly at ([\w'\-]+) and watch as it seems to slow [\w'\-]+ movement through the time stream\.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Moon</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) and nextmoon and nextmoon ~= "DOPPLEGANGER" then
   OppGainedAff(nextmoon)
else
	ak.occie.aura.mental = ak.occie.aura.mental + 1
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^As you fling the Moon tarot at ([\w'\-]+)\, it turns an ominous\, sickly red\, before striking (her|him) in the head\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon Speed</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   ak.defs.speed = false
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You stand an Aeon tarot on your palm\, and blow it lightly at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Justice</name><script>if ak.ai() then return end
if IsTargetted(multimatches[2][2]) then
   OppGainedAff("justice")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>With a prayer to Miramar, the Just, you fling your tarot card at </string><string>^With a prayer to Miramar\, the Just\, you fling your tarot card at ([\w'\-]+)\. A set of scales appears above [\w'\-]+ head and one side of the scale quickly descends\. Justice will be done\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hangedman</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   affstrack.score.bound = 100
   ak.scoreup(matches[2])
   --8secs
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You toss the Hanged Man tarot card at ([\w'\-]+) and as it reaches [\w'\-]+\, a huge mass of rope bursts out of it to entrap and hinder [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Defenses(i)</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Breathing Down</name><script>if IsTargetted(matches[2]) then
	 if ak.ai() then return end
   ak.defs.holdbreath = false
   ak.scoreup(matches[2])
end
--ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>([\w'\-]+) exhales loudly.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sileris Down</name><script>if IsTargetted(multimatches[2][2]) then
	 if ak.ai() then return end
   ak.defs.sileris = false
   ak.scoreup(multimatches[2][2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You flay the metallic coating from</string><string>^You flay the metallic coating from ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>CurseWard Down2</name><script>if ak.ai() then return end
ak.defs.curseward = false
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your attempt to breach finds no curseward.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aria</name><script>local mehdo = matches[2]
if not _G[mehdo.."ariatimer"] then
	ak.limbs.ariaUp(mehdo)
end
_G[mehdo.."ariatimer"] = tempTimer(5, [[
	cecho("\n\n\n&lt;cyan&gt;Correcting ]] .. mehdo .. [[ aria!\n\n\n")
	ak.limbs.ariaDown(]]..mehdo..[[)
	_G["]] .. mehdo .. [[ariatimer"] = nil   
]])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+)\'s voice and instrument rise to the heavens in an Aria of healing for ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sileris Down</name><script>if IsTargetted(multimatches[2][2]) then
	 if ak.ai() then return end
   ak.defs.sileris = false
   ak.scoreup(multimatches[2][2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You flay away</string><string>^You flay away ([\w'\-]+)\'s speed defence\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sileris Up</name><script>if IsTargetted(multimatches[2][2]) then
	 if ak.ai() then return end
   ak.defs.sileris = true
   if affstrack.score.slickness&gt;0 then 
     if ak.thoughtIhad then ak.thoughtIhad("slickness") else affstrack.score.slickness = 0 end
     if silerisaktime then killTimer(silerisaktime) end
   end
	 ak.scoreup(multimatches[2][2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>A supple</string><string>^A supple .* has formed around ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Breathing Up!</name><script>if ak.ai() then return end
ak.defs.holdbreath = true
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You attempt to squeeze the life out of the effigy in your hands, but find the torso too tight.</string><string>You feel some resistance against your choking attempt.</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer><integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Breathing Up</name><script>if IsTargetted(matches[2]) then
	 if ak.ai() then return end
   ak.defs.holdbreath = true
   ak.scoreup(matches[2])
end
--ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>([\w'\-]+) inhales and begins holding [\w'\-]+ breath.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Speed Stripped</name><script>if IsTargetted(matches[2]) then
	 if ak.ai() then return end
   ak.defs.speed = false
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You stand an Aeon tarot on your palm, and blow it lightly at ([\w'\-]+)\.$</string><string>^[\w'\-]+ razes ([\w'\-]+)\'s speed defence with .*\.$</string><string>^([\w'\-]+) suddenly seems less dexterous\, [\w'\-]+ reactions becoming noticeably slower\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sileris Up</name><script>if IsTargetted(multimatches[2][2]) then
	 if ak.ai() then return end
   ak.defs.sileris = true
   ak.scoreup(multimatches[2][2])
   if silerisaktime then killTimer(silerisaktime) end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You try to bite </string><string>^You try to bite ([\w'\-]+)\, but your fangs are stopped by an odd metallic coating\.$</string><string>^You try to bite ([\w'\-]+)\, but your fangs are stopped by an odd waxy coating\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>CurseWard Up</name><script>if IsTargetted(matches[2]) then
if ak.ai() then return end
ak.defs.curseward = true
ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>A shimmering curseward appears around ([\w'\-]+).</string><string>^You try to curse ([\w'\-]+)\, but [\w'\-]+ is warded\.$</string><string>^You stare at ([\w'\-]+)\, giving [\w'\-]+ the evil eye\, but [\w'\-]+ is warded\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>CurseWard Down</name><script>if IsTargetted(matches[2]) then
if ak.ai() then return end
ak.defs.curseward = false
ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>([\w'\-]+)'s curseward shatters!</string><string>^Your attempt to breach (\w+)\'s curseward has no effect\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sileris Apply</name><script>if IsTargetted(matches[2]) then
	 if ak.ai() then return end
   ak.defs.sileris = false
   if affstrack.score.slickness&gt;0 then 
     if ak.thoughtIhad then ak.thoughtIhad("slickness") else affstrack.score.slickness = 0 end 
   end
   if silerisaktime then killTimer(silerisaktime) end
   silerisaktime = tempTimer(9,[[ak.defs.sileris = true]])
	 ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) applies a sileris berry to (herself|himself)\.$</string><string>^([\w'\-]+) applies a quicksilver droplet to [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sileris Down</name><script>if IsTargetted(multimatches[2][2]) then
	 if ak.ai() then return end
   ak.defs.sileris = false
   ak.scoreup(multimatches[2][2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You try to flay a non-existent sileris coating from</string><string>^You try to flay a non-existent sileris coating from ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serpent Flay Third</name><script>if IsTargetted(matches[2]) then
	 if ak.ai() then return end
   ak.defs.sileris = false
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) seems to jolt to a halt suddenly as [\w'\-]+ flays h(?:im|er)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sileris Down</name><script>if IsTargetted(matches[2]) and ak.defs.sileris then 
	 if ak.ai() then return end
   ak.defs.sileris = false
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^A (.+) lunges for the throat of ([\w'\-]+)\, fangs sinking through [\w'\-]+ fang barrier defence\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BM Stances Friendly</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thyr</name><script>ak.limbs.blademaster.stance[multimatches[2][2]] = "Thyr"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a flourish, </string><string>^With a flourish\, ([\w'\-]+) enters the Thyr stance\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sanya</name><script>ak.limbs.blademaster.stance[matches[2]] = "Sanya"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) sinks into the Sanya stance\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unstanced</name><script>ak.limbs.blademaster.stance[matches[2]] = "None"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) shifts [\w'\-]+ weight\, adopting a neutral stance\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mir</name><script>ak.limbs.blademaster.stance[matches[2]] = "Mir"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) enters the flowing Mir stance\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Arash</name><script>ak.limbs.blademaster.stance[matches[2]] = "Arash"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) takes up the Arash stance\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Doya</name><script>ak.limbs.blademaster.stance[matches[2]] = "Doya"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) drops into the Doya stance\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding Up3</name><script>if IsTargetted(matches[2]) then 
	if ak.ai() then return end
  echo("\n")
  echo("\n")
  cecho("&lt;cyan&gt; REBOUNDING UP, WATCH OUT!!!!!!!!!")
  echo("\n")
  cecho("&lt;cyan&gt; REBOUNDING UP, WATCH OUT!!!!!!!!!")
  echo("\n")
  cecho("&lt;cyan&gt; REBOUNDING UP, WATCH OUT!!!!!!!!!")
  echo("\n")
  echo("\n")
  ak.defs.rebounding = true
  ak.scoreup(matches[2])
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You would be unable to pierce through the aura of rebounding protecting ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding Up2</name><script>if ak.ai() then return end
ak.defs.rebounding = true
weaponattack = {}
ak.scoreup(target)
attacklimb = {}
attackweapon = {} 
weaponattack = {}
boardaffs = {}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The attack rebounds onto you!</string><string>The attack rebounds back onto you!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding Up</name><script>if IsTargetted(matches[2]) and reboundingaccountak then 
	if ak.ai() then return end
  ak.defs.rebounding = true
  ak.scoreup(matches[2])
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You suddenly perceive the vague outline of an aura of rebounding around ([\w'\-]+).</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding Down</name><script>if IsTargetted(matches[2]) then 
if ak.ai() then return end
ak.defs.reRebounding = true
ak.defs.rebounding = false
ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#55ffff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>([\w'\-]+)'s aura of weapons rebounding disappears.</string><string>You flay away ([\w'\-]+)'s aura of rebounding defence.</string><string>You call upon Whiirh to empower your staff and strike ([\w'\-]+), the power of air dispersing [\w'\-]+ aura of rebounding.</string><string>You call upon Whiirh and unleash a forceful blow towards ([\w'\-]+) with your trusty staff.</string><string>You call upon Whiirh and unleash a forceful blow towards ([\w'\-]+)'s .* with your trusty staff.</string><string>^You raze ([\w'\-]+)\'s aura of rebounding with .*\.$</string><string>^You raze ([\w'\-]+)\'s speed defence with .+\.$</string><string>^You whip .+ through the air in front of ([\w'\-]+)\, to no effect\.$</string><string>^You try to flay a non-existent aura of rebounding from ([\w'\-]+)\.$</string><string>^[\w'\-]+ razes ([\w'\-]+)\'s aura of rebounding with .*\.$</string><string>^You flay away ([\w'\-]+)\'s speed defence\.$</string><string>^You whip .* through the air in front of ([\w'\-]+)\, to no effect\.$</string><string>^[\w'\-]+ delivers a terrible stroke with .*\, scything straight through the aura of rebounding surrounding ([\w'\-]+)\.$</string><string>^Lunging forward\, you bring .* in a savage diagonal blow\, carving through ([\w'\-]+)\'s aura of rebounding\.$</string><string>^You lunge toward ([\w'\-]+) with .*\, but finding no resistance\, you stumble hopelessly off balance\.$</string><string>^Continuing your assault\, you whip .* in a vicious rising slash at ([\w'\-]+)\.$</string><string>^You lurch forward at ([\w'\-]+)\, swinging .* in a wildly innacurate blow\.$</string><string>^[\w'\-]+\'s cantata shatters the defences surrounding ([\w'\-]+)\.$</string><string>^[\w'\-]+ calls upon Whiirh and strikes ([\w'\-]+) with [\w'\-]+ staff\, the power of air dispersing [\w'\-]+ aura of rebounding\.$</string><string>^The falcon dives at ([\w'\-]+)\, ripping apart [\w'\-]+ aura of rebounding with its talons\.$</string><string>^[\w'\-]+ lunges toward ([\w'\-]+)\, but stumbles off balance as if expecting some barrier\.$</string><string>^Planting your feet, you whirl .+ over your head before bringing it down with terrible force upon ([\w'\-]+), shattering (?:his|her) aura of rebounding\.$</string><string>^[\w'\-]+ whips .+ through the air in front of ([\w'\-]+)\, to no effect\.$</string><string>^You lurch forward at ([\w'\-]+)\, swinging .* in a wildly innacurate blow\.$</string><string>^You deliver a single\, powerful blow against the aura of rebounding surrounding ([\w'\-]+)\, fracturing it\.$</string><string>^The daegger cuts through (\w+)\'s skullcap\-formed aura\.$</string><string>^Your mace ignites in holy flame\, burning away (\w)\'s protective aura\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Riding</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dismounted</name><script>if IsTargetted(matches[2]) then
	 if ak.ai() then return end
   ak.mounted = false
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) steps down off of .*\.$</string><string>^The instep of your foot smashes into the \w+ underarm of ([\w'\-]+)\, throwing \w+ from \w+ steed\.$</string><string>^([\w'\-]+) begins to tumble towards the [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kai Surge</name><script>if IsTargetted(matches[2]) then
	 if ak.ai() then return end
   EchoForMajorAff("PRONE")
   affstrack.score.surge = 100
   OppGainedAff("prone")
   ak.mounted = false
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^As the power of your kai builds within you\, you lift a hand towards ([\w'\-]+)\. A searing bolt of power leaps forth\, blasting [\w'\-]+ backwards and leaving [\w'\-]+ lying\, twitching\, upon the ground\.$</string><string>^As [\w'\-]+ lifts a hand in the direction of ([\w'\-]+)\, [\w'\-]+ summons forth a bolt of incandescent power\. As it strikes ([\w'\-]+)\, [\w'\-]+ is flung helplessly through the air\, landing in a twitching heap\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mounted</name><script>if matches[2] and IsTargetted(matches[2]) then
	 if ak.ai() then return end
   ak.mounted = true  
   affstrack.score.hamstring = 0
	 affstrack.score.prone = 0
	 affstrack.score.paralysis = 0
   ak.scoreup(matches[2])
elseif not matches[2] then
	 if ak.ai() then return end
   ak.mounted = true
   ak.scoreup(target)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) easily vaults onto the back of .*\.$</string><string>You cannot sweep kick a mounted opponent.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Surge Gone</name><script>if IsTargetted(matches[2]) then
	if ak.ai() then return end
	ak.mounted = false
	OppLostAff("surge")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The muscles of ([\w'\-]+) cease violently spasming\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Look Mount Tracking</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Look Prompt</name><script>ak.MountLookPrompt()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string /></regexCodeList><regexCodePropertyList>
								<integer>7</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shielded</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shield Down</name><script>if IsTargetted(matches[2]) then
	 if ak.ai() then return end
   ak.defs.shield = false
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You try to flay a non-existent shield from ([\w'\-]+)\.$</string><string>^You flay away ([\w'\-]+)'s shield defence\.$</string><string>^Calling upon Garash, you unleash a crushing blow at the magical shield surrounding ([\w'\-]+)\, shattering it\.$</string><string>^Your cantata shatters the defences surrounding ([\w'\-]+)\.$</string><string>([\w'\-]+)'s aura of weapons rebounding disappears.</string><string>^You whip .* through the air in front of ([\w'\-]+)\, to no effect\.$</string><string>^You command your gremlin to shatter the defences surrounding ([\w'\-]+)\.$</string><string>^([\w'\-]+) has no shield for your gremlin to shatter\, occultist\.$</string><string>^As the kick strikes the magical shield surrounding ([\w'\-]+)\, it shatters into glimmering fragments\.$</string><string>^[\w'\-]+\'s cantata shatters the defences surrounding ([\w'\-]+)\.$</string><string>^The othala rune on the ground suddenly erupts in a great gout of boiling magma\, the concussive blast smashing into the magical shield surrounding ([\w'\-]+) and rendering it asunder\.$</string><string>^Lunging forward\, you bring .* in a savage diagonal blow\, carving through ([\w'\-]+)\'s shield\.$</string><string>^Continuing your assault\, you whip .* in a vicious rising slash at ([\w'\-]+)\.$</string><string>^You lunge toward ([\w'\-]+) with .*\, but finding no resistance\, you stumble hopelessly off balance\.$</string><string>^[\w'\-]+\'s cantata shatters the defences surrounding ([\w'\-]+)\.$</string><string>^The end of your staff smashes the magical shield surrounding ([\w'\-]+) in an explosion of translucent shards\.$</string><string>^Your shadow leaps for ([\w'\-]+), hammering [\w'\-]+ shield in a silent frenzy that causes it to explode in a shower of prismatic shards\.$</string><string>^([\w'\-]+) is not surrounded by a magical shield\.$</string><string>^Following the momentum of your initial strike, you come back around with a crushing blow that makes the magical shield surrounding ([\w'\-]+) explode into myriad shards\.$</string><string>^Bleeding off the momentum from your initial blow, you come around again, slicing cleanly through ([\w'\-]+)\'s magical shield\.$</string><string>^You prepare yourself to flick your tail at ([\w'\-]+) before realising that doing so would not actually do anything\.$</string><string>^You flick your tail at ([\w'\-]+)\, dismissively brushing aside the paltry shield protecting [\w'\-]+\.$</string><string>^[\w'\-]+ dismissively flicks [\w'\-]+ tail at ([\w'\-]+)\, annihilating the magical shield surrounding [\w'\-]+ with casual ease\.$</string><string>^You raze ([\w'\-]+)\'s magical shield with .+\.$</string><string>^You conjure a blade of ice and send it to lacerate the flesh of ([\w'\-]+)\.$</string><string>^You conjure a blade of ice and drive it straight through the magical shield surrounding ([\w'\-]+)\, causing it to explode in a shower of prismatic shards\.$</string><string>^You lurch forward at ([\w'\-]+)\, swinging .* in a wildly innacurate blow\.$</string><string>^You deliver a single\, powerful blow against the magical shield surrounding ([\w'\-]+)\, fracturing it\.$</string><string>^You twist your torso and send a roundhouse towards ([\w'\-]+)\.$</string><string>^A miriad image of [\w'\-]+ brings a translucent battleaxe down in a powerful overhanded blow upon([\w'\-]+)\.$</string><string>^[\w'\-]+ brings a translucent battleaxe down in a powerful overhanded blow upon([\w'\-]+)\.$</string><string>^Bracing your feet\, you drive .+ towards ([\w'\-]+)\.$</string><string>^Your blow scythes through the air in front of ([\w'\-]+)\, missing entirely\.$</string><string>^Your blow cleaves through the magical shield surrounding ([\w'\-]+), continuing on to drive him from(his|her) feet\.$</string><string>^You find no magical shield surrounding ([\w'\-]+), and your power is unable to take hold\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shielded</name><script>if IsTargetted(matches[2]) then
	 if ak.ai() then return end
   ak.shieldwhore = true
   tempTimer(5,[[ak.shieldwhore = false]])
   ak.defs.shield = true
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A nearly invisible magical shield forms around ([\w'\-]+).$</string><string>^A dizzying beam of energy strikes you as your attack rebounds off of ([\w'\-]+)\'s shield\.$</string><string>^The magical shield surrounding ([\w'\-]+) makes that impossible\.$</string><string>^A shimmering barrier of crystal forms about ([\w'\-]+)\.$</string><string>^A guardian angel surrounds ([\w'\-]+) with a protective shield\.$</string><string>^A gentle hum arises from (\w+)\'s angel, as it raises a shield to protect \w+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shield Illusion 2</name><script>if IsTargetted(multimatches[1][2]) then
   ak.defs.shield = false
   ak.scoreup(multimatches[2][2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A nearly invisible magical shield forms around ([\w'\-]+).$</string><string>** Illusion **</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lemming shield pop</name><script>local defstrip = matches[2]
--echo(defstrip)
if IsTargetted(matches[3]) then
  if ak.ai() then return end
  if defstrip == "magical shield defence" then
    ak.defs.shield = false
    ak.scoreup(matches[3])
  elseif defstrip == "aura of rebounding defence" then
    ak.defs.reRebounding = true
    ak.defs.rebounding = false
    ak.scoreup(matches[3])
  else
    ak.defs.reRebounding = true
    ak.defs.rebounding = false
    ak.defs.shield = false
    ak.scoreup(matches[3])
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A small brown lemming rips apart the (.+) of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shield Illusion</name><script>if IsTargetted(multimatches[2][2]) then
   ak.defs.shield = false
   ak.scoreup(multimatches[2][2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>** Illusion **</string><string>^A nearly invisible magical shield forms around ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lyre</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lyred Down</name><script>if IsTargetted(matches[2])and targetlyred == 1 then
	 if ak.ai() then return end
   targetlyred = 0
   ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+)\'s prismatic barrier dissolves into nothing\.$</string><string>^The breath weapon rips apart ([\w'\-]+)\'s prismatic barrier\.$</string><string>^The othala rune on the ground suddenly erupts in a great gout of boiling magma\, the concussive blast smashing into the prismatic barrier surrounding ([\w'\-]+) and rendering it asunder\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lyred Up</name><script>if IsTargetted(matches[2]) and targetlyred == 0 then
	 if ak.ai() then return end
   targetlyred = 1
   ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) strums a few notes on .+\, and a prismatic barrier forms around (her|him)\.$</string><string>^Your attack is repelled by the prismatic barrier surrounding ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragon Classlock Correction</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	ak.dragonfied()
end
--Blasts Not Added
--Strip Not Added
--Summons have Red,Black,Silver</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						</regexCodeList><regexCodePropertyList>
						</regexCodePropertyList></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Monk Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jbp</name><script>if ak.ai() then return end
aff = "deaf"
if IsTargetted(multimatches[2][2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You expertly jab your fingers into the nerve cluster behind the ear of</string><string>^You expertly jab your fingers into the nerve cluster behind the ear of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wrt Arm Failure</name><script>if ak.ai() then return end
local limbcheck = matches[2]..""..matches[3]
local lastpercentrelay = "lastpercent"..limbcheck
if affstrack.score[limbcheck] &gt; 0 then
    if ak.thoughtIhad then ak.thoughtIhad(limbcheck) else affstrack.score[limbcheck] = 0 end
    ak.limbs.limbcount[target][limbcheck] = (ak.limbs.limbcount[target][lastpercentrelay])
    _G[target.."rightlegdisablelimbdamage"] = nil
    ak.scoreup(matches[4])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+) is not sufficiently damaged for you to perform that attack against it\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wrench Head</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   if affstrack.score.head == 0 then
	    ak.limbs.limbcount[target]["head"] = 0
	    affstrack.score.head = 100
	 end
   local aff = "wrenchhead,epilepsy"
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Grabbing hold of the head of ([\w'\-]+)\, you savagely wrench it down and forward\, driving your knee up to meet it with a sickening crack\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pmp</name><script>if ak.ai() then return end
aff = "impatience"
if IsTargetted(multimatches[2][2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The palmstrike smashes into the temple of</string><string>^The palmstrike smashes into the temple of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wrench Torso</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   if affstrack.score.torso == 0 then
	    ak.limbs.limbcount[target]["torso"] = 0
	    affstrack.score.torso = 100
	 end
   local aff = "wrenchtorso"
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Stepping inside the guard of ([\w'\-]+)\, you lock your hands behind (her|him) before savagely wrenching (her|him) forward\, driving your knee up beneath (her|his) ribs\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wrt Head|Torso Failure</name><script>if ak.ai() then return end
local limbcheck = matches[2]
local lastpercentrelay = "lastpercent"..limbcheck
if affstrack.score[limbcheck] &gt; 0 then
    if ak.thoughtIhad then ak.thoughtIhad(limbcheck) else affstrack.score[limbcheck] = 0 end
    ak.limbs.limbcount[target][limbcheck] = (ak.limbs.limbcount[target][lastpercentrelay])
    _G[target.."rightlegdisablelimbdamage"] = nil
    ak.scoreup(matches[3])
end
ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The ([\w'\-]+) of ([\w'\-]+) is not sufficiently damaged for you to perform that attack against it\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pmp2</name><script>if ak.ai() then return end
aff = "stupidity"
if IsTargetted(multimatches[2][2])then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your palm smashes into the bridge of</string><string>^Your palm smashes into the bridge of ([\w'\-]+)'s nose\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blp</name><script>if ak.ai() then return end
aff = "dizziness"
if IsTargetted(multimatches[2][2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You whip your hand in a vicious bladehand at the neck of</string><string>^You whip your hand in a vicious bladehand at the neck of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Riding Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trample</name><script>if IsTargetted(matches[4]) then
local limbcheck = matches[2]..""..matches[3]
if affstrack.score[limbcheck] &lt; 100 then
   affstrack.score[limbcheck] = 100
   ak.scoreup(matches[4])
end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>An alabaster pegasus breaks the ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+)\.</string><string>An alabaster pegasus crushes the ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+)\.</string><string>An alabaster pegasus pulverises the ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+)\.</string><string>An alabaster pegasus smashes the ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+)\.</string><string>^The ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+) is smashed to a bloody pulp\.$</string><string>A steppe eagle breaks the ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+)\.</string><string>A steppe eagle crushes the ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+)\.</string><string>A steppe eagle pulverises the ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+)\.</string><string>A steppe eagle smashes the ([\w'\-]+) ([\w'\-]+) of ([\w'\-]+)\.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Misc</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tumble end</name><script>if IsTargetted(matches[2]) then
   ak.tumbling = false
	 ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) tumbles out to the ([\w'\-]+)\.$</string><string>^([\w'\-]+)'s somersault takes (?:her|him) out of the room to the [\w'\-]+\.$</string><string>^The discordant sound of your song causes ([\w'\-]+) to lose concentration, ruining their movement attempt\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tumble start</name><script>if IsTargetted(matches[2]) then
   ak.tumbling = matches[3]
	 tempTimer(4, [[ak.tumbling = false]])
   ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) begins to tumble towards the [\w'\-]+\.$</string><string>^([\w'\-]+) begins to somersault towards the [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trait Gag Out</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trait Ending</name><script>ak.deleteFull()
disableTrigger("Trait Gag Out")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Key: Major Trait  Minor Trait</string><string>----------------------------------------------------------------------Key: Major Trait  Minor Trait</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Begin</name><script>ak.deleteFull()
ak.expertdiagnose = false
ak.contemplator = false
ak.healthinspector = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Racial\: .*$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Traits Parse</name><script>ak.deleteFull()
if matches[3] then
   --display(matches[3])
   if matches[3] == "Quick-witted             " then
      ak.balancemodifier = "quickwitted"
   elseif string.find(matches[3],"Nimble") then
      ak.balancemodifier = "nimble"
   elseif string.find(matches[3],"Expert Diagnoser") then
      --ak.expertdiagnose = true
   elseif string.find(matches[3],"Mind Warden") then
      ak.contemplator = true
	 elseif string.find(matches[3],"Health Inspector") then
	    ak.healthinspector = true
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>----------------------------------------------------------------------</string><string>^Level (\d+)\: (.+)\s+$</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Apostate Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stared</name><script>if ak.ai() then
  return
end
if nextcurse then
  if nextcurse == "breach" then
  elseif nextcurse == "sicken" then
    if affstrack.score.paralysis &lt; 100 then
      nextcurse = "paralysis"
    elseif affstrack.score.healthleech &lt; 100 then
      nextcurse = "manaleech"
    else
      nextcurse = "slickness"
    end
  elseif nextcurse == "plague" then
    nextcurse = "voyria"
  elseif nextcurse == "clumsy" then
    nextcurse = "clumsiness"
  elseif nextcurse == "dizzy" then
    nextcurse = "dizziness"
  elseif nextcurse == "stupid" then
    nextcurse = "stupidity"
  elseif nextcurse == "vomiting" then
    nextcurse = "nausea"
  elseif nextcurse == "reckless" then
    nextcurse = "recklessness"
  end
  OppGainedAff(nextcurse)
  nextcurse = nil
  return
end
if nextcurse2 then
  if nextcurse2 == "breach" then
  elseif nextcurse2 == "sicken" then
    if affstrack.score.paralysis &lt; 100 then
      nextcurse2 = "paralysis"
    elseif affstrack.score.healthleech &lt; 100 then
      nextcurse2 = "manaleech"
    else
      nextcurse2 = "slickness"
    end
  elseif nextcurse2 == "plague" then
    nextcurse2 = "voyria"
  elseif nextcurse2 == "clumsy" then
    nextcurse2 = "clumsiness"
  elseif nextcurse2 == "dizzy" then
    nextcurse2 = "dizziness"
  elseif nextcurse2 == "stupid" then
    nextcurse2 = "stupidity"
  elseif nextcurse2 == "vomiting" then
    nextcurse2 = "nausea"
  elseif nextcurse2 == "reckless" then
    nextcurse2 = "recklessness"
  end
  OppGainedAff(nextcurse2)
  nextcurse2 = nil
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You stare at ([\w'\-]+), giving [\w'\-]+ the evil eye\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sicken</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	if affstrack.score.paralysis ~= 100 then
		ak.ProTrackingConfirmed("paralysis")
		affstrack.score.paralysis = 100
		affstrack.score.slickness = 100
		affstrack.score.manaleech = 100
		ak.scoreup(matches[2])
	else
		affstrack.score.paralysis = 100
		affstrack.score.slickness = 100
		affstrack.score.manaleech = 100
		ak.scoreup(matches[2])
	end
end

	

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) doubles over\, eyes bulging\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sword &amp; Board Group</name><script>--
--Everything that follows was originally written by Klendathu

--I have mildly modified portions of be more up to date with my current offense tracking system,
--while attempting to leave the majority of it in place so he has to do very little to maintain
--continued functionality.  If you are a using this section, I strongly encourage you to make sure
--to spend a few extra seconds and drop him a thank you.

--Thank you.
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>sword_and_board</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smash Mid</name><script>if ak.ai() then return end
boardaffs = boardaffs or {}
local aff = "paralysis"
if IsTargetted(matches[2])then
   table.insert(boardaffs, aff)
end
enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You quickly lunge to the side\, bringing your shield around to smash into the spine of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Strike Mid</name><script>if ak.ai() then return end
boardaffs = boardaffs or {}
local aff = "sensitivity"
affstrack.ferocity = 0
if IsTargetted(matches[2]) then
   table.insert(boardaffs, aff)
end
enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#55aa7f</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You draw .* back\, then lunge forward with a savage strike to the ribs of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trip</name><script>if ak.ai() then return end
boardaffs = boardaffs or {}
local aff = "prone"
if IsTargetted(matches[2]) then
   table.insert(boardaffs, aff)
end
enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You duck low and smash your shield into the knees of ([\w'\-]+), causing them to buckle underneath (him|her)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Strike Low</name><script>if ak.ai() then return end
affstrack.ferocity = 0

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#55aa7f</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You lunge downward, slamming the edge of .+ into the shins of ([\w'\-]+)\.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Strike High</name><script>if ak.ai() then return end
affstrack.ferocity = 0

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#55aa7f</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You spin in a quick circle\, using the momentum to savagely strike the chin of ([\w'\-]+) with the edge of .*\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Drive</name><script>if ak.ai() then return end
boardaffs = boardaffs or {}
local aff = "asthma"
if IsTargetted(matches[2]) then
   table.insert(boardaffs, aff)
end
enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Planting your feet\, you drive the edge of your shield with vicious precision into the throat of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smash High (In Progress{Please Submit if You Complete}]</name><script>if ak.ai() then return end
boardaffs = boardaffs or {}
if IsTargetted(matches[2]) then
   table.insert(boardaffs, "HIGH")
end
enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You swing your shield around\, smashing the temple of ([\w'\-]+) with a backhanded blow\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smash Low</name><script>if ak.ai() then return end
boardaffs = boardaffs or {}
local aff = "clumsiness"
if IsTargetted(matches[2]) then
   table.insert(boardaffs, aff)
end
enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You smash the edge of .* into the kneecaps of ([\w'\-]+), causing (him|her) to stumble\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ferocity</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ferocity 4</name><script>if ak.ai() then return end
affstrack.ferocity = 4
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#55aa00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The ferocity of your blows renders any defence useless against you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ferocity 2</name><script>if ak.ai() then return end
affstrack.ferocity = 2
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The strength of your blows continues to rise as you hammer at your enemy.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ferocity 3</name><script>if ak.ai() then return end
affstrack.ferocity = 3
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The ferocity of battle drives you to yet greater heights.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ferocity Decay All</name><script>if ak.ai() then return end
affstrack.ferocity = 0
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#55aa00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have lost all of your gained ferocity.</string><string>Your attacks lack sufficient ferocity to carry out such an attack.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ferocity 1</name><script>if ak.ai() then return end
affstrack.ferocity = 1
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You batter at your enemy's defences, seeking an opening.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ferocity Decay 1</name><script>if ak.ai() then return end
affstrack.ferocity = affstrack.ferocity or 0
affstrack.ferocity = affstrack.ferocity - 1
if affstrack.ferocity &lt; 0 then affstrack.ferocity = 0 end
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#00aa00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your ferocity decreases.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>2h Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Perceive Enable</name><script>ak = ak or {}
ak.twoh = ak.twoh or {}
enableTrigger("Enemy Fractures")
ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Narrowing your gaze upon</string><string>^Narrowing your gaze upon ([\w'\-]+)\, you take stock of [\w'\-]+ current injuries\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Precision</name><script>ak.twoh.modifier = 2
ak.limbs.twoh.stance["Me"] = "precision"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You shift your stance, poising yourself for a precise strike against your foe.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Applied</name><script>if IsTargetted(matches[2]) then
	if gmcp and gmcp.Char and gmcp.Char.Vitals and gmcp.Char.Vitals.charstats[3] and gmcp.Char.Vitals.charstats[3] == "Spec: Two Handed" then			
		send("battlefury perceive "..target)
	end
	--if ak.twoh[ak.twoh.salveconversion[matches[3]]] &gt; 5 then
		--ak.twoh[ak.twoh.salveconversion[matches[3]]] = ak.twoh[ak.twoh.salveconversion[matches[3]]] - 2
		--cecho("&lt;yellow&gt;"..ak.twoh.salveconversion[matches[3]]..":&lt;cyan&gt; "..ak.twoh[ak.twoh.salveconversion[matches[3]]])
	--else
		ak.twoh[ak.twoh.salveconversion[matches[3]]] = ak.twoh[ak.twoh.salveconversion[matches[3]]] - 1
		if ak.twoh[ak.twoh.salveconversion[matches[3]]] &lt; 0 then ak.twoh[ak.twoh.salveconversion[matches[3]]] = 0 end
		cecho("&lt;yellow&gt;"..ak.twoh.salveconversion[matches[3]]..":&lt;cyan&gt; "..ak.twoh[ak.twoh.salveconversion[matches[3]]])
	--end
	if matches[3] == "legs" then
		ak.tendonHit()
	elseif matches[3] == "arms" then
		ak.wristHit()
	elseif matches[3] == "head" then
		ak.skullHit()
	elseif matches[3] == "torso" then
		ak.ribHit()
	end
	ak.scoreup(matches[2])
end
--legs,arms,head,torso
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) takes some elixir from .* and rubs it into [\w'\-]+ ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Did brain</name><script>ak.didBrain = true
tempTimer(20, [[
ak.didBrain = false
]])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You feel the satisfying crunch of bone as a Siroccian warhammer smashes home.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Speed</name><script>ak.twoh.modifier = 1
ak.limbs.twoh.stance["Me"] = "knight"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Channeling the fury of battle, you prepare to unleash a brutally swift stroke against your foe.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devastate</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Level 2</name><script>if IsTargetted(multimatches[2][3]) then
	if multimatches[2][2] == "legs" then
		affstrack.score.rightleg = 200
		affstrack.score.leftleg = 200
		ak.twoh.tendons = 0
		ak.tendonHit()
		ak.scoreup(multimatches[2][3])
	elseif multimatches[2][2] == "arms" then
		affstrack.score.rightarm = 200
		affstrack.score.leftarm = 200
		ak.twoh.wrist = 0
		ak.wristHit()
		ak.scoreup(multimatches[2][3])
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You whip</string><string>^You whip .* in a vicious arc\, hewing savagely into the ([\w'\-]+) of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Level 1</name><script>if IsTargetted(multimatches[2][3]) then
	if multimatches[2][2] == "legs" then
		affstrack.score.rightleg = 100
		affstrack.score.leftleg = 100
		ak.twoh.tendons = 0
		ak.tendonHit()
		ak.scoreup(multimatches[2][3])
	elseif multimatches[2][2] == "arms" then
		affstrack.score.rightarm = 100
		affstrack.score.leftarm = 100
		ak.twoh.wrist = 0
		ak.wristHit()
		ak.scoreup(multimatches[2][3])
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Bracing your feet, you launch a devastating slash at the</string><string>^Bracing your feet\, you launch a devastating slash at the ([\w'\-]+) of ([\w'\-]+)\, delivering a glancing blow\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Level 3</name><script>if IsTargetted(multimatches[2][3]) then
	if multimatches[2][2] == "legs" then
		affstrack.score.rightleg = 300
		affstrack.score.leftleg = 300
		ak.twoh.tendons = 0
		ak.tendonHit()
		ak.scoreup(multimatches[2][3])
	elseif multimatches[2][2] == "arms" then
		affstrack.score.rightarm = 300
		affstrack.score.leftarm = 300
		ak.twoh.wrist = 0
		ak.wristHit()
		ak.scoreup(multimatches[2][3])
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Adjusting your footing, you unleash a horrific slash at the</string><string>^Adjusting your footing\, you unleash a horrific slash at the ([\w'\-]+) of ([\w'\-]+)\, cleaving flesh and shattering bone in a savage display of your supremacy\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Enemy Fractures</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parry</name><script>targetparry = ak.limbs.standardizeLimb(matches[3])
disableTrigger("Enemy Fractures")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) is attempting to parry blows directed at [\w'\-]+ (.*)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fracture Count</name><script>ak.twoh[matches[3]] = matches[2] + 0
if ak.twoh[matches[3]] == 0 then
	ak.deleteFull()
else
	cecho("&lt;yellow&gt;"..matches[3]..":&lt;cyan&gt; "..ak.twoh[matches[3]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[\w'\-]+ suffers from (\d+) ([\w'\-]+) fractures\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No Parry</name><script>targetparry = "none"
ak.deleteFull()
disableTrigger("Enemy Fractures")
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>He does not seem to be parrying anything.</string><string>She does not seem to be parrying anything.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tendons</name><script>ak.twoh["tendons"] = matches[2] + 0
if ak.twoh["tendons"] == 0 then
	ak.deleteFull()
else
	cecho("&lt;yellow&gt;tendons:&lt;cyan&gt; "..ak.twoh["tendons"])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[\w'\-]+ suffers from (\d+) torn tendons\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ribs</name><script>ak.twoh["ribs"] = matches[2] + 0
if ak.twoh["ribs"] == 0 then
	ak.deleteFull()
else
	cecho("&lt;yellow&gt;ribs:&lt;cyan&gt; "..ak.twoh["ribs"])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[\w'\-]+ suffers from (\d+) cracked ribs\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Added</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hew Arms</name><script>if IsTargetted(matches[3]) then
	ak.twoh.wrist = ak.twoh.wrist + ak.twoh.modifier
	if ak.twoh.wrist &gt; 8 then ak.twoh.wrist = 8 end
	cecho("&lt;yellow&gt;wrist:&lt;cyan&gt; "..ak.twoh.wrist)
	ak.wristHit()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The sickening crunch of bone can be heard as the blade smashes into the ([\w'\-]+) arm of ([\w'\-]+)\.$</string><string>^The wet crunch of bone can be heard as the hammer smashes into the (right|left) arm of ([\w'\-]+).$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hew Legs</name><script>if IsTargetted(matches[2]) then
	ak.twoh.tendons = ak.twoh.tendons + ak.twoh.modifier
	if ak.twoh.tendons &gt; 7 then ak.twoh.tendons = 7 end
	cecho("&lt;yellow&gt;tendons:&lt;cyan&gt; "..ak.twoh.tendons)
	ak.tendonHit()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) almost falls as the blade savagely bites into [\w'\-]+ lower ([\w'\-]+) leg\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Underhand</name><script>if IsTargetted(matches[2]) then
	ak.twoh.ribs = ak.twoh.ribs + ak.twoh.modifier
	if ak.twoh.ribs &gt; 7 then ak.twoh.ribs = 7 end
	cecho("&lt;yellow&gt;ribs:&lt;cyan&gt; "..ak.twoh.ribs)
	ak.ribHit()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) doubles over as the blade slams into [\w'\-]+ side\.$</string><string>^([\w'\-]+) doubles over as the hammer savagely crunches into (his|her) ribcage.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Overhand</name><script>if IsTargetted(matches[2]) then
	ak.twoh.skull = ak.twoh.skull + ak.twoh.modifier
	if ak.twoh.skull &gt; 7 then ak.twoh.skull = 7 end
	cecho("&lt;yellow&gt;skull:&lt;cyan&gt; "..ak.twoh.skull)
	ak.skullHit()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) staggers as the blade strikes [\w'\-]+ in the side of the head\.$</string><string>^([\w'\-]+) staggers back as the hammer catches (him|her) a glancing blow to the head.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bard Group</name><script>--
--Everything that follows was originally written by Klendathu

--I have mildly modified portions of be more up to date with my current offense tracking system,
--while attempting to leave the majority of it in place so he has to do very little to maintain
--continued functionality.  If you are a using this section, I strongly encourage you to make sure
--to spend a few extra seconds and drop him a thank you.

--Thank you.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>bard_plugin_for_affstrack</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Martellato</name><script>OppGainedAff("Prone")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The songblessing upon the rapier swells with a rich, vibrant hum.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hearts-Fury Counter</name><script>enableTrigger("Confirmed Counter Hit")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Full of controlled rage you lash out in a counterstrike.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confirmed Counter Hit</name><script>disableTrigger("Confirmed Counter Hit")
if target == matches[3] then
   enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
   enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!
   if weaponattack == nil then weaponattack = {} end
   table.insert(weaponattack, matches[2])
end
--display(weaponattack)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You bring (.*) crashing down on ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Riposte Parry</name><script>enableTrigger("Confirmed Counter Hit")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Lightning-quick, you flick your blade out in riposte.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voicecraft</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dirge (banish gravehands)</name><script>ak.songoff = true
selectCurrentLine() fg("GreenYellow") deselect() resetFormat()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With an unearthly dirge, you banish the hands that reach from the grave.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cantata (breaks shield)</name><script>ak.songoff = true
selectCurrentLine() fg("GreenYellow") deselect() resetFormat()

if IsTargetted(matches[2]) then
	ak.defs.rebounding = false
	ak.defs.shield = false
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your cantata shatters the defences surrounding ([\w'\-]+)\.$</string><string>^Your cantata shatters the magical shield surrounding (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Poem (nausea)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("nausea")
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your poem of gluttony and decay makes ([\w'\-]+) green in the cheeks\.$</string><string>^The songbird upon your shoulder sings out a poem of gluttony and decay that makes ([\w'\-]+) green in the cheeks\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Qasida (Anorexia)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("Anorexia")
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Starting with the characteristic Jaziran trill\, you sing a qasida of asceticism to ([\w'\-]+)\.$</string><string>^The songbird upon your shoulder sings a qasida of asceticism to ([\w'\-]+), starting with the characteristic Jaziran trill\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limerick (Impatience)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	 OppGainedAff("Impatience")
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Composing a few clever lines in your head\, you quickly sing a jaunty limerick at ([\w'\-]+)\.$</string><string>^The songbird upon your shoulder quickly sings a jaunty limerick at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ode (Addiction)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("Addiction")
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With a wink\, you recite \"Ode to Elixirs\" to ([\w'\-]+)\.$</string><string>^The songbird upon your shoulder perfectly mimics a recitation of \"Ode to Elixirs\" to ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Requiem (Paranoia)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("Paranoia")
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With a mournful cry you begin the requiem for Seleucar to ([\w'\-]+)\.$</string><string>^With a mournful cry\, the songbird upon your shoulder begins the requiem for Seleucar to ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Maqam (Clumsiness)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
   if affstrack.score.clumsiness == 100 then
	    OppGainedAff("Dizziness")
   else
      OppGainedAff("Clumsiness")
   end
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You sing a graceful maqam of el\'Jazira at ([\w'\-]+)\.$</string><string>^The songbird upon your shoulder sings a graceful maqam of el\'Jazira at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ditty (Epilepsy)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("Epilepsy")
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You sing an irritating\, mind\-numbing ditty at ([\w'\-]+)\.$</string><string>^The songbird upon your shoulder twitters an irritating\, mind\-numbing ditty at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cantata no shield | rebounding</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	ak.defs.rebounding = false
	ak.defs.shield = false
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You let the grace of your voice shine forth with a Scarlattan cantata at (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epic (Paralysis)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("Paralysis")
else
	ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You begin reciting an epic tale of the heroism of Nicator to ([\w'\-]+)\, holding (him|her) spellbound\.$</string><string>^The songbird upon your shoulder begins to perfectly mimic the recitation of an epic tale of the heroism of Nicator to ([\w'\-]+)\, holding (him|her) spellbound\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dwinnu (breaks bonds)</name><script>ak.songoff = true
selectCurrentLine() fg("GreenYellow") deselect() resetFormat()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>'DWINNU! DWINNU!' you chant urgently as your bonds turn to dust.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Passion (Stupidity)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("Stupidity")
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With a gravity born of respect\, you sing of the saintly Imithia of legend, bringing a certain dull look to ([\w'\-]+)\'s face\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chant (In Progress{Please Submit if You Complete}]</name><script>ak.songoff = true
if IsTargetted(matches[3]) then
 	--do something
   ak.scoreup(matches[3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You sing a sonorous chant\, stripping the ([\w'\-]+) defence of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pastorale (Vertigo)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("Vertigo")
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You sing a pastorale of the fields and streams to ([\w'\-]+)\.$</string><string>^The songbird upon your shoulder sings a pastorale of the fields and streams to ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tremolo</name><script>ak.limbs.ScoreRun = true
ak.limbs.LimbHit(multimatches[2][2],"Me", "tremolo", multimatches[2][3].."leg")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Using a heavy tremolo you brutally punish</string><string>^Using a heavy tremolo you brutally punish ([\w'\-]+)\'s already shattered ([\w'\-]+) leg\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fugue (Fear)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("Fear")
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Weaving a complex counterpoint between instrument and voice\, you fill ([\w'\-]+) with fear\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Isorhythm (Claustrophobia)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("Claustrophobia")
else
	ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^In droning song you subject ([\w'\-]+) to a lengthy isorhythm\.$</string><string>^The songbird upon your shoulder launches into a droning song\, subjecting ([\w'\-]+) to a lengthy isorhythm\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Balance Recovered</name><script>ak.songoff = false
ak.scoreup(target)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have recovered voice balance.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Haiku (Confusion)</name><script>ak.songoff = true
if IsTargetted(matches[2]) then
	OppGainedAff("Confusion")
else
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You recite an obscure Kamleikan haiku to ([\w'\-]+)\.$</string><string>^The songbird upon your shoulder perfectly mimics the recitation of an obscure Kamleikan haiku to ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voicecraft failed due to deafness</name><script>ak.songoff = true
cecho("\n    &lt;white&gt;--== TARGET IS DEAF ==--&lt;reset&gt;")
if not matches[2] or IsTargetted(matches[2]) then
	affstrack.score.deaf = 0
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You sing a graceful maqam of el\'Jazira at ([\w'\-]+)\, who seems unmoved\.$</string><string>^You sense futility as you recite an obscure Kamleikan haiku to ([\w'\-]+)\.$</string><string>^In droning song you subject ([\w'\-]+) to a lengthy isorhythm\, without results\.$</string><string>^Weaving a complex counterpoint between instrument and voice\, you fail to instill anything like fear in ([\w'\-]+)\.$</string><string>^You invoke chaotic powers in a dark solo but fail to drain the essential magic of ([\w'\-]+)\.$</string><string>^You direct a poem of gluttony and decay at ([\w'\-]+)\, without success\.$</string><string>^You sing a pastorale of the fields and streams to ([\w'\-]+)\, who seems not to notice\.$</string><string>^You chant \'GIMMEGIMME\' at ([\w'\-]+)\, who does not react\.$</string><string>^You sing an irritating\, mind\-numbing ditty at ([\w'\-]+)\, who seems curiously unaffected\.$</string><string>^With a mournful cry you begin the requiem for Seleucar to ([\w'\-]+)\, who appears unmoved\.$</string><string>^Using a heavy tremolo you sing\, uselessly\, aiming at ([\w'\-]+)\'s (left|right) leg\.$</string><string>^With a frustratingly irrelevant vibrato you aim at ([\w'\-]+)\'s (left|right) arm\.$</string><string>^Your recitation of an epic tale of the heroism of Nicator has no effect on ([\w'\-]+)\.$</string><string>^With a wink\, you recite \"Ode to Elixirs\" to ([\w'\-]+)\, who looks on\, unimpressed\.$</string><string>^Starting with the characteristic Jaziran trill\, you sing a qasida of asceticism to ([\w'\-]+)\, who seems undaunted\.$</string><string>^With a gravity born of respect\, you sing of the saintly Imithia\, if only for yourself\.$</string><string>^Composing a few clever lines in your head\, you quickly sing a jaunty limerick at ([\w'\-]+)\, who seems to pay no notice\.$</string><string>^You sing a sonorous chant which fails to strip the defences of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Harmonics</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Berceuse</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Berceuse sent them to sleep!</name><script>if multimatches[1][2]:lower() == target:lower() then
	if affstrack.score.prone &lt; 100 then
		OppGainedAff("prone sleep")
	else
		OppGainedAff("sleep")
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^([\w'\-]+)\'s eyes close suddenly as (s|)he falls asleep\.$</string><string>^([\w'\-]+) drifts away into the soft music of the Berceuse\, abandoning (him|her)self to its soporific tones\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Berceuse stripped insomnia</name><script>if IsTargetted(matches[2]) then
   affstrack.score.insomnia = 100
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^([\w'\-]+) drifts away into the soft music of the Berceuse\, abandoning (him|her)self to its soporific tones\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bagatelle</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bagatelle restored hearing</name><script>if IsTargetted(matches[2]) then
	OppGainedAff("deaf")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^([\w'\-]+) cries out with a look of surprise as the Bagatelle restores (his|her) hearing\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Swashbuckling</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Auralbless (undeaf)</name><script>if matches[2] == "yourself" then return false end

if IsTargetted(matches[2]) then
	affstrack.score.deaf = 100
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You lightly strike the side of ([\w'\-]+)\'s head with your rapier\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Raze rebounding|shield</name><script>if IsTargetted(matches[2]) then
	if string.find(matches[1], "rebounding") then
		ak.defs.rebounding = false
	else
		ak.defs.shield = false
	end
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You raze ([\w'\-]+)\'s (aura of rebounding|magical shield) with a rapier carved from living ice\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tunesmithing</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pesante fired</name><script>tunesmithing = "none"
if affstrack.score.deaf &lt; 100 then 
   affstrack.score.deaf = 100
	 ak.scoreup(target)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The songblessing unleashes a stunning percussive blast.</string><string>The songblessing unleashes a strident note.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Acciaccatura fired</name><script>tunesmithing = "none"
if ak.ai() then return end
--ak.limbs.ParseonLine()
if IsTargetted(matches[2]) then
   local smashlimb = ak.limbs.standardizeLimb(matches[3])
   if affstrack.score[smashlimb] &lt; 100 then
      OppGainedAff(smashlimb)
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^A bell\-like tone rings out from your songblessed rapier\, echoed by the sound of cracking bone as ([\w'\-]+)\'s (left leg|right leg|left arm|right arm) snaps\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Check tunesmithing</name><script>tunesmithing = multimatches[2][2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A soft, haunting melody emanates from this blade.</string><string>^It has been tunesmithed with the power of the ([\w'\-]+)\.</string><string>It weighs about 10 pounds.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Martellato fired</name><script>tunesmithing = "none"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The songblessing upon the rapier swells with a rich, vibrant hum.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tunesmithing</name><script>tunesmithing = matches[2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You weave strands of melodies over your blade, tunesmithing it with the power of the ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Magi Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Frozen</name><script>if ak.ai() then return end
OppGainedAff("frozen")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You raise a hand towards [\w'\-]+ and blast [\w'\-]+ with cold, frigid air\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impurity</name><script>if nextcurse and nextcurse ~= "paralysis" then
	 if ak.ai() then return end
   OppGainedAff(nextcurse)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You direct a crystalline golem to introduce impurities into the blood of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deepfreeze</name><script>if ak.ai() then return end
OppGainedAff("deepfreeze")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You drain the heat from the air around your enemies, causing them to experience the cold of the abyss itself.</string><string>Austere gestures grandly, and causes a deepfreeze to settle over his enemies.</string><string>Morthif gestures grandly, and causes a deepfreeze to settle over his enemies.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Destabilise</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retardation</name><script>if ak.ai() then return end
send("touch soul")
send("touch soul")
affstrack.score.aeon = 100
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Turning to a crystalline golem you direct him to project a disruptive tone at a retardation vibration.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Oscillate</name><script>if ak.ai() then return end
hitrelay = {"stupidity", "epilepsy"}
OppGainedAff(table.concat(hitrelay, " "))
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Turning to a crystalline golem you direct him to project a disruptive tone at an oscillate vibration.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Creeps</name><script>if ak.ai() then return end
hitrelay = {"agoraphobia", "claustrophobia"}
OppGainedAff(table.concat(hitrelay, " "))
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Turning to a crystalline golem you direct him to project a disruptive tone at a creeps vibration.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dissonance</name><script>if ak.ai() then return end
hitrelay = {"prone", "dizziness"}
OppGainedAff(table.concat(hitrelay, " "))
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Turning to a crystalline golem you direct him to project a disruptive tone at a disorientation vibration.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alchemist Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Corruption</name><script>if target == matches[2] then
   OppGainedAff("corruption")
	 corrtimer = tempTimer(45, [[OppLostAff("corruption")]])	 
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Channeling your focus through your link to your homunculus, you reach out to find the ethereal hook for (\w+)'s humours.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Temper</name><script>if matches[4] == "sanguine" then
	ak.alchemist.humour.sanguine = ak.alchemist.humour.sanguine + 1
elseif matches[4] == "phlegmatic" then
	ak.alchemist.humour.phlegmatic = ak.alchemist.humour.phlegmatic + 1
elseif matches[4] == "choleric" then
	ak.alchemist.humour.choleric = ak.alchemist.humour.choleric + 1
elseif matches[4] == "melancholic" then
	ak.alchemist.humour.melancholic = ak.alchemist.humour.melancholic + 1
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You redirect ([\w'\-]+)\'s internal fluids\, tempering ([\w'\-]+) ([\w'\-]+) humour\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evaluation</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>8</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Looking over ([\w'\-]+), you see that:</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>TrueWrack</name><script>if alchemisttruewrack then
   OppGainedAff(alchemisttruewrack)
   OppGainedAff(alchemisttruewracktwo)
end

--matches[3] + matches[3] == humor wracked
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You send ripples throughout ([\w'\-]+)'s body, wracking ([\w'\-]+) ([\w'\-]+) and ([\w'\-]+) humours\.$</string><string>^You send ripples throughout the body of ([\w'\-]+), as you wrack (his|her) ([\w'\-]+) humour twice.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Copper</name><script>ak.defs.shield = false
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Drawing upon the latent alchemical energies, you sketch out a symbol in the air with your finger in the shape of two overlapping hexagons.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>HomunGerminated</name><script>wsys.unpause()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The growing nucleus begins taking a humanoid form, </string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Corruption cured</name><script>if target == matches[2] then
   OppLostAff("corruption")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) looks far healthier all of a sudden\.$</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wrack</name><script>if alchemistwrack then
   OppGainedAff(alchemistwrack)
end

--matches[3] == humor wracked


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You send ripples throughout ([\w'\-]+)'s body, wracking ([\w'\-]+) ([\w'\-]+) humour\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inundates</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Phleg</name><script>local aff = "weariness anorexia slickness lethargy"

if ak.alchemist.humour.phlegmatic &lt; 4 then
	aff = "lethargy"
elseif ak.alchemist.humour.phlegmatic &lt; 6 then
	aff = "lethargy anorexia"
elseif ak.alchemist.humour.phlegmatic &lt; 7 then
	aff = "lethargy anorexia slickness"
end
if matches[2] == target then
	OppGainedAff(aff)
end
ak.alchemist.humour.phlegmatic = 0
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You inundate ([\w'\-]+)\'s phlegmatic humour\, and (his|her) eyes grow vacant\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Humour Tracking</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ate For Humour</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	ak.alchemist.humour.sanguine = ak.alchemist.humour.sanguine - 1
	ak.alchemist.humour.choleric = ak.alchemist.humour.choleric - 1
	ak.alchemist.humour.melancholic = ak.alchemist.humour.melancholic - 1
	ak.alchemist.humour.phlegmatic = ak.alchemist.humour.phlegmatic - 1
end
if ak.alchemist.humour.sanguine &lt; 0 then 
	ak.alchemist.humour.sanguine = 0
end
if ak.alchemist.humour.choleric &lt; 0 then 
	ak.alchemist.humour.choleric = 0
end 
if ak.alchemist.humour.melancholic &lt; 0 then 
	ak.alchemist.humour.melancholic = 0
end
if ak.alchemist.humour.phlegmatic &lt; 0 then 
	ak.alchemist.humour.phlegmatic = 0
end
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) eats a ginger root\.$</string><string>^([\w'\-]+) eats an antimony flake\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Water Lord Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Choke</name><script>if ak.ai() then return end
if not IsTargetted(matches[2]) then
	return 
end
if affstrack.score.asthma == 100 then
	OppGainedAff("hallucinations")
else	
	OppGainedAff("asthma")
end
ak.pervasion.hitcount = ak.pervasion.hitcount + 1
ak.fluxline = matches[1]
ak.fluxcheck = "choke"
enableTrigger("Flux Enhance")	

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You manifest water inside the lungs of ([\w'\-]+)\, causing [\w'\-]+ to hack and cough violently\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thin</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
  if affstrack.score.haemophilia &gt; 0 then
		ak.thoughtIhad("haemophilia") 
	end
	OppGainedAff("haemophilia")
	ak.pervasion.initialbleed = false
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You exert your limited control of the blood that flows through the veins of ([\w'\-]+)\, thinning it\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Roil Nausea</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
  if affstrack.score.nausea &gt; 0 then
		ak.thoughtIhad("nausea") 
	end
	OppGainedAff("nausea")
	ak.fluxcheck = "roil"
	ak.fluxline = matches[1]
	enableTrigger("Flux Enhance")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You wave a hand casually in the direction of ([\w'\-]+)\, violently roiling the liquid within [\w'\-]+ stomach\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wreck</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppGainedAff("stupidity recklessness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Bringing forth a spinning cyclone of water\, you pick up ([\w'\-]+) in it and repeatedly dash [\w'\-]+ against the ground\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Drench Confusion</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	ak.ProTrackingConfirmed("weariness")
	OppGainedAff("confusion")
end
ak.fluxline = matches[1]
ak.fluxcheck = "drench"
enableTrigger("Flux Enhance")	
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You call down a deluge to drench the impudent ([\w'\-]+)\, leaving [\w'\-]+ dazed and confused\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Drench Weariness</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
  if affstrack.score.weariness &gt; 0 then
		ak.thoughtIhad("weariness") 
	end
	OppGainedAff("weariness")
	ak.fluxline = matches[1]
	ak.fluxcheck = "drench"
	enableTrigger("Flux Enhance")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You call down a deluge to drench the impudent ([\w'\-]+)\, soaking [\w'\-]+ with icy water\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thin</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
ak.ProTrackingConfirmed("haemophilia")
ak.pervasion.initialbleed = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You violently pull on the thinned blood flowing through the inferior form of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parch</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppGainedAff("Lethargy")
end
ak.fluxline = matches[1]
ak.fluxcheck = "parch"
enableTrigger("Flux Enhance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You leech the water from ([\w'\-]+)\, making [\w'\-]+ skin dry and cracked\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Torrent</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   OppGainedAff("rightarm leftarm frozen") 
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You send a concentrated torrent of water at the utterly helpless form of (\w+)\, smashing \w+ limbs with the might of Sllshya\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Perspire</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppGainedAff("slickness")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You force ([\w'\-]+) into a state of heightened perspiring\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Roil Unkown</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	ak.ProTrackingConfirmed("nausea")
	ak.fluxcheck = "roil"
	ak.fluxline = matches[1]
	enableTrigger("Flux Enhance")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You wave a hand in the direction of ([\w'\-]+) roiling the liquid that flows throughout [\w'\-]+ and disrupting [\w'\-]+ mental stability\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Downpour</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppGainedAff("frozen")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Water thunders down upon ([\w'\-]+)\, leaving [\w'\-]+ shivering beneath its chill\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flux Enhance</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Choke</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	--cecho("&lt;cyan&gt;Flux: &lt;white&gt;"..ak.fluxcheck)
	if affstrack.score.nausea ~= 100 then
		ak.ProTrackingConfirmed("nausea")
		affstrack.score.weariness = 100
		ak.scoreup(matches[2])
	elseif affstrack.score.weariness ~= 100 then
		ak.ProTrackingConfirmed("weariness")
	end
end
disableTrigger("Flux Enhance")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The head of a servant of Sllshya erupts from your chest\, its fangs sinking into the exposed throat of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parch</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	--cecho("&lt;cyan&gt;Flux: &lt;white&gt;"..ak.fluxcheck)
	if affstrack.score.haemophilia ~= 100 then
		ak.ProTrackingConfirmed("haemophilia")
		affstrack.score.weariness = 100
		ak.scoreup(matches[2])
	else
		ak.ProTrackingConfirmed("weariness")
	end
	OppGainedAff("addiction")
end
disableTrigger("Flux Enhance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A ravenous gleam enters the eyes of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No Flux Finish</name><script>if ak.ai() then return end
local checks = {
	["choke"] = {[1] = "weariness",[2] = "nausea"},
	["roil"] = {[1] = "weariness",[2] = "asthma"},
	["parch"] = {[1] = "weariness",[2] = "haemophilia"},
	["drench"] = {[1] = "asthma",[2] = "slickness",[3] = "anorexia"},
}
if ak.fluxline and ak.fluxline == matches[1] then return end
ak.fluxcheck = ak.fluxcheck or "unknown"
if not table.contains(checks, ak.fluxcheck) then
	disableTrigger("Flux Enhance")
	return 
end
--cecho("&lt;cyan&gt;Non-Flux: &lt;white&gt;"..ak.fluxcheck)
if ak.fluxcheck == "drench" then

else
	if affstrack.score[checks[ak.fluxcheck][1]] == 100 and affstrack.score[checks[ak.fluxcheck][2]] &lt; 100 then
		--cecho("&lt;cyan&gt;\nCheck Flux: &lt;white&gt;"..checks[ak.fluxcheck][2])
		ak.thoughtIhad(checks[ak.fluxcheck][2])
	elseif affstrack.score[checks[ak.fluxcheck][1]] &lt; 100 and affstrack.score[checks[ak.fluxcheck][2]] == 100 then
		--cecho("&lt;cyan&gt;\nCheck Flux: &lt;white&gt;"..checks[ak.fluxcheck][1])
		ak.thoughtIhad(checks[ak.fluxcheck][1])
	else
	
	end	
end
disableTrigger("Flux Enhance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You force ([\w'\-]+) into a state of heightened perspiring\.$</string><string>^You wave a hand casually in the direction of ([\w'\-]+)\, violently roiling the liquid within [\w'\-]+ stomach\.$</string><string>^You wave a hand in the direction of ([\w'\-]+) roiling the liquid that flows throughout [\w'\-]+ and disrupting [\w'\-]+ mental stability\.$</string><string>^You manifest water inside the lungs of ([\w'\-]+)\, causing [\w'\-]+ to hack and cough violently\.$</string><string>^You call down a deluge to drench the impudent ([\w'\-]+)\, soaking [\w'\-]+ with icy water\.$</string><string>^You call down a deluge to drench the impudent ([\w'\-]+)\, leaving [\w'\-]+ dazed and confused\.$</string><string>^You leech the water from ([\w'\-]+)\, making [\w'\-]+ skin dry and cracked\.$</string><string>^You exert your limited control of the blood that flows through the veins of ([\w'\-]+)\, thinning it\.$</string><string>^You violently pull on the thinned blood flowing through the inferior form of ([\w'\-]+)\.$</string><string>^Tendrils of water lash out from you\, latching themselves to ([\w'\-]+) and hindering [\w'\-]+ attempts to flee\.$</string><string>^You reach for the blood that flows through the inferior form of ([\w'\-]+)\, latching on and drawing it out\.$</string><string>^With an exertion of will\, you reach passed flesh and viscera\, seizing control of every drop of water that flows throughout the walking corpse that is ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Non-Fluxed Attack</name><script>if ak.ai() then return end
ak.fluxcheck = false
disableTrigger("Flux Enhance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string /></regexCodeList><regexCodePropertyList>
								<integer>7</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Roil</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	--cecho("&lt;cyan&gt;Flux: &lt;white&gt;"..ak.fluxcheck)
	if affstrack.score.weariness ~= 100 then
		ak.ProTrackingConfirmed("asthma")
		affstrack.score.weariness = 100
		ak.scoreup(matches[2])
	else
		ak.ProTrackingConfirmed("weariness")
	end
	OppGainedAff("anorexia")
end
disableTrigger("Flux Enhance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The skin of ([\w'\-]+) takes on a green tinge\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Drench</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	--cecho("&lt;cyan&gt;Flux: &lt;white&gt;"..ak.fluxcheck)
	if affstrack.score.asthma ~= 100 then
		ak.ProTrackingConfirmed("asthma")
		affstrack.score.slickness = 100
		affstrack.score.anorexia = 100
		ak.scoreup(matches[2])
	elseif affstrack.score.slickness ~= 100 then
		ak.ProTrackingConfirmed("slickness")
		affstrack.score.anorexia = 100
		ak.scoreup(matches[2])
	else
	  ak.ProTrackingConfirmed("anorexia")
	end
end
disableTrigger("Flux Enhance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Tendrils of water writhe and burrow into the eyes and nose of ([\w'\-]+)\, seeking and questing\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Latch</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Level 1</name><script>if ak.ai() then return end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Tendrils of water lash out from you\, latching themselves to ([\w'\-]+) and hindering [\w'\-]+ attempts to flee\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Latch Cure</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	affstrack.score.latched = 0
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Colour floods back into the face of ([\w'\-]+)\, [\w'\-]+ unhealthy pallor a thing of the past\.$</string><string>^You have not taken dominion over the water that flows through ([\w'\-]+)\.$</string><string>^You reach for the water that courses throughout ([\w'\-]+)\, but it slips through your grasp like smoke\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Latch 3</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	affstrack.score.latched = 300
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^With an exertion of will\, you reach past flesh and viscera\, seizing control of every drop of water that flows throughout the walking corpse that is ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Latch 2</name><script>if ak.ai() then return end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You reach for the blood that flows through the inferior form of ([\w'\-]+)\, latching on and drawing it out\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Occultist Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Occultism</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Whisperingmadness Confirm</name><script>if ak.ai() then
  return
end
if ak.ProTrackingConfirmed then
  ak.ProTrackingConfirmed("whisperingmadness")
else
  affstrack.score.whisperingmadness = 100
  ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) trembles and [\w'\-]+ eyes widen in terror\. (She|He) looks around (herself|himself) as if searching for something that isn\'t there\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>WhisperFail</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   for i=1, #affstrack.whisperlist do
    if affstrack.score[affstrack.whisperlist[i]] &gt; 0 then
      if ak.thoughtIhad then 
        ak.thoughtIhad(affstrack.whisperlist[i]) 
        return  
      end 
    end
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You pass your hand in front of (\w+)\. \w+ shakes \w+ head as if clearing \w+ mind\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Whisper Focused</name><script>if ak.ai() then return end
local aff = matches[3]
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You sense that (\w+) has been struck down with (\w+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Instill</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then	
	if matches[3] ~= "an allergy to sunlight" then
		OppGainedAff(matches[3])
	else 
		OppGainedAff("darkshade")
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You make a sharp gesture toward ([\w'\-]+)\, disrupting \w+ aura with the (.+) affliction\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cold</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   OppGainedAff("frozen")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You create a tendril of icy blue light that lashes out at ([\w'\-]+) and wraps around [\w'\-]+ aura\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cleanse Aura</name><script>cecho("\n&lt;purple&gt; --------------------------------------------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT CLEANSE!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT CLEANSE!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT CLEANSE!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT CLEANSE!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT CLEANSE!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT CLEANSE!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT CLEANSE!!--------------------------")
cecho("\n&lt;purple&gt; --------------------------------------------------------------")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A look of sudden concern flits across the visage of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Truename Used</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   OppGainedAff("aeon")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Drawing back with a knowing smirk\, you utter the truename of ([\w'\-]+)\, who suddenly becomes very still and bleeds from [\w'\-]+ eyes and ears\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devolve</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   OppGainedAff("disloyalty shyness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You utter a terrible curse and point a finger at ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Attend</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   affstrack.score.blind = 100
   affstrack.score.deaf = 100
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Focusing your will, you exert your aura at ([\w'\-]+) and snap your fingers, forcing [\w'\-]+ to pay attention to you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shrivel</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   smashlimb = matches[3]..matches[4]
   if affstrack.score[smashlimb] &lt; 100 then
      OppGainedAff(smashlimb)
   end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You touch ([\w'\-]+)'s ([\w'\-]+) ([\w'\-]+), and it shrivels away\.$</string><string>^You reach out and touch ([\w'\-]+)'s ([\w'\-]+) ([\w'\-]+), but you can shrivel it no further\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Whisperingmadness got</name><script>if ak.ai() then return end



if IsTargetted(matches[2]) then
  if affstrack.whisperscore &lt; 1 then
   for i=1, #affstrack.whisperlist do
    if affstrack.score[affstrack.whisperlist[i]] &gt; 0 then
      if ak.ProTrackingConfirmed then
        ak.ProTrackingConfirmed(affstrack.whisperlist[i])
        OppGainedAff("whisperingmadness")
        return
      else
        affstrack.score[affstrack.whisperlist[i]] = 100
        OppGainedAff("whisperingmadness")
        return
      end
    end
   end
  end
  OppGainedAff("whisperingmadness")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You pass your hand in front of ([\w'\-]+). ([\w'\-]+) trembles and h(is|er) eyes widen in terror.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>TrueName</name><script>cecho("\n&lt;purple&gt; --------------------------------------------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT TRUENAME!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT TRUENAME!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT TRUENAME!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT TRUENAME!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT TRUENAME!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT TRUENAME!!--------------------------")
cecho("\n&lt;white&gt; --------------------&lt;red&gt;GOT TRUENAME!!--------------------------")
cecho("\n&lt;purple&gt; --------------------------------------------------------------")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You command an eldritch abomination to discern the doom of ([\w'\-]+)\.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unnamable</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   ak.occie.aura.parse_unnamable(matches[3]+0)
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) has been struck down by (\d+) curses of the unnamable\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Enlighten</name><script>if ak.ai() then return end
if string.match(matches[2],target) then
   OppGainedAff("enlighten")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You see (.*) shout\, \"No\, it cannot be true\! I cannot accept it\! I beg of you to make it stop\!</string><string>^(.+), \"No\, it cannot be true\! I cannot accept it\! I beg of you to make it stop\!\"$</string><string>^You see (.*) shout something in an unknown foreign tongue\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rayz</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>5</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Tapping into your stores of karma, you transmute a small amount into pure chaos. Seven rays of different coloured light spring out from your outstretched hands, irradiating the location with blinding strobes.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Read Aura</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Finale Read Aura</name><script>disableTrigger("Finale Read Aura")
disableTrigger("Readaura Defs")
enableTrigger("Wsys Tattoos")
enableTrigger("Lifegiver (def)")
cecho("&lt;yellow&gt;[&lt;white&gt;"..ak.occie.aura.physical.."|&lt;cyan&gt;"..ak.occie.aura.mental.."&lt;yellow&gt;]")
ak.occie.aura.physical = matches[3] + 0
ak.occie.aura.mental = matches[4] + 0
ak.scoreup(matches[2])
if (not ak.defs.speed) then cecho("\n-- &lt;red&gt;-&lt;white&gt;SPEED&lt;red&gt;-&lt;white&gt;SPEED&lt;red&gt;") end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You perceive that ([\w'\-]+) suffers from (\d+) physical afflictions and (\d+) mental afflictions\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Read Aura</name><script>if ak.ai() then return end
affstrack.score.blind = 100
affstrack.score.deaf = 100
ak.defs.rebounding = false
ak.defs.speed = false
ak.mounted = false
enableTrigger("Finale Read Aura")
enableTrigger("Readaura Defs")
disableTrigger("Lifegiver (def)")
disableTrigger("Wsys Tattoos")
ak.deleteFull()

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Studying the aura of ([\w'\-]+)\, you look for traces of anything that may be protecting it\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Readaura Defs</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding</name><script>ak.defs.rebounding = true
ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>She is protected from hand-held weapons with an aura of rebounding.</string><string>He is protected from hand-held weapons with an aura of rebounding.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ignore</name><script>ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>^[\w'\-]+ is bouncing around acrobatically\.$</string><string>A songbird is perched upon his shoulder.</string><string>A songbird is perched upon her shoulder.</string><string>He has sworn vengeance upon those who would slay him.</string><string>She has sworn vengeance upon those who would slay her.</string><string>He is bathed in the glorious protection of decaying flesh.</string><string>She is bathed in the glorious protection of decaying flesh.</string><string>He is enhancing his ocular prowess.</string><string>She is enhancing her ocular prowess.</string><string>^She has a small [\w'\-]+ bonus lasting another \d+ days\, \d+ hours and \d+ minutes\.$</string><string>^He has a small [\w'\-]+ bonus lasting another \d+ days\, \d+ hours and \d+ minutes\.$</string><string>^He has been granted a bonus to [\w'\-]+ regeneration\.$</string><string>^She has been granted a bonus to [\w'\-]+ regeneration\.$</string><string>He will lose less experience in the event of death.</string><string>She will lose less experience in the event of death.</string><string>He has been granted the ability to levitate above the ground.</string><string>She has been granted the ability to levitate above the ground.</string><string>He has been granted the boon of travelling to mutual allies.</string><string>She has been granted the boon of travelling to mutual allies.</string><string>The vitality of the boar is energising him.</string><string>The vitality of the boar is energising her.</string><string>^(He|She) is benefitting from a \d+\% bonus to critical hits\.$</string><string>^(He|She) is blocking the exit [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
										<integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bm Stance</name><script>ak.limbs.blademaster.stance[target] = matches[2]:title()
ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>^He is in the ([\w'\-]+) stance\.$</string><string>^She is in the ([\w'\-]+) stance\.$</string></regexCodeList><regexCodePropertyList>
										<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ignore</name><script>ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>She is focussing on quelling her bleeding more efficiently.</string><string>She has a will of iron.</string><string>He has a will of iron.</string><string>He is enhancing his precision through the power of Terminus.</string><string>She is enhancing her precision through the power of Terminus.</string><string>He is enhancing his durability against denizens.</string><string>She is enhancing her durability against denizens.</string><string>Concealed by a shifting veil of shadow.</string><string>You are masking your egress.</string><string>^He has a small critical bonus lasting another .+\.$</string><string>^She has a small critical bonus lasting another .+\.$</string><string>Serpentine scales protect his body.</string><string>Serpentine scales protect her body.</string><string>He is lipreading to overcome deafness.</string><string>She is lipreading to overcome deafness.</string><string>He is paced for bursts of exertion.</string><string>She is paced for bursts of exertion.</string><string>He is able to detect wormholes due to possessing the second sight.</string><string>She is able to detect wormholes due to possessing the second sight.</string><string>He is resonating with the sun's energy.</string><string>She is resonating with the sun's energy.</string><string>He is favoured by .*\.$</string><string>She is favoured by .*\.$</string><string>His skin is toughened.</string><string>Her skin is toughened.</string><string>He is alert to incoming projectiles.</string><string>She is alert to incoming projectiles.</string><string>He has cast a mindnet over the local area.</string><string>She has cast a mindnet over the local area.</string><string>He is deep within the Shin trance.</string><string>She is deep within the Shin trance.</string><string>He is maintaining consciousness at all times.</string><string>She is maintaining consciousness at all times.</string><string>He is seeing the world around him with greater clarity of vision.</string><string>She is seeing the world around him with greater clarity of vision.</string><string>He is diverting excess Shin energy into regeneration.</string><string>She is diverting excess Shin energy into regeneration.</string><string>He is using his superior constitution to prevent nausea.</string><string>She is using his superior constitution to prevent nausea.</string><string>He has softened the focus of his eyes.</string><string>She has softened the focus of her eyes.</string><string>His hands are gripping his wielded items tightly.</string><string>Her hands are gripping her wielded items tightly.</string><string>You are attempting to deflect arrows toward less vital areas.</string><string>He has earned the blessing of the gods.</string><string>She has earned the blessing of the gods.</string><string>He is concentrating on maintaining control over his faculties.</string><string>She is concentrating on maintaining control over his faculties.</string><string>He has augmented his own body for enhanced defence.</string><string>She has augmented his own body for enhanced defence.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deaf</name><script>affstrack.score.deaf = 0
ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>She is deaf.</string><string>He is deaf.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ignore</name><script>ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>She has the following defences:</string><string>He has the following defences:</string><string>Her wounds are being staunched by the moss tattoo.</string><string>His wounds are being staunched by the moss tattoo.</string><string>Mentally bolstered by the power of the megalith.</string><string>The endurance of the great ox flows through you.</string><string>She is feeling extremely energetic.</string><string>He is feeling extremely energetic.</string><string>She is walking on a small cushion of air.</string><string>He is walking on a small cushion of air.</string><string>Her senses are magically heightened.</string><string>His senses are magically heightened.</string><string>She possess the sight of the third eye.</string><string>He possess the sight of the third eye.</string><string>She is tempered against fire damage.</string><string>He is tempered against fire damage.</string><string>He is holding his breath.</string><string>She is holding her breath.</string><string>^He is protected by \d+ defences\.$</string><string>^She is protected by \d+ defences\.$</string><string>He is extremely heavy and difficult to move.</string><string>She is extremely heavy and difficult to move.</string><string>Benefitting from the stolen life aura of your fallen foes.</string><string>Her resistance to damage by poison has been increased.</string><string>His resistance to damage by poison has been increased.</string><string>Her mind has been attuned to the realm of Death.</string><string>His mind has been attuned to the realm of Death.</string><string>He has enhanced his vision to be able to see traces of lifeforce.</string><string>She has enhanced her vision to be able to see traces of lifeforce.</string><string>A curseward has been established about his person.</string><string>A curseward has been established about her person.</string><string>She is enchanted against magic damage.</string><string>He is enchanted against magic damage.</string><string>He is enchanted against cold damage.</string><string>She is enchanted against cold damage.</string><string>She is enchanted against electric damage.</string><string>He is enchanted against electric damage.</string><string>She is protected from the fangs of serpents.</string><string>He is protected from the fangs of serpents.</string><string>He has insomnia, and cannot easily go to sleep.</string><string>She has insomnia, and cannot easily go to sleep.</string><string>He is surrounded by draconic armour.</string><string>She is surrounded by draconic armour.</string><string>She is coated in an insulating unguent.</string><string>He is coated in an insulating unguent.</string><string>She has summoned her draconic breath weapon.</string><string>He has summoned his draconic breath weapon.</string><string>You will not go quietly into death.</string><string>His mind is racing with enhanced speed.</string><string>Her mind is racing with enhanced speed.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shielded</name><script>ak.defs.shield = true
ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>He is surrounded by a nearly invisible magical shield.</string><string>She is surrounded by a nearly invisible magical shield.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parry Location</name><script>ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>^He will attempt to parry attacks to his (.+)\.$</string><string>^She will attempt to parry attacks to her (.+)\.$</string><string>^He will attempt to throw those who attack his (.+)\.$</string><string>^She will attempt to throw those who attack her (.+)\.$</string></regexCodeList><regexCodePropertyList>
										<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cloak</name><script>ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>She is surrounded by a cloak of protection.</string><string>He is surrounded by a cloak of protection.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ignore</name><script>ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Travelling the world more quickly due to time dilation.</string><string>He is highfavoured by </string><string>She is highfavoured by </string><string>He is performing retaliatory strikes against his attackers.</string><string>She is performing retaliatory strikes against her attackers.</string><string>^He has engaged ([\w'\-]+)\.$</string><string>^She has engaged ([\w'\-]+)\.$</string><string>He is protected from the creation of physical images of himself.</string><string>She is protected from the creation of physical images of herself.</string><string>He is protected from damage by a tune of safety.</string><string>She is protected from damage by a tune of safety.</string><string>She is vigilantly watching for potential danger.</string><string>He is vigilantly watching for potential danger.</string><string>She is protected by the bell tattoo.</string><string>He is protected by the bell tattoo.</string><string>She has augmented her own body for enhanced defence.</string><string>He has augmented his own body for enhanced defence.</string><string>He is poised to glide across the surface of water.</string><string>She is poised to glide across the surface of water.</string><string>He has a great affinity with his spirit form.</string><string>She has a great affinity with his spirit form.</string><string>He is bonded to his spirit totem.</string><string>She is bonded to his spirit totem.</string><string>Diamond-hard skin protects her.</string><string>Diamond-hard skin protects him</string><string>Magically supple granite coats her body.</string><string>Magically supple granite coats his body.</string><string>Her water weird allows her to walk on water.</string><string>His water weird allows him to walk on water.</string><string>He is attuned to local telepathic interference.</string><string>She is attuned to local telepathic interference.</string><string>He is concentrating on maintaining distance from the dreamworld.</string><string>She is concentrating on maintaining distance from the dreamworld.</string><string>He is utilising hypersight.</string><string>She is utilising hypersight.</string><string>He is concentrating on mastery of bladecraft.</string><string>She is concentrating on mastery of bladecraft.</string><string>^He has a critical hit bonus lasting \d+ hour and \d+ minutes\.$</string><string>^She has a critical hit bonus lasting \d+ hour and \d+ minutes\.$</string><string>^He is truefavoured by [\w'\-]+ for over \d+ Achaean month \(which is about \d+ hours\)\.$</string><string>^She is truefavoured by [\w'\-]+ for over \d+ Achaean month \(which is about \d+ hours\)\.$</string><string>^([\w'\-]+) is protected by the power of a [\w'\-]+ Spiritshield\.$</string><string>^[\w'\-]+ is regenerating [\w'\-]+ at an increased rate\.$</string><string>^[\w'\-]+ limbs are suffused with divinely-inspired strength\.$</string><string>^[\w'\-]+ is using [\w'\-]+ superior constitution to prevent nausea\.$</string><string>^[\w'\-]+ is regenerating lost health through the power of Kaido\.$</string><string>^[\w'\-]+ is cloaking [\w'\-]+ attempts at establishing a mindlock\.$</string><string>^[\w'\-]+ is utilising the trance to store Kai energy\.$</string><string>^[\w'\-]+ has boosted the power of [\w'\-]+ Kai Trance\.$</string><string>^[\w'\-]+ has tentacles flailing from [\w'\-]+ body\.$</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer><integer>0</integer><integer>0</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blind</name><script>affstrack.score.blind = 0
ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>She is blind.</string><string>He is blind.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ignore</name><script>ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>^He is benefitting from a \d+\% bonus to experience gain\.$</string><string>^She is benefitting from a \d+\% bonus to experience gain\.$</string><string>She is enchanted against fire damage.</string><string>He is enchanted against fire damage.</string><string>You walk with the grace of the relic Lifegiver.</string><string>Illuminated by the light of the moon.</string><string>The vitality of the boar is energising you.</string><string>She is feeling quite selfish.</string><string>He is feeling quite selfish.</string><string>Her body is weathering the storm of life a little better.</string><string>His body is weathering the storm of life a little better.</string><string>She is resisting magical damage.</string><string>He is resisting magical damage.</string><string>He is walking with the grace of the stars.</string><string>She is walking with the grace of the stars.</string><string>His vision is heightened to see in the dark.</string><string>Her vision is heightened to see in the dark.</string><string>His actions are cloaked in secrecy.</string><string>Her actions are cloaked in secrecy.</string><string>He is acknowledged by Jy'Barrak Golgotha, Emperor of Chaos.</string><string>She is acknowledged by Jy'Barrak Golgotha, Emperor of Chaos.</string><string>You are able to scout passed obstructions.</string><string>His skin is hard and tough like the bark of an oak tree.</string><string>Her skin is hard and tough like the bark of an oak tree.</string><string>He is concentrating on clotting his wounds.</string><string>She is concentrating on clotting her wounds.</string><string>He has used great guile to conceal himself.</string><string>She has used great guile to conceal herself.</string><string>He is able to navigate forests more easily.</string><string>She is able to navigate forests more easily.</string><string>A jaguar spirit co-habits your body.</string><string>He will call upon his fortitude in need.</string><string>She will call upon her fortitude in need.</string><string>His senses are attuned to nearby movement.</string><string>Her senses are attuned to nearby movement.</string><string>The devilmark is upon his breast.</string><string>The devilmark is upon her breast.</string><string>He is aware of movement in the skies.</string><string>She is aware of movement in the skies.</string><string>He is aware of movement on the ground.</string><string>She is aware of movement on the ground.</string><string>He is watching the trees or rigging above for signs of movement.</string><string>She is watching the trees or rigging above for signs of movement.</string><string>He has distorted his own aura.</string><string>She has distorted her own aura.</string><string>The spirit of a Chaos Lord lies dormant in his soul.</string><string>The spirit of a Chaos Lord lies dormant in her soul.</string><string>He has accepted a blessing for aid in times of need.</string><string>She has accepted a blessing for aid in times of need.</string><string>He is focussing on quelling his bleeding more efficiently.</string></regexCodeList><regexCodePropertyList>
										<integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Speed</name><script>ak.deleteFull()
ak.defs.speed = true
      if not SpeedTimer then
         SpeedTimer = tempTimer(4,[[
                ak.defs.speed = true
                SpeedTimer = false 
                ak.scoreup(target) 
                ]])
      end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Her sense of time is heightened, and her reactions are speeded.</string><string>His sense of time is heightened, and his reactions are speeded.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mounted</name><script>ak.mounted = true
ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>^He is riding .*\.$</string><string>^She is riding .*\.$</string></regexCodeList><regexCodePropertyList>
										<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parry Initializer</name><script>ak.deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>^[\w'\-]+ is aiming [\w'\-]+ attacks to the (.*)\.$</string></regexCodeList><regexCodePropertyList>
										<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Domination</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cadmus</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppGainedAff("asthma")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A bubonis reaches out and strokes the side of (\w+)\'s face\, and boils form and rupture in an instant as \w+ begins hacking up black fluid\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Worm(Palpatar)</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppGainedAff("worm")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You command your worm to infest (\w+) with maggots\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gremlin Shield</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   ak.defs.shield = false
end
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) has no shield for your gremlin to shatter, occultist\.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bloodleech</name><script>if ak.ai() then return end
local aff = "haemophilia"
OppGainedAff(aff)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You command your bloodleech to corrupt the blood of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Worm Tick</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppGainedAff("healthleech")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Many somethings writhe beneath the skin of (\w+)\, and the sickening sound of chewing can be heard\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gremlin Periodic</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppGainedAff("dizziness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The gremlin races around and between the legs of (\w+)\, \w+ eyes tracking it as \w+ sways unsteadily\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Firelord</name><script>if ak.ai() then return end
affstrack.score.recklessness = affstrack.score.asthma
affstrack.score.dementia = affstrack.score.paralysis
affstrack.score.stupidity = affstrack.score.recklessness
affstrack.score.claustrophobia = affstrack.score.haemophilia
affstrack.score.shyness = affstrack.score.clumsiness
affstrack.score.agoraphobia = affstrack.score.healthleech
affstrack.score.paranoia = affstrack.score.sensitivity
affstrack.score.confusion = affstrack.score.darkshade
affstrack.score.asthma = 0
affstrack.score.paralysis = 0
affstrack.score.recklessness = 0
affstrack.score.haemophilia = 0
affstrack.score.clumsiness = 0
affstrack.score.healthleech = 0
affstrack.score.sensitivity = 0
affstrack.score.darkshade = 0
ak.resetbacktrack()
ak.scoreup(matches[2])


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You command your firelord to bring down a portion of the power of Pyradius against ([\w'\-]+)\.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slime</name><script>if ak.ai() then return end
if IsTargetted(multimatches[2][2]) then
   OppGainedAff("slime")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You command your slime to envelop</string><string>^You command your slime to envelop ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Worm Periodic</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	OppGainedAff("nausea")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The worm burrowing into (\w+) writhes and undulates\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ba-Humbug</name><script>if ak.ai() then return end
local aff = "addiction"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You command your humbug to instill a ravenous hunger in [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sycophant(Rixil)</name><script>if ak.ai() then return end
OppGainedAff("rixil")
tempTimer(30,[[affstrack.score.rixil = 0;ak.scoreup(]]..matches[2]..[[)]])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You command your sycophant to weaken the mind of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Storm(Danaes)</name><script>if ak.ai() then return end
OppGainedAff("vertigo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You command your chaos storm to bring down the curse of vertigo upon [\w'\-]+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chimera Deaf(Buul)</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
	affstrack.score.deaf = 0
  ak.scoreup(target)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A chimera throws forward all three of its heads and roars at (\w+), but \w+ seems completely unphased\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Health and Mana</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Falcon Observe</name><script>enableTrigger("Falcon Observe Capture")
ak.deleteFull()
falcon = falcon or {}
falcon.areawho = {}
falcon.targetin = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your falcon reports seeing the following people in its area:</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Moss</name><script>if IsTargetted(matches[2]) then
	ak.currentmana = ak.currentmana + (ak.maxmana*.08)
	if ak.currentmana &gt; tonumber(ak.maxmana) then
		ak.currentmana = ak.maxmana
	end
	ak.scoreup(target)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) eats some irid moss\.$</string><string>^(\w+) eats a potash crystal\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Divine</name><script>ak.knownmaxhealth = ak.knownmaxhealth or {}
ak.knownmaxhealth[matches[2]] = matches[3] 
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) possesses \d+ health of (\d+)\, \d+ mana of \d+\, and \d+ willpower\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Enervate</name><script>if IsTargetted(matches[2]) then 
	ak.currentmana = ak.currentmana - (ak.maxmana/4) 
	ak.scoreup(matches[2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^[\w'\-]+ frowns in concentration as a tendril of yellow energy flashes out and attaches to ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Con Drop</name><script>--(-2 con)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) gasps a panicked breath before doubling over in pain\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gauge</name><script>ak.knownmaxhealth = ak.knownmaxhealth or {}
ak.knownmaxhealth[matches[2]] = matches[4] 
ak.currenthealth = matches[3]
ak.maxhealth = matches[4]
local currHealth = math.ceil((matches[3]/matches[4])*100)
ak.healthpercent = currHealth
ak.scoreup(matches[2])

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Gazing upon ([\w'\-]+), you establish that (?:he|she) has (\d+) health remaining of (\d+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Contemplate</name><script>ak.currentmana = matches[3]
ak.maxmana = matches[4]
local currMana = math.ceil((matches[3]/matches[4])*100)
cecho("\n&lt;white&gt;[&lt;blue&gt;Mana&lt;white&gt;]: &lt;yellow&gt;"..currMana.."%")
if not ak.pause then send("pt "..matches[2].."'s mana at "..ak.currentmana.."/"..ak.maxmana) end
if (currMana &lt;= 40) then
	cecho("\n READY TO GO!!")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+)\'s mana stands at (\d+)\/(\d+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sip</name><script>if IsTargetted(matches[2]) then
	if affstrack.score.anorexia&gt;0 then 
		if ak.thoughtIhad then 
			ak.thoughtIhad("anorexia") 
		else 
			affstrack.score.anorexia = 0 
		end  
	end
	if affstrack.score.voyria &gt; 0 then
		affstrack.score.voyria = 0
	elseif (not ak.defs.speed) then
		if not SpeedTimer then
			SpeedTimer = tempTimer(4.5,[[
      	ak.defs.speed = true
      	SpeedTimer = false 
      	ak.scoreup(]]..matches[2]..[[)  
      	]])
		end
	else
     --ak.currentmana
     --ak.maxmana
	end
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) takes a drink from .* vial\.$</string><string>^([\w'\-]+) takes a drink from a carved bone vial\, a miniature carved dragon biting at [\w'\-]+ lips\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Assess</name><script>ak.knownmaxhealth = ak.knownmaxhealth or {}
ak.knownmaxhealth[multimatches[2][2]] = multimatches[2][4] 
ak.currenthealth = multimatches[2][3]
ak.maxhealth = multimatches[2][4]
local currHealth = math.ceil((multimatches[2][3]/multimatches[2][4])*100)
ak.healthpercent = currHealth
cecho("\n&lt;white&gt;[&lt;blue&gt;Health&lt;white&gt;]: &lt;yellow&gt;"..currHealth.."%")
if not ak.pause then send("pt "..multimatches[2][2].."'s health at "..ak.currenthealth.."/"..ak.maxhealth) end
ak.scoreup(multimatches[2][2])


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You glance over</string><string>^You glance over ([\w'\-]+) and see that (?:her|his) health is at (\d+)\/(\d+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Doll Check</name><script>if IsTargetted(multimatches[2][2]) then 
	ak.currentmana = ak.currentmana - (ak.maxmana/4) 
	ak.knownmaxhealth = ak.knownmaxhealth or {}
  ak.knownmaxhealth[matches[2]] = matches[3] 
	ak.scoreup(multimatches[2][2])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You gaze into the eyes of the doll and see that</string><string>^You gaze into the eyes of the doll and see that ([\w'\-]+) has a health of (\d+)\/(\d+) and a mana of(\d+)\/(\d+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Con Increase</name><script>-- (+2 con)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) expertly breaks the seal of a reforming phial of enhancement formula and brings it to [\w'\-]+ mouth\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Falcon Observe Capture</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Falcon Observe Kill</name><script>if not falcon.targetin then
	ak.deleteFull()
end
disableTrigger("Falcon Observe Capture")
if ndba and #falcon.areawho &gt; 0 then
	--cecho("&lt;cyan&gt;"..ndba.concatand(falcon.areawho).." are in " .. gmcp.Room.Info.area) 
	send("pt "..ndba.concatand(falcon.areawho).." are in " .. gmcp.Room.Info.area) 
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string /></regexCodeList><regexCodePropertyList>
								<integer>7</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Add</name><script>ak.knownmaxhealth = ak.knownmaxhealth or {}
ak.knownmaxhealth[matches[2]] = matches[4] 
falcon = falcon or {}
falcon.areawho = falcon.areawho or {}
if gmcp.Char.Name.name ~= matches[2] then
	table.insert(falcon.areawho,matches[2])
end
if IsTargetted(matches[2]) then 
	falcon.targetin = true
else
	--ak.deleteFull()
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+)\s+(\d+) health out of (\d+)\.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 400-500</name><script>ak.bleedupdate(400)
cecho("&lt;red&gt;\n\nBleeding for over 400!\n\n")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe free-flowing blood streaming from ([\w'\-]+)\'s wounds\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 800-900</name><script>ak.bleedupdate(800)
cecho("&lt;red&gt;\n\nBleeding for over 800!\n\n")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe great rivers of blood running from the open wounds of ([\w'\-]+)\.$ </string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 0-100</name><script>ak.bleedupdate(40)
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe a small amount of blood trickling from minor wounds on ([\w'\-]+)\'s body\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 600-700</name><script>ak.bleedupdate(600)
cecho("&lt;red&gt;\n\nBleeding for over 600!\n\n")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe that the wounds of ([\w'\-]+) are bleeding most severely\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 200-300</name><script>ak.bleedupdate(200)
cecho("&lt;red&gt;\n\nBleeding for over 200!\n\n")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe thin red rivulets of blood dripping from ([\w'\-]+)\'s wounds\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 900-1000</name><script>ak.bleedupdate(900)
cecho("&lt;red&gt;\n\nBleeding for over 900!\n\n")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe arterial spray gushing from the open wounds of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 500-600</name><script>ak.bleedupdate(500)
cecho("&lt;red&gt;\n\nBleeding for over 500!\n\n")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe great gouts of blood spurting from ([\w'\-]+)\'s many wounds\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 1000+</name><script>ak.bleedupdate(1000)
cecho("&lt;red&gt;\n\nBleeding for over 1000!\n\n")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe that ([\w'\-]+) will shortly bleed to death\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 700-800</name><script>ak.bleedupdate(700)
cecho("&lt;red&gt;\n\nBleeding for over 700! BURN EMM!\n\n")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe heavy torrents of lifeblood spilling from ([\w'\-]+)\'s near\-fatal wounds\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 100-200</name><script>ak.bleedupdate(100)
cecho("&lt;red&gt;\n\nBleeding for over 100!\n\n")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe that ([\w'\-]+) is bleeding slightly\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed 300-400</name><script>ak.bleedupdate(300)
cecho("&lt;red&gt;\n\nBleeding for over 300!\n\n")
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe sluggish bleeding from ([\w'\-]+)\'s wounds\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed Destroyed</name><script>ak.bleeding = 0
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) writhes in agony as steam begins rising from [\w'\-]+ skin\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No Bleed</name><script>if ak.bleeding and ak.bleeding &gt; 0 and affstrack.score.haemophilia &gt; 0 then
	ak.thoughtIhad("haemophilia")
end
ak.bleeding = 0
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You observe that ([\w'\-]+) is not bleeding at all\.$</string><string>^([\w'\-]+) does not yet bleed enough for you to unleash the coagulation\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curse Bleeded</name><script>if IsTargetted(matches[2]) and affstrack.score.haemophilia &gt; 0 then 	
	local bleedr = ak.bleedincrease or 65
	ak.bleeding = ak.bleeding + bleedr
	cecho(ak.bleeding)
	ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Blood begins to run from the eyes and nose of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weaponry|Rending</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Engaged Fade</name><script>if ak.ai() then return end
ak.engaged = false
ak.scoreup(target)


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You lash out at ([\w'\-]+) as (she|he) turns to flee\.$</string><string>You drop back and ease the engagement.</string><string>You attempt to strike at your target as they leave, but find yourself in no condition to swing a blade.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weapon Envenomed</name><script>if ak.ai() then return end
currentenvenom = matches[3]
if not currentvenoms then currentvenoms = {} end
if not currentvenoms[currentenvenom] then currentvenoms[currentenvenom] = {} end
table.insert(currentvenoms[currentenvenom],1,matches[2])
--display(currentvenoms[currentenvenom][1])
if gmcp.Char.Status.class == "Magi" and (inretardation() or inaeon()) then
   ak.scoreup(target)
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You rub some ([\w'\-]+) on (.*)\.$</string><string>^You secrete ([\w'\-]+) and deftly bring (.*) to your mouth, letting the venom drip upon it.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impale</name><script>if ak.ai() then return end
if matches[2] and IsTargetted(matches[2]) then
   affstrack.impale = "Me"
   ak.scoreup(matches[2])
elseif not matches[2] then
   affstrack.impale = "Me"
   ak.scoreup(target)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You draw your blade back and plunge it deep into the body of ([\w'\-]+) impaling [\w'\-]+ to the hilt\.$</string><string>You cannot do that while your weapon remains deep in your victim's gut.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Engaging</name><script>if ak.ai() then return end
ak.engaged = matches[2]
ak.scoreup(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You move in to engage ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shatter Start</name><script>if ak.ai() then return end
ak.pause = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You slowly pull back a</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Writhed</name><script>if ak.ai() then return end
if matches[2] and IsTargetted(matches[2]) then
   affstrack.impale = false
   ak.scoreup(matches[2])
elseif not matches[2] then
   affstrack.impale = false
   ak.scoreup(target)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^With a look of agony on [\w'\-]+ face\, ([\w'\-]+) manages to writhe (herself|himself) free of the weapon which impaled [\w'\-]+\.$</string><string>^With a vicious snarl you carve a merciless swathe through the steaming guts of ([\w'\-]+)\, who gurgles and chokes as you withdraw your dripping blade\, glistening with gore\.$</string><string>^With a vicious snarl [\w'\-]+ carves a merciless swathe through the steaming guts of ([\w'\-]+)\, who gurgles and chokes as [\w'\-]+ withdraws [\w'\-]+ dripping blade\, glistening with gore\.$</string><string>^With a snarl of contempt\, you allow ([\w'\-]+) to slide free of your weapon\.$</string><string>You have no victim impaled to be able to perform a disembowelment.</string><string>^As ([\w'\-]+) wrenches away from you\, your blade rips through his innards in a violentfashion\, leaving a pool of viscera where your foe once lay\.$</string><string>^([\w'\-]+) tumbles out to the .*\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impaled Second</name><script>if ak.ai() then return end
if IsTargetted(matches[3]) then
   affstrack.impale = matches[2]
   ak.scoreup(matches[3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) draws back [\w'\-]+ blade and impales ([\w'\-]+) to the hilt\.$</string><string>^(\w+) shifts the sword impaling (\w+)\'s abdomen\, and blood streams freely fromthe grave wound\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fail Impale</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
  affstrack.score.prone = 0
  affstrack.score.paralysis = 0
  affstrack.score.transfixed = 0  
  affstrack.score.frozen = 0 
  ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You thrust your blade towards ([\w'\-]+) but \w+ dodges easily out of the way\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Engage bypass</name><script>if ak.ai() then return end
if ak.engaged == matches[2] then
   ak.engaged = false
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) glances to the [\w'\-]+ and vanishes\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Behead</name><script>if ak.ai() then return end
ak.pause = true 
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You raise your</string><string>^You raise your ([\w'\-]+) over your head and begin to swing it in a wide circle\, gaining speed as you go\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weapon Stabbed</name><script>if ak.ai() then return end
enableTrigger("Missed Single Removal")                --DO NOT CHANGE!
enableTrigger("Confirmed Hit")                        --DO NOT CHANGE!
if weaponattack == nil then weaponattack = {} end
if matches[2] == "claws" then
   table.insert(weaponattack, "your wickedly sharp claws")
elseif matches[2] == "vines" then
   table.insert(weaponattack, "the thorny vines covering your arms")
else
   table.insert(weaponattack, matches[2])
end
--display(weaponattack)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You viciously jab (.*) into .*</string><string>^You viciously stab (.*) into .*</string><string>^You slice into the [\w'\-]+ [\w'\-]+ of [\w'\-]+ with (.*)\.$</string><string>^Lightning-quick, you jab .* with (.*).</string><string>^Lightning-quick, you stab .* with (.*).</string><string>^Lunging forward with long, flashing ([\w'\-]+) extended, you tear into the flesh of .*</string><string>^You slice into the [\w'\-]+ of [\w'\-]+ with (.*)\.$</string><string>^You flash (.*) in front of the eyes of ([\w'\-]+)</string><string>^You cock back your arm and throw (.*) at ([\w'\-]+)</string><string>^You slice into [\w'\-]+ with (.+)\.$</string><string>^Lunging forward with long, flashing ([\w'\-]+) extended, you tear into</string><string>^You swing (.*) at [\w'\-]+ with all your might.</string><string>^You slash into [\w'\-]+ with (.*)\.$</string><string>^You whip (.+) in a controlled arc at [\w'\-]+\.$</string><string>^You draw the blade of (.*) in an expert lateral slice across the head of [\w'\-]+\.$</string><string>^With your victim exposed\, you crack (.*) back for a second assault\.$</string><string>^You slash into [\w'\-]+\'s .* with (.*)\.$</string><string>^You swing (.*) at [\w'\-]+\'s .* with all your might\.$</string><string>^Taking hold of (.+) with a firm two-handed grip\, you hew savagely at [\w'\-]+\'s .+\.$</string><string>^Raising (.+) above your head\, you bring it down upon [\w'\-]+\'s head with terrible force\.$</string><string>^Bracing your feet\, you lunge upward at [\w'\-]+ with (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Missed Single Removal</name><script>if ak.ai() then return end
boardaffs = boardaffs or {}
weaponattack = weaponattack or {}
if #boardaffs &gt; 0 then
   table.remove(boardaffs, #boardaffs)
elseif #weaponattack &gt; 0 then
	 if weaponattack[#weaponattack] == "the thorny vines covering your arms" and affstrack.crushedherb then
	 	  table.remove(weaponattack, #weaponattack)	 
	 end
   table.remove(weaponattack, #weaponattack)
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) dodges nimbly out of the way\.$</string><string>^([\w'\-]+) quickly jumps back, avoiding the attack\.$</string><string>^([\w'\-]+) twists (his|her) body out of harm's way\.$</string><string>^A reflection of ([\w'\-]+) blinks out of existence.$</string><string>^([\w'\-]+) parries the attack with a deft manoeuvre.$</string><string>^([\w'\-]+) steps into the attack, grabs your arm, and throw</string><string>^A chaos orb intercepts the attack against (\+) and renders it harmless\.$</string><string>^([\w'\-]+) moves into your attack, knocking your blow aside before viciously countering with a strike to your head\.$</string><string>^Cracks spider across the surface of the crimson shield surrounding ([\w'\-]+)\, before it abruptly winks out of existence\.$</string><string>^Grey fog begins to rise from the suddenly panicked\-looking ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fail Shatter</name><script>if ak.ai() then return end
ak.pause = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You cease concentrating on shattering your opponent's limbs.</string><string>You strike the</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impaled Secondary Reverse</name><script>if ak.ai() then return end
if IsTargetted(matches[2]) then
   affstrack.impale = matches[3]
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) is already impaled upon the sword of (\w+) and you can see no room for your own blade\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confirmed Hit</name><script>if ak.ai() then return end
deleteLine()
cecho("&lt;yellow&gt;.")
boardaffs = boardaffs or {}
hitrelay = {}
currentvenoms = currentvenoms or {}
weaponattack = weaponattack or {}
if #weaponattack &gt; 0 then
   for i = 1, #weaponattack do
      currentvenoms[weaponattack[i]] = currentvenoms[weaponattack[i]] or {1}
      table.insert(hitrelay, affstrack.venoms[currentvenoms[weaponattack[i]][1]])
      table.remove(currentvenoms[weaponattack[i]], 1)    
   end
end
if #boardaffs &gt; 0 then
   for i = 1, #boardaffs do
	 		if boardaffs[i] == "HIGH" then
				table.insert(hitrelay, ak.SnBSmashHighAff(hitrelay))
			else
      	table.insert(hitrelay, boardaffs[i])
			end
   end
end
--display(hitrelay)
weaponattack = nil
boardaffs = {}
if #hitrelay == 1 then 
   OppGainedAff(hitrelay[1]) 
elseif #hitrelay &gt; 1 then 
   OppGainedAff(table.concat(hitrelay, " ")) 
end
disableTrigger("Missed Single Removal")                --DO NOT CHANGE!
disableTrigger("Confirmed Hit")  
ak.limbs.deleteset = true
ak.showPrompt()


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string /><string>^You direct a crystalline golem to (.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>7</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Behead Fail</name><script>if ak.ai() then return end
ak.pause = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You cease the whirling of your weapon over your head.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impaled Sentinel</name><script>ak.potentialImpale = matches[2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) comes stampeding in from the \w+\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jester Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mickey</name><script>if IsTargetted(matches[2]) then 
   ak.mickey = true
   ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You quickly slip ([\w'\-]+) a mickey\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Runewarden Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Othala fade</name><script>ak.othala = false
disableTrigger("Othala fade")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>A rune resembling a mountain range fades from the ground.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Othala Sketched</name><script>ak.othala = true
tempTimer(8, [[ak.othala = false]])
enableTrigger("Othala fade")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>With a flourish, you finish sketching an othala rune.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cold Rune</name><script>if ak.ai() then return end
OppGainedAff("deepfreeze")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Cold blue flames wreathe your runeblade, emanating an icy, penetrating chill.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Propping</name><script>if ak.ai() then return end
ak.pause = true 
ak.propped = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You strain to hold a tall totem pole in an upright position for your enemies to see.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unpropped</name><script>if ak.ai() then return end
ak.pause = false 
ak.propped = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You cease to prop up a tall totem pole.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hallucinations</name><script>local aff = "hallucinations"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You decree that (\w+) shall see the truth of Chaos for the aberration that it is.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tenderskin</name><script>local aff = "tenderskin"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^\"Burn\!\" you command (\w+)\, fire leaping forth to sear \w+.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sprit Wrack</name><script>local aff = matches[3]
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Your angel informs you that it has struck down ([\w'\-]+) with ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disrupt</name><script>local aff = matches[2].."disrupt"
if IsTargetted(matches[3]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You direct your ([\w'\-]+) channel to disrupt ([\w'\-]+)\.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spiritburn</name><script>local aff = "spiritburn"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^\"Return to ash\,\" you decree\, focusing your holy might upon (\w+)\.$</string><string>^\"And you shall be naught but cinders\,\" you decree\, focusing your holy might upon (\w+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paranoia</name><script>local aff = "paranoia"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You decree that (\w+) shall know the truth of darkness, and all that it may bring.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Diagnosed! --This is safer to run on a toggle</name><script>if IsTargetted(matches[2]) then
   for k,v in pairs(affstrack.score) do
      if v &gt; 1 then
         affstrack.score[k] = 0
      end
   end
   diagblind = false
   diagdeaf = false
   enableTrigger("Diagnose Triggers")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) is\:$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inquisition</name><script>if not IsTargetted(matches[2]) then return end
if affstrack.score.spiritburn == 100 and affstrack.score.guilt == 100 then
   OppGainedAff("inquisition")
   inquisitiontimer = tempTimer(19, [[OppLostAff("inquisition")]])
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You draw ([\w'\-]+) into your gaze, lowering your brow and glaring at (him|her) with righteous fury</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>This gives ablaze and CURES spiritburn</name><script>local aff = "aflame"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
   OppLostAff("spiritburn")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^"I deem you unfit for Creation!" you proclaim, pointing imperiously at (\w+)\.$</string><string>^"And thus I deem you unfit for Creation!" you proclaim, pointing imperiously at (\w+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chasten</name><script>local aff = matches[3]
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You direct a dark bolt of energy through your mace towards ([\w'\-]+)\. The curse of ([\w'\-]+) is brought down on to your victim\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Guilt</name><script>local aff = "guilt"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^\"Know the pain which you have caused\,\" you proselytise to (\w+)\.$</string><string>^\"And your guilt will be made plain\,\" you proselytise to (\w+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Masochism</name><script>local aff = "masochism"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You decree that (\w+) shall see the horror of Evil, and be unable to look away.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Visions</name><script>local aff = "hallucinations"
if IsTargetted(multimatches[2][2]) then
   OppGainedAff(aff)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You condemn</string><string>^You condemn ([\w'\-]+) to see the fate of the enemies of creation\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Diagnose Triggers</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impatience</name><script>local aff = "impatience"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>impatient.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness</name><script>local aff = "clumsiness"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>afflicted with clumsiness.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deaf</name><script>diagdeaf = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>deaf.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea</name><script>local aff = "nausea"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>violently ill</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hallucination</name><script>local aff = "hallucinations"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>hallucinating.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disruption</name><script>local aff = matches[2].."disrupt"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>disrupted by ([\w'\-]+) energy.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Recklessness</name><script>local aff = "recklessness"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>reckless.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizziness</name><script>local aff = "dizziness"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>overcome by dizziness.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epilepsy</name><script>local aff = "epilepsy"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>suffering from epilepsy.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blind</name><script>diagblind = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>blind.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vertigo</name><script>local aff = "vertigo"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>afraid of heights.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weariness</name><script>local aff = "weariness"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>wearied in body.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Justice</name><script>local aff = "justice"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>surrounded by the aura of justice.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity</name><script>local aff = "stupidity"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>unnaturally stupid</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest Prompt</name><script>disableTrigger("Diagnose Triggers")
if diagdeaf == false then
   local aff = "deaf"
   OppGainedAff(aff)
end
if diagblind == false then
   local aff = "blind"
   OppGainedAff(aff)
end
ak.scoreup(target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string /></regexCodeList><regexCodePropertyList>
								<integer>7</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion</name><script>local aff = "confusion"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>confused.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>local aff = "paralysis"
OppGainedAff(aff)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>paralysed.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Air Lord Group</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gale shield down</name><script>aff = "manaleech"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
end	
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The protective shield surrounding ([\w'\-]+) is blown away by the gale-force winds\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Zephyr relapse</name><script>aff = "manaleech"
if IsTargetted(matches[2]) then
  OppGainedAff(aff)
	ak.duress.zephyrrelapse = false
	killTimer(tostring(ak.duress.zephyrrelapsetimer))
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^A zephyr of icy wind rolls over ([\w'\-]+), leaving (?:her|him) diminished\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tension</name><script>local aff = "tension"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
	 if ak.duress.pressure and ak.duress.pressure &gt; 0 then
      ak.duress.pressure = ak.duress.pressure + 1
   else
      ak.duress.pressure = 1
   end
   killTimer(tostring(ak.duress.asphyxiatetimer))
   ak.duress.asphyxiatetimer = tempTimer(10, [[ak.duress.asphyxiate = false]])
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You alter the air tension around ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Strangle relapse 2</name><script>aff = "disrupted"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
	 ak.duress.stranglerelapse = true
	 killTimer(tostring(ak.duress.stranglerelapsetimer))
   ak.duress.stranglerelapsetimer = tempTimer(7,[[
   	 ak.duress.stranglerelapse = false
     ak.scoreup(]]..matches[2]..[[)
   ]])
	 OppGainedAff("deadening")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^A dazed look crosses the face of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scour relapse</name><script>aff = "disloyalty"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
	 ak.duress.scourrelapse = false
	 killTimer(tostring(ak.duress.scourrelapsetimer))
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^A howling wind sweeps over ([\w'\-]+), ripping flesh from bone and leaving (?:her|his) face a bloody ruin\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scour relapse 2</name><script>if IsTargetted(matches[2]) then
   local aff = "disloyalty"
   OppGainedAff(aff)
   ak.duress.scourrelapse = true
	 killTimer(tostring(ak.duress.scourrelapsetimer))
   ak.duress.scourrelapsetimer = tempTimer(7,[[
   	 ak.duress.scourrelapse = false
     ak.scoreup(]]..matches[2]..[[)
   ]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The ruined face of ([\w'\-]+) continues to bleed\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scour</name><script>aff = "disloyalty"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
	 ak.duress.scourrelapse = true
	 killTimer(tostring(ak.duress.scourrelapsetimer))
   ak.duress.scourrelapsetimer = tempTimer(7,[[
   	 ak.duress.scourrelapse = false
     ak.scoreup(]]..matches[2]..[[)
   ]])
	 
	 killTimer(tostring(ak.duress.asphyxiatetimer))
   ak.duress.asphyxiatetimer = tempTimer(10, [[ak.duress.asphyxiate = false]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You bend your will upon ([\w'\-]+), summoning forth a howling wind to rip the flesh from (?:her|his) bones\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Strangle</name><script>aff = "deadening"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
	 ak.duress.stranglerelapse = true
   ak.duress.stranglerelapsetimer = tempTimer(7,[[
   	 ak.duress.stranglerelapse = false
     ak.scoreup(]]..matches[2]..[[)
   ]])
	 killTimer(tostring(ak.duress.asphyxiatetimer))
   ak.duress.asphyxiatetimer = tempTimer(10, [[ak.duress.asphyxiate = false]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You increase the pressure in a band surrounding the throat of ([\w'\-]+), clenching a fist and causing it to violently constrict\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Zephyr</name><script>aff = "manaleech"
if IsTargetted(matches[2]) then
   OppGainedAff(aff)
	 ak.duress.zephyrrelapse = true
 	 killTimer(tostring(ak.duress.zephyrrelapsetimer))
   ak.duress.zephyrrelapsetimer = tempTimer(7,[[
   	 ak.duress.zephyrrelapse = false
     ak.scoreup(]]..matches[2]..[[)
   ]])
	 
	 killTimer(tostring(ak.duress.asphyxiatetimer))
   ak.duress.asphyxiatetimer = tempTimer(10, [[ak.duress.asphyxiate = false]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You cast out your hand towards ([\w'\-]+)\, calling forth an icy zephyr to rip the strength from (?:him|her)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Strangle relapse</name><script>aff = "deadening"
if IsTargetted(matches[2]) then
  OppGainedAff(aff)
	ak.duress.stranglerelapse = false
	killTimer(tostring(ak.duress.stranglerelapsetimer))
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^([\w'\-]+) clutches at (?:her|his) throat, eyes bulging as (?:she|he) struggles to draw breath\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Zephyr relapse 2</name><script>aff = "deadening"
if IsTargetted(matches[2]) then
  OppGainedAff(aff)
	ak.duress.zephyrrelapse = true
  killTimer(tostring(ak.duress.zephyrrelapsetimer))
  ak.duress.zephyrrelapsetimer = tempTimer(7,[[
   	 ak.duress.zephyrrelapse = false
     ak.scoreup(]]..matches[2]..[[)
   ]])	
	OppGainedAff("manaleech")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^A vacant expression creeps across the features of ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gale</name><script>if target == matches[2] then
  ak.defs.shield = false
  ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You whip up a gale\, sending it towards ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Zephyr relapse 3</name><script>if IsTargetted(matches[2]) then
   ak.duress.zephyrrelapse = true
   killTimer(tostring(ak.duress.zephyrrelapsetimer))
   ak.duress.zephyrrelapsetimer = tempTimer(7,[[
   	 ak.duress.zephyrrelapse = false
     ak.scoreup(]]..matches[2]..[[)
   ]])
	 OppGainedAff("manaleech")
	 OppGainedAff("deadening")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^A completely blank expression descends upon ([\w'\-]+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asphyxiate</name><script>ak = ak or {}
ak.duress = ak.duress or {}
if target == matches[2] then
  ak.duress.asphyxiate = true
	killTimer(tostring(ak.duress.asphyxiatetimer))
  ak.duress.asphyxiatetimer = tempTimer(10, [[ak.duress.asphyxiate = false]])
	ak.scoreup(matches[2])
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You rip the air from the lungs of ([\w'\-]+) in a single instant, blood and mucus dripping from (?:her|his) mouth as (?:he|she) doubles over with hacking coughs\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pressure</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pressure</name><script>ak = ak or {}
ak.duress = ak.duress or {}
ak.duress.pressurescore = affstrack.score.disloyalty + affstrack.score.manaleech + affstrack.score.deadening

if ak.duress.pressurescore &lt; 200  then
   ak.duress.pressure = ak.duress.pressure + 1
else
   ak.duress.pressure = ak.duress.pressure + 2
end
ak.scoreup(matches[2])
cecho("\n&lt;cyan&gt;Pressure lvl: &lt;yellow&gt;"..ak.duress.pressure)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You bring your will to bear against ([\w'\-]+)\, raising the air pressure surrounding (?:her|him)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Level 2</name><script>ak = ak or {}
ak.duress = ak.duress or {}
ak.duress.pressure = 2
ak.scoreup(matches[2])
cecho("\n&lt;cyan&gt;Pressure lvl: &lt;yellow&gt;"..ak.duress.pressure)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Studying ([\w'\-]+), you determine that the pressure surrounding (?:him|her) is elevated\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Normal</name><script>ak = ak or {}
ak.duress = ak.duress or {}
ak.duress.pressure = 0
ak.scoreup(matches[2])
cecho("\n&lt;cyan&gt;Pressure lvl: &lt;yellow&gt;"..ak.duress.pressure)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Studying ([\w'\-]+), you determine that the pressure surrounding (?:him|her) is at normal levels\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Level 5</name><script>ak = ak or {}
ak.duress = ak.duress or {}
ak.duress.pressure = 5
ak.scoreup(matches[2])
cecho("\n&lt;cyan&gt;Pressure lvl: &lt;yellow&gt;"..ak.duress.pressure)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Studying ([\w'\-]+), you determine that the pressure surrounding (?:him|her) is extremely elevated\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Level 4</name><script>ak = ak or {}
ak.duress = ak.duress or {}
ak.duress.pressure = 4
ak.scoreup(matches[2])
cecho("\n&lt;cyan&gt;Pressure lvl: &lt;yellow&gt;"..ak.duress.pressure)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Studying ([\w'\-]+), you determine that the pressure surrounding (?:him|her) is severely elevated\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Level 6+</name><script>ak = ak or {}
ak.duress = ak.duress or {}
if ak.duress.pressure &lt; 6 then
   ak.duress.pressure = 6
   ak.scoreup(matches[2])
end
cecho("\n&lt;cyan&gt;Pressure lvl: &lt;yellow&gt;"..ak.duress.pressure)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Studying ([\w'\-]+), you determine that the pressure surrounding (?:him|her) is terminally elevated\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Level 1</name><script>ak = ak or {}
ak.duress = ak.duress or {}
ak.duress.pressure = 1
ak.scoreup(matches[2])
cecho("\n&lt;cyan&gt;Pressure lvl: &lt;yellow&gt;"..ak.duress.pressure)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Studying ([\w'\-]+), you determine that the pressure surrounding (?:him|her) is slightly elevated\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Level 3</name><script>ak = ak or {}
ak.duress = ak.duress or {}
ak.duress.pressure = 3
ak.scoreup(matches[2])
cecho("\n&lt;cyan&gt;Pressure lvl: &lt;yellow&gt;"..ak.duress.pressure)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Studying ([\w'\-]+), you determine that the pressure surrounding (?:him|her) is moderately elevated\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pressure eats</name><script>ak = ak or {}
ak.duress = ak.duress or {}

if target == matches[2] and ak.duress.pressure &gt; 0 then
   ak.duress.pressure = ak.duress.pressure - 1
   cecho("\n&lt;cyan&gt;Pressure lvl: &lt;yellow&gt;"..ak.duress.pressure)
	 ak.scoreup(matches[2])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([\w'\-]+) eats a prickly pear\.$</string><string>^([\w'\-]+) eats a calcite mote\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>cdb 1.1</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>cdb 1.1</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>cdb (triggers)</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="yes" isColorTriggerFg="no" isColorTriggerBg="no"><name>city enemies</name><script>if multimatches[2][1]:find("City of") and cdb.gettingenemies then
  cdb.enemies = {}
  for _, n in pairs(string.split(multimatches[4][1], ",")) do
    cdb.enemies[n:trim()] = true
  end
  echo("\n")
  cdb.echo("Updated &lt;orange&gt;city enemies &lt;white&gt;list.")
  cdb.gettingenemies = false
  cdb.save()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#00b300</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>Enemies of the </string><string>FG6BG2</string><string>1</string><string>.+</string><string>1</string><string>Total:</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer><integer>6</integer><integer>5</integer><integer>1</integer><integer>5</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>honors get city</name><script>cdb.honors.title = matches[2]
cdb.honors.city = "(none)"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>20</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(.+) \((?:female|male) .+\)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tragedy</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>Tragedy</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tracking Triggers</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>Tracking Triggers</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>tracking</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>3p</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity Proccs</name><script>if isTarget(matches[2]) then
  if not tarAff("stupidity") then
    Tragedy.noshowAdd("stupidity")
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) gives up a round of applause\.$</string><string>^(.+) giggles happily\.$</string><string>^(.+) falls to (his|her) knees in worship\.$</string><string>^(.+) lets out a loud, long \"MOOOOOOOOOOO\!\"$</string><string>^(.+) fondles (himself|herself) absently\.$</string><string>^(.+) blinks\.$</string><string>^(.+) grunts a bit and then lets out a loud \"OINK\!\"$</string><string>^(.+) drops to one knee\.$</string><string>^(.+) pulls down (his|her) pants and moons the world\.$</string><string>^(.+) twitches spasmodically\.$</string><string>^Tears fill (.+)'s eyes and begin to slowly run down (his|her) face\.$</string><string>^(.+) hugs (himself|herself) compassionately\.$</string><string>^(.+) sweeps across the floor, leaping and twirling like a true master\.$</string><string>^(.+) flaps (his|her) arms madly\.$</string><string>^(.+) stumbles and pokes (himself|herself) in the eye\.$</string><string>^(.+) burps obscenely\.$</string><string>^\"The voices\! The voices\! Get them out of my head\!\!\" (.+) moans\, holding (his|her) head\.$</string><string>^(.+) gets down on one knee and serenades the world\.$</string><string>^(.+) waggles (his|her) eyebrows comically\.$</string><string>^(.+) looks around vainly for a partner to tango with\.$</string><string>^(.+) picks (his|her) nose absently\.$</string><string>^(.+) breaks down and sobs uncontrollably\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>impatience</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("impatience")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A puzzled expression crosses the face of (.+).$</string><string>^(.+) shuffles (?:his|her) feet in boredom.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kai Cripple</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("brokenleftleg")
  Tragedy.noshowAdd("brokenrightleg")
  Tragedy.noshowAdd("brokenleftarm")
  Tragedy.noshowAdd("brokenrightarm")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^\w+ throws \w+ palms forward, releasing a stream of deadly blue light to cripple (\w+).$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("prone")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Sweeping out with a blade hand, \w+l strikes at the back of (.+)'s knee\.$</string><string>^Drawing an enormous breath\, \w+ exhales\, expelling a gale of wind with such force that (.+) is knocked over\.$</string><string>^(.+) is knocked forcefully off (?:her|his) feet by the impact of \w+\'s huge tail\.$</string><string>^(.+)\'s eyes close suddenly as (?:she|he) falls asleep\.$</string><string>^(.+) is knocked off h(?:is|er) feet by the heaving ground\.$</string><string>^\w+ throws (?:his|her) palms forward, releasing a stream of deadly blue light to cripple (.+)\.$</string><string>^Drawing an enormous breath, you exhale, expelling a gale of wind with such force that (.+) is </string><string>(.+) is knocked forcefully off (?:his|her) feet by the impact of your huge tail\.$</string><string>^A .+ tangles itself in the legs of (.+), sending (?:him|her) sprawling to the ground\.$</string><string>^You knock the legs out from under (.+) and send (?:him|her) sprawling\.$</string><string>^(\w+) staggers and falls to the ground\.$</string><string>^A gust of wind strikes (.+)\, throwing (him|her) to the ground\.$</string><string>^The (?:.+) of (.+) buckles under the impact, and (she|he) goes sprawling\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizziness</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("dizziness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) staggers and falls to the ground\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epilepsy</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("epilepsy")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) begins to shake uncontrollably.$</string><string>^(.+) begins to jerk and shake violently, foaming at the mouth\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cantata down</name><script>if target == matches[4] then
  if tarReb then
    tarReb = false
  end
  
  if tarShield then
    tarShield = false
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) lets the grace of (his|her) voice shine forth with a Scarlattan cantata at (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asleep</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("asleep")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+)'s eyes close suddenly as (?:he|she) falls asleep\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("confusion")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) looks about bemusedly\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("paralysis")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Horror overcomes (.+)'s face as (?:his|her) body stiffens into paralysis\.$</string><string>^With fluid motions of (?:his|her) iron fingers, \w+ strikes precisely at (.+)'s neck\.$</string><string>^(.+) stiffens suddenly, (?:his|her) features a masque frozen in agony\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Backtrack 3p</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity Proccs</name><script>if isTarget(matches[2]) then
  backtrack2("stupidity")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) gives up a round of applause\.$</string><string>^(.+) giggles happily\.$</string><string>^(.+) falls to (his|her) knees in worship\.$</string><string>^(.+) lets out a loud, long \"MOOOOOOOOOOO\!\"$</string><string>^(.+) fondles (himself|herself) absently\.$</string><string>^(.+) blinks\.$</string><string>^(.+) grunts a bit and then lets out a loud \"OINK\!\"$</string><string>^(.+) drops to one knee\.$</string><string>^(.+) pulls down (his|her) pants and moons the world\.$</string><string>^(.+) twitches spasmodically\.$</string><string>^Tears fill (.+)'s eyes and begin to slowly run down (his|her) face\.$</string><string>^(.+) hugs (himself|herself) compassionately\.$</string><string>^(.+) sweeps across the floor, leaping and twirling like a true master\.$</string><string>^(.+) flaps (his|her) arms madly\.$</string><string>^(.+) stumbles and pokes (himself|herself) in the eye\.$</string><string>^(.+) burps obscenely\.$</string><string>^\"The voices\! The voices\! Get them out of my head\!\!\" (.+) moans\, holding (his|her) head\.$</string><string>^(.+) gets down on one knee and serenades the world\.$</string><string>^(.+) waggles (his|her) eyebrows comically\.$</string><string>^(.+) looks around vainly for a partner to tango with\.$</string><string>^(.+) picks (his|her) nose absently\.$</string><string>^(.+) breaks down and sobs uncontrollably\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Madness backtrack</name><script>if isTarget(matches[2]) then
  backtrack2("shadowmadness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Lucidity returns to the eyes of (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>lobelia</name><script>if isTarget(matches[2]) then
  curedGuilt = false
else
  setTriggerStayOpen("lobelia", 0)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>10</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) eats (?:a lobelia seed|an argentum flake)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Guilt backtrack</name><script>if isTarget(matches[2]) then
  guiltCured = true
  tempTimer(1, [[guiltCured = false]])
end

if isTarget(matches[2]) then
  if tarAff("guilt") then 
    Tragedy.curedaff("guilt")
  end
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) straightens, as if some great burden had been lifted from (his|her) shoulders\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>give</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Apostate</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>New trigger</name><script>if gmcp.Char.Status.class == "Apostate" then
  if isTarget(matches[2]) then 
    if canAdd then
      Tragedy.noshowAdd(ven1)
      Tragedy.noshowAdd(ven2)
      canAdd = false
      tempTimer(1, [[canAdd = true]])
    end
  end
end
  
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You stare at (.+), giving (him|her) the evil eye\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BM</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Addiction</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("addiction")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Dancing behind (?:him|her) with a neat sidestep, \w+ strikes at (.+)'s kidney.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>recklessness</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("recklessness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Targeting a vulnerable point, \w+ lashes out at (.+)'s groin with a calculated strike.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slickness</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("slickness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With a swift, snaking strike, \w+ thrusts upwards at (.+)'s armpit.$</string><string>^The protective coating covering the skin of (.+) sloughs off.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsy</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("clumsiness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^(\w+) stumbles clumsily as the blow lands.$</string><string>^Lashing out with open palms, \w+ boxes (.+)'s ears.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BMStupidity</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("stupidity")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Striking (?:his|her) temple with a clenched fist, \w+ leaves (.+) reeling.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypochondria</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("hypochondria")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With rapid precision, \w+ aims first a punch then a spearhand blow at two points on (.+)'s chest.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anorexia</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("anorexia")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\w+ aims a measured blow at (.+)'s stomach, who flinches in response.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weariness</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("weariness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With a fluid motion, \w+ aims a blow just below (.+)'s shoulder.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asthma</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("asthma")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With iron fingers, \w+ aims a darting strike at (.+)'s throat.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("paralysis")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With fluid motions of your iron fingers, you strike precisely at pressure points on (.+)'s neck\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Priest</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Penance</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("paralysis")
  realContemplate = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\"And face your penance\!\" you denounce (.+)\.$</string><string>^\"Repent for your crimes\!\" you denounce (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tenderskin</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("tenderskin")
  realContemplate = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\"Burn\!\" you command (.+)\, fire leaping forth to sear (him|her)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spiritburn</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("spiritburn")
  realContemplate = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\"Return to ash\,\" you decree\, focusing your holy might upon (.+)\.$</string><string>^\"And you shall be naught but cinders\,\" you decree\, focusing your holy might upon (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebuke - Evil</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("masochism")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You decree that (.+) shall see the horror of Evil\, and be unable to look away\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("prone")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^A guardian angel extends a hand in the direction of (.+)\, and (he|she) is suddenly sent sprawling to the ground by an invisible force\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dazzle</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("confusion")
  Tragedy.noshowAdd("dizziness")
  realContemplate = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You direct a dazzling ray of divine light at (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ablaze</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("ablaze")
  realContemplate = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\"And thus I deem you unfit for Creation\!\" you proclaim\, pointing imperiously at (.+)\.$</string><string>^\"I deem you unfit for Creation\!\" you proclaim\, pointing imperiously at (.+)\.$</string><string>^Your guardian angel\'s eyes glow like embers as (.+) is seared and bursts into flame\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebuke - Chaos</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("hallucinations")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You decree that (.+) shall see the truth of Chaos for the aberration that it is\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inquisition</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("inquisition")
  realContemplate = true
end

if announce then
  send("PT Inquisition on " ..target)
end

tempTimer(18, [[Tragedy.curedaff("inquisition")]])
tempTimer(19, [[report("Inquisition fading!")]])


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You draw (.+) into your gaze\, lowering your brow and glaring at (him|her) with righteous fury\. Pointing at (.+) with a single raised finger\, you recite a list of (.+)'s transgressions, condemning (his|her) actions and words\. A blaze of holy fire surges around you as you dictate (his|her) sentence\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inquisition dropped</name><script>if tarAff("inquisition") then
  Tragedy.curedaff("inquisition")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^(.+) shakes (his|her) head, face resolute\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebuke - Darkness</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("paranoia")
  realContemplate = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You decree that (.+) shall know the truth of darkness, and all that it may bring\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sloth</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("weariness")
  realContemplate = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Raising an imperious hand\, you condemn (.+) to suffer the sin of sloth\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chasten</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd(matches[3])
  realContemplate = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You direct a dark bolt of energy through your mace towards (.+)\. The curse of (.+) is brought down on to your victim\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>axeVenom</name><script>if isTarget(matches[3]) then
  Tragedy.noshowAdd(venomToAff(axeVenom))
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You cock back your arm and throw (.+) at (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Justice</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("justice")
  realContemplate = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\"Your crimes shall not go unpunished\,\" you recite to (.+)\, voice hard with condemnation\.$</string><string>^\"Your sins condemn you to this fate\,\" you recite to (.+)\, voice hard with condemnation\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disrupted</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("disrupted")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^(.+) shivers particularly intensely\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Guilt</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("guilt")
  realContemplate = true
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\"Know the pain which you have caused\,\" you proselytise to (.+)\.$</string><string>^\"And your guilt will be made plain\,\" you proselytise to (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fasting</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("anorexia")
  realContemplate = true
end

if announce then
  send("PT Anorexia on " ..target)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You command (.+) to refrain from gluttony\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hellsight</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("hellsight")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\"And see that which Evil reaps\!\" you recite to (.+)\.$</string><string>^\"Look upon their black work\!\" you recite to (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Visions</name><script>if isTarget(matches[2]) then
  if tarAff("dementia") then
    Tragedy.noshowAdd("shyness")
    realContemplate = true
  else
    Tragedy.noshowAdd("dementia")
    realContemplate = true
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You condemn (.+) to see the fate of the enemies of creation\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serpent</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impatience</name><script>if isTarget(matches[2]) then 
Tragedy.TrackerAdd("impatience")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^(.+) shuffles (\w+) feet in boredom\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>lash give</name><script>if venom1 == "epteth" then
	if tarAff("lepteth") then
		Tragedy.TrackerAdd("repteth")
	else
		Tragedy.TrackerAdd("lepteth")
	end
else
	Tragedy.TrackerAdd(venom1)
end
	
venom1 = nil
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With your victim exposed, you crack .+ back for a second assault\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prompt after dstab</name><script>if table.contains(tableofhits, "hit1") then
  if venom1 then
		if venom1 == "epteth" then
			if tarAff("lepteth") then
				Tragedy.TrackerAdd("repteth")
			else
				Tragedy.TrackerAdd("lepteth")
			end
		else
			Tragedy.TrackerAdd(venom1)
		end
	end
	if target.lastlimb then
		target.limbs[target.lastlimb] = target.limbs[target.lastlimb] + 1
	end
end
if table.contains(tableofhits, "hit2") then
  if venom2 then
		if venom2 == "epteth" then
			if tarAff("lepteth") then
				Tragedy.TrackerAdd("repteth")
			else
				Tragedy.TrackerAdd("lepteth")
			end
		else
			Tragedy.TrackerAdd(venom2)
		end
	end
	--[[if target.lastlimb then
		target.limbs[target.lastlimb] = target.limbs[target.lastlimb] + 1	
	end]]--
end
--[[if target.martellato then
	noshowAdd("prone")
end
if target.pesante then
	noshowAdd("undeaf")
end
if target.lastlimb then
	cecho("&lt;green&gt;test: "..target.limbs[target.lastlimb])
end]]--
Tragedy.hits = {}
venom1 = nil
venom2 = nil
--target.lastlimb = nil
illusion = false
--target.martellato = false
--target.pesante = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string /></regexCodeList><regexCodePropertyList>
									<integer>7</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bite</name><script>if isTarget(matches[2]) then 
	Tragedy.TrackerAdd(matches[3])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You sink your fangs into (.+), injecting just the proper amount of (\w+).$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>rebounding hit</name><script>if table.contains(Tragedy.hits, "hit2") then
    table.remove(Tragedy.hits, table.index_of(Tragedy.hits, "hit2"))
    table.insert(Tragedy.hits, "miss2")
else
    table.remove(Tragedy.hits, table.index_of(Tragedy.hits, "hit1"))
    table.insert(Tragedy.hits, "miss1")
end
--[[if target.martellato then
	target.martellato = false
end
if target.pesante then
	target.pesante = false
end]]--
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The attack rebounds back onto you!</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>obsolete envenom</name><script>venom1 = multimatches[1][2] 
venom2 = multimatches[3][2]

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You secrete (\w+) and deftly bring .+ to your mouth, letting the venom drip upon it.$</string><string>1</string><string>^You secrete (\w+) and deftly bring .+ to your mouth, letting the venom drip upon it.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>5</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Darkshade</name><script>if isTarget(matches[2]) then 
	backtrack2("darkshade")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^(.+) stiffens suddenly, his features a masque frozen in agony\.$</string><string>^(.+) lets out a piercing scream, as if wounded by the very sunlight\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea</name><script>if isTarget(matches[2]) then 
	backtrack2("nausea")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^(.+) doubles over\, vomiting violently\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>first hit</name><script>if table.is_empty(Tragedy.hits) then
    table.insert(Tragedy.hits, "hit1")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You quickly prick (.+) with your dirk\.$</string><string>^With your victim exposed, you crack .+ back for a second assault.\.$</string><string>^You rip into (.+) with your massive, deadly claws\.$</string><string>^Lunging forward with long, flashing claws extended, you tear into (.+) ruthlessly\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>second hit</name><script>if table.is_empty(Tragedy.hits) then
    table.insert(Tragedy.hits, "hit1")
elseif table.contains(Tragedy.hits, "hit1") or table.contains(Tragedy.hits, "miss1") then
    table.insert(Tragedy.hits, "hit2")
end
--if checkLimbHit(matches[1]) then
--	whatLimb(matches[1])
--end
	
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Striking like a snake, you prick (.+) a second time with your dirk\.$</string><string>^You slash into (.+)(.*)\.$</string><string>^Lightning-quick, you jab (.+)(.*)\.$</string><string>^You viciously jab (.+) into (.+)(.*)\.$</string><string>^You swing (.+) at (.+)(.*)with all your might\.$</string><string>^You viciously jab the Rageblade into (.+)(.*)\.$</string><string>^You whip (.+) toward the (.*) of (\w+)\.$</string><string>^You skilfully whirl (.+) toward the (.*) of (\w+).$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>envenom echo</name><script>
Tragedy.echo(" &lt;green&gt;Envenomed "..matches[2])
deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You secrete (\w+) and deftly bring .+ to your mouth, letting the venom drip upon it.$</string><string>^You rub some (\w+) on .+</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>envenom</name><script>venom1 = matches[2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You rub some (.+) on (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>miss</name><script>if isTarget(matches[2]) then 
	if table.contains(Tragedy.hits, "hit2") then
    	table.remove(Tragedy.hits, table.index_of(Tragedy.hits, "hit2"))
    	table.insert(Tragedy.hits, "miss2")
	else
    	table.remove(Tragedy.hits, table.index_of(Tragedy.hits, "hit1"))
    	table.insert(Tragedy.hits, "miss1")
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You stab your dirk quickly at (.+) but miss by a hair\.$</string><string>^(.+) parries the attack with a deft manoeuvre\.$</string><string>^(.+) twists (?:his|her) body out of harm's way\.$</string><string>^(.+) dodges nimbly out of the way\.$</string><string>^(.+) quickly jumps back, avoiding the attack\.$</string><string>^A reflection of (.+) blinks out of existence\.$</string><string>^(.+) moves into your attack, knocking your blow aside before viciously countering with a strike to your head\.$</string><string>^You lash out at (.+) with (.+)\, but miss.$</string><string>^A dizzying beam of energy strikes you as your attack rebounds off of (.+)\'s shield\.$</string><string>You miss.</string><string>You lash out clumsily.</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>snek scytherus</name><script>if isTarget(matches[2]) then 
	Tragedy.noshowAdd("scytherus")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^A .+ sinks its fangs into the neck of (.+), injecting a potent dose of toxin\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity</name><script>if isTarget(matches[2]) then 
	backtrack2("stupidity")
end
--need to add these for tracking ASAP
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Tears fill (.+)'s eyes and begin to slowly run down (\w+) face\.$</string><string>^(.+) flaps (\w+) arms madly\.$</string><string>^(.+) stumbles and pokes (\w+) in the eye\.$</string><string>^(.+) makes a strangled meowing noise and quickly shuts up, blushing\.$</string><string>^(.+) picks (\w+) nose absently\.$</string><string>^(.+) breaks down and sobs uncontrollably\.$</string><string>^(.+) gets down on one knee and serenades the world\.$</string><string>^(.+) falls to his knees in worship\.$</string><string>^(.+) hugs himself compassionately\.$</string><string>^(.+) grunts a bit and then lets out a loud \"OINK\!\"$</string><string>^(.+) waggles his eyebrows comically\.$</string><string>^(.+) wails like an old woman\.$</string><string>^(.+) moans, holding his head\.$</string><string>^You cast a net of stupidity over (.+)'s mind\.$</string><string>^(.+) twitches spasmodically\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Party</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Party Tracking Affs 2</name><script>if isTarget(matches[2]) then
  Tragedy.noshowAdd(string.lower(matches[3]))
end

if matches[4] == "inquisition" or matches[4] == "Inquisition" then
  boxDisplay("Inquisition up")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\(Party\)\: \w+ says, \"(\w+) hit with (\w+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Party tracking affs</name><script>--deleteFull()
--add your own party's call style
if isTarget(matches[3]) then
	if matches[2] == "Batter" then
		Tragedy.noshowAdd("stupidity")
		Tragedy.noshowAdd("epilepsy")
		Tragedy.noshowAdd("dizziness")
	else
		Tragedy.noshowAdd(string.lower(matches[2]))
	end
end

--who tf do I trust?

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\(Party\)\: \w+ says, "(\w+) on (.+)\."$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Party tracking affs 3</name><script>if isTarget(matches[2]) then
  tarShield = false
  tarReb = false
  Tragedy.noshowAdd(matches[3])
  Tragedy.noshowAdd(matches[4])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\(Party\): \w+ says, \"(|w+) hit with (\w+) and (\w+)\.\"$</string><string>^\(Party\): \w+ says, \"(\w+) hit with (\w+) (\w+)\.\"$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>party3 (this time it's Pen that's a snowflake)</name><script>if isTarget(matches[5]) then
	Tragedy.noshowAdd(string.lower(matches[2]))
	Tragedy.noshowAdd(string.lower(matches[3]))
	Tragedy.noshowAdd(string.lower(matches[4]))
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\(Party\)\: \w+ says, "(\w+), (\w+) and (\w+) on (.+)\."$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Austere is a special snowflake</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("stupidity")
	Tragedy.noshowAdd("epilepsy")
	Tragedy.noshowAdd("dizziness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>\(Party\)\: Austere says, "Stupidity, Epilepsy, and Dizziness on (\w+)\."$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Party Aeon</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("aeon")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\(Party\)\: \w+ says, "(.+) AEONED\!(?:!)"$</string><string>^\(Party\): \w+ says, "(.+) TRUENAMED!!!"$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>party2</name><script>--deleteFull()
if isTarget(matches[4]) then
	Tragedy.noshowAdd(string.lower(matches[2]))
	Tragedy.noshowAdd(string.lower(matches[3]))
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\(Party\)\: \w+ says, "(\w+) and (\w+) on (.+)\."$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Party tracking affs 4</name><script>if isTarget(matches[2]) then
  tarReb = false
  tarShield = false
  tarLyre = false
  Tragedy.nowshowAdd(matches[3])
  Tragedy.nowshowAdd(matches[4])
  Tragedy.nowshowAdd(matches[5])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\(Party\): \w+ says, \"(\w+) hit with (\w+) (\w+) (\w+)\.\"$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Psion</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unweave body</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("body")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You lash at (.+) with a translucent lash\, directing the fundamental weave of (his|her) body to begin unwinding\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("clumsiness")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With a precise strike you sever the muscles in the left arm of (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unweave spirit</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("spirit")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You lash at (.+) with a translucent lash\, directing the fundamental weave of (his|her) spirit to begin unwinding\.$</string></regexCodeList><regexCodePropertyList>
									<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupid|Dizzy</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("stupidity")
  Tragedy.TrackerAdd("dizziness")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You deliver a savage backhanded blow with a translucent mace to the face of (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>New trigger</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asthma</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("asthma")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Striking like coiled lightning, your hand flashes out and lays open the throat of (.+) with a translucent dagger in a spray of crimson\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unweave mind</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("mind")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You lash at (.+) with a translucent lash\, directing the fundamental weave of (his|her) mind to begin unwinding\.$</string></regexCodeList><regexCodePropertyList>
									<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("paralysis")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Lightning explodes from your blade as you hack into (.+)\, (his|her) body locking up as the current rips through (him|her)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>EarthLord</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone</name><script>Tragedy.noshowAdd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You stomp upon the ground, a ripple of tremors radiating out from the impact.</string></regexCodeList><regexCodePropertyList>
									<integer>0</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bard</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limerick|Impatience</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("impatience")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Composing a few clever lines in your head, you quickly sing a jaunty limerick at (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Martellato</name><script>target.martellato = true
Tragedy.TrackerAdd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The songblessing upon the rapier swells with a rich, vibrant hum.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Haiku|confuse</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("confusion")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You recite an obscure Kamleikan haiku to (.+)\.$</string><string>^The songbird upon your shoulder perfectly mimics the recitation of an obscure Kamleikan haiku to (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bardundeaf</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("undeaf")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^(.+) cries out with a look of surprise as the Bagatelle restores (?:his|her) hearing\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>auralblessing</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("undeaf")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You lightly strike the side of (.+)'s head with your rapier\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>tremolo</name><script>if isTarget(matches[2]) then
	if matches[3] == "left" then
		Tragedy.noshowAdd("lepseth")
	elseif matches[3] == "right" then
		Tragedy.noshowAdd("repseth")
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Using a heavy tremolo you crush (.+)'s (\w+) leg\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Maqam|clumsy|dizzy</name><script>if isTarget(matches[2]) then
	if not tarAff("clumsiness") then
		Tragedy.TrackerAdd("clumsiness")
	else
		Tragedy.TrackerAdd("dizziness")
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You sing a graceful maqam of el'Jazira at (.+)\.$</string><string>^The songbird upon your shoulder sings a graceful maqam of el'Jazira at (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gimmegimme|generosity</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("generosity")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You chant 'GIMMEGIMME' at (.+) and (?:his|her) eyes light up with generosity\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Qasida|Ano</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("anorexia")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Starting with the characteristic Jaziran trill, you sing a qasida of asceticism to (.+)\.$</string><string>^The songbird upon your shoulder sings a qasida of asceticism to (.+), starting with the characteristic Jaziran trill\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Requiem|Paranoia</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("paranoia")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With a mournful cry you begin the requiem for Seleucar to (.+)\.$</string><string>^With a mournful cry, the songbird upon your shoulder begins the requiem for Seleucar to (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vibrato</name><script>if isTarget(matches[3]) then
	if matches[2] == "left" then
		Tragedy.noshowAdd("lepteth")
	elseif matches[2] == "right" then
		Tragedy.noshowAdd("repteth")
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With a trilling vibrato you shatter the (.+) arm of (\w+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pastorale|vertigo</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("vertigo")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You sing a pastorale of the fields and streams to (.+)\.$</string><string>^The songbird upon your shoulder sings a pastorale of the fields and streams to (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Isorhythm|Claustrophobia</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("claustrophobia")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^In droning song you subject (.+) to a lengthy isorhythm\.$</string><string>^The songbird upon your shoulder launches into a droning song, subjecting (.+) to a lengthy isorhythm\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pesante</name><script>target.pesante = true
Tragey.TrackerAdd("undeaf")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The songblessing unleashes a strident note.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Poem|Nausea</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("nausea")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Your poem of gluttony and decay makes (.+) green in the cheeks\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ditty|Epi</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("epilepsy")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You sing an irritating, mind-numbing ditty at (.+)\.$</string><string>^The songbird upon your shoulder twitters an irritating, mind-numbing ditty at (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BardStupidity</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("stupidity")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With a gravity, \w+ sings the Passion of Imithia at (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bard para</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("paralysis")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\w+ recites an epic tale of the heroism of Nicator to (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ode|Addiction</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("addiction")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With a wink, you recite "Ode to Elixirs" to (.+)\.$</string><string>^The songbird upon your shoulder perfectly mimics a recitation of "Ode to Elixirs" to (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Passion|Stupidity</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("stupidity")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^With a gravity born of respect, you sing of the saintly Imithia of legend, bringing a certain dull look to (.+)'s face\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>New Trigger</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epic|Para</name><script>if isTarget(matches[2]) then
	Tragedy.TrackerAdd("paralysis")
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You begin reciting an epic tale of the heroism of Nicator to (.+), holding (?:him|her) spellbound\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BardImp</name><script>if isTarget(matches[2]) then
	Tragedy.noshowAdd("impatience")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\w+ eyes gleaming, \w+ smiles and quickly sings a jaunty limerick at (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragon</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>dcurse 1</name><script>dragoncurse = string.lower(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You summon your ancient power and direct the curse of (.+) to strike down (\w+) in (.+) seconds.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>dcurse 2</name><script>if isTarget(matches[2]) then 
	Tragedy.TrackerAdd(dragoncurse)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^(.+) convulses under the influence of some invisible force\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>SnB</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>New trigger</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smash high</name><script>if isTarget(matches[2]) then
  if not tarAff("dizziness") then
    Tragedy.TrackerAdd("dizziness")
  elseif tarAff("dizziness") and not tarAff("recklessness") then
    Tragedy.TrackerAdd("recklessness")
  elseif tarAff("dizziness") and tarAff("recklessness") and not tarAff("stupidity") then
    Tragedy.TrackerAdd("stupidity")
  elseif tarAff("dizziness") and tarAff("recklessness") and tarAff("stupidity") and not tarAff("confusion") then
    Tragedy.TrackerAdd("confusion")
  elseif tarAff("dizziness") and tarAff("recklessness") and tarAff("stupidity") and tarAff("confusion") and not tarAff("epilepsy") then
    Tragedy.TrackerAdd("epilepsy")
  end
end


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^You swing your shield around, smashing the temple of (.+) with a backhanded blow\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>take</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>might</name><script>if isTarget(matches[2]) then 
	curedaff("weariness")
end
--not entirely sure what Might cures
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) lets out a mighty roar.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>phoenix</name><script>if isTarget(matches[2]) then
	target.afflictions = {}
	Tragedy.echo("&lt;yellow&gt; PHOENIX PHOENIX PHOENIX")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Throwing back (?:his|her) head, (.+) shouts out in defiance as blazing flames consume (?:him|her) for a single, glorious instant before dying away\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>smoke 2</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure(herbConversion[matches[3]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) hacks and coughs as (?:he|she) inhales the (\w+) smoke\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fool</name><script>target.afflictions = {}
resetTracking()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) presses a tarot to (?:her|his) forehead, producing a wan smile.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>rage</name><script>
if isTarget(matches[2]) then
		Tragedy.Cure("bellwort")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+)'s eyes flash with rage.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asphyxiate line</name><script>

if isTarget(matches[2]) then
	backtrack2("asthma")
	Tragedy.Cure(herbConversion[matches[3]])
	
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) hacks and coughs as (?:he|she) inhales the (\w+) smoke.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>shrugging</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("shrug")
	Tragedy.curedaff("weariness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) hunches (?:her|his) shoulders and lets out a soft hiss.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Harmony</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("harmony")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A soft chiming emanates from (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>accelerate</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("accelerate")
	Tragedy.curedaff("recklessness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A look of relief comes over (.+) as (?:he|she) grows less pale\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Panacea</name><script>if isTarget(matches[2]) then
	Tragedy.Cure("panacea")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) is surrounded in a cool, refreshing mist.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>fitness</name><script>
if isTarget(matches[2]) then
	Tragedy.curedaff("asthma")
end
if isTarget(matches[2]) then
	Tragedy.curedaff("weariness")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) draws a deep, measured breath.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bubble pipe</name><script>
if isTarget(multimatches[1][2]) then
	backtrack2("asthma")
	Tragedy.Cure("smoke")
	
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A great gurgling sound is heard as (.+) takes a long drag from an enamel bubble pipe. A series of shining bubbles erupt from the bowl of (?:his|her) pipe\.$</string><string /></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>7</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>deathreset</name><script>if isTarget(matches[2]) then 
	xtarget.afflictions = {}
	resetTracking()
	xtarget.rebounding = false
	Tragedy.echo("&lt;red&gt; TARGET DEAD!")
	Tragedy.echo("&lt;red&gt; TARGET DEAD!")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You have slain (.+)\.$</string><string>^(.+) has been slain by \w+.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deafness</name><script>if isTarget(matches[2]) then 
	Tragedy.curedaff("undeaf")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A brief look of concentration crosses the face of (.+)\.$</string><string>^(.+) eats a calamine crystal\.$</string><string>^(.+) eats a hawthorn berry\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>anorexia</name><script>
if isTarget(matches[2]) then
	backtrack2("anorexia")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) eats</string><string>^(.+) takes a drink from</string><string>^(.+) empties out a (.+) into (?:his|her) mouth.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>tree</name><script>
if isTarget(matches[2]) then 
	deleteFull()
	cecho("\n&lt;yellow_green&gt;---- TREE ---- ")
	cecho("\n&lt;yellow_green&gt;---- TREE ---- ")
	cecho("\n&lt;yellow_green&gt;---- TREE ---- ")
	Tragedy.Cure("tree")
	Tragedy.curedaff("paralysis")
  treeTouch = true
  tempTimer(2, [[treeTouch = false]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) touches a tree of life tattoo\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sun Tarot</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("sun")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The globe of light illuminates (.+) with its brilliance\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>water part 2</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("waterlord")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The water that (.+) stands upon rises up to become a part of him\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disrupt lost</name><script>if isTarget(matches[2]) then 
	Tragedy.curedaff("disrupted")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+)'s eyes lose their focus suddenly\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voyria cure</name><script>if isTarget(matches[2]) then 
	Tragedy.curedaff("voyria")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) takes a drink from .+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Airlord</name><script>if isTarget(matches[2]) then 
	if string.match(gmcp.Room.Info.name, "Flying above") then
		Tragedy.Cure("airlord")
		Tragedy.Cure("airlord")
	else
		Tragedy.Cure("airlord")
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The tempestuous form of (.+) is cleansed by a purifying breeze.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stand</name><script>if isTarget(matches[2]) and not illusion then 
	Tragedy.curedaff("prone")
	if lastcured.bloodroot == "slickness" and tarAff("paralysis") then
		Tragedy.curedaff("paralysis")
		Tragedy.noshowAdd("slickness")
	end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) stands up\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>unweave mind</name><script>if isTarget(matches[2]) then 
	Tragedy.curedaff("mind")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The light behind the eyes of (.+) reignites\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Firelord</name><script>if isTarget(matches[2]) then 
	Tragedy.curedaff("weariness")
	Tragedy.Cure("firelord")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The fiery outer layers of (.+) fall away, turning to dust as they drift to the ground. Though \w+ seems diminished for an instant, (?:his|her) fires soon rage with fury once more\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Syphon</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("syphon")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A demonic crimson glow emanates from (.+).$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Water ele</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("water")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^The amorphous form of (.+) trembles, some of the liquid composing it falling away from the greater whole\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Herb trigger</name><script>
if isTarget(matches[2]) then
	if not illusion then
  	if herbConversion[matches[3]] == "hawthorn" then
  		Tragedy.curedaff("undeaf")
  	elseif herbConversion[matches[3]] == "bayberry" then
  		Tragedy.curedaff("unblind")
    elseif herbConversion[matches[3]] == "lobelia" then
      
  	else
  		Tragedy.Cure(herbConversion[matches[3]])
  	end
	end
end

if isTarget(matches[2]) then
  if not illusion then
    if tarAff("anorexia") then
      backtrack2("anorexia")
    end
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) eats (?:a|an|some) (.*).$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>unweave body</name><script>if isTarget(matches[2]) then 
	Tragedy.curedaff("body")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) suddenly seems much more vital\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bloodboil</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("bloodboil")
	Tragedy.curedaff("haemophilia")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Perspiration suddenly breaks out on (.+)'s forehead\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hallelujah</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("hallelujah")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A song can be heard on the edge of hearing as the air distorts about (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>New trigger</name><script>if isTarget(matches[2]) then
	Tragedy.curedaff("ablaze")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) takes some salve from a vial and rubs it on (his|her) torso\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>eruption(earthlord)</name><script>if isTarget(matches[2]) then 
	Tragedy.curedaff("weariness")
	Tragedy.Cure("eruption")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Magma erupts forth from beneath the plates that cover (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alleviate</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("alleviate")
	Tragedy.curedaff("paralysis")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^As \w+ massages key pressure points, a look of relief comes over (.+)'s face as \w+ ailments ease.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asleep</name><script>if isTarget(matches[2]) then
	Tragedy.curedaff("asleep")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) opens (?:his|her) eyes and yawns mightily\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>smoked</name><script>

if isTarget(multimatches[1][2]) then
	backtrack2("asthma")
	Tragedy.Cure("smoke")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) takes a long drag off (?:his|her) pipe.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smoked Pen</name><script>if isTarget(multimatches[1][2]) then
	backtrack2("asthma")
	Tragedy.Cure("smoke")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) takes a long, smooth drag from (?:his|her) pipe\.$</string><string /></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>7</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Salt</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("salt")
	Tragedy.curedaff("stupidity")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) sketches out a symbol in the air with \w+ finger in the shape of a bisected circle.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>salve</name><script>if isTarget(matches[2]) and not illusion then 
	if matches[3] == "body" or matches[3] == "skin" then
    if tarAff("ablaze") then
      Tragedy.curedaff("ablaze")
    else
		  Tragedy.curedaff("anorexia")
    end
	--else
		--salve_track.applied(matches[3])
  elseif matches[3] == "legs" then
    if tarAff("brokenleftleg") and tarAff("brokenrightleg") then
      Tragedy.curedaff("brokenleftleg")
    elseif tarAff("brokenleftleg") and not tarAff("brokenrightleg") then
      Tragedy.curedaff("brokenleftleg")
    elseif tarAff("brokenrightleg") and not tarAff("brokenleftleg") then
      Tragedy.curedaff("brokenrightleg")
    elseif tarAff("damagedleftleg") and tarAff("damagedrightleg") then
      tempTimer(3.5, [[Tragedy.curedaff("damagedleftleg")]])
      tempTimer(3.5, [[Tragedy.noshowAdd("brokenleftleg")]])
    elseif tarAff("damagedleftleg") and not tarAff("damagedrightleg") then
      tempTimer(3.5, [[Tragedy.curedaff("damagedleftleg")]])
      tempTimer(3.5, [[Tragedy.noshowAdd("brokenleftleg")]])
    elseif tarAff("damagedrightleg") and not tarAff("damagedleftleg") then
      tempTimer(3.5, [[Tragedy.curedaff("damagedrightleg")]])
      tempTimer(3.5, [[Tragedy.noshowAdd("brokenrightleg")]])
    end
	end
	backtrack2("slickness")
end
	--[[else
		curedaff("anorexia")
	end
end]]--

if gmcp.Char.Status.class == "Priest" then
  if tarAff("tenderskin") then
    tarMana = tarMana-8
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) takes some (?:salve|balm) from a vial and rubs it on (?:his|her) (torso|body|skin|arms|legs|head)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>focus</name><script>

if isTarget(matches[2]) then
	backtrack2("impatience")
	Tragedy.Cure("focus")
end      
if isTarget(matches[2]) then  
 deleteFull()	     
 cecho("\n&lt;red&gt;---- FOCUS ----  ")
 cecho("\n&lt;red&gt;---- FOCUS ----  ")
 cecho("\n&lt;red&gt;---- FOCUS ----  ")
end

if tarAff("guilt") then

  local randomMind = {"stupidity", "epilepsy", "dizziness", "confusion", "recklessness"}
  getMind = math.random(1, #randomMind)
  mindAdd = randomMind[getMind]
  
  
  if isTarget(matches[2]) then 
    Tragedy.noshowAdd(mindAdd)
  end
  
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A look of extreme focus crosses the face of (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Purification</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("purification")
	Tragedy.curedaff("selarnia")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A pale mist begins to rise from the skin of (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rite of Healing</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("riteofhealing")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A gentle glow surrounds (.+)\.$</string><string>^The guardian angel of (.+) shimmers and (he|she) gives a sigh of relief\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dheal</name><script>if isTarget(matches[2]) then
	target.afflictions = {}
	Tragedy.echo("&lt;yellow&gt; DRAGONHEALED DRAGONHEALED DRAGONHEALED")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) lets out a great keening, casting the impurities from (?:her|his) form\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dagaz</name><script>if isTarget(matches[2]) then 
	Tragedy.Cure("dagaz")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A rune like a rising sun upon the ground flares, bathing (.+) with healing magic.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>unweave spirit</name><script>if isTarget(matches[2]) then 
	Tragedy.curedaff("spirit")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(.+) seems suddenly unburdened, clarity reasserting itself upon (his|her) features\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>WunderSys</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>WunderSys</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>WunderSys</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Defences</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def Strips</name><script>wsys.defstrip(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#800080</mFgColor><mBgColor>#ffffff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Your (.+) defence is stripped away\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curing reset gag</name><script>if wsys.settings.defup[wsys.profile][wsys.myClass()][multimatches[2][2]] then
  deleteFull()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have set the '</string><string>^You have set the \'(\w+)' defence to the 0 priority\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def</name><script>for k in pairs(wsys.def) do
 wsys.def[k] = false
end -- for
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>900</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have the following defences:</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>underwater choking</name><script>if wsys.settings.usetransmutation then
  wsys.osend("outr calcite")
  wsys.osend("eat calcite")
else
  wsys.osend("outr pear")
  wsys.osend("eat pear")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You choke as you inhale water.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curatives</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Elixirs or Tonics</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Temperance +</name><script>wsys.deffed("temperance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A chill runs over your icy skin.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Speed +</name><script>wsys.deffed("speed")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Tiny tremours spread through your body as the world seems to slow down.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Speed -</name><script>wsys.undef("speed")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\w+ razes your speed defence with .+\.$</string><string>^\w+ flays away your speed defence\.$</string><string>^\w+ blows an Aeon tarot at you, destroying your speed defence\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Levitating +</name><script>wsys.deffed("levitating")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your body begins to feel lighter and you feel that you are floating slightly.</string><string>With a tightly controlled fluttering of your wings, you begin tohover slightly.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Poisonresist (def)</name><script>wsys.defLine("poisonresist", "Poison resistance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your resistance to damage by poison has been increased.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Levitating (def)</name><script>wsys.defLine("levitating", "levitation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are walking on a small cushion of air.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Poisonresist +</name><script>wsys.deffed("poisonresist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You feel a momentary dizziness as your resistance to damage by poison increases.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Temperance (def)</name><script>wsys.defLine("temperance", "frost")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are tempered against fire damage.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Speed (def)</name><script>wsys.defLine("speed")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your sense of time is heightened, and your reactions are speeded.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Herbs or Minerals</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scholasticism (def)</name><script>wsys.defLine("scholasticism", "myrrh")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your mind is racing with enhanced speed.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scholasticism +</name><script>wsys.deffed("scholasticism")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^As you swallow the (myrrh|bisemutum), you feel your mind begin to race. New avenues of mental exploration open up to you and you can feel your mind processing information as never before.$</string><string>^You swallow the (myrrh|bisemutum), but it leaves only an unpleasant aftertaste in your mouth.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kola (def)</name><script>wsys.defLine("kola")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are feeling extremely energetic.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deafness (def)</name><script>wsys.defLine("deafness", "deaf")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are deaf.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blindness (def)</name><script>wsys.defLine("blindness", "blind")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are blind.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smoking</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding (def)</name><script>wsys.defLine("rebounding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are protected from hand-held weapons with an aura of rebounding.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding -</name><script>wsys.undef("rebounding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your aura of weapons rebounding disappears.</string><string>^\w+ razes your aura of rebounding with (.+).$</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rebounding +</name><script>wsys.deffed("rebounding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You feel an aura of rebounding surround you.</string><string>You puff on the pipe, but your existing aura of weapons rebounding negates any effect.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Salves or Balms</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Density -</name><script>wsys.undef("density")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You feel your density return to normal.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Density +</name><script>wsys.deffed("density")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your body grows extremely dense and heavy as </string></regexCodeList><regexCodePropertyList>
									<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Density (def)</name><script>wsys.defLine("density")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are extremely heavy and difficult to move.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Insulation (def)</name><script>wsys.defLine("insulation", "caloric")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are coated in an insulating unguent.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Insulation +</name><script>if wsys.applying == "exothermic" or wsys.applying == "caloric" then
 wsys.deffed("insulation")
 wsys.affcured("shivering")
 wsys.affcured("frozen")
end -- if
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A feeling of comfortable warmth spreads over you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fangbarrier (def)</name><script>wsys.defLine("fangbarrier", "sileris")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are protected from the fangs of serpents.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Insulation -</name><script>wsys.undef("insulation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Waves of elemental water surge over your body, stripping your insulating unguent.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fangbarrier +</name><script>wsys.deffed("fangbarrier")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The quicksilver hardens into a supple metallic shell.</string><string>The sileris berry juice hardens into a supple purple shell.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lost Defences</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mounted -</name><script>wsys.dismountd()
wsys.def.mounted = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#a26b1e</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You step down off of</string><string>You lose purchase on</string><string>You have no mount on which to jump.</string><string>You are not currently riding anything.</string><string>The feathers of an ebony pegasus's wings brush against your shoulder as you dismount.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>2</integer><integer>3</integer><integer>3</integer><integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lyre</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lyre +</name><script>wsys.lyred()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You strum a Lasallian lyre, and a prismatic barrier forms around you.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No lyre</name><script>if wsys.uselyre then
  wsys.uselyre = false
  wsys.report("SL will turn lyre mode on, you have no lyre!")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You strum your fingers impatiently.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lyre -</name><script>wsys.lyrelost()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your prismatic barrier dissolves into nothing.</string><string>The breath weapon rips apart your prismatic barrier.</string><string>The stream hits your prismatic barrier, shattering it.</string><string>The breath weapon rips through both your shield and prismatic barrier.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lyre (def)</name><script>wsys.def.lyre = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are standing within a prismatic barrier.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Class Defences</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devotion</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inspiration (def)</name><script>wsys.defLine("inspiration")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your limbs are suffused with divinely-inspired strength.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inspiration +</name><script>wsys.deffed("inspiration")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You bow your head and, praying to the gods for inspiration, you are soon rewarded as your body is suffused with strength.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inspiration -</name><script>wsys.undef("inspiration")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You slump slightly as the divinely-inspired strength leaves your body.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pranks</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slippery (def)</name><script>wsys.defLine("slippery")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are looking a little shady today.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slippery +</name><script>wsys.deffed("slippery")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You're quite the slippery little fellow aren't you?</string><string>You're already quite slippery.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Metamorphosis</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stealth -</name><script>wsys.undef("stealth")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease concentrating on stealth.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>hiding (failed)</name><script>wsys.defmissingdep("hiding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Too many prying eyes prevent you from finding a suitable hiding place.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spiritbonded -</name><script>wsys.undef("spiritbonded")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You shiver briefly as the spiritual bonding of your soul to its spirit host ends.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>elusiveness (failed)</name><script>wsys.defmissingdep("elusiveness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>I cannot fathom the meaning of "elusiveness".</string><string>I'm sorry, I don't know what "elusiveness" does.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>unmorphed</name><script>wsys.undef("reflexes")
wsys.undef("stealth")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your soul quakes and shifts as the spirits depart, leaving you</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Elusiveness +</name><script>wsys.deffed("elusiveness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your eyes flicker this way and that as you watch for pursuers.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>avasion (failed)</name><script>wsys.defmissingdep("evasion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You must be in the air before you can begin evasive flying.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spiritbonded +</name><script>wsys.deffed("spiritbonded")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your soul draws inexorably closer to its spirit host as the spiritual bonding magic works about you.</string><string>You are already bonding with the spirits, Metamorph.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Affinity +</name><script>wsys.deffed("affinity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You embrace the spirit that dwells within you and are overcome with the joy of true unity.</string><string>You are already embracing the spirit that dwells within you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stealth (def)</name><script>wsys.defLine("stealth")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your movements are incredibly stealthy.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Elusiveness (def)</name><script>wsys.defLine("elusiveness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are alert to those who would pursue you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reflexes -</name><script>wsys.undef("reflexes")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your reflexes slow to normal speed.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reflexes (def)</name><script>wsys.defLine("reflexes")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have honed your reflexes.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>elusiveness (-)</name><script>wsys.undef("elusiveness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are not watching for pursuers, Metamorph.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stealth +</name><script>wsys.deffed("stealth")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will now move in total silence.</string><string>You are already moving in total silence.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spiritbonded (def)</name><script>wsys.defLine("spiritbonded")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are bonded to your spirit totem.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>def failed</name><script>wsys.defmissingdep(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^I'm sorry, I don't know what "(\w+)" does.$</string><string>^I cannot fathom the meaning of "(\w+)".$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>spiritform (def)</name><script>wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.defLine(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^An? (\w+) spirit co-habits your body.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reflexes +</name><script>wsys.deffed("reflexes")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your reflexes are poised and ready for action.</string><string>Your reflexes are already active.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Affinity (def)</name><script>wsys.defLine("affinity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have a great affinity with your spirit form.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>human-form</name><script>wsys.defmissingdep("affinity")
wsys.defmissingdep("spiritbonded")
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You remain in \w+ form, dolt.</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>spirit forms</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>turtle</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("turtle")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>You feel the power of the oceans as the spirit of the Turtle enters you.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>icewyrm</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("icewyrm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Images of cold, unseen lands drift before your mind's eye as the mysterious spirit of the Icewyrm dwells within your uneasy soul.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>cheetah</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("cheetah")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>You welcome the spirit of the Cheetah into your soul.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>gopher</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("gopher")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>As the spirit of the Gopher enters you, the ground begins to look quite tempting.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>condor</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("condor")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Your soul soars as the buoyant spirit of the Condor joins you.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>basilisk</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("basilisk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Your breathing slows to a gentle whisper as the stealthy spirit of the Basilisk approaches and takes form within you.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>wolf</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("wolf")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>You cast your eyes upwards towards the moon, as the howl of the Wolf rings in your ears.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>sloth</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("sloth")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>You yawn and slouch about as the spirit of the Sloth permeates your being.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>jaguar</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("jaguar")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>You settle back on your haunches, revelling in the natural power and confidence of the spirit of the Jaguar.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>elephant</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("elephant")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>The spirit of the massive Elephant enters your body, and all obstacles seem as nothing.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>hyena</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("hyena")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>You gaze impassionately at the world through cold eyes as the Hyena takes hold.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>wildcat</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("wildcat")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>You feel quick and alert as you receive the gifts of the Wildcat.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>owl</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("owl")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>A sense of inner wisdom and peace spreads through your mind as the spirit of the Owl works its influence.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>wolverine</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("wolverine")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Your muscles feel like taut steel as the spirit of the Wolverine enters you.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>gorilla</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("gorilla")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Your arms fill with power and you feel nimbleness and strength imbue you as the spirit of the Gorilla enters you.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>jackdaw</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("jackdaw")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>You feel the spirit of the Jackdaw peering cautiously out from behind your beady eyes.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>nightingale</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("nightingale")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Strains of birdsong fill your ears as the spirit of the Nightingale is summoned to you.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bear</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("bear")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>You feel the spirit of the mighty Grizzly enter your body as your limbs grow in massive power.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>eagle</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("eagle")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Your soul dwells resplendent in companion with the majesty of the spirit of the Eagle.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>squirrel</name><script>wsys.morphing = false
wsys.undef("squirrel")
wsys.undef("wildcat")
wsys.undef("wolf")
wsys.undef("turtle")
wsys.undef("jackdaw")
wsys.undef("cheetah")
wsys.undef("owl")
wsys.undef("hyena")
wsys.undef("condor")
wsys.undef("gopher")
wsys.undef("sloth")
wsys.undef("bear")
wsys.undef("nightingale")
wsys.undef("elephant")
wsys.undef("wolverine")
wsys.undef("jaguar")
wsys.undef("icewyrm")
wsys.undef("eagle")
wsys.undef("gorilla")
wsys.undef("basilisk")
wsys.deffed("squirrel")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Your heart beats faster and you look about anxiously as the spirit of the Squirrel inhabits your soul.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Channels</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Knife Sigil strip</name><script>-- knife sigil in room check here
wsys.channels[multimatches[2][2]] = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The power of the knife sigil cuts your</string><string>^The power of the knife sigil cuts your (\w+) channel\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spirit Channel +</name><script>wsys.channels.spirit = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You merge the four elemental channels and the formidable powers of the spirit realms are yours.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Air Channel +</name><script>wsys.channels.air = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The power of air is harnessed to your will.</string><string>You already have a channel opened to air.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Water Channel +</name><script>wsys.channels.water = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Purest water soothes you into calm.</string><string>You already have a channel opened to water.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Channel already open</name><script>wsys.channels[multimatches[2][2]] = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You already have a channel opened </string><string>^You already have a channel opened to (fire|air|water|earth)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Channels</name><script>wsys.lostallchannels()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>8</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have harnessed the power of:</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Some channels not open</name><script>wsys.lostallchannels()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You must have channels open to four basic elements before you may channel spirit.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fire Channel +</name><script>wsys.channels.fire = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Elemental fire burns at your behest.</string><string>You already have a channel opened to fire.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Earth Channel +</name><script>wsys.channels.earth = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The strength of earth is at your command.</string><string>You already have a channel opened to earth.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evileye</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Truestare (def)</name><script>wsys.defLine("truestare")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are enhancing your ocular prowess.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Truestare +</name><script>wsys.deffed("truestare")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A sharp pain spikes through your skull, before settling into a dull throbbing just behind your eyes.</string><string>You are already enhancing your ocular prowess.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tekura</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bodyblock +</name><script>wsys.deffed("bodyblock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You ready yourself to block as best you can.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evadeblock +</name><script>wsys.deffed("evadeblock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You ready yourself to evade incoming blows.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evadeblock (def)</name><script>wsys.defLine("evadeblock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are using Tekura to evade incoming attacks.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bodyblock (def)</name><script>wsys.defLine("bodyblock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are trying to absorb blows to your body.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unblock all</name><script>--drops bodyblock, evadeblock, pinchblock
wsys.undef("bodyblock")
wsys.undef("evadeblock")
wsys.undef("pinchblock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You drop all your blocks.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pinchblock +</name><script>wsys.deffed("pinchblock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You ready yourself to pinch block to the best of your ability.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pinchblock -</name><script>wsys.undef("pinchblock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You lower your pinch block.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pinchblock (def)</name><script>wsys.defLine("pinchblock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will try to pinch block a weakened foe.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evadeblock -</name><script>wsys.undef("evadeblock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You lower your evade block.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bodyblock -</name><script>wsys.undef("bodyblock")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You lower your body block.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shared Defs</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Balancing -</name><script>wsys.undef("balancing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease to balance on the balls of your feet.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindnet +</name><script>wsys.deffed("mindnet")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cast an invisible mind net out into the distance, allowing it to settle about the surrounding land.</string><string>You already have mindnet active.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Constitution (def)</name><script>wsys.defLine("constitution")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are using your superior constitution to prevent nausea.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Acrobatics -</name><script>wsys.undef("acrobatics")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease your acrobatic leaping and bouncing.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Resistance +</name><script>wsys.deffed("resistance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call aloud and feel an aura of resistance shroud itself silently about you.</string><string>Your spirit is strengthened against spiteful magics.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dodging +</name><script>wsys.deffed("dodging")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You resolve to keep an eye on the skies for danger.</string><string>You are already watching the skies.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Projectiles -</name><script>wsys.undef("projectiles")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease your watch for projectiles.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Consciousness +</name><script>wsys.deffed("consciousness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will remain conscious at all times.</string><string>You are already maintaining consciousness.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vitality (def)</name><script>wsys.defLine("vitality")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will call upon your fortitude in need.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dodging (def)</name><script>wsys.defLine("dodging")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are watching the skies for danger.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dodging -</name><script>wsys.undef("dodging")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease watching the skies.</string><string>You are not watching the skies for danger.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Resistance (def)</name><script>wsys.defLine("resistance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are resisting magical damage.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lifevision +</name><script>wsys.deffed("lifevision")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You narrow your eyes and blink rapidly, enhancing your vision to seek out sources of lifeforce in others.</string><string>You already possess enhanced vision.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Arrowcatching (def)</name><script>wsys.defLine("arrowcatching")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are attempting to pluck arrows from the air.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gripping -</name><script>wsys.undef("gripping")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You relax your grip.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lifevision (def)</name><script>wsys.defLine("lifevision")
if wsys.isClass("occultist") then wsys.def.astralvision = true end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have enhanced your vision to be able to see traces of lifeforce.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindnet -</name><script>wsys.undef("mindnet")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease concentration and your mind net vanishes.</string><string>You do not have a mind net cast.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Immunity +</name><script>wsys.deffed("immunity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You close your eyes and grit your teeth, feeling the heat of the blood pumping through your veins.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weathering +</name><script>wsys.deffed("weathering")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A brief shiver runs through your body.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gripping +</name><script>wsys.deffed("gripping")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You concentrate on gripping tightly with your hands.</string><string>You are already tightly gripping with your hands.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Toughness (def)</name><script>wsys.defLine("toughness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your skin is toughened.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shroud +</name><script>wsys.deffed("shroud")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Calling on your dark power, you draw a thick shroud of concealment about yourself to cover your every action.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Balancing +</name><script>wsys.deffed("balancing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You move onto the balls of your feet and begin to concentrate on balance.</string><string>You're already balancing.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Numbness -</name><script>wsys.undef("numbness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cry out in agony as the effects of your numbness fade away and you feel your wounds once more.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Acrobatics +</name><script>wsys.deffed("acrobatics")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You begin leaping and bouncing about, making it more difficult to hit you.</string><string>You are already bouncing around acrobatically.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gripping (def)</name><script>wsys.defLine("gripping")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your hands are gripping your wielded items tightly.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Standingfirm -</name><script>wsys.undef("standingfirm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease to stand firm against attempts to move you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vitality +</name><script>wsys.deffed("vitality")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your body positively glows with health and vitality.</string><string>Your body is already aglow with vitality.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vitality -</name><script>wsys.undef("vitality")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A surge of rejuvenating energy floods your system, healing your wounds.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Acrobatics (def)</name><script>wsys.defLine("acrobatics")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are bouncing around acrobatically.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Constitution +</name><script>wsys.deffed("constitution")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You clench the muscles in your stomach, determined to assert your superior constitution.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Balancing (def)</name><script>wsys.defLine("balancing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are balancing on the balls of your feet.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindnet (def)</name><script>wsys.defLine("mindnet")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have cast a mindnet over the local area.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hiding (def)</name><script>wsys.defLine("hiding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have used great guile to conceal yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hiding (error)</name><script>wsys.cannotdef("hiding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Too many prying eyes prevent you from finding a suitable hiding place.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Consciousness (def)</name><script>wsys.defLine("consciousness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are maintaining consciousness at all times.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Arrowcatching +</name><script>wsys.deffed("arrowcatching")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have begun to look for arrows to pluck from the air.</string><string>You already have arrowcatching on.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Consciousness -</name><script>wsys.undef("consciousness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will no longer concentrate on retaining full consciousness.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hiding -</name><script>wsys.undef("hiding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You emerge from your hiding place.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shroud -</name><script>wsys.undef("shroud")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your shroud dissipates and you return to the realm of perception.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Standingfirm +</name><script>wsys.deffed("standingfirm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cross your arms, standing firm and resolute.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Numbness (def)</name><script>wsys.defLine("numbness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are temporarily numbed to damage.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shroud (def)</name><script>wsys.defLine("shroud")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your actions are cloaked in secrecy.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weathering (def)</name><script>wsys.defLine("weathering")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your body is weathering the storm of life a little better.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Standingfirm (def)</name><script>wsys.defLine("standingfirm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are standing firm against attempts to move you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Arrowcatching -</name><script>wsys.undef("arrowcatching")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You've turned off arrowcatching.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Projectiles +</name><script>wsys.deffed("projectiles")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You look about sharply, poised to avoid all incoming projectiles.</string><string>You are already watching for projectiles.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Immunity -</name><script>wsys.undef("immunity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease concentrating on immunity.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hiding +</name><script>wsys.deffed("hiding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You conceal yourself using all the guile you possess.</string><string>You are already hidden.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Toughness +</name><script>wsys.deffed("toughness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Flexing your muscles, you concentrate on forcing unnatural toughness over the surface of your skin.</string><string>Your body grows stronger as the blessings dissolve around you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Projectiles (def)</name><script>wsys.defLine("projectiles")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are alert to incoming projectiles.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vitality (failed)</name><script>wsys.cannotdef("vitality")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cannot call upon your vitality again so soon.</string><string>You need to be fully healthy in both body and mind before you can call upon your vitality.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spirituality</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heresy (def)</name><script>wsys.defLine("heresy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are hunting heretics.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heresy +</name><script>wsys.deffed("heresy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Rage fills you as the thought of heresy inspires you to greater efforts.</string><string>You are already hunting the heretics.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heresy -</name><script>wsys.undef("heresy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your rage to destroy heretics subsides.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Occultism</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Distortedaura -</name><script>wsys.undef("distortaura")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You concentrate on calming your distorted aura, breathing a sigh of relief as it subsides to its normal state.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tentacles +</name><script>wsys.deffed("tentacles")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You raise your hands above your head, focusing your will to warp your own body. Ignoring the excruciating pain,</string><string>Tentacles are already flailing from your body.</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devilmark (def)</name><script>wsys.defLine("devilmark")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The devilmark is upon your breast.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lifevision +</name><script>wsys.deffed("astralvision")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Gritting your teeth, you focus your will and expand your aura throughout the surroundings about you, seeking out the aura of others.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Distortedaura +</name><script>wsys.deffed("distortaura")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Clenching your fists, you focus your will on distorting your own aura. Your mind reels as your aura twists the very air around you.</string><string>Your aura is already distorted, Occultist.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devilmark -</name><script>wsys.undef("devilmark")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You feel the devilmark fade from your heart.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devilmark +</name><script>wsys.deffed("devilmark")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You lick your finger and then bend your will to the task of tracing the mark of the devil over your heart. There is a slight burning and a black mark forms where you've traced.</string><string>You already have the mark of the devil upon your heart.</string><string>The Devil in your service says, "Your will demands I serve you again, and so it shall be."</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tentacles -</name><script>wsys.undef("tentacles")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You breathe a sigh of comfort as the flailing tentacles recede back into your body.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tentacles (def)</name><script>wsys.defLine("tentacles")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have tentacles flailing from your body.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Distortedaura (def)</name><script>wsys.defLine("distortaura")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have distorted your own aura.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Not enough karma</name><script>wsys.cannotdef("devilmark")
wsys.cannotdef("distortedaura")
wsys.cannotdef("tentacles")
wsys.cannotdef("lifevision")
wsys.cannotdef("astralvision")
wsys.cannotdef("astralform")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Looking deep inside yourself, you discover that your soul's karma is too low to carry out this Occultic spell.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voicecraft</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Songbird (def)</name><script>wsys.defLine("songbird")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A songbird is perched upon your shoulder.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No voice balance</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have not yet regained voice balance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tune +</name><script>wsys.deffed("tune")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Singing a powerful tune of safety and protection, you weave musical defences around yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Songbird -</name><script>wsys.undef("songbird")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>With a final chirp, the songbird upon your shoulder takes flight and wings swiftly away.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lay (def)</name><script>wsys.defLine("lay")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are protected from the creation of physical images of yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tune (def)</name><script>wsys.defLine("tune")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are protected from damage by a tune of safety.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aria -</name><script>wsys.undef("aria")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The heavenly strains of the Aria slowly fall silent.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lay +</name><script>wsys.deffed("lay")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You sing a powerful Lay of distortion, protecting against the creation of physical images of yourself.</string><string>You sing a powerful Lay of distortion.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aria (fail)</name><script>wsys.cannotdef("aria")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your voice rises to the heavens with your instrument, but without your audience, as you sing an Aria of healing to yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Songbird +</name><script>wsys.deffed("songbird")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Lifting your head, you whistle an intricate, lilting tune. You are soon answered by a blue-feathered songbird that wings swiftly in and perches upon your shoulder.</string><string>Your songbird twitters upon your shoulder, reminding you of its presence.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aria +</name><script>wsys.deffed("aria")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your voice rises to the heavens with your instrument as you sing an Aria of healing to yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aria (def)</name><script>wsys.defLine("aria")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your health is enhanced by the beauties of an Aria.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Necromancy</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blackwind (def)</name><script>wsys.defLine("blackwind")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>As an insubstantial black wind, you are immune from many attacks.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Soulcage +</name><script>wsys.deffed("soulcage")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You begin to spin a web of necromantic power about your soul, drawing on your vast reserves of life essence.</string><string>Your soul is already protected by the soulcage.</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Not enough essence</name><script>wsys.cannotdef("putrefaction")
wsys.cannotdef("deathaura")
wsys.cannotdef("vengeance")
wsys.cannotdef("blackwind")
wsys.cannotdef("soulcage")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Looking deep inside yourself, you discover that your life essence is too low to carry out this Necromantic skill.</string><string>You find you lack the essence to perform that deed.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vengeance (def)</name><script>wsys.defLine("vengeance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have sworn vengeance upon those who would slay you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Soulcage -</name><script>wsys.undef("soulcage")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You carefully raise a barrier between your spirit and the soulcage.</string><string>As you feel the last remnants of strength ebb from your tormented body, you close your eyes and let darkness embrace you. Suddenly, you feel your consciousness</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vengeance +</name><script>wsys.deffed("vengeance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You swear to yourself that you will wreak vengeance on your slayer.</string><string>Vengeance already burns within your heart, Necromancer.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deathaura (def)</name><script>wsys.defLine("deathaura")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are emanating an aura of death.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Soulcage (def)</name><script>wsys.defLine("soulcage")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your being is protected by the soulcage.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Putrefaction +</name><script>wsys.deffed("putrefaction")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You concentrate for a moment and your flesh begins to dissolve away, becoming slimy and wet.</string><string>You have already melted your flesh. Why do it again?</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vengeance -</name><script>wsys.undef("vengeance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You forswear your previous oath for vengeance, sudden forgiveness entering your heart.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Putrefaction -</name><script>wsys.undef("putrefaction")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You concentrate briefly and your flesh is once again solid.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deathaura +</name><script>wsys.deffed("deathaura")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You let the blackness of your soul pour forth.</string><string>You already possess an aura of death.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Putrefaction (def)</name><script>wsys.defLine("putrefaction")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are bathed in the glorious protection of decaying flesh.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Subterfuge</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scales -</name><script>wsys.undef("scales")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You ripple your muscles and as you watch, your skin turns white and peels off, taking your protective scaling with it.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ghost (def)</name><script>wsys.defLine("ghost")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are shimmering with a ghostly light.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacing +</name><script>wsys.deffed("pacing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You begin to pace yourself and prepare for sudden bursts of exertion.</string><string>You are already pacing.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacing (def)</name><script>wsys.defLine("pacing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are paced for bursts of exertion.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scales +</name><script>wsys.deffed("scales")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You concentrate and slowly your body is covered by protective, serpentine scales.</string><string>You are already covered in protective, serpentine scales.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weaving -</name><script>wsys.undef("weaving")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease your cobra-like weaving.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Secondsight +</name><script>wsys.deffed("secondsight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You narrow your eyes, allowing your vision to extend beyond the normal spectrum.</string><string>You already possess the second sight.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Secondsight (def)</name><script>wsys.defLine("secondsight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are able to detect wormholes due to possessing the second sight.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ghost +</name><script>wsys.deffed("ghost")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You project a net of light about yourself until your image becomes faded and ghostly.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lipreading +</name><script>wsys.deffed("lipreading")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will now lip read to overcome the effects of deafness.</string><string>You are already lipreading.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shroud +</name><script>wsys.deffed("shroud")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You toss a sparkling cloud of dust over yourself and as it settles you shimmer into invisibility.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Phased (def)</name><script>wsys.defLine("phased")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Phased slightly out of reality, you are effectively untouchable.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weaving +</name><script>wsys.deffed("weaving")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You picture a cobra in your mind, and slowly begin to weave back and forth agilely.</string><string>You are already imitating the cobra.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lipreading (error)</name><script>wsys.cannotdef("lipreading")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your eyes are sightless, how do you expect to be able to lipread?</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lipreading (def)</name><script>wsys.defLine("lipreading")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are lipreading to overcome deafness.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scales (def)</name><script>wsys.defLine("scales")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Serpentine scales protect your body.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weaving (def)</name><script>wsys.defLine("weaving")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Cobra-like, you are weaving back and forth to dodge blows.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ghost -</name><script>wsys.undef("ghost")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your ghostly image slowly intensifies until you appear flesh and blood again.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacing -</name><script>wsys.undef("pacing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are no longer pacing yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Domination</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Golgothagrace (def)</name><script>wsys.defLine("golgothagrace")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are acknowledged by Jy'Barrak Golgotha, Emperor of Chaos.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Golgothagrace (error)</name><script>wsys.cannotdef("golgothagrace")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cannot summon Jy'Barrak Golgotha, Emperor of Chaos for you have no pact with that entity.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Golgothagrace +</name><script>wsys.deffed("golgothagrace")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Closing your eyes, you focus on your contract with Jy'Barrak Golgotha, Emperor of Chaos, beseeching Him for His aid.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chivalry</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fury (def)</name><script>wsys.defLine("fury")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Fury rages in your eyes.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fury +</name><script>wsys.deffed("fury")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your eyes rage with fury.</string><string>You're already raged with fury!</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fury -</name><script>wsys.undef("fury")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You suddenly lose the fury in your eyes.</string><string>You are already calm and not feeling any fury.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Groves</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Harmony +</name><script>wsys.deffed("harmony")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>After a few deep, slow breaths, you close your eyes. Your mind wanders to the</string><string>You are already under Nature's blessing.</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No quarterstaff</name><script>--panacea error
--wildgrowth error
--vigour error
--harmony error
wsys.cannotdef("panacea")
wsys.cannotdef("wildgrowth")
wsys.cannotdef("vigour")
wsys.cannotdef("harmony")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Where is your faithful quarterstaff, Forestwalker?</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No sunlight energy</name><script>--panacea error
--wildgrowth error
--vigour error
--harmony error
wsys.cannotdef("panacea")
wsys.cannotdef("wildgrowth")
wsys.cannotdef("vigour")
wsys.cannotdef("harmony")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You find your sunlight reserves too low to attempt that.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wildgrowth (def)</name><script>wsys.defLine("wildgrowth")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your movements are trailed by profusions of wild growth.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vigour (def)</name><script>wsys.defLine("vigour")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are bathed in an aura of radiant sunlight.</string><string>You are bathed in an aura of dappled sunlight.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Harmony (def)</name><script>wsys.defLine("harmony")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are under the blessing of the</string><string>^You are under the blessing of the \w+ environment\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Panacea +</name><script>wsys.deffed("panacea")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call on the curative powers of Nature. A spiralling helix of wildflowers and lush leaves races up the length of your quarterstaff, before sublimating into a cool mist that drifts about your body.</string><string>A healing mist already surrounds you, Forestwalker.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vigour +</name><script>wsys.deffed("vigour")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>As you point your quarterstaff at yourself, a deluge of sunlight pours forth from its tip.</string><string>An aura of sunlight already radiates around that person.</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vigour -</name><script>wsys.undef("vigour")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The radiant sunlight warming your body fades away.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No quarterstaff wielded</name><script>--flail error
wsys.cannotdef("flailingstaff")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You need a quarterstaff to be able to do that.</string><string>You need to be wielding your quarterstaff to be able to do that.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flailingstaff -</name><script>wsys.undef("flailingstaff")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease to wield </string><string>^You cease to wield .+ quarterstaff\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wildgrowth -</name><script>wsys.undef("wildgrowth")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Curling in on itself, the tangle of wild green growth surrounding you retreats into the earth.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wildgrowth +</name><script>wsys.deffed("wildgrowth")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You quietly recite an incantation calling on all that is wild and green. As you speak the final syllables, you slowly raise your quarterstaff skywards,</string><string>Wild vines already circle your feet.</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Panacea -</name><script>wsys.undef("panacea")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The tendrils of delicate mist surrounding you disperse.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Panacea (def)</name><script>wsys.defLine("panacea")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are surrounded by a healing mist.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>embrace serverside error</name><script>send("embrace spirit")

if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>[Curing]: EMBRACE SPIRIT</string><string>You embrace yourself with ardour.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flailingstaff +</name><script>wsys.deffed("flailingstaff")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You flail the quarterstaff smoothly around in the air about you to summon up a defensive sphere.</string><string>Your quarterstaff has already been flailed.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flailingstaff (def)</name><script>wsys.defLine("flailingstaff")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are flailing a wielded quarterstaff.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Swashbuckling</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heartsfury (def)</name><script>wsys.defLine("heartsfury")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The Heart's Fury stance protects you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bard stance -</name><script>--wsys.def.drunkensailor = false
--wsys.def.heartsfury = false
wsys.undef("heartsfury")
wsys.undef("drunkensailor")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You relax into your normal fighting stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Drunkensailor +</name><script>wsys.deffed("drunkensailor")
wsys.undef("heartsfury")
--means wsys.def.heartsfury = nil/false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You start swaying to and fro seemingly unpredictably as you enter the stance of the Drunken Sailor.</string><string>You are already in the stance of the Drunken Sailor.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heartsfury +</name><script>wsys.deffed("heartsfury")
wsys.undef("drunkensailor")
--means wsys.def.drunkensailor = nil/false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Taut with rage, you enter the Heart's Fury stance.</string><string>You are already in the Heart's Fury stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Drunkensailor (def)</name><script>wsys.defLine("drunkensailor")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The Drunken Sailor stance protects you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Elementalism</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reflections -</name><script>wsys.undef("reflections")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>All your reflections wink out of existence!</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Barkskin +</name><script>wsys.deffed("barkskin")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You concentrate for a moment, and your skin becomes rough and thick like tree bark.</string><string>Your skin is already covered in protective bark.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chargeshield +</name><script>wsys.deffed("chargeshield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call upon the powers of air and earth to weave a non-conducting energy shield around you.</string><string>You already have a chargeshield active.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stonefist -</name><script>wsys.undef("stonefist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The granite enveloping your fists cracks and falls off.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stoneskin (def)</name><script>wsys.defLine("stoneskin")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Magically supple granite coats your body.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Diamondskin +</name><script>wsys.deffed("diamondskin")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Calling upon crystalline powers, you wrap your skin in a flexible, diamond-hard coating.</string><string>Your skin is already covered in a protective, magically-flexible, diamond-hard coating.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reflections +</name><script>wsys.deffed("reflections")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cast a spell of reflection over yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stonefist +</name><script>wsys.deffed("stonefist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call upon the powers of the earth to coat your fists in dense granite.</string><string>You already possess fists of stone.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Diamondskin (def)</name><script>wsys.defLine("diamondskin")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Diamond-hard skin protects you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Barkskin (def)</name><script>wsys.defLine("barkskin")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your skin is hard and tough like the bark of an oak tree.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Channels missing</name><script>wsys.cannotdef("chargeshield")
wsys.cannotdef("diamondskin")
wsys.cannotdef("reflections")
wsys.cannotdef("stonefist")
wsys.cannotdef("stoneskin")
wsys.cannotdef("barkskin")
wsys.lostallchannels()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You do not have the proper elemental channels open.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stonefist (def)</name><script>wsys.defLine("stonefist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your fists are covered with dense granite.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chargeshield (def)</name><script>wsys.defLine("chargeshield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are surrounded by a non-conducting chargeshield.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stoneskin +</name><script>wsys.deffed("stoneskin")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Calling the powers of the elemental earth to you, you coat yourself in magically-supple granite.</string><string>Your skin is already covered in a protective, amazingly supple, granite coating.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reflections (def)</name><script>wsys.defLine("reflections")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are surrounded by one reflection of youself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Woodlore</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evasion +</name><script>wsys.deffed("evasion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You begin soaring erratically and frantically, attempting to avoid the eyes gazing up from below.</string><string>You are already attempting to elude the prying eyes below.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Firstaid -</name><script>wsys.undef("firstaid")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease to concentrate on the clotting of your wounds.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evasion (failed)</name><script>wsys.cannotdef("evasion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You must be in the air before you can begin evasive flying.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Firstaid +</name><script>wsys.deffed("firstaid")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You begin to concentrate on clotting your wounds.</string><string>You have already turned on first aid.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>barkskin (+)</name><script>wsys.deffed("barkskin")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You concentrate for a moment, and your skin becomes rough and thick like tree bark.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evasion (def)</name><script>wsys.defLine("evasion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are flying evasively.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evasion -</name><script>if wsys.isClass("sentinel") or wsys.isClass("druid") then
  wsys.undef("evasion")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease your aerial acrobatics.</string><string>You begin to descend, the wind whistling past you as the earth draws ever closer. You land easily, back on the ground again.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>fleetness (+)</name><script>wsys.deffed("fleetness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will seek out the best paths through the forest.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Firstaid (def)</name><script>wsys.defLine("firstaid")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are concentrating on clotting your wounds.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>barkskin (def)</name><script>wsys.defLine("barkskin")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your skin is hard and tough like the bark of an oak tree.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>fleetness (def)</name><script>wsys.defLine("fleetness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are able to navigate forests more easily.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Monk Stances</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragon Stance +</name><script>wsys.def.dragonstance = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You allow the form of the Dragon to fill your mind and govern your actions.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rat Stance +</name><script>wsys.def.ratstance = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You take the Rat stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scorpion Stance (def)</name><script>deleteLine()
wsys.def.scorpionstance = true
wsys.def_sub("scorpion", "newl")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are in the Scorpion stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stance -</name><script>wsys.def.scorpionstance = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You ease yourself out of </string></regexCodeList><regexCodePropertyList>
									<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cat Stance +</name><script>wsys.def.catstance = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You tense your muscles and look about sharply as you take the stance of the Cat.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Eagle Stance +</name><script>wsys.def.eaglestance = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You draw back and balance into the Eagle stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Horse Stance +</name><script>wsys.def.horsestance = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You drop your legs into a sturdy Horse stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bear Stance +</name><script>wsys.def.bearstance = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You draw yourself up to full height and roar aloud, adopting the Bear stance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scorpion Stance +</name><script>wsys.def.scorpionstance = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You sink back into the menacing stance of the Scorpion.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kaido Defenses</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Numbness +</name><script>wsys.deffed("numbness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You grit your teeth and will your pain out of existence.</string><string>You are already numb.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kaitrance (def)</name><script>wsys.defLine("kaitrance", "Kai trance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are utilising the trance to store Kai energy.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kaitrance +</name><script>wsys.deffed("kaitrance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your mantra is complete - the Kai Trance is upon you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kaiboost +</name><script>wsys.deffed("kaiboost")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You gather up and expend your Kai energy to enhance your sensitivity to its energies.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Regeneration -</name><script>wsys.undef("regeneration")
wsys.undef("boostedregeneration")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call a halt to the regenerative process.</string><string>Regeneration is already off.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Boostedregeneration +</name><script>wsys.deffed("boostedregeneration")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call upon your Kai power to boost your health regeneration.</string><string>Your regeneration is already boosted.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kaitrance -</name><script>wsys.undef("kaitrance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You break out of the Kai Trance, sighing as you feel your accumulated Kai energy vanish.</string><string>You are not engaged in a Kai trance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kaiboost -</name><script>wsys.undef("kaiboost")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are no longer boosting your Kai gain.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Splitmind +</name><script>wsys.deffed("splitmind")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You begin to devote a portion of your Kaido-trained mind to constant, unconscious meditation.</string><string>Your mind is already split.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Splitmind (def)</name><script>wsys.defLine("splitmind")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your mind is split, allowing constant meditation.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Boostedregeneration (error)</name><script>wsys.cannotdef("boostedregeneration")
wsys.undef("boostedregeneration")
wsys.undef("regeneration")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have no regenerative ability to boost.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Regeneration +</name><script>wsys.deffed("regeneration")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You begin to concentrate on regeneration of your wounds.</string><string>Regeneration is already on.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Regeneration (def)</name><script>wsys.defLine("regeneration")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are regenerating lost health through the power of Kaido.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Boostedregeneration (def)</name><script>wsys.defLine("boostedregeneration")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your regeneration is boosted.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kaiboost error</name><script>wsys.cannotdef("kaiboost")
wsys.kaiboostcancel()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You do not have enough Kai energy stored to do that.</string><string>You must be in a trance to manipulate your Kai energy.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Splitmind -</name><script>wsys.undef("splitmind")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease the process of Kai meditation, joining the split segments of your mind once more.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kaiboost (def)</name><script>wsys.defLine("kaiboost", "kai boost")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have boosted the power of your Kai Trance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weaponmastery</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blademastery (def)</name><script>wsys.defLine("blademastery")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are concentrating on mastery of bladecraft.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blademastery +</name><script>wsys.deffed("blademastery")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have begun exercising true mastery of the blades through superior concentration.</string><string>You already have mastery on.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deflect (def)</name><script>wsys.defLine("deflect")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are attempting to deflect arrows toward less vital areas.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blademastery -</name><script>wsys.undef("blademastery")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You relax your mastery of the blades a bit, finding it too taxing to maintain.</string><string>You already have mastery off.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deflect +</name><script>wsys.deffed("deflect")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will now attempt to deflect arrows toward less vital areas.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shindo</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shintrance +</name><script>wsys.deffed("shintrance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>With a thrilling shiver, the energy of the Shin trance suffuses your form.</string><string>You are already focused upon gaining shindo energy.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Waterwalking -</name><script>wsys.undef("waterwalking")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Relaxing your posture, you relax your waterwalking defence.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shinclarity (def)</name><script>wsys.defLine("shinclarity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are seeing the world around you with greater clarity of vision.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shinbinding (def)</name><script>wsys.defLine("shinbinding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are diverting excess Shin energy into regeneration.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Waterwalking +</name><script>wsys.deffed("waterwalking")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Dancing lightly on your feet, you prepare to run across the surface of water.</string><string>You are already poised to glide across the surface of water.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shinbinding +</name><script>wsys.deffed("shinbinding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You bind Shin energy to your form, willing your body to accept its restorative power.</string><string>You are already binding Shin energy.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shintrance -</name><script>wsys.undef("shintrance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You break out of the Shin trance, sighing as you feel your accumulated Shin energy vanish.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shinbinding -</name><script>wsys.undef("shinbinding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease binding excess Shin energy towards regeneration.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Waterwalking (def)</name><script>wsys.defLine("waterwalking")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are poised to glide across the surface of water.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shinclarity +</name><script>wsys.deffed("shinclarity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>As you focus upon your visual field, the shadows grow faint, details become pronounced, and the world seems somehow more real.</string><string>You are already concentrating on a clearer awareness of your environs.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shintrance (def)</name><script>wsys.defLine("shintrance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are deep within the Shin trance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Telepathy</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersense +</name><script>wsys.deffed("hypersense")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You begin detecting mindlock attempts in your local area.</string><string>You are already detecting mindlock attempts in your local area.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindcloak -</name><script>wsys.undef("mindcloak")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You allow the mindcloak to drop.</string><string>You already have mindcloaking off.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindcloak +</name><script>wsys.deffed("mindcloak")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will now begin to concentrate on cloaking your telepathy.</string><string>You are already cloaking your attempts at mindlocking.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindcloak (def)</name><script>wsys.defLine("mindcloak")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are cloaking your attempts at establishing a mindlock.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersense (def)</name><script>wsys.defLine("hypersense")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are using your hypersense.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindtelesense +</name><script>wsys.deffed("mindtelesense")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You attune your mind to tampering from telepathy.</string><string>Your mind is already attuned to mindlock attempts.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersense -</name><script>wsys.undef("hypersense")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You relax your hypersense.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindtelesense (def)</name><script>wsys.defLine("mindtelesense")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are using your telesense.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindtelesense -</name><script>wsys.undef("mindtelesense")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cease to concentrate your mind on mindlock attempts.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Apostasy</name><script>-- nope, another class that gives you buffs. Damn bastards, should just classlead nerfs</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Demonfury (def)</name><script>wsys.defLine("demonfury")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your soul is possessed by an unholy fury.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Demonarmour (def)</name><script>wsys.defLine("demonarmour")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your person is surrounded by black demonic armour.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Apathy +</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your Baalzadeen utters a curse at you and a vile numbness flows through your body.</string><string>You are already numb.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Demonarmour +</name><script>wsys.deffed("demonarmour")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You ask your Baalzadeen for its protection, and it summons a thin black protecting sheen over you.</string><string>You already are surrounded by unholy armour.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No Baalzadeen</name><script>wsys.cannotdef("demonarmour")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You must be leading your Baalzadeen.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Demonfury -</name><script>wsys.undef("demonfury")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The unholy fury leaves your soul.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Demonfury +</name><script>wsys.deffed("demonfury")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>With a powerful bellow, </string><string>^With a powerful bellow, [A-Z][a-z]+'s Baalzadeen instills an unholy fury into your soul.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curses</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Switftcurse -</name><script>wsys.undef("swiftcurse")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The swiftcurse leaves you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Swiftcurse (def)</name><script>wsys.defLine("swiftcurse")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The swiftcurse is upon you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Swiftcurse +</name><script>wsys.deffed("swiftcurse")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You weave your fingers together, calling upon the swiftcurse to aid you.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Healing</name><script>-- not a funky gate trig since they can bless others, damn priests.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Willpowerblessing (def)</name><script>wsys.defLine("willpowerblessing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are regenerating willpower at an increased rate.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Earthshield +</name><script>wsys.deffed("earthshield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call upon the elements Earth and Spirit and bestow the Earth Spiritshield blessing upon yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Frostshield +</name><script>wsys.deffed("frostshield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call upon the elements Air and Water and bestow the Frost Spiritshield blessing upon yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Willpowerblessing +</name><script>wsys.deffed("willpowerblessing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call upon the elements Air, Water, and Fire and bestow the Willpower blessing upon yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thermalshield +</name><script>wsys.deffed("thermalshield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call upon the elements Fire and Spirit and bestow the Thermal Spiritshield blessing upon yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bedevilaura (def)</name><script>wsys.defLine("bedevilaura")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>An aura of bedevilment has been established about your person.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bedevilaura -</name><script>wsys.undef("bedevilaura")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The elemental aura surrounding you sputters and dies.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Frostshield (def)</name><script>wsys.defLine("frostshield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are protected by the power of a Frost Spiritshield.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Enduranceblessing (def)</name><script>wsys.defLine("enduranceblessing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are regenerating endurance at an increased rate.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Not enough channels</name><script>wsys.cannotdef("earthshield")
wsys.cannotdef("enduranceblessing")
wsys.cannotdef("willpowerblessing")
wsys.cannotdef("thermalshield")
wsys.cannotdef("frostshield")
wsys.cannotdef("bedevilaura")
wsys.lostallchannels()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You do not have channels opened to the proper elements.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Earthshield (def)</name><script>wsys.defLine("earthshield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are protected by the power of an Earth Spiritshield.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Enduranceblessing +</name><script>wsys.deffed("enduranceblessing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You call upon the elements Water, Earth, and Fire and bestow the Endurance blessing upon yourself.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bedevilaura +</name><script>wsys.deffed("bedevilaura")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You manipulate the elements to lash at those who would do you harm.</string><string>You are already protected by the bedeviling aura.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thermalshield (def)</name><script>wsys.defLine("thermalshield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are protected by the power of a Thermal Spiritshield.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alchemy</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tin (def)</name><script>wsys.defLine("tin")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are protected by a reflective barrier.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sulphur (def)</name><script>wsys.defLine("sulphur")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are bolstered by the energy of sulphur.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tin +</name><script>wsys.deffed("tin")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Directing the energy of tin, you erect a reflective barrier about yourself.</string><string>You are already surrounded by a reflective barrier.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Extispicy +</name><script>wsys.deffed("extispicy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>As you poke through the entrails, a pink and shiny intestine foretells good fortune.</string><string>You've already divined the future, Alchemist.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Extispicy (def)</name><script>wsys.defLine("extispicy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have divined the future.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mercury +</name><script>wsys.deffed("mercury")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Directing the energy of mercury, you surround yourself with an aura of primal energies, boosting your mental regeneration.</string><string>You are already drawing upon the power of mercury.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mercury (def)</name><script>wsys.defLine("mercury")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are bolstered by the energy of mercury.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Astronomy (def)</name><script>wsys.defLine("astronomy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are resonating with the </string><string>^You are resonating with the .+\'s energy.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mercury -</name><script>wsys.undef("mercury")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The symbol of mercury inscribed about you fades away.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Extispicy (failure)</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are not holding anything like that.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Astronomy +</name><script>wsys.deffed("astronomy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You close your eyes and, calling upon latent alchemical energies, sketch the symbol of</string><string>You are already empowered by astronomical energies.</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sulphur -</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The symbol of sulphur inscribed about you fades away.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sulphur +</name><script>wsys.deffed("sulphur")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Directing the energy of sulphur, you surround yourself with an aura of primal energies, bolstering your healing capacity.</string><string>You are already drawing upon the power of sulphur.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Twoarts</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retaliation error</name><script>wsys.cannotdef("retaliation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A little hard to attack with your hands full, no?</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retaliation -</name><script>wsys.undef("retaliation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You will no longer strike in retaliation.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retaliation (def)</name><script>wsys.defLine("retaliation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are performing retaliatory strikes against your attackers.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retaliation +</name><script>wsys.deffed("retaliation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Grasping the hilt of something, you prepare to counterattack when the opportunity arises.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scabbard unpositioned</name><script>wsys.dofreeadd("position scabbard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have not positioned a scabbard on your hip, Warrior.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vision</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Treewatch (def)</name><script>wsys.defLine("treewatch")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are watching the trees or rigging above for signs of movement.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Groundwatch +</name><script>wsys.deffed("groundwatch")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You begin to keep a watchful eye on the ground below.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nightsight -</name><script>wsys.undef("nightsight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your eyes lose the benefit of night sight.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vigilance -</name><script>wsys.undef("vigilance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You relax your vigilance.</string><string>You are not maintaining vigilance.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nightsight +</name><script>wsys.deffed("nightsight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your vision sharpens with light as you gain night sight.</string><string>Your eyes already have the benefit of night sight.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Groundwatch -</name><script>wsys.undef("groundwatch")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cease keeping a watchful eye on the ground below.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Softfocusing (def)</name><script>wsys.defLine("softfocusing", "softfocus")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have softened the focus of your eyes.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alertness (def)</name><script>wsys.defLine("alertness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your senses are attuned to nearby movement.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deathsight (def)</name><script>wsys.defLine("deathsight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind has been touched by Thoth, the Lord of Death.</string><string>Your mind has been attuned to the realm of Death.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vigilance +</name><script>wsys.deffed("vigilance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You squint your eyes, more alert to potential danger.</string><string>You are already vigilant.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersight -</name><script>wsys.undef("hypersight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cease to concentrate on hypersight.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Treewatch -</name><script>wsys.undef("treewatch")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cease to watch the treeline.</string><string>You are not keeping an eye on the trees.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Telesense -</name><script>wsys.undef("telesense")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind is no longer concentrating on telepathic interference.</string><string>Your mind is already not attuned to local telepathic interference.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Telesense (def)</name><script>wsys.defLine("telesense")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are attuned to local telepathic interference.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vigilance (def)</name><script>wsys.defLine("vigilance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are vigilantly watching for potential danger.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alertness -</name><script>wsys.undef("alertness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cease your watchful alertness.</string><string>Your sense of hearing is not presently heightened.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deathsight -</name><script>wsys.undef("deathsight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You relax your link with the realm of Death.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Softfocusing +</name><script>wsys.deffed("softfocusing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You let your eyes go out of focus, causing you to miss some details.</string><string>Your eyes are already out of focus.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersight (def)</name><script>wsys.defLine("hypersight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are utilising hypersight.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Treewatch +</name><script>wsys.deffed("treewatch")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You begin to keep a watchful eye on the treeline.</string><string>You are already keeping a watchful eye on the trees.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Softfocusing -</name><script>wsys.undef("softfocusing")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You bring your eyes back into focus.</string><string>Your eyes are already in focus.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Groundwatch (def)</name><script>wsys.defLine("groundwatch")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are aware of movement on the ground.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thirdeye +</name><script>wsys.deffed("thirdeye")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You now possess the gift of the third eye.</string><string>You already possess the gift of the third eye.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Thirdeye (def)</name><script>wsys.defLine("thirdeye")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You possess the sight of the third eye.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nightsight (def)</name><script>wsys.defLine("nightsight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your vision is heightened to see in the dark.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deathsight +</name><script>wsys.deffed("deathsight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You shut your eyes and concentrate on Thoth, the God of Death. A moment later, you feel inextricably linked with Death itself.</string><string>Your mind is already touched by the Deathgod.</string><string>You already possess the deathsight.</string><string>A miasma of darkness passes over your eyes and you feel a link to Thoth, the God of Death, form in your mind.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Telesense +</name><script>wsys.deffed("telesense")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You attune your mind to local telepathic interference.</string><string>Your mind is already attuned to local telepathic interference.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Skywatch (def)</name><script>wsys.defLine("skywatch")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are aware of movement in the skies.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Skywatch -</name><script>wsys.undef("skywatch")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are no longer watching the skies.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersight +</name><script>wsys.deffed("hypersight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You concentrate your mind and engage your ability of hypersight.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Skywatch +</name><script>wsys.deffed("skywatch")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are now watching the skies.</string><string>You are already watching the skies.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alertness +</name><script>wsys.deffed("alertness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You prick up your ears.</string><string>Your sense of hearing is already heightened.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weaponry</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parry (def)</name><script>wsys.parrying(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You will attempt to parry attacks to your (.+).$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parry -</name><script>wsys.parrynothing()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cease your attempts at parrying.</string><string>You cease to intercept attacks.</string><string>You cease attempting to parry incoming attacks with your claws.</string><string>You do not have any weapons capable of parrying, warrior.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parry +</name><script>wsys.parrying(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You will now use your razor-sharp talons to parry attacks to your (.*).$</string><string>^You will now attempt to parry attacks to your (.*)\.$</string><string>^You will now attempt to intercept and counter attacks coming at your (.*)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Relics</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lifegiver (def)</name><script>wsys.defLine("lifegiver")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You walk with the grace of the relic Lifegiver.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lifegiver -</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Lifegiver flashes and you are returned to full health and mana.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Survival</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clinging +</name><script>wsys.deffed("clinging")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You begin to use your entire body to cleverly cling to the branches of the tree while still maintaining a great deal of freedom of action.</string><string>You are already clinging to the trees.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Selfishness (def)</name><script>wsys.defLine("selfishness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are feeling quite selfish.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Selfishness +</name><script>wsys.deffed("selfishness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You rub your hands together greedily.</string><string>You already are a selfish bastard.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clinging (error)</name><script>wsys.cannotdef("clinging")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You must be in the trees to cling to branches, or in the rigging of a ship to cling to the ropes.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Metawake +</name><script>wsys.deffed("metawake")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You order your mind to ensure you will not journey far into the dreamworld.</string><string>You already have metawake turned on.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Insomnia -</name><script>wsys.undef("insomnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your insomnia has cleared up.</string><string>Your mind relaxes and you feel as if you could sleep.</string><string>You open your eyes and yawn mightily.</string><string>You close your eyes, curl up in a ball, and fall asleep.</string><string>You are not an insomniac.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curseward +</name><script>wsys.deffed("curseward")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your curseward is complete.</string><string>You already have curseward up.</string><string>You bring a curseward into being to protect you from harm.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clinging -</name><script>wsys.undef("clinging")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cease your clinging behaviour and release the tree.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curseward (def)</name><script>wsys.defLine("curseward")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A curseward has been established about your person.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Selfishness -</name><script>wsys.undef("selfishness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A feeling of generosity spreads throughout you.</string><string>No worries. You're not a selfish bastard as is.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heldbreath (def)</name><script>wsys.defLine("heldbreath")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are holding your breath.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Metawake (def)</name><script>wsys.defLine("metawake")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are concentrating on maintaining distance from the dreamworld.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Metawake -</name><script>wsys.undef("metawake")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cease concentrating on maintaining distance from the dreamworld.</string><string>You already have metawake turned off.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curseward -</name><script>wsys.undef("curseward")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your curseward has been breached!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heldbreath +</name><script>wsys.deffed("heldbreath")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You inhale deeply and begin holding your breath.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Insomnia (def)</name><script>wsys.defLine("insomnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have insomnia, and cannot easily go to sleep.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heldbreath -</name><script>wsys.undef("heldbreath")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cease holding your breath and exhale loudly.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Insomnia +</name><script>wsys.deffed("insomnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You clench your fists, grit your teeth, and banish all possibility of sleep.</string><string>You suddenly feel incapable of falling asleep.</string><string>You are already an insomniac.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clinging (def)</name><script>wsys.defLine("clinging")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are clinging tightly to the trees.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>General</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mounted (def)</name><script>deleteLine()
wsys.def.mounted = true
wsys.defLine("mounted")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are riding a</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mount</name><script>wsys.mountd()
wsys.def.mounted = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You easily vault onto the back of</string><string>You cannot do that while mounted.</string><string>You must dismount before you can mount anything else.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hold Breath situations</name><script>if wsys.settings.havebreathing then
 wsys.keepup("heldbreath", true)
 wsys.report("&lt;yellow&gt;HOLDING BREATH")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You gasp and clutch at your throat as an unseen force crushes the breath of life out of you.</string><string>As the stinking gas fills your lungs, you vomit violently.</string><string>The deadly black vapour slips inside your lungs. You choke, reeling from the attack.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Defs</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Monk</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Knight</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Occultist</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Astralvision +</name><script>defadd("lifevision")
defadd("deathsight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
										<string>Gritting your teeth, you focus your will and expand your aura throughout the surroundings about you, seeking out the aura of others.</string></regexCodeList><regexCodePropertyList>
										<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tattoos</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Boar +</name><script>wsys.deffed("boartattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The vitality of the black boar begins to flow through you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Belltattoo (error)</name><script>wsys.cannotdef("belltattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have no bell.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shield (error)</name><script>wsys.cannotdef("shield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have no shield.</string><string>You reach out and touch</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindseye +</name><script>wsys.deffed("mindseye")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Touching the mindseye tattoo, your senses are suddenly heightened.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Moon (def)</name><script>wsys.defLine("moontattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Illuminated by the light of the moon.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Belltattoo +</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You touch the bell tattoo.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindseye -</name><script>wsys.undef("mindseye")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are blind and can see nothing but darkness.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Moss +</name><script>wsys.deffed("mosstattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your moss tattoo tingles slightly.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cloak (def)</name><script>wsys.defLine("cloak")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are surrounded by a cloak of protection.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Starburst (error)</name><script>wsys.cannotdef("starburst")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have no starburst.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Belltattoo (def)</name><script>wsys.defLine("belltattoo", "Bell tattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are protected by the bell tattoo.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shield (def)</name><script>wsys.defLine("shield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are surrounded by a nearly invisible magical shield.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Starburst +</name><script>wsys.deffed("starburst")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A starburst tattoo fades from view and disappears.</string><string>The starburst tattoo repels your hand as you already walk with the grace of the stars.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindseye (def)</name><script>wsys.defLine("mindseye")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your senses are magically heightened.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Starburst (def)</name><script>wsys.defLine("starburst")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are walking with the grace of the stars.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Moss (error)</name><script>wsys.cannotdef("mosstattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have no moss.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Starburst -</name><script>wsys.undef("starburst")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a reluctant sigh, you forsake the grace of the stars.</string><string>Your starburst tattoo flares as the world is momentarily tinted red.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Moon +</name><script>wsys.deffed("moontattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The light of the moon illuminates you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Firefly (def)</name><script>wsys.defLine("firefly")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your firefly tattoo glows softly.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Firefly (error)</name><script>wsys.cannotdef("firefly")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have no firefly.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Firefly +</name><script>wsys.deffed("firefly")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You touch the firefly tattoo and suddenly your surroundings are alight.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Boar (def)</name><script>wsys.defLine("boartattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The vitality of the boar is energising you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shield -</name><script>wsys.undef("shield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your action causes the nearly invisible magical shield around you to fade away.</string><string>The stream hits your magical shield, shattering it.</string><string>Your movement causes your magical shield to dissipate.</string><string>The breath weapon rips through your shield.</string><string>^A massive, translucent hammer rises out of \w+'s tattoo and smashes your magical shield\.$</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cloak +</name><script>wsys.deffed("cloak")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You caress the tattoo and immediately you feel a cloak of protection surround you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shield +</name><script>wsys.deffed("shield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You touch the tattoo and a nearly invisible magical shield forms around you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Moss (def)</name><script>wsys.defLine("mosstattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your wounds are being staunched by the moss tattoo.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Boar (error)</name><script>wsys.cannotdef("boartattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have no boar.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Moon (error)</name><script>wsys.cannotdef("moontattoo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have no moon.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragoncraft</name><script>-- now this folder might look like a funky gate trigger, and in essence it it.
-- This will check for your class and basically save you triggering a lot of useless crap.</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							</regexCodeList><regexCodePropertyList>
							</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragonarmour -</name><script>wsys.undef("dragonarmour")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You relax your draconic armour.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragonbreath +</name><script>wsys.deffed("dragonbreath")
wsys.dragonBreath( matches[2] )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your (\w+) summoning is complete\.$</string><string>You already have your breath summoned, Wyrm.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragonarmour +</name><script>wsys.deffed("dragonarmour")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a low rumbling from deep within your belly, you beseech Ashaxei for protection. Your skin ripples as a web of crackling magical energy dances like fire across its surface, settling to solidify into a flexible, translucent shell.</string><string>You are already surrounded by draconic armour, Wyrm.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragonarmour (def)</name><script>wsys.defLine("dragonarmour", "draconic armour")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are surrounded by draconic armour.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragonbreath (def)</name><script>wsys.defLine("dragonbreath")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have summoned your draconic breath weapon.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragonbreath -</name><script>wsys.undef("dragonbreath")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have not summoned your breath weapon.</string><string>With an ear-splitting roar, you rear back your draconic head and scream out your triumph.</string><string>Drawing a mighty breath to fill your lungs, you crane your neck backwards and send a screaming volley </string><string>Opening your massive maw, you throw your head forward and blast wave after wave of deadly,</string><string>Focusing your breath into a concentrated stream, you direct a blast</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Enchantments</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Magicresist +</name><script>wsys.deffed("magicresist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You turn .+ about your finger. A swirling stream of heliotrope light emanates from its band, surrounding you with a shimmering aura.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Electricresist +</name><script>wsys.deffed("electricresist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You turn .+ about your finger. A crackling stream of argentine light emanates from its band, surrounding you with a flickering aura.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Magicresist (def)</name><script>wsys.defLine("magicresist", "magic resistance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are enchanted against magic damage.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fireresist (def)</name><script>wsys.defLine("fireresist", "fire resistance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are enchanted against fire damage.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Resist error</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>That resistance already suffuses your form.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fireresist +</name><script>wsys.deffed("fireresist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You turn .+ about your finger. A coruscating stream of sanguine light emanates from its band, surrounding you with a scintillating aura.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Coldresist +</name><script>wsys.deffed("coldresist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You turn .+ about your finger. A frigid stream of cerulean light emanates from its band, surrounding you with a frosty aura.$</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Coldresist (def)</name><script>wsys.defLine("coldresist", "cold resistance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are enchanted against cold damage.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Electricresist (def)</name><script>wsys.defLine("electricresist", "electric resistance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are enchanted against electric damage.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Afflictions</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>webbed</name><script>wsys.affadd("webbed")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Sticky strands of webbing spray out from </string><string>^Sticky strands of webbing spray out from [A-Z][a-z]+ to cover you\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Kaido</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>kai cripple</name><script>wsys.affadd("brokenleftarm")
wsys.affadd("brokenleftleg")
wsys.affadd("brokenrightarm")
wsys.affadd("brokenrightleg")
wsys.affadd("prone", "monk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ raises (?:his|her) arms above (?:his|her) head, and a strange blue light begins to emanate from between (?:his|her) palms.$</string><string>^Blue light crackles forth from [A-Z][a-z]+\'s palms\, striking you down and snapping your puny limbs\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Venoms + Generic lines</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Empty Jab Trigger</name><script>--immunity()
wsys.affadd("selarnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ viciously jabs .+ into you.$</string><string>return isPrompt()</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disloyalty + loki checks</name><script>wsys.affadd("disloyalty")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You stand in such dishonour that not even your loyal friends will help you.</string><string>You feel ugliness radiating from you.</string><string>Your spirit writhes in torment as it achieves new depths of dishonour.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity +</name><script>wsys.affadd("stupidity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Hmmmm. Why must everything be so difficult to figure out?</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness</name><script>wsys.affadd("clumsiness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You gasp as your fine-tuned reflexes disappear into a haze of confusion.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slickness +</name><script>wsys.affadd("slickness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You notice that your sweat glands have begun to rapidly secrete a foul, oily substance.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paranoia</name><script>wsys.affadd("paranoia")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Unthinking paranoia overcomes you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Darkshade</name><script>wsys.affadd("darkshade")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your vision is flooded with light, and your face suddenly reddens.</string><string>You feel your allergy to the sun going into temporary remission.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anorexia (class source?)</name><script>wsys.affadd("anorexia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel suddenly as if food is the most repulsive thing you can imagine.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea</name><script>wsys.affadd("nausea")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A sense of extreme nausea washes over you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stuttering +</name><script>wsys.affadd("stuttering")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The thought of speech seems difficult all of a sudden.</string><string>You stutter incoherently.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weariness +</name><script>wsys.affadd("weariness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your limbs grow heavy and you groan feebly.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dementia</name><script>wsys.affadd("dementia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You look about yourself, frenzied and wild-eyed.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Addiction +</name><script>wsys.affadd("addiction")

--
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a terrible hunger grow within you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Recklessness</name><script>wsys.recklessnesscheck()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You realise that your heroic actions can no longer continue unnoticed, and you take it upon yourself to rectify the situation.</string><string>None may stand in your way! You are invincible!</string><string>Pain is something only the weak feel!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizziness</name><script>wsys.affadd("dizziness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind swims as dizziness overtakes you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sensitivity +</name><script>wsys.affadd("sensitivity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A prickly, stinging sensation spreads through your body.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Haemophilia +</name><script>wsys.affadd("haemophilia")


--afflicted by haemophilia.
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You sense a subtle change deep within.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypochondria +</name><script>wsys.affadd("hypochondria")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You gasp and stumble as part of your precious life essence is sapped from you.</string><string>Unreasoning rage turns the world blood-red.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Empty Jab Trig 2</name><script>wsys.affadd("selarnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Lightning-quick\, [A-Z][a-z]+ jabs you with .+\.$</string><string>return isPrompt()</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacified</name><script>wsys.affadd("pacified")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your will to harm anything leaves you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epilepsy +</name><script>wsys.affadd("epilepsy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your nerves feel suddenly jangled.</string><string>Your nerves feel jangled all of a sudden.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Manaleech</name><script>wsys.affadd("manaleech")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel the mana begin to drain from your mind.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Agoraphobia +</name><script>--this is both the affliction line and the symptom
wsys.affadd("agoraphobia")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Terror descends upon you and your head swims - you must find shelter!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asthma</name><script>wsys.affadd("asthma")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a tightening sensation grow in your lungs.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nechamandra (Venom) +</name><script>wsys.affadd("frozen", "serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A coldness seeps deep into the marrow of your bones.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shyness</name><script>wsys.affadd("shyness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You look about yourself nervously.</string><string>Heart thumping, you cannot bear the company of others and attempt to flee in terror.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Masochism</name><script>wsys.affadd("masochism")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>An odd sensation descends upon you.</string><string>You feel the urge to slash, cut, and bruise yourself.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion</name><script>wsys.affadd("confusion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your reflexes disappear into a haze of confusion.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Loki +</name><script>wsys.recklessnesscheck()
raiseEvent("loki checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#008000</mFgColor><mBgColor>#b3b3b3</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are confused as to the effects of the venom.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vertigo +</name><script>wsys.affadd("vertigo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The idea of heights makes you queasy suddenly.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>wsys.affadd("paralysis")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A prickly stinging overcomes your body, fading away into numbness.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devotion</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fear</name><script>wsys.affadd("fear", "devotion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Strange terrifying voices begin to whisper through your mind.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inquisition</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ draws you into (?:his|her) gaze, lowering (?:his|her) brow and glaring at you with righteous fury\. Pointing at you with a single raised finger, [A-Z][a-z]+ recites a list of your transgressions, condemning your actions and words\. A blaze of holy fire surges about [A-Z][a-z]+ as s?he dictates your sentence\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Beam</name><script>wsys.affadd("confusion", "devotion")
wsys.affadd("dizziness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You reel as the beam strikes, dazzled and confused.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacified</name><script>wsys.affadd("pacified", "devotion")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ gazes fondly at you\, eyes shining with compassion and love\; all anger fades from your heart\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion</name><script>wsys.affadd("confusion", "devotion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your head spins as your mind is drowned in chaos and confusion.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hellsight</name><script>wsys.affadd("hellsight", "devotion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ gives you a vengeful stare\, and dark images begin to whisper to you from the edges of your mind\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pranks</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Handspring</name><script>wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ slams into you, knocking you to the ground as (?:his|her) feet slam into your chest\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Itching +</name><script>wsys.affadd("itching", "jester")
wsys.affadd("impatience", "jester")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A sudden itch drives you half-mad, and you scratch it furiously.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Peel</name><script>wsys.affadd("prone", "jester")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You slip and fall on a banana peel!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea (mickey)</name><script>wsys.affadd("nausea", "jester")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You pop it into your mouth, only to realise that someone slipped you a mickey!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Web Bomb</name><script>wsys.affadd("webbed", "jester")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A web bomb blows up in your hands!</string><string>It throws strands of sticky webbing over you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bop</name><script>wsys.boxDisplay("Mental aff", "purple")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) reaches out and bops you on the nose with (?:her|his) blackjack\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Backhandspring</name><script>wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ does a back handspring to the \w+, striking you with (?:his|her) feet on the way out\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spiritlore</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Relapse incoming</name><script>wsys.boxDisplay("RELAPSE INCOMING!", "white:red")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The lips of </string><string>^The lips of [A-Z][a-z]+ turn up in a sinister smile as s?he gestures deliberately in your direction\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Coagulation</name><script>wsys.newClassTimer("shaman")
wsys.bleeding = wsys.bleeding - 150
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With methodical ruthlessness, </string><string>^With methodical ruthlessness, [A-Z][a-z]+ casts (?:his|her) hand at you, a wash of cold causing your blood to evolve into something new\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Maligus (passive)</name><script>wsys.newClassTimer("shaman")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The insidious power saps at your physical and mental reserves.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Snare</name><script>wsys.affadd("entangled", "shaman")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ grows very still for a moment, before (?:his|her) eyes snap wide open and you feel something icy wrap about your limbs, binding you in place\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Soulrend</name><script>wsys.newClassTimer("shaman")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a horrifying ripping sensation as </string><string>^You feel a horrifying ripping sensation as [A-Z][a-z]+ makes a hooking motion in your direction\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Arius</name><script>wsys.newClassTimer("shaman")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The eyes of </string><string>^The eyes of [A-Z][a-z]+ go out of focus for a moment as (?:his|her) mouth falls wide, a terrible, unearthly sound rippling forth\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bloodlet</name><script>--wsys.osend("show bleeding")
--wsys.maxclot()
wsys.newClassTimer("shaman")
wsys.switchPrios( "haemophilia", wsys.affPosition("paralysis") )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>As </string><string>^As [A-Z][a-z]+ gestures toward you, lines of sharp pain slash across your skin\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Teraile (passive)</name><script>wsys.bleedingfor(wsys.bleeding + 20, "health")
wsys.newClassTimer("shaman")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A dull ache builds behind your eyes.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anthius</name><script>wsys.newClassTimer("shaman")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A bolt of searing flame streaks in from the down and slams into you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Relapsing</name><script>wsys.newClassTimer("shaman")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Horror overcomes you as you realise that the curse of </string><string>^Horror overcomes you as you realise that the curse of \w+ has manifested upon you once again\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Metamorphosis</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>def stripping</name><script>wsys.newClassTimer("metamorphosis")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ directs (?:her|his) searing gaze towards you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>glare</name><script>wsys.affadd("impatience", "metamorphosis")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ glares at you and your brain suddenly feels slower\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>freeze</name><script>wsys.affadd("frozen", "metamorphosis")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ opens (?:his|her) maw and exhales a blast of frigidly cold air on you\.$</string><string>^Opening (?:his|her) great maw, [A-Z][a-z]+ envelopes you with a glacial plume of freezing air\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Maul</name><script>wsys.my_limb_hit(matches[2], "maul")
wsys.newClassTimer("metamorphosis")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ springs forwards and mauls your (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trumpet</name><script>wsys.affadd("disrupted", "metamorphosis")
wsys.affadd("prone", "metamorphosis")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ raises (?:his|her) trunk into the air and trumpets mightily, knocking you to the ground\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>on fire</name><script>wsys.affadd("burning", "metamorphosis")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ inhales deeply, then lets out an earth\-shaking roar as a jet of white\-hot fire shoots from (?:his|her) nostrils directly at you\.$</string><string>^[A-Z][a-z]+ sucks in a huge lungful of air and blasts (?:his|her) fiery breath at you\. You scream in agony as the horrific flames crackle over your melting flesh\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hydra</name><script>wsys.my_limb_hit(multimatches[2][2], "hydra")
wsys.newClassTimer("metamorphosis")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>They seize your</string><string>^They seize your (\w+ \w+) with a bonecrunching grip!$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Basilisk gaze</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ gazes at you with the eyes of the basilisk\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hydra web +</name><script>wsys.affadd("entangled", "metamorphosis")


--It throws strands of sticky webbing over you.
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a synchronous, guttural rasp,</string><string>^With a synchronous, guttural rasp, [A-Z][a-z]+'s many serpentine heads breathe forth wisps of rapidly condensing smoke that entangle you in a tangible web\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trample</name><script>wsys.affadd("broken" .. multimatches[2][2] .. multimatches[2][3], "metamorphosis")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ tramples over you with (?:his|her) enormous body\.$</string><string>^You feel your (right|left) (arm|leg) snap\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evileye</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impatience</name><script>wsys.affadd("impatience")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You shuffle your feet noisily, suddenly bored.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Evileye</name><script>wsys.newClassTimer("apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) stares at you, giving you the evil eye\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>evileye bleeding</name><script>--wsys.osend("show bleeding", false)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Blood begins to freely flow from your pores.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacified</name><script>wsys.affadd("pacified", "apostate")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A sense of deep inner calm descends on you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tekura</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jumpkick</name><script>wsys.affadd("prone", "monk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) slams into you, knocking you off your feet and stunning you!$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Monk roundhouse</name><script>wsys.affadd("paralysis", "monk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ twists (?:his|her) torso and sends a roundhouse towards you.$</string><string>The blow sends a shock of pain through you, your muscles reflexively locking in response.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>sweepkick</name><script>wsys.affadd("prone", "monk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ knocks your legs out from under you and sends you sprawling to the floor\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pinchblock</name><script>wsys.affadd("prone", "monk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ moves in and delivers a precision strike to your neck as you attack\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spirituality</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spiritwrack</name><script>wsys.recklessnesscheck()
raiseEvent("loki checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#008000</mFgColor><mBgColor>#191919</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your spirit writhes in torment under the glare of the angel.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smite</name><script>wsys.affadd("broken"..multimatches[1][3]..multimatches[1][4], "priest")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) utters a prayer and smites your (left|right) (arm|leg) with .+\.$</string><string>It breaks with a loud 'CRACK'.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fear</name><script>wsys.affadd("fear", "priest")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Suddenly dizzy, you clutch your head and wonder what it was you were thinking about.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizziness</name><script>wsys.affadd("dizziness", "priest")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your head spins as a sudden fit of dizziness overwhelms you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def strip (angel)</name><script>wsys.defstrip(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your </string><string>^Your (.+) defence has been stripped by ([A-Z][a-z]+)'s guardian angel\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Angel Push</name><script>wsys.affadd("prone", "priest")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A guardian angel extends a hand in your direction, and a sudden impact knocks you from your feet.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity</name><script>wsys.affadd("stupidity", "priest")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind feels slow and stupid suddenly.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning</name><script>wsys.affadd("burning", "priest")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+)'s guardian angel's eyes glow like embers as searing heat pours over you, causing you to burst into flames\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion</name><script>wsys.affadd("confusion", "priest")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ directs a dazzling ray of divine light at you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Occultism</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Whisperingmadness symptom</name><script>wsys.affadd("whisperingmadness", "occultist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You hear an eerie voice whisper horrible words in the back of your skull.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disloyalty</name><script>wsys.affadd("disloyalty", "occultist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ utters a terrible curse and points a finger at you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Instill</name><script>wsys.newClassTimer("occultist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) makes a quick, sharp gesture toward you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unnameable</name><script>-- A sudden sense of wrongness overwhelms you.
--You realise with horror that the eldritch utterence has caused 2 insanities to descend upon you.
-- Possible pool: confusion, dementia, stupidity

local count = tonumber( matches[2] )

-- Confusion and dementia are both cured by ash, so predict them first.
-- Stupidity will likely be caught be secondary affs, so predict it last
send("curing predict confusion")
if count &gt;= 2 then
	send("curing predict dementia")
end
if count &gt;= 3 then
	send("curing predict stupidity")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You realise with horror that the eldritch utterence has caused (\d+) insanities to descend upon you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Attend</name><script>--wsys.useDeaf()
--wsys.useBlind()
wsys.newClassTimer("occultist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ glows with an emerald hue and snaps (?:his|her) fingers at you\.$</string><string>Unable to resist the insistent intent to get your attention, your eyes flicker open and head snaps up.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Whisperingmadness</name><script>wsys.affadd("whisperingmadness", "occultist")

--hearing whispers of madness.
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ passes (?:his|her) hand in front of you. You feel an invisible claw brush the back of your skull\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pinchaura</name><script>wsys.def.insomnia = false
if wsys.cure == "goldenseal" or wsys.cure == "plumbum" then
 wsys.emptyherb()
end -- if
wsys.def.speed = false
send("curing queue add speed")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) makes a sudden, quick gesture in front of you, almost hitting your nose\. (?:His|Her) hand glows with a vibrant violet light before snapping back to (?:her|his) side\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Truename</name><script>--truename affs here
wsys.undef("speed")
wsys.affadd("aeon", "occultist")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) draws back with a knowing smirk and utters some alien word that vibrates deep within your bones\. Your mind swirls and body convulses in excruciating pain as your very spirit cries out in agony\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chaosrays hit</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are hit by a</string><string>ray.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chill</name><script>wsys.affadd("frozen", "occultist")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ sends an icy blue tendril of light that lashes out at you and wraps around you, sending a strange chill deep into your bones\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shrivel limb</name><script>wsys.affadd("broken" .. multimatches[2][2] .. multimatches[2][3], "occultist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You stumble slightly as </string><string>^You stumble slightly as [A-Z][a-z]+ touches your (left|right) (arm|leg), and it shrivels away\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Artefacts</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Torc stupidity</name><script>wsys.affadd("stupidity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ casts a net of stupidity over your mind\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Whip of Taming</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ lashes out at you with .+, flaying your flesh\.$</string><string>^[A-Z][a-z]+ snaps (?:his|her) wrist, sending the tip of .+ to scourge you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Torc para</name><script>wsys.affadd("paralysis")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your limbs stiffen and lock up in response to an unseen power.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Formulation</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Riding</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Riding trample</name><script>--[[
if wsys.aff.blackout then
  wsys.affadd("cleg")
end
--]]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>999</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ whips .+ into a fury, bucking and racing dangerously in a circle, trampling the ground in a frenzy\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shikudo</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crushedthroat</name><script>wsys.affadd("crushedthroat")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Blinding pain radiates from your throat and you suddenly find yourself unable to draw breath.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone +</name><script>wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#0000ff</mFgColor><mBgColor>#ffffff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You sit yourself down.</string><string>The wave of force knocks you to the ground.</string><string>You regain consciousness with a start.</string><string>It knocks you off your feet.</string><string>^Drawing an enormous breath\, [A-Z][a-z]+ exhales\, expelling a gale of wind with such force that you are knocked over\.$</string><string>^With a quick thrust from the butt end of an? .+, \w+ knocks you to the ground\.$</string><string>You lie down.</string><string>The ground heaves, knocking you off your feet.</string><string>^\w+ gives a yell and slaps .*, who powerfully kicks you with its hind legs and sends you sailing \w+ with arms flailing.$</string><string>^\w+ knocks your legs out from under you and sends you sprawling to the floor\.$</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleeding Tick</name><script>wsys.bleedingfor(multimatches[2][2], multimatches[2][3])


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You bleed </string><string>^You bleed (\d+) (health|mana)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleeding +</name><script>wsys.bleedingfor(multimatches[2][2], multimatches[2][3])


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are bleeding for </string><string>^You are bleeding for (\d+) (health|mana)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Two Arts</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bladetwist</name><script>cecho("\n&lt;red&gt;BLADETWIST!! BLADETWIST!! BLADETWIST!!\n&lt;red&gt;BLADETWIST!! BLADETWIST!! BLADETWIST!!")
if not wsys.raid then
  wsys.manaprio()
  if wsys.timer.bladetwisttimer then killTimer(tostring(wsys.timer.bladetwisttimer)) end
  wsys.timer.bladetwisttimer = tempTimer(7, [[wsys.timer.bladetwisttimer = nil;wsys.healthprio()]])
end
wsys.bleedingfor(wsys.bleeding + 200, "health")


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You groan in pain as </string><string>^You groan in pain as [A-Z][a-z]+ twists the blade within your gut.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epilepsy</name><script>wsys.affadd("epilepsy", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Minute bolts of lightning arc from the blade into your flesh, jangling your nerves.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def strip (void infuse)</name><script>wsys.defstrip(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The emptiness of the void overtakes you, stripping your </string><string>^The emptiness of the void overtakes you, stripping your (.+) defence\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>impaleslash</name><script>deleteLine()
cecho("&lt;red&gt;IMPALESLASH turtle turtle turtle IMPALESLASH")
cecho("\n&lt;red&gt;IMPALESLASH turtle turtle turtle IMPALESLASH")
cecho("\n&lt;red&gt;IMPALESLASH turtle turtle turtle IMPALESLASH")
cecho("\n&lt;red&gt;IMPALESLASH turtle turtle turtle IMPALESLASH")
--send("clot;clot;clot;clot;clot")
wsys.bleedingfor(200, "health")
--wsys.osend("show bleeding",false)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^As [A-Z][a-z]+ shifts the blade transfixing your gut, the loathsome kiss of metal ravages your insides.$</string><string>You feel weak and lightheaded.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chill</name><script>wsys.affadd("frozen", "blademaster")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Vapourous mist coalesces about </string><string>^Vapourous mist coalesces about \w+'s form as the surroundings cool\. Moisture in the air crystallises into tiny shards of ice, which hang, unmoving, until a gesture from (\w+) sends them whirling upon a bitter white wind to cut into your flesh\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning</name><script>wsys.affadd("burning", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The flame-wreathed blade engulfs your skin in flames as it slashes your flesh.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chill</name><script>wsys.affadd("frozen", "blademaster")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The ice-covered blade sends a wave of cold over your skin, chilling you to the bone.</string><string>The ice-covered blade sends a wave of cold over your skin, freezing you to the bone.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impaled</name><script>wsys.affadd("impaled", "blademaster")
wsys.bleedingfor(wsys.bleeding + 100, "health")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ draws (:?his|her) blade back and plunges it deep into your helpless body impaling it to the hilt\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voicecraft</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Generosity</name><script>wsys.affadd("generosity", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) chants 'GIMMEGIMME' at you and you begin to feel quite generous\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impatience</name><script>wsys.affadd("impatience", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(?:His|Her) eyes gleaming, [A-Z][a-z]+ smiles and quickly sings a jaunty limerick at you.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Addiction</name><script>wsys.affadd("addiction", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a wink, </string><string>^With a wink, [A-Z][a-z]+ recites \"Ode to Elixirs\" to you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impatience (songbird)</name><script>wsys.affadd("impatience", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder quickly sings a jaunty limerick at you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anorexia (songbird)</name><script>wsys.affadd("anorexia", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder sings a qasida of asceticism to you, starting with the characteristic Jaziran trill\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness</name><script>wsys.affadd("clumsiness", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel suddenly clumsy beside the graceful maqam of el'Jazira that </string><string>^You feel suddenly clumsy beside the graceful maqam of el'Jazira that [A-Z][a-z]+ sings at you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tremolo cripple</name><script>wsys.affadd("broken"..multimatches[2][2].."leg", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Using a heavy tremolo </string><string>^Using a heavy tremolo [A-Z][a-z]+ crushes your (right|left) leg\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def strip</name><script>wsys.defstrip(matches[3])
wsys.newClassTimer("bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) sings a sonorous chant at you, stripping your (.+) defence\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vertigo (songbird)</name><script>wsys.affadd("vertigo", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder sings a pastorale of the fields and streams to you\. You feel reluctant to leave the ground\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paranoia</name><script>wsys.affadd("paranoia", "bard")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>So convincing is </string><string>^So convincing is [A-Z][a-z]+'s requiem for historical Seleucar that paranoia of the future sets in\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vibrato cripple</name><script>wsys.affadd("broken"..multimatches[2][2].."arm", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a trilling vibrato </string><string>^With a trilling vibrato [A-Z][a-z]+ shatters your (right|left) arm\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Claustrophobia (songbird)</name><script>wsys.affadd("claustrophobia", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder launches into a droning song. You feel as if the world has closed in on you after listening to \w+'s repetitive isorhythm.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea</name><script>wsys.affadd("nausea", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+\'s poem of gluttony and decay makes you feel ill\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fear</name><script>wsys.affadd("fear", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Confidence drains from you, replaced by fear, as </string><string>^Confidence drains from you, replaced by fear, as ([A-Z][a-z]+) weaves a counterpoint between instrument and voice aimed at you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paranoia (songbird)</name><script>wsys.affadd("paranoia", "bard")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder launches into a requiem for historical Seleucar so convincing that paranoia of the future sets in.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cantata</name><script>wsys.undef("shield")
wsys.undef("rebounding")
wsys.newClassTimer("bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+)'s cantata shatters the defences surrounding you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epilepsy</name><script>wsys.affadd("epilepsy", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind is disrupted by the irritating ditty </string><string>^Your mind is disrupted by the irritating ditty [A-Z][a-z]+ sings at you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness (songbird)</name><script>wsys.affadd("clumsiness", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder sings a graceful maqam of el'Jazira at you, and you feel suddenly clumsy in comparison\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anorexia</name><script>wsys.affadd("anorexia", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a characteristic Jaziran trill, </string><string>^With a characteristic Jaziran trill, [A-Z][a-z]+ sings a qasida of asceticism to you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vibrato break</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a trilling vibrato </string><string>^With a trilling vibrato ([A-Z][a-z]+) attacks your broken (left|right) arm causing you to scream in pain\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fear songbird</name><script>wsys.affadd("fear", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder perfectly mimicks a complex counterpoint between instrument and voice aimed at you, and your confidence drains to be replaced by fear\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vertigo</name><script>wsys.affadd("vertigo", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ sings a pastorale of the fields and streams to you\. You feel reluctant to leave the ground\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity</name><script>wsys.affadd("stupidity", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ sings the Passion of Imithia and your mind glazes with its beauty\.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epilepsy (songbird)</name><script>wsys.affadd("epilepsy", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon \w+\'s shoulder twitters an irritating ditty at you, disrupting your mind\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis (songbird)</name><script>wsys.affadd("paralysis", "bard")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder perfectly mimics the recitation of an epic tale of Nicator's heroism and bravery to you, holding you motionless\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion</name><script>wsys.affadd("confusion", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ recites an obscure\, confusing Kamleikan haiku to you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity (songbird)</name><script>wsys.affadd("stupidity", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder sings a grave, perfect mimicry of the Passion of Ithmia to you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion (songbird)</name><script>wsys.affadd("confusion", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder perfectly mimics the recitation of an obscure, confusing Kamleikan haiku to you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Broken Limb Tremolo +</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Using a heavy tremolo </string><string>^Using a heavy tremolo ([A-Z][a-z]+) brutally punishes your already shattered (left|right) ([a-z]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Claustrophobia</name><script>wsys.affadd("claustrophobia", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel as if the world has closed in on you after listening to </string><string>^You feel as if the world has closed in on you after listening to [A-Z][a-z]+'s droning, repetitive isorhythm.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>wsys.affadd("paralysis", "bard")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are held motionless by </string><string>^You are held motionless by [A-Z][a-z]+'s epic tale of Nicator's heroism and bravery\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Addiction (songbird)</name><script>wsys.affadd("addiction", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songbird upon </string><string>^The songbird upon [A-Z][a-z]+'s shoulder perfectly mimics a recitation of "Ode to Elixirs" to you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Necromancy</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Speared +</name><script>wsys.psend("SOULSPEAR thrown at me by " .. multimatches[2][2])
selectString(line, 1) setBold(true) setItalics(true) fg("firebrick") bg("black") resetFormat() deselect()
wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A glowing spear comes flying in towards you, thrown </string><string>^A glowing spear comes flying in towards you, thrown by ([A-Z][a-z]+)\. It buries itself in your gut, impaling you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shrivel unknown arm</name><script>wsys.affadd("carm", "necromancy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Before you can avoid it, </string><string>^Before you can avoid it, [A-Z][a-z]+'s hand brushes against your arm and it withers away\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disloyalty</name><script>wsys.affadd("disloyalty", "necromancy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ curses you with the visage of a rotting corpse\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shrivel unknown Leg +</name><script>wsys.affadd("cleg", "necromancy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ reaches out and grabs your leg, which almost gives way underneath you as it shrivels feebly away\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Leprosy</name><script>wsys.affadd("broken" .. matches[2] .. matches[3])
wsys.affadd("broken" .. matches[4] .. matches[5], "necromancy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ begins to chant darkly and crusty green sores coat (?:her|his) hands\. (?:She|He) begins to flail (?:her|his) arms wildly and one of (?:her|his) hands brushes your skin. Immediately, your (left|right) (arm|leg) and (left|right) (arm|leg) shrivel up in response\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shrivel</name><script>wsys.affadd("broken" .. multimatches[2][2] .. multimatches[2][3], "necromancy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You watch in horror as </string><string>^You watch in horror as [A-Z][a-z]+ touches your (left|right) (arm|leg), and it shrivels away to uselessness\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Infestation</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You recoil in horror as countless maggots squirm over your flesh, burrowing into your pores.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chill</name><script>wsys.affadd("frozen", "necromancy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ sends the cold of the grave to freeze you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tarot</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lovers</name><script>wsys.affadd("lovers", "tarot")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ throws a Lovers tarot at you and as it strikes true, you fall hopelessly in love with (?:him|her)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lust</name><script>if ndb.isenemy(matches[2]) then
  monolithSigil(true)
  wsys.boxDisplay("LUSTED BY " .. string.upper(matches[2]), "white:VioletRed")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) quickly flings a tarot card at you, and you feel unreasonable lust for (?:him|her)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon Tarot</name><script>wsys.affadd("aeon", "tarot")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ stands a tarot on (?:his|her) open palm, and blows it lightly at you\. Suddenly your movement through the time stream is slowed\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon Sluggish Symptom</name><script>wsys.aeoncolour()
if wsys.aff.blackout and not wsys.aff.aeon and ((wsys.classTimerExists("jester") or wsys.classTimerExists("shaman") or wsys.classTimerExists("occultist") or wsys.classTimerExists("tarot")) and not wsys.classTimerExists("magi")) then
  wsys.affadd("aeon")
  send("curing unpredict aeon", false)
  send("curing predict aeon", false)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You move sluggishly into action.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tangled</name><script>wsys.affadd("entangled", "tarot")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ hurls a tarot card with the image of the Hanged Man on it at you\. As it reaches you, a huge mass of rope bursts out of it, entrapping and hindering you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Justice</name><script>wsys.affadd("justice", "tarot")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ bows (?:his|her) head and mutters something, then flings a tarot card at you\. A set of scales appears above your head and one side of the scale quickly descends\. You have a bad feeling about this\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>moon tarot</name><script>selectString(line, 1) setBold(true) setItalics(true) fg("purple") bg("black") resetFormat() deselect()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ flings a tarot card at you which turns an ominous, sickly red before striking you in the head\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Subterfuge</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flay rebounding</name><script>if not wsys.timer.reboundingdelay then
  wsys.timer.reboundingdelay = nil
  wsys.undef("rebounding")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) flays away your aura of rebounding defence\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disrupt</name><script>wsys.affadd("disrupted", "serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mental equilibrium scatters suddenly, upset by some unknown source.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scytherus +</name><script>wsys.affadd("scytherus")

-- i know i know, but this'll work.
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You swoon as you suffer a toxic relapse.</string><string>You feel light headed and dizzy.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Backstab</name><script>wsys.newClassTimer("serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) leaps from the shadows and plunges a dagger into your unsuspecting back!$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Arrow hit</name><script>wsys.bleedingfor(wsys.bleeding + 150, "health")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>An arrow flies </string><string>It strikes you, gouging a deep and bloody wound.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flay sileris|quicksilver</name><script>wsys.newClassTimer("serpent")
wsys.undef("fangbarrier")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) flays the sileris coating from you\.$</string><string>^([A-Z][a-z]+) flays the quicksilver coating from you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bound +</name><script>wsys.affadd("bound", "serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) quickly binds up your hands and feet, leaving you helpless\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chill</name><script>wsys.affadd("shivering", "serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a deep chill entering your bloodstream and spreading throughout your body.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slit throat</name><script>wsys.bleedingfor(wsys.bleeding + 300, "health")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a sharp pain on your throat, and start to choke as blood begins to pour down your throat from the wound in your neck.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Affliction Cures</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blackout -</name><script>if wsys.aff.blackout then
	wsys.aff.blackout = nil
	raiseEvent("lost aff", "blackout")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your senses return to you as the blackout ends.</string><string>Your senses return in a rush.</string><string>^\d+</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scytherus -</name><script>wsys.affcured("scytherus")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your blood thickening.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Laceratedthroat -</name><script>wsys.affcured("laceratedthroat")
wsys.affadd("slashedthroat")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The flow of blood slows as the gaping wound in your throat partially mends.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asthma -</name><script>wsys.affcured("asthma")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your bronchial tubes open up and your asthma is cured.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parasite -</name><script>wsys.affcured("parasite")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The leeching of your strength comes to an end.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Selarnia -</name><script>wsys.affcured("selarnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel the barrier that separated you from your animal consciousness has dissipated.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleeding -</name><script>wsys.clotcure()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You do not bleed, my friend.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paranoia -</name><script>wsys.affcured("paranoia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Aaaahhh. No one is out to get you after all.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypochondria -</name><script>wsys.affcured("hypochondria")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>My, you feel healthier than you have in years.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spiritdisrupt -</name><script>wsys.affcured("spiritdisrupt")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The spirit disruption plaguing you fades.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heartseed -</name><script>wsys.affcured("heartseed")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The remedy burns through your chest, eliminating the spreading tendrils of a virulent heartseed.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Earthdisrupt -</name><script>wsys.affcured("earthdisrupt")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The remnants of the earth energy surrounding you fades.</string><string>Your stomach settles.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anorexia -</name><script>wsys.affcured("anorexia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Food is no longer repulsive to you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacified -</name><script>wsys.affcured("pacified")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The unnatural calm that filled you lifts abruptly from you.</string><string>The unnatural feeling of peace leaves you.</string><string>You are capable of offensive acts once more.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Recklessness -</name><script>wsys.affcured("recklessness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Prudence rules your psyche once again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Numbedrightarm -</name><script>wsys.affcuredconfirm("numbedrightarm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Feeling returns to your right arm.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Skullfractures -</name><script>wsys.affcured("skullfractures")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The pounding in your head disappears.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Justice -</name><script>wsys.affcured("justice")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The curse of Miramar, the Just leaves you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Whisperingmadness -</name><script>wsys.affcured("whisperingmadness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The whispering in your mind subsides.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impaled -</name><script>wsys.writhedimpaled()
-- statrefresh()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With an heroic effort you manage to writhe yourself free from the weapon that impaled you.</string><string>^With a vicious snarl \w+ carves a merciless swathe through your steaming guts\. You gurgle and choke as s?he withdraws (?:his|her) dripping blade, glistening with gore\.$</string><string>^Searing pain tears through your midsection as you wrench away from (?:[A-Z][a-z]+), (?:his|her) weapon ripping unceremoniously through your innards\.$</string><string>^With a snarl of contempt, \w+ allows you to slide free of (?:her|his) weapon\.$</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slickness -</name><script>wsys.affcured("slickness")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your glands cease their oily secretion.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis -</name><script>wsys.affcured("paralysis")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your muscles unlock; you are no longer paralysed.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hamstrung -</name><script>wsys.affcuredconfirm("hamstrung")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel the tightness in your hamstring subside, allowing free movement once again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disloyalty -</name><script>wsys.affcured("disloyalty")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You no longer will inspire disloyalty among friends.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Healthleech -</name><script>wsys.affcured("healthleech")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your aching, pain-wracked body is soothed and calmed.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Torntendons -</name><script>wsys.affcured("torntendons")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The burning in your lower legs fades away.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Generosity -</name><script>wsys.affcured("generosity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Ahhhh. The freedom to be stingy again!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slashedthroat -</name><script>wsys.affcured("slashedthroat")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The bleeding gash in your throat closes up completely.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vertigo -</name><script>wsys.affcured("vertigo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your fear of heights subsides.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dissonance -</name><script>wsys.affcured("dissonance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your dissonant nature becomes harmonious.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epilepsy -</name><script>wsys.affcured("epilepsy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your nerves suddenly calm down.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shivering -</name><script>wsys.affcured("shivering")
wsys.undef("insulation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your body warms up and you stop shivering.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retribution -</name><script>wsys.affcured("retribution")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The terrible sense of foreboding lifts.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lethargy -</name><script>wsys.affcured("lethargy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The lethargy evaporates, leaving you full of energy.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea -</name><script>wsys.affcured("nausea")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your stomach becalms itself.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Masochism -</name><script>wsys.affcured("masochism")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You no longer enjoy pain.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sleeping -</name><script>wsys.affcured("sleeping")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You open your eyes and stretch languidly, feeling deliciously well-rested.</string><string>You quickly pull yourself out of sleep.</string><string>You open your eyes and yawn mightily.</string><string>You are jerked awake by the pain.</string><string>You already are awake.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Waterdisrupt -</name><script>wsys.affcured("waterdisrupt")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You become less parched.</string><string>The water disruption plaguing you dissipates.</string><string>The remnants of the water energy surrounding you fades.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Transfixation -</name><script>--cecho("&lt;green&gt;writhed free")
wsys.writhed("transfixation")
enableTrigger("Prompt Checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have writhed free of your state of transfixation.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crackedribs -</name><script>wsys.affcured("crackedribs")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You can breathe easily once again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weakenedmind -</name><script>wsys.affcuredconfirm("weakenedmind")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The power of Rixil fades from your mind.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shadowmadness -</name><script>wsys.affcured("shadowmadness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your sanity reestablishes itself.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hecatecurse -</name><script>wsys.affcuredconfirm("hecatecurse")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The crazed whispering fades from your mind.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Darkshade -</name><script>wsys.affcured("darkshade")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>No longer will the sunlight harm you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Temperedphlegmatic -</name><script>wsys.affcured("temperedphlegmatic")
wsys.humourReset("temperedphlegmatic")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your phlegmatic humour drains back to normal levels.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Temperedmelancholic -</name><script>wsys.affcured("temperedmelancholic")
wsys.humourReset("temperedmelancholic")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your melancholic humour drains back to normal levels.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lovers -</name><script>wsys.affcured("lovers")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You shake your head, wondering what you ever saw in \w+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hellsight -</name><script>wsys.affcured("hellsight")
if wsys.aff.inquisition then wsys.affcured("inquisition") end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Thankfully, the visions of Hell have left you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Temperedsanguine -</name><script>wsys.affcured("temperedsanguine")
wsys.humourReset("temperedsanguine")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your sanguine humour drains back to normal levels.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inquisition -</name><script>wsys.affcured("inquisition")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Clarity returns to your mind as the echoing accusations fade from memory.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Airdisrupt -</name><script>wsys.affcured("airdisrupt")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The air disruption plaguing you dissipates.</string><string>The remnants of the air energy surrounding you fades.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Agoraphobia -</name><script>wsys.affcured("agoraphobia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You can handle the idea of open spaces again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sensitivity -</name><script>wsys.affcured("sensitivity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The stinging feeling fades.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Claustrophobia -</name><script>wsys.affcured("claustrophobia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Small spaces no longer frighten you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hallucinations -</name><script>wsys.affcured("hallucinations")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your hallucinations cease to plague you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Addiction -</name><script>wsys.affcured("addiction")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your terrible addiction seems to wane.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stuttering -</name><script>wsys.affcured("stuttering")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your tongue will finally obey your commands properly.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crushedthroat -</name><script>wsys.affcured("crushedthroat")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your crushed throat mends and you can draw breath easily once again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impatience -</name><script>wsys.affcured("impatience")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are patient once again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersomnia -</name><script>wsys.affcured("hypersomnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a bit more alert and awake.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shyness -</name><script>wsys.affcured("shyness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your shyness has been cured.</string><string>Your shyness has been cured. You can now face the world boldly.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Timeloop -</name><script>wsys.affcured("timeloop")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You break out of the feedback loop.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity -</name><script>wsys.affcured("stupidity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You aren't such a complete idiot anymore.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone -</name><script>--wsys.stood()
wsys.affcuredconfirm("prone")
wsys.canaction()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You stand up.</string><string>You are not fallen or kneeling.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Itching -</name><script>wsys.affcured("itching")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Thankfully, the itching subsides.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Numbedleftarm -</name><script>wsys.affcuredconfirm("numbedleftarm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Feeling returns to your left arm.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Entangled -</name><script>wsys.canaction()
wsys.writhed("entangled")
enableTrigger("Prompt Checks")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have writhed free of your entanglement by ropes.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bound -</name><script>wsys.canaction()
wsys.writhed("bound")
enableTrigger("Prompt Checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have writhed free of your entanglement by tied ropes.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Manaleech -</name><script>wsys.affcured("manaleech")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your rapidly weakening mind is stabilized.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon -</name><script>wsys.affcured("aeon")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The curse of the Aeon wears off and you return to the normal timestream.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dementia -</name><script>wsys.affcured("dementia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Sanity returns to you and you are no longer demented.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wristfractures -</name><script>wsys.affcured("wristfractures")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel bones snapping back into place in your arms.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Temperedcholeric -</name><script>wsys.affcured("temperedcholeric")
wsys.humourReset("temperedcholeric")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your choleric humour drains back to normal levels.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Frozen -</name><script>wsys.affcured("frozen")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Though still shivering, you are no longer frozen solid.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voyria -</name><script>wsys.affcured("voyria")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The venom burns through your veins, destroying the deadly poisons that are killing you.</string><string>Mercifully, the voyria venom has been cleansed from your body.</string><string>The tonic burns through your veins, destroying the deadly poisons that are killing you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weariness -</name><script>wsys.affcured("weariness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your limbs strengthen and you feel stronger.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Corruption -</name><script>wsys.affcuredconfirm("corruption")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The corruption of your humours fades.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizziness -</name><script>wsys.affcured("dizziness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are no longer dizzy.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Loneliness -</name><script>wsys.affcured("loneliness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The awful loneliness leaves you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion -</name><script>wsys.affcured("confusion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The confusion lifts from your mind and it is clear once again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Depression -</name><script>wsys.affcured("depression")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Maybe things aren't so bad after all.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Airfisted -</name><script>wsys.affcuredconfirm("airfisted")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Clarity of form returns as the wind plaguing your mind dies down.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Haemophilia -</name><script>wsys.affcured("haemophilia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your blood regains its ability to clot.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cadmuscurse -</name><script>wsys.affcuredconfirm("cadmuscurse")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The vile curse of Cadmus leaves you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness -</name><script>wsys.affcured("clumsiness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Thank Maya, the Great Mother! Your clumsiness has been cured.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Firedisrupt -</name><script>wsys.affcured("firedisrupt")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The uncomfortable heat suffusing you fades.</string><string>The fire disruption plaguing you dissipates.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Webbed -</name><script>wsys.writhed("webbed")
enableTrigger("Prompt Checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#80ff00</mFgColor><mBgColor>#008000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have writhed free of your entanglement by webs.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deadening -</name><script>wsys.affcured("deadening")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are no longer deadened.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shadowmancy</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parasite</name><script>wsys.affadd("parasite")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>As the weapon strikes you, you feel your strength being leeched away.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shadowmadness</name><script>wsys.affadd("shadowmadness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your sanity begins to escape you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Depression</name><script>wsys.affadd("depression")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Everything seems so pointless.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Timeloop</name><script>wsys.affadd("timeloop")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The world seems to grow distorted around you, as if through a thick fog.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retribution</name><script>wsys.affadd("retribution")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A terrible sense of foreboding descends upon you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Domination</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>chaos storm</name><script>wsys.affadd(matches[2], "occultist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A lash of energy whips out of the chaos storm to strike you, afflicting you with (epilepsy|claustrophobia|hypersomnia|agoraphobia|dizziness)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weakenedmind +</name><script>wsys.affadd("weakenedmind", "occultist", 62)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The muttering emanating from the sycophant increases to a sudden crescendo, and your head begins to spin.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bloodleech</name><script>wsys.affadd(matches[2], "occultist")


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A bloodleech leaps at you, clamping with teeth onto exposed flesh and secreting some foul toxin into your bloodstream. You stumble as you are afflicted with (lethargy|haemophilia|sensitivity|darkshade|healthleech|clumsiness)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slimeobscure -</name><script>wsys.affcuredconfirm("slimeobscure")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You rid yourself of the slime coating your skin.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bubonis cadmus symptom</name><script>wsys.affadd("cadmuscurse", "occultist")
--wsys.aff.bubonis = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your form is wracked by the curse of Cadmus.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bubonis cadmus +</name><script>wsys.affadd("cadmuscurse", "occultist")
--wsys.aff.bubonis = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A bubonis scampers forward and clamps its fangs down upon your ankle, pumping some vile substance into your bloodstream.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pyradius firelord</name><script>-- TODO: Need to confirm this behavior. GMCP should cover us?
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>999</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>As a firelord glares at you, sudden agonising heat ignites in your veins. It is gone as swiftly as it came, but you feel suddenly lightheaded.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Soulmaster</name><script>enableTrigger("Prompt Checks")
wsys.newClassTimer("occultist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your will manipulated by the soulmaster entity.</string><string>A soulmaster entity lets loose a horrible scream as a dark stream of primal chaos flows from it and into your very being.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hecatecurse +</name><script>wsys.affadd("hecatecurse", "occultist", 16)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A withered crone totters toward you before brushing a single finger against your brow. Your mind explodes into a frenzy of maddened whispering at the contact.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nin&#8217;kharsag (slime)</name><script>wsys.affadd("slimeobscure", "occultist", 62)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ gestures sharply in your direction, and a mass of green slime flows up and over you, coating your skin\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Palpatar</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A worm spews a stream of maggots at you, and they begin burrowing into your flesh.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>humbug</name><script>wsys.affadd(matches[2], "occultist")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A humbug scuttles forward and springs for your throat, attaching itself there for a brief instant\. Your head violently swims as you feel it bring the curse of (vertigo|masochism|recklessness|loneliness|confusion|agoraphobia) down upon you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hecatecurse symptom</name><script>wsys.affadd("hecatecurse", "occultist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The whispering in your mind fades for a moment, then resurges with sudden ferocity.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Buul chimera</name><script>wsys.defstrip(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A chimera lets out a concussive roar, all three of the creatures heads thrown forward toward you.</string><string>^The roar washes over you, ripping apart your (.+) defence\.$</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vodun Puppetry</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Puppet concussion +</name><script>wsys.affadd("damagedhead")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ flicks the temple of a (?:doll|puppet) of ([A-Z][a-z]+), hard\.$</string><string>return line:find(gmcp.Char.Status.name, 1, true) and true or false</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Two crippled limbs</name><script>wsys.affadd("brokenright"..multimatches[2][2])
wsys.affadd("brokenleft"..multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Wrenching pain shoots through your </string><string>^Wrenching pain shoots through your (arm|leg)s as they are twisted and broken by an unknown force\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>All Crippled +</name><script>wsys.affadd("brokenleftarm")
wsys.affadd("brokenleftleg")
wsys.affadd("brokenrightarm")
wsys.affadd("brokenrightleg")
wsys.affadd("prone")




</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>As all four of your limbs break, pain overwhelms you and you wonder what you've done to deserve such a fate.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleeding</name><script>wsys.bleedingfor(wsys.bleeding + 200, "health")
wsys.manaprio()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You scream briefly as your abdomen is cut and blood begins to pour out.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def strip</name><script>wsys.defstrip(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your </string><string>^You feel your (.+) defence get picked off you somehow\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def strip</name><script>wsys.defstrip(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your </string><string>^Your (.+) defence is destroyed by an unseen force\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Puncture</name><script>if not wsys.aff.mildtrauma then
  wsys.affadd("mildtrauma")
else
  wsys.affadd("serioustrauma")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A horrible crushing sensation tears through your gut and you grab desperately at your stomach, hunching over and screaming in pain.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tied up</name><script>wsys.affadd("bound")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have been bound by invisible ropes!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Recklessness</name><script>wsys.recklessnesscheck()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ whispers comforting words to a (?:doll|puppet) of ([A-Z][a-z]+)\.</string><string>return line:find(gmcp.Char.Status.name, 1, true) and true or false</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizziness</name><script>
  wsys.affadd("dizziness")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ spins a (?:doll|puppet) of ([A-Z][a-z]+) rapidly in a circle\.$</string><string>return line:find(gmcp.Char.Status.name, 1, true) and true or false</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon</name><script>wsys.affadd("aeon")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aa55ff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your passage through time slow.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Puppet mangle +</name><script>wsys.restobreakcheck("damaged" .. multimatches[2][2] .. multimatches[2][3])
wsys.puppetmangle = true
 --if not wsys.isRaid() then send("fly") end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your </string><string>^Your (\w+) (\w+) is suddenly mangled nearly beyond repair, and pain erupts up and down the length of it\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Manaleech</name><script>wsys.affadd("manaleech")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mana begins to drain away.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vodun sleep</name><script>wsys.affadd("sleep")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ whispers "Sleep...sleep" to a (?:doll|puppet) of (\w+)\.$</string><string>return line:find(gmcp.Char.Status.name, 1, true) and true or false</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning</name><script>wsys.affadd("burning")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel an evil eye glaring down at you, and suddenly you explode into searing flame!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion</name><script>
wsys.affadd("confusion")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ waves (?:his|her) hands quickly in front of the eyes of a (?:Vodun doll|puppet) of ([A-Z][a-z]+)\.$</string><string>return line:find(gmcp.Char.Status.name, 1, true) and true or false</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>wsys.affadd("paralysis")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a sharp pain in the back of your neck and your limbs lock up in paralysis.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fashioning</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>below 30</name><script>if matches[3] == "puppet" then
 wsys.newClassTimer("jester")
elseif matches[3] == "doll" then
 wsys.newClassTimer("shaman")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^([A-Z][a-z]+) looks closely at your hands and alters a (puppet|doll)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>below 10</name><script>if multimatches[2][3] == "puppet" then
 wsys.newClassTimer("jester")
elseif multimatches[2][3] == "doll" then
 wsys.newClassTimer("shaman")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>With an appraising glance at you, </string><string>^With an appraising glance at you, ([A-Z][a-z]+) shapes the arms and legs of a rough (puppet|doll)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>below 40</name><script>if matches[3] == "puppet" then
 wsys.newClassTimer("jester")
elseif matches[3] == "doll" then
 wsys.newClassTimer("shaman")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^([A-Z][a-z]+) looks at your eyes and makes some alterations to (?:his|her) (puppet|doll)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>below 20</name><script>if matches[3] == "puppet" then
 wsys.newClassTimer("jester")
elseif matches[3] == "doll" then
 wsys.newClassTimer("shaman")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^([A-Z][a-z]+) glances at you while adding some facial detail to a (puppet|doll)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>below 50</name><script>if multimatches[2][3] == "puppet" then
 wsys.newClassTimer("jester")
elseif multimatches[2][3] == "doll" then
 wsys.newClassTimer("shaman")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>With one hand ominously pointed towards you, </string><string>^With one hand ominously pointed towards you, ([A-Z][a-z]+) rubs a finger over the heart of a (puppet|doll)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chivalry</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Falcon def strip</name><script>wsys.defstrip(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your (.+) defence is ripped apart by its talons\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disembowel</name><script>wsys.bleedingfor(400, "health")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a vicious snarl </string><string>^With a vicious snarl ([A-Z][a-z]+) carves a merciless swathe through your steaming guts\. You gurgle and choke as s?he withdraws (?:his|her) dripping blade, glistening with gore\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tumbled off impale</name><script>wsys.bleedingfor(400, "health")
--wsys.osend("show bleeding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Searing pain tears through your midsection as you wrench away from </string><string>^Searing pain tears through your midsection as you wrench away from [A-Z][a-z]+, (?:her|his) weapon ripping unceremoniously through your innards\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Battlecry</name><script>wsys.affadd("prone", "chivalry")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You fall to your knees and clutch your ears as the terrifying shaft of sound shatters your will.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Falcon rebounding strip</name><script>wsys.undef("rebounding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The falcon rips your aura of rebounding apart with its talons.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impaled +</name><script>wsys.affadd("impaled")
wsys.bleedingfor(50, "health")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aa0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ draws (?:his|her) blade back and plunges it deep into your helpless body impaling it to the hilt\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lunge</name><script>wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You writhe and scream as </string><string>^You writhe and scream as s?he drives the cruel blade deep into your side\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Groves</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis (bees)</name><script>wsys.affadd("paralysis", "groves")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The bees sting you into paralysis.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Grove Lightning</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A bolt of lightning sent by</string><string>^A bolt of lightning sent by [A-Z][a-z]+ from the \w+ strikes you\!$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vines</name><script>wsys.affadd("entangled", "groves")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A pair of vines suddenly lashes out from the undergrowth to entangle you!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bees cripple hit</name><script>wsys.affadd("broken" .. multimatches[2][2]..multimatches[2][3], "groves")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The swarm of bees angrily stings you in multiple places.</string><string>^The stings paralyse your (right|left) (arm|leg)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Quarterstaff Prone</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>25</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ swings (?:her|his) quarterstaff with all (?:her|his) might, generating a great wind\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Staff swing, targetted</name><script>wsys.affadd("prone", "groves")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) viciously smashes (?:his|her) quarterstaff into your legs, sending you sprawling\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>wsys.affadd("paralysis", "groves")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The powerful current ripples through your body, and your muscles stiffen.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Harmonics</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lament</name><script>wsys.affadd("fear", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The dark Lament pervades your being as you cry out in fear.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Contradanse</name><script>wsys.recklessnesscheck()
raiseEvent("loki checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The Contradanse melody swells sharply in your ear with a discombobulating sonic burst.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Berceuse</name><script>wsys.undef("insomnia")
if wsys.cure == "goldenseal" or wsys.cure == "plumbum" then
 wsys.emptyherb()
end -- if
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You drift away into the soft music of the Berceuse, abandoning yourself to its soporific tones.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dissonance</name><script>wsys.affadd("dissonance", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your body begin to vibrate in tune with the disruptive harmonics.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacified</name><script>wsys.affadd("pacified", "bard")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind softens as you feel your entire being filled with a deep inner peace.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Runelore</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Isaz</name><script>wsys.affadd("prone", "runelore")
wsys.undef("levitating")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A series of shockwaves jolts through you, knocking you flat to the ground.</string><string>A series of shockwaves jolts through you, knocking you further off balance.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Isaz prone + dismount</name><script>wsys.affadd("prone", "runelore")
wsys.undef("levitating")
wsys.def.mounted = false
wsys.dismountd()

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A series of shockwaves jolts through you, toppling you off your mount onto your feet.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis (inguz)</name><script>wsys.affadd("paralysis", "runelore")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your limbs lock up in paralysis as you see an inguz rune on a totem.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voyria (sleizak)</name><script>wsys.affadd("voyria", "runelore")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A viper-like sleizak rune suddenly extends from a totem to bite you painfully.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nairat runeblade</name><script>wsys.affadd("shivering", "runewarden")
wsys.undef("insulation")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Cold blue flames wreathe </string><string>^Cold blue flames wreathe ([A-Z][a-z]+)'s runeblade, emanating an icy chill that penetrates you to the bone\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anorexia (Loshre)</name><script>wsys.affadd("anorexia", "runelore")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You lose all desire to eat upon gazing at a loshre rune.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Transfix (nairat)</name><script>wsys.affadd("transfixation", "runelore")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your attention is grabbed and held by a fascinating butterfly-like rune.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nairat runeblade rebounding</name><script>wsys.affadd("shivering", "runewarden")
wsys.undef("insulation")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The attack rebounds back onto you!</string><string>Cold blue flames wreathe your runeblade, emanating an icy, penetrating chill.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fear (kena)</name><script>wsys.affadd("fear", "runelore")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You begin to panic as you see a kena rune on </string><string>^You begin to panic as you see a kena rune on (?:the ground|a totem)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Symptoms</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vertigo symptom</name><script>wsys.affadd("vertigo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are gripped with fear - you cannot leave the ground.</string><string>The thought of heights terrifies you far too much to fly.</string><string>You look downwards and the ground spins dizzily.</string><string>The thought of heights is more than you can bear.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hallucinations</name><script>wsys.affadd("hallucinations")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Ooh look! A lovely lake. Perhaps you'll dive in!</string><string>You leap up and attempt a graceful swan dive...right into the solid ground.</string><string>Spiders are erupting from your mouth and nose!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inquisition (elm smoke) +</name><script>if wsys.cure == "valerian" or wsys.cure == "realgar" then
 wsys.affadd("hellsight")
 wsys.affadd("inquisition")
end -- if
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The Hellish visions ease for but a moment before surging back in force.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Generosity</name><script>wsys.affadd("generosity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your boundless generosity shines through once more!</string><string>Why, you ask yourself, are you so privileged when others are so needy.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>stupidity burping</name><script>if wsys.morphing == false then
  wsys.affadd("stupidity")
end
  
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You burp obscenely.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>weakness (fitness try)</name><script>wsys.affadd("weariness")

--add classchecks here.
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your body is too weary to perform such a feat.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion Attempt +</name><script>wsys.affadd("confusion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are too confused to concentrate properly.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacified (symptom)</name><script>wsys.affadd("pacified")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are feeling far too passive to do that.</string><string>You are feeling far too tranquil to attempt such a violent act.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voyria +</name><script>wsys.affadd("voyria")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The dark void of terror fills your mind as, horribly, blood begins to seep out of every pore on your body.</string><string>You begin feeling slightly flushed.</string><string>You cough suddenly, expelling black fluid with bits of what looks to be tissue suspended in it.</string><string>Your legs tremble slightly as a yellow jaundice begins to creep through your now-pale features.</string><string>Blood begins to slowly drip from your nose.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slickness Attempt +</name><script>wsys.affadd("slickness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are too slick for the berry juice to take hold, and it is wasted.</string><string>You are too slick for the quicksilver to take hold, and it is wasted.</string><string>The salve slides off your oily skin.</string><string>The salve just slides off your oily skin.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disrupted (in blackout)</name><script>if wsys.aff.blackout then
	send("curing predict disrupted")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You must regain equilibrium first.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lovers Symptom 1</name><script>wsys.affadd("lovers")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You love </string><string>^You love [A-Z][a-z]+ far too much to even THINK of hurting (?:him|her)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizziness (symptom)</name><script>wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The ground seems to tilt and you fall with a thump.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impaled Symptom</name><script>if not wsys.aff.daeggerimpale then
  wsys.affadd("impaled")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are impaled and must writhe off before you may do that.</string><string>Your health continues to drain away as your impaled body shudders on the end of the weapon.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Darkshade</name><script>wsys.affadd("darkshade")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The sun has rendered you too weak to move a muscle.</string><string>Sunlight shines down upon you mercilessly, rippling across your skin like fire.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea</name><script>--needs a hp check here
wsys.affadd("nausea")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cannot contain the convulsions in your stomach any longer and double over, retching violently.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Addiction Symptom</name><script>--addictionSymptom()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You eat </string><string>Your addiction can never be sated.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis Attempt +</name><script>wsys.affadd("paralysis")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Frustratingly, your body won't respond to your call to action.</string><string>Paralysed as you are, your body is not able to pick up anything.</string><string>You are paralysed and cannot do that.</string><string>You are paralysed and unable to do that.</string><string>Your state of paralysis prevents you from doing that.</string><string>You are paralysed and unable to move.</string><string>You are paralysed and are unable to drop anything.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersomnia</name><script>--should do illusion check if you actually tried to insomnia here
wsys.affadd("hypersomnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your hypersomnia prevents your insomnia.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impaled Attempt +</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are impaled and must writhe off before you may do that.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizziness</name><script>wsys.affadd("dizziness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The ground seems to tilt and you fall with a thump.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epilepsy</name><script>wsys.affadd("epilepsy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your limbs begin to jerk and shake uncontrollably, and you begin to foam at the mouth.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity symptom</name><script>wsys.affadd("stupidity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>"The voices! The voices! Get them out of my head!!" you moan, holding your head in pain.</string><string>As horrible thoughts fill your mind, you begin to sob uncontrollably.</string><string>My friend, clearly you know little of the sultry tango, if you think that you can perform it without a partner.</string><string>Tears fill your eyes and begin to slowly run down your face.</string><string>You are far too selfish to throw anything away like that.</string><string>You fall to your knees in worship.</string><string>You flap your arms madly.</string><string>You flip the bird.</string><string>You fondle yourself absently.</string><string>You get down on one knee and serenade the world.</string><string>You give up a round of applause.</string><string>You grunt a bit and then let out a loud 'OINK!'</string><string>You hug yourself compassionately.</string><string>You let out a loud, long 'MOOOOOOOOOOOOOO!</string><string>You make a strangled meowing noise and quickly shut up in embarrassment.</string><string>You pick your nose absently.</string><string>You pull down your pants and moon the world.</string><string>You stumble and poke yourself in the eye.</string><string>You sweep across the floor, leaping and twirling like a true master.</string><string>You sweep your trained eye across the room for the hidden exits.</string><string>You twitch spasmodically.</string><string>You waggle your eyebrows comically.</string><string>You wail like an old woman.</string><string>Your mind is whirling with thoughts - you cannot settle down to sleep.</string><string>You let out a loud, long "MOOOOOOOOOOO!"</string><string>You wouldn't want to drink a </string><string>You drop to one knee.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Peace</name><script>wsys.affadd("pacified")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your heart is filled with divine love, violence is abhorrent to you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Haemophilia Attempt</name><script>wsys.affadd("haemophilia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Something interferes with your ability to clot.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tangled symptom</name><script>wsys.affadd("entangled")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your legs are tangled in a mass of rope and you cannot move.</string><string>You are too tangled up to do that.</string><string>A guardian djinn calls on the fury of the elements, and tendrils of blue fire whip out to ensnare you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Loneliness</name><script>wsys.affadd("loneliness")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You realise that you have been left alone - you must find companionship!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tied Attempt +</name><script>wsys.affadd("bound")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are bound and cannot do that.</string><string>You are bound and cannot move.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion symptom</name><script>wsys.affadd("confusion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You raise your weapons to strike</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Transfixation Attempt +</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are transfixed and cannot do that. You must writhe to escape.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea parry redirect</name><script>wsys.affadd("nausea")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You frantically attempt to parry the attack of</string><string>^You frantically attempt to parry the attack of [A-Z][a-z]+, but succeed only in redirecting it\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizziness dismounted symptom</name><script>wsys.affadd("dizziness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The ground seems to tilt and you sway upon your mount.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness symtom 2</name><script>wsys.affadd("clumsiness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You lash out at </string><string>^You lash out at [A-Z][a-z]+ with .* but miss\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weariness symptom</name><script>wsys.affadd("weariness")

--wearied in body.
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff8000</mFgColor><mBgColor>#191919</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You try to raise the strength in your limbs, but find yourself too weary.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lovers (siren seduce)</name><script>wsys.affadd("lovers")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ throws a sultry glance at you, and bursts into song with her angelic voice\. In an instant, your heart is hers\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone Attempt +</name><script>wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You must be standing first.</string><string>You must pick yourself off the ground first.</string><string>The ground seems to tilt and you fall with a thump.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lovers Symptom 2</name><script>wsys.affadd("lovers")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your deep passionate love for </string><string>^Your deep passionate love for [A-Z][a-z]+ stops you from attempting any harm\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Justice</name><script>wsys.affadd("justice")

--might need to move this since it's Tarot and Priest only.
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Justice is dealt out and your attack rebounds onto you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anorexia Attempt +</name><script>wsys.affadd("anorexia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The idea of eating or drinking is repulsive to you.</string><string>The idea of putting something in your stomach sickens you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion (symptom)</name><script>wsys.affadd("confusion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You prepare for a punch, but the purpose of doing so eludes you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness symptom</name><script>wsys.affadd("clumsiness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You lash out clumsily.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shyness</name><script>wsys.affadd("shyness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Heart thumping, you cannot bear the company of others and depart in terror.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Masochism</name><script>wsys.affadd("masochism")

--should do if newHealth &lt; oldHealth unless blackout etc check here.
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With the heel of your palm, you smack yourself upside the head.</string><string>You drive a clenched fist into your gut.</string><string>You smile with pleasure as you ram your fist into your jaw.</string><string>You use your right foot to stomp on your left as hard as possible.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asthma Attempt +</name><script>wsys.affadd("asthma")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your lungs are much too constricted to smoke.</string><string>Your lungs are far too constricted to smoke.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea parry fail</name><script>wsys.affadd("nausea")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ bats your weak attempt to defend against (?:his|her) attack aside\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Claustrophobia</name><script>wsys.affadd("claustrophobia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The walls close in to suffocate you - you must escape!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fear</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fear +</name><script>wsys.affadd("fear")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#ffffff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You rush about in a state of utter panic.</string><string>^[A-Z][a-z]+ takes a deep breath and breathes out\. (?:His|her) face and body seem to melt and then twist and churn into something unspeakable\.$</string><string>Strange terrifying voices begin to whisper through your mind.</string><string>You cry out as your mind is filled with abject terror!</string><string>^[A-Z][a-z]+'s flashing blade dances before your eyes in a series of complicated feints. Time to run\!$</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Diag</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Diagnose</name><script>if wsys.timer.diagwait then
 killTimer(tostring(wsys.timer.diagwait))
 wsys.timer.diagwait = nil
 enableTrigger("Diag Lines")

 --wsys.aff = {}
 wsys.resetAffPrios()
 wsys.def.blindness = false
 wsys.def.deafness = false
 disableTrigger("Diagnose")
end -- if
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are:</string><string>You are in perfect health.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Diag Lines</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>humour (diag)</name><script>wsys.affadd("tempered"..matches[2])

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^your (\w+) humour has been tempered a total of (\d+) times\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Darkshade (Diag)</name><script>wsys.affadd("darkshade")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>allergic to sunlight.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Webbed (diag)</name><script>wsys.affadd("webbed")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff8000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>entangled in strands of webbing.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Recklessness (diag)</name><script>wsys.affadd("recklessness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>reckless.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Nausea (diag)</name><script>wsys.affadd("nausea")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>violently ill.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis (diag)</name><script>wsys.affadd("paralysis")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>paralysed.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypothermia (diag)</name><script>wsys.affadd("hypothermia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>suffering from hypothermia.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Epilepsy (Diag)</name><script>wsys.affadd("epilepsy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>suffering from epilepsy.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tied (Diag)</name><script>wsys.affadd("bound")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>bound and tied.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dementia (Diag)</name><script>wsys.affadd("dementia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>demented.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>serioustrauma (diag)</name><script>wsys.affadd("serioustrauma")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>has serious internal trauma.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prompt</name><script>
disableTrigger("Diag Lines")
wsys.checkaffs()
                            
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>return isPrompt()</string></regexCodeList><regexCodePropertyList>
									<integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion (Diag)</name><script>wsys.affadd("confusion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>confused.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wristfractures (diag)</name><script>wsys.affadd("wristfractures")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^suffering from (\d+) wrist fractures\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Torntendons (diag)</name><script>wsys.affadd("torntendons")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^suffering from (\d+) torn tendons\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity (diag)</name><script>wsys.affadd("stupidity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>unnaturally stupid.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Timeflux (diag)</name><script>wsys.affadd("timeflux")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>suffering from a distorted perception of time.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hellsight (Diag)</name><script>wsys.affadd("hellsight")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>catching glimpses of Hell.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No afflictions</name><script>wsys.bleeding = 0
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are in perfect health.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Manaleech (diag)</name><script>wsys.affadd("manaleech")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>a victim of manaleech.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lonliness (Diag)</name><script>wsys.affadd("loneliness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>very lonely.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Addiction (Diag)</name><script>wsys.affadd("addiction")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>suffering from addiction.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>broken limb diag +</name><script>wsys.affadd("damaged" .. matches[2] .. matches[3])

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^has a partially damaged (\w+) (\w+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vertigo (diag)</name><script>wsys.affadd("vertigo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>afraid of heights.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blind (Diag)</name><script>wsys.deffed("blindness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>blind.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shyness (diag)</name><script>wsys.affadd("shyness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>afflicted by unbearable shyness.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crippled limb (diag)</name><script>wsys.affadd("broken" .. matches[2] .. matches[3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^afflicted by a crippled (\w+) (\w+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Healthleech (Diag)</name><script>wsys.affadd("healthleech")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>a victim of healthleech.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tangled (Diag)</name><script>wsys.affadd("entangled")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>entangled in ropes.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Justice (Diag)</name><script>wsys.affadd("justice")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>surrounded by the aura of justice.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lovers (diag)</name><script>wsys.affadd("lovers")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Desperately in love with \w+\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mangledhead (diag)</name><script>wsys.affadd("mangledhead")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>has a mangled head.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scalded (diag)</name><script>wsys.affadd("scalded")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>suffering from a scalded throat.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning 5 (diag)</name><script>wsys.burningStacks( 5 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>the flesh is melting from your bones.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paranoia (diag)</name><script>wsys.affadd("paranoia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>paranoid.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weariness (Diag)</name><script>wsys.affadd("weariness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>wearied in body.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disloyalty (Diag)</name><script>wsys.affadd("disloyalty")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>inspires disloyalty in those nearby.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impatience (Diag)</name><script>wsys.affadd("impatience")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>impatient.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dissonance (diag)</name><script>wsys.affadd("dissonance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>has a dissonant nature.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Concussion (diag)</name><script>wsys.affadd("damagedhead")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>has a serious concussion.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crackedribs (diag)</name><script>wsys.affadd("crackedribs")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^suffering from (\d+) cracked ribs\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heartseed (diag)</name><script>wsys.affadd("heartseed")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>plagued by the rapid growth of a heartseed.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dehydrated (diag)</name><script>wsys.affadd("dehydrated")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>seriously dehydrated.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slickness (diag)</name><script>wsys.affadd("slickness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>extremely oily.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning 3 (diag)</name><script>wsys.burningStacks( 3 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>you are extremely burned.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>itching</name><script>wsys.affadd("itching")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>afflicted with terrible itching.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacified (Diag)</name><script>wsys.affadd("pacified")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>feeling unnaturally tranquil.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Frozen (diag)</name><script>wsys.affadd("frozen")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>frozen stiff.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypochondria</name><script>wsys.affadd("hypochondria")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>a certified hypochondriac.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Internalbleeding (diag)</name><script>wsys.affadd("internalbleeding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>suffering from massive internal bleeding.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>mangled limb (diag)</name><script>wsys.affadd("mangled" .. matches[2] .. matches[3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^has a mangled (\w+) (\w+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Transfixation (diag)</name><script>wsys.affadd("transfixation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>transfixed.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon (Diag)</name><script>wsys.affadd("aeon")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>afflicted with the curse of the Aeon.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Selarnia (diag)</name><script>wsys.affadd("selarnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>losing the bond with the animal spirits.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bubonis cadmus (diag)</name><script>wsys.affadd("cadmuscurse")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Cursed with the power of Cadmus.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Agoraphobia (Diag)</name><script>wsys.affadd("agoraphobia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>agoraphobic.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impaled (diag)</name><script>wsys.affadd("impaled")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>impaled upon a blade.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sensitivity (diag)</name><script>wsys.affadd("sensitivity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>sensitive to pain.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Inquisition (Diag)</name><script>wsys.affadd("inquisition")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>suffering under holy inquisition.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Numbedrightarm (diag)</name><script>wsys.affadd("numbedrightarm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>your right arm is completely numb.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scytherus (diag)</name><script>wsys.affadd("scytherus")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>afflicted by thin blood.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hecatecurse (diag)</name><script>wsys.affadd("hecatecurse")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Cursed with the power of Hecate.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>corruption (diag)</name><script>wsys.affadd("corruption", "alchemist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>suffering from corrupted humours.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anorexia (diag)</name><script>wsys.affadd("anorexia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>anorexic.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hallucinations (Diag)</name><script>wsys.affadd("hallucinations")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>hallucinating.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersomnia (Diag)</name><script>wsys.affadd("hypersomnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>hypersomnic.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning 4 (diag)</name><script>wsys.burningStacks( 4 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>your flesh is blackened and charred.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>disrupted element (diag)</name><script>wsys.affadd(matches[2] .. "disrupt")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^disrupted by (air|water|fire|earth|spirit) energy\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Claustrophobia (Diag)</name><script>wsys.affadd("claustrophobia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>claustrophobic.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Damaged Head (diag)</name><script>wsys.affadd("damagedhead")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>has a partially damaged head.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stuttering (diag)</name><script>wsys.affadd("stuttering")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>a stuttering fool.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deaf (Diag)</name><script>wsys.deffed("deafness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>deaf.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dizziness (Diag)</name><script>wsys.affadd("dizziness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>overcome by dizziness.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Numbedleftarm (diag)</name><script>wsys.affadd("numbedleftarm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>your left arm is completely numb.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Laceratedthroat (diag)</name><script>wsys.affadd("laceratedthroat")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>bleeding profusely from a lacerated throat.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Haemophilia</name><script>wsys.affadd("haemophilia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>afflicted by haemophilia.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Demonstain (diag)</name><script>wsys.affadd("demonstain", "apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>stained by evil.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lethargy (Diag)</name><script>wsys.affadd("lethargy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>feeling rather lethargic.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voyria (diag)</name><script>wsys.affadd("voyria")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>suffering from voyria.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asthma</name><script>wsys.affadd("asthma")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>afflicted by horrible asthma.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning 2 (diag)</name><script>wsys.burningStacks( 2 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>you are severely burned.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>mildtrauma diag +</name><script>wsys.affadd("mildtrauma")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>has mild internal trauma.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Masochism (diag)</name><script>wsys.affadd("masochism")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>masochistic.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shivering</name><script>wsys.affadd("shivering")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>shivering.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weakenedmind (diag)</name><script>wsys.affadd("weakenedmind", "occultist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>weakened in mind.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning</name><script>wsys.affadd("burning")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>ablaze.</string></regexCodeList><regexCodePropertyList>
									<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vernalius (diag)</name><script>wsys.affadd("weariness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>wearied in body.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deadening (Diag)</name><script>wsys.affadd("deadening")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>of a deadened mind.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacified (diag)</name><script>wsys.affadd("pacified")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff8000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>pacified.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Skullfractures (diag)</name><script>wsys.affadd("skullfractures")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^suffering from (\d+) skull fractures\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone (Diag)</name><script>wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>sprawled on the ground.</string><string>seated on the ground.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slashedthroat (diag)</name><script>wsys.affadd("slashedthroat")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>bleeding from a slashed throat.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Generosity (Diag)</name><script>wsys.affadd("generosity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>extremely generous.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness (Diag)</name><script>wsys.affadd("clumsiness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>afflicted with clumsiness.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Insomnia (diag)</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>an insomniac.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sleeping</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sleeping +</name><script>wsys.affadd("sleeping")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel incredibly tired, and fall asleep immediately.</string><string>You close your eyes, curl up in a ball, and fall asleep.</string><string>You are asleep and can do nothing. WAKE will attempt to wake you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Swashbuckling</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Martellato</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The songblessing upon the rapier swells with a rich, vibrant hum.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Handspring</name><script>wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ slams into you, knocking you to the ground as (?:his|her) feet slam into your chest\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fear</name><script>wsys.affadd("fear", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+'s flashing blade dances before your eyes in a series of complicated feints\. Time to run!$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Acciaccatura</name><script>wsys.affadd("broken" .. multimatches[2][2] .. multimatches[2][3], "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A bell-like tone rings out from </string><string>^A bell-like tone rings out from [A-Z][a-z]+'s rapier, echoed by the sound of cracking bone as your (right|left) (leg|arm) snaps painfully\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Death from Above</name><script>wsys.affadd("prone", "bard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You're knocked to the ground by the impact of </string><string>^You're knocked to the ground by the impact of ([A-Z][a-z]+)'s feet\. Your surprise is quickly supplanted by pain as s?he skewers you like a wild boar\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lunge</name><script>wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You writhe and scream as </string><string>^You writhe and scream as s?he drives the cruel blade deep into your side\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Backhandspring</name><script>wsys.affadd("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ does a back handspring to the \w+, striking you with (?:his|her) feet on the way out\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limbs</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity from head break</name><script>wsys.affadd("stupidity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind feels suddenly dulled and slow.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Broken</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crippled Leg +</name><script>wsys.affadd("broken" .. multimatches[2][2] .. "leg")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You stumble as your </string><string>^You stumble as your (\w+) leg shrivels into a useless appendage\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hobble</name><script>if not wsys.aff.hamstrung then
  wsys.affadd("cleg")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You slowly hobble</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Brokenleftleg -</name><script>wsys.affcured("brokenleftleg")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The bones in your left leg mend.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Climb -</name><script>wsys.affcured("climb")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The bones in your </string><string>^The bones in your \w+ \w+ mend\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Carm -</name><script>wsys.affcured("carm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The bones in your </string><string>^The bones in your \w+ arm mend\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cleg -</name><script>wsys.affcured("cleg")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The bones in your </string><string>^The bones in your \w+ leg mend\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Two Crippled Legs +</name><script>wsys.affadd("brokenleftleg")
wsys.affadd("brokenrightleg")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You scream as you feel the force of the landing break both your legs.</string><string>You cannot move as both your legs are crippled.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Brokenrightleg -</name><script>wsys.affcured("brokenrightleg")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The bones in your right leg mend.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Misc Crippled Arm +</name><script>wsys.affadd("carm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Both of your arms must be free and unhindered to do that.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cleg Attempt +</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Both of your legs must be free and unhindered to do that.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tekura try crippled</name><script>if not wsys.bals.la or not wsys.bals.ra then wsys.affadd("carm") end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your only working arm is off-balance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Misc Crippled +</name><script>wsys.affadd("broken" .. matches[2] .. matches[3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ kneels down over you, takes a deep breath and calmly wrenches your (\w+) (\w+)\.$</string><string>^Your (\w+) (\w+) is too severely damaged to permit that\.$</string><string>^Your (\w+) (\w+) snaps in two\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crippled Arm +</name><script>wsys.affadd("broken" .. multimatches[2][2] .. "arm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You watch, in horror, as your </string><string>^You watch, in horror, as your (\w+) arm shrivels up and becomes useless\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Carm Attempt +</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You cannot do that because both of your arms must be whole and unbound.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Brokenrightarm -</name><script>wsys.affcured("brokenrightarm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The bones in your right arm mend.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Brokenleftarm -</name><script>wsys.affcured("brokenleftarm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The bones in your left arm mend.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shivering</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Frozen +</name><script>wsys.affadd("frozen")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You begin moving your frozen body slowly</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shivering +</name><script>wsys.affadd("shivering")
wsys.undef("insulation")


--shivering.
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You feel the strength ebb from your body as the cold takes its toll.</string><string>Though still shivering, you are no longer frozen solid.</string><string>The bubonis entity sinks its teeth into you, and you begin shivering.</string><string>Your caloric salve dissolves as it ameliorates the extreme cold.</string><string>You have a particularly intense shiver.</string><string>^\w+ points (?:his|her) fists at you and blasts you with frigidly cold air\.$</string><string>Savage and brutal, a storm of ice-infused droplets rain down upon you, assailing your body with its ferocious onslaught.</string><string>^A snaking stream of ice from [A-Z][a-z]+'s maw forks into the room, blasting into you mercilessly\.$</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mangled</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mangledhead -</name><script>wsys.affcured("mangledhead")
wsys.affadd("damagedhead")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your head is greatly healed, but still damaged.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Concussion +</name><script>wsys.restobreakcheck("mangledhead")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The massive trauma to your head has damaged your skull and brain considerably.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mangledleftarm -</name><script>wsys.affcured("mangledleftarm")
wsys.affadd("damagedleftarm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your left arm is greatly healed, but still damaged.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serioustrauma -</name><script>wsys.affcured("serioustrauma")
wsys.affadd("mildtrauma")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your torso is greatly healed, but still damaged.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mangledrightleg -</name><script>wsys.affcured("mangledrightleg")
wsys.affadd("damagedrightleg")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your right leg is greatly healed, but still damaged.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mangledrightarm -</name><script>wsys.affcured("mangledrightarm")
wsys.affadd("damagedrightarm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your right arm is greatly healed, but still damaged.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mangled limb +</name><script>wsys.restobreakcheck("mangled" .. multimatches[2][2] .. multimatches[2][3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>To your horror, your </string><string>^To your horror, your (\w+) (\w+) has been mutilated beyond repair by ordinary means\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mangledleftleg -</name><script>wsys.affcured("mangledleftleg")
wsys.affadd("damagedleftleg")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your left leg is greatly healed, but still damaged.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Damaged</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Damagedleftarm -</name><script>wsys.affcured("damagedleftarm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your left arm feels stronger and healthier.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Damagedleftleg -</name><script>wsys.affcured("damagedleftleg")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your left leg feels stronger and healthier.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Damagedrightleg -</name><script>wsys.affcured("damagedrightleg")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your right leg feels stronger and healthier.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Damaged Head +</name><script>wsys.restobreakcheck("damagedhead")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your mind feels suddenly dulled and slow.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Damagedhead -</name><script>wsys.affcured("damagedhead")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your head feels stronger and healthier.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Damaged Limb +</name><script>wsys.restobreakcheck("damaged" .. matches[2] .. matches[3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Your (\w+) (\w+) is greatly damaged from the beating\.$</string><string>(\w+) (\w+) breaks from all the damage</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Damagedrightarm -</name><script>wsys.affcured("damagedrightarm")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your right arm feels stronger and healthier.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mildtrauma -</name><script>wsys.affcured("mildtrauma")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your torso feels stronger and healthier.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning +</name><script>wsys.affadd("burning")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Flames erupt all over your body and begin to consume your flesh.</string><string>Flames lick around you - you are on fire!</string><string>You are scorched by the firewall as you pass through.</string><string>You scream in agony as the horrific flames crackle over your melting flesh.</string><string>The flame-wreathed blade further scorches your flesh.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning Down</name><script>wsys.burningDown()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The fires consuming you diminish somewhat.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning -</name><script>wsys.affcured("burning")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaaaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The raging fire about your skin goes out.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Duress (Air Lord)</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Updraft</name><script>cecho("\n&lt;red&gt;Sent skyward! Land!")
wsys.dofreefirst("land")
-- TODO: Swap tension prio above pressure until cured
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are carried into the sky, the ground dwindling beneath you as you rocket ever upwards.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Elementalism</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Broken limb</name><script>wsys.affadd("broken"..multimatches[2][2]..multimatches[2][3], "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The element of earth shakes you to the core, breaking your </string><string>^The element of earth shakes you to the core, breaking your (left|right) (arm|leg)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Transfix</name><script>wsys.affadd("transfixation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With blinding speed, </string><string>^With blinding speed\, [A-Z][a-z]+ transfixes you with a swirling pattern of fire and air\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chilled</name><script>wsys.affadd("frozen", "magi")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Waves of elemental water surge over your body, chilling you to the bone.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prone</name><script>wsys.affadd("prone", "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ calls upon Whiirh and strikes you with (?:her|his) staff, throwing you down with a gust of wind\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deepfreeze</name><script>wsys.affadd("shivering", "magi")
wsys.undef("insulation")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ gestures grandly, and causes a deepfreeze to settle over (?:his|her) enemies.$</string><string>Your insulating unguent dissolves as it ameliorates the extreme cold.</string><string>You begin to shiver violently.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Freeze</name><script>wsys.affadd("frozen", "magi")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your body slows as it freezes in the extreme cold.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Caloric strip</name><script>wsys.undef("insulation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Waves of elemental water surge over your body, stripping your Caloric defence.</string><string>Waves of elemental water surge over your body, stripping your caloric defence.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Proned</name><script>wsys.affadd("prone", "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A gust of wind strikes you, throwing you to the ground.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Efreeti</name><script>wsys.affadd("burning")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A fiery efreeti spins into you, causing you to burst into flame.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def strip (lightning bolt)</name><script>wsys.defstrip(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ shapes a jagged bolt of lightning and hurls it into you\.$</string><string>^You feel your (.+) defence stripped by the powerful lightning bolt\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def strip (erode)</name><script>wsys.defstrip(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ casts a spell of erosion at you\.$</string><string>^Your (.+) defence erodes away\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning</name><script>wsys.affadd("burning", "magi")
wsys.undef("temperance")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Primal tongues of fire flicker across your skin, setting you ablaze.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Freeze blast</name><script>wsys.affadd("frozen", "magi")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ raises a hand towards you and blasts you with cold, frigid air\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Woodlore</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>dismounted and prone</name><script>wsys.affadd("prone", "sentinel")
wsys.undef("mounted")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ deftly hooks an? .+ behind your foot and sends you tumbling off an? .+ before driving the point of the weapon into your (?:left|right) leg\.$</string><string>^[A-Z][a-z]+ swiftly sweeps your feet out from beneath you with an? .+ before driving the point of the weapon into your (?:right|left) leg\.$</string><string>^[A-Z][a-z]+ pounces on you from an unseen hiding place\, knocking you to the ground and tearing at you with teeth and claws\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Butterfly Descends</name><script>wsys.butterflyDescended()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A huge gossamer butterfly descends from the treetops.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>handaxe pull</name><script>wsys.newClassTimer("sentinel")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A large handaxe comes flying into the room, arcs toward you, and carries you away with it!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tangled trap</name><script>wsys.affadd("entangled", "sentinel")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You spring a trap!! A loop of rope entwines around you, pulling you off your feet and looping around your neck.</string><string>You gasp and choke as you your entanglement impedes your breathing.</string><string>You spring a trap!! A loop of rope entwines around you, pulling you off your feet.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>butterfly</name><script>wsys.newClassTimer("sentinel")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A gossamer butterfly goes into a frenzy of motion in front of your face,</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>noose trap</name><script>wsys.newClassTimer("sentinel")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You kick and struggle as the life is slowly squeezed out of you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lemming def strip</name><script>wsys.defstrip(multimatches[2][2])
wsys.newClassTimer("sentinel")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A small brown lemming scurries around you furiously, stripping your </string><string>^A small brown lemming scurries around you furiously, stripping your (.+) defence\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>thornspray</name><script>wsys.bleedingfor(wsys.bleeding + 250, "health")
wsys.newClassTimer("sentinel")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) chants and the room is engulfed in flying thorns, striking you from all directions\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypnosis</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hallucinations</name><script>wsys.affadd("hallucinations", "serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your vision blurs for a moment.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impatience</name><script>wsys.affadd("impatience")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You shuffle your feet noisily, suddenly bored.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness</name><script>wsys.affadd("clumsiness", "serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A strange feeling overtakes you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deadening</name><script>wsys.affadd("deadening", "serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A strange fog descends upon your mind.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lethargy</name><script>wsys.affadd("lethargy", "serpent")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your energy robbed from you as lethargy overtakes you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paranoia</name><script>wsys.affadd("paranoia", "serpent")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Hatred burns in your eyes - you realise that your enemies are everywhere!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypersomnia</name><script>wsys.affadd("hypersomnia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>An urge to visit the Goddess of Dreams overcomes you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Recklessness</name><script>wsys.recklessnesscheck()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You grit your teeth, resolving to battle on through the mightiest blows.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anorexia</name><script>wsys.affadd("anorexia", "serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The thought of food revolts you all of a sudden.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypochondria +</name><script>wsys.affadd("hypochondria", "serpent")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A terrible sense of unease comes over you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Loneliness</name><script>wsys.affadd("loneliness", "serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You glance nervously around the room.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Confusion</name><script>wsys.affadd("confusion", "serpent")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind feels suddenly confused and jumbled.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weaponmastery</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>2h</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Continuation</name><script>-- para cure. Can't use fitness for a while.
--only use to cure if tree balance or wsys.aff.slickness and not wsys.aff.anorexia
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devastate 3</name><script>if matches[2] == "arms" then
  wsys.restobreakcheck("mangledrightarm")
  wsys.restobreakcheck("mangledleftarm")
elseif matches[2] == "legs" then
  wsys.restobreakcheck("mangledrightleg")
  wsys.restobreakcheck("mangledleftleg")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ unleashes a bone crushing blow with .+ at your (legs|arms), pulverising meat and bone in a single strike\.$</string><string>^With calculated precision, [A-Z][a-z]+ unleashes a mighty blow at your (arms|legs), shattering bone and pulping flesh\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Carve</name><script>wsys.undef("rebounding")
wsys.undef("shield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ brings .+ down in a single diagonal stroke, carving cleanly through your (?:aura of rebounding|magical shield)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devastate 2</name><script>--gmcp aff added will trigger before this does. Rely on that for determining the level break
if matches[2] == "arms" then
  if wsys.aff.mangledrightarm then
    wsys.restobreakcheck("mangledrightarm")
  else
    wsys.restobreakcheck("damagedrightarm")
  end
  if wsys.aff.mangledleftarm then
    wsys.restobreakcheck("mangledleftarm")
  else
    wsys.restobreakcheck("damagedleftarm")
  end
elseif matches[2] == "legs" then
  if wsys.aff.mangledrightleg then
    wsys.restobreakcheck("mangledrightleg")
  else
    wsys.restobreakcheck("damagedrightleg")
  end
  if wsys.aff.mangledleftleg then
    wsys.restobreakcheck("mangledleftleg")
  else
    wsys.restobreakcheck("damagedleftleg")
  end
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ aims a devastating blow with .+ at your already injured (legs|arms)\.$</string><string>^[A-Z][a-z]+ whips .+ in a savage arc, cleaving at your (arms|legs)\.$</string><string>^[A-Z][a-z]+ brings .+ whirling about to cleave deeply into your already damaged (arms|legs)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Upset (prone)</name><script>wsys.affadd("prone", "twohander")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ drops into a low crouch, sweeping .+ beneath your guard and tangling it with your legs\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Recover (footing)</name><script>wsys.affcured("prone")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Bracing your feet beneath you, you boost yourself back to a standing position.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devastate 1</name><script>if matches[2] == "arms" then
  wsys.affadd("brokenrightarm")
  wsys.affadd("brokenleftarm")
elseif matches[2] == "legs" then
  wsys.affadd("brokenrightleg")
  wsys.affadd("brokenleftleg")
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ draws back .+, then unleashes a precise blow that smashes into your (legs|arms) with bone cracking force\.$</string><string>^[A-Z][a-z]+ launches a devastating slash at your already injured (arms|legs), (?:his|her) blade cleaving to the bone\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Splinter</name><script>wsys.undef("rebounding")
wsys.undef("shield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ whirls .+ over (?:his|her) head, before bringing it down upon your (?:aura of rebounding|magical shield), shattering it instantly\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>snb</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smash Mid</name><script>wsys.affadd("paralysis", "swordandboard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your muscles lock in painful contractions in reaction to the blow.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shieldstrike Low (prone)</name><script>wsys.affadd("prone", "swordandboard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ lunges downward, slamming the edge of .+ into your shins\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trip (prone)</name><script>wsys.affadd("prone", "swordandboard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ ducks low and smashes (?:his|her) shield into your knees, causing them to buckle underneath you\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smash High (mental)</name><script>--throws you off focus bal if you had it
if wsys.bals.focus then
 wsys.lostBal("focus", 2.6)
end
if not wsys.aff.dizziness then
  wsys.affadd("dizziness", "swordandboard")
elseif not wsys.aff.recklessness then
  wsys.affadd("recklessness", "swordandboard")
elseif not wsys.aff.stupidity then
  wsys.affadd("stupidity", "swordandboard")
elseif not wsys.aff.confusion then
  wsys.affadd("confusion", "swordandboard")
elseif not wsys.aff.epilepsy then
  wsys.affadd("epilepsy", "swordandboard")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ swings (?:his|her) shield around, smashing your temple with a backhanded blow\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shieldstrike Mid (sensi)</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ draws .+ back, then lunges forward with a savage strike to your ribs\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Club (stun)</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ brings (?:his|her) shield crashing down onto your sternum, stunning you\!$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Drive (asthma)</name><script>wsys.affadd("asthma", "swordandboard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ drives the edge of (?:his|her) shield into your throat, cutting off your air supply\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smash Low (clumsy)</name><script>wsys.affadd("clumsiness", "swordandboard")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You stumble clumsily off balance as the shield slams into your legs.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>dual blunt</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Expend Legs</name><script>wsys.affadd("prone", "dualblunt")
            wsys.affadd("lethargy", "dualblunt")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The power of the blow sweeps your feet out from under you, and you tumble to the ground.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Expend Head</name><script>--stun ~0.5s
            wsys.affadd("confusion", "dualblunt")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^(?:A|An) .+ crunches into the side of your head, stunning you\!$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Expend Torso</name><script>-- paralysis has its own aff line on expend torso, so don't worry about it
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You feel the beginnings of the aura of rebounding surrounding you shatter under the blow.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Assault Head</name><script>--stuttering affliction
wsys.affadd("stuttering")
--if 0 headbreak go to level 1
  --break line looks the same as normal
--if level 1 head break go to level 2

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>10</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ falls upon you with both of (?:his|her) weapons whirling, viciously assaulting your head\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Numbedleftarm +</name><script>--parry bypass
            wsys.affadd("clumsiness", "dualblunt")
            wsys.affadd("numbedleftarm", "dualblunt", 10)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your left arm goes abruptly numb as </string><string>^Your left arm goes abruptly numb as .+ crunches home\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Numbedrightarm +</name><script>--tattoo block, no clue how long yet. Like icefist.
            wsys.affadd("clumsiness", "dualblunt")
            wsys.affadd("numbedrightarm", "dualblunt", 10)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your right arm goes abruptly numb as </string><string>^Your right arm goes abruptly numb as .+ crunches home\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fracture Rebounding</name><script>wsys.undef("rebounding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ delivers a single, powerful blow to the aura of rebounding surrounding you, shattering it\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Assault Torso</name><script>if wsys.aff.prone then
  --torso = +1 complete torso level
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ falls upon you with both of (?:his|her) weapons whirling, viciously assaulting your torso\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fracture Shield</name><script>--raze shield
wsys.undef("shield")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ delivers a single, powerful blow to the magical shield surrounding you, shattering it\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Whirl</name><script>wsys.my_limb_hit(matches[2], "whirl")
            wsys.newClassTimer("dualblunt")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ skilfully whirls .+ toward your (.+)\.$</string><string>^[A-Z][a-z]+ whips .+ toward your (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shindo</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning</name><script>wsys.affadd("burning", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Flames erupt over all over your body and begin to consume your flesh.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Annihilation</name><script>wsys.affadd("prone", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are thrown from the room by the sheer force of the fiery blast.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>wsys.affadd("paralysis", "blademaster")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your body stiffens rapidly with paralysis.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Physiology</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Humour drains</name><script>wsys.humourDown(matches[2])
wsys.humourLevelLost()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your (\w+) humour drains some\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>innundated phlegmatic</name><script>wsys.humourReset("phlegmatic")
wsys.affadd("anorexia", "alchemist")
wsys.affadd("slickness", "alchemist")
wsys.affadd("weariness", "alchemist")
wsys.affadd("lethargy", "alchemist")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffffff</mFgColor><mBgColor>#333333</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your surroundings swim as you feel slowed in mind and body.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wrack (hidden)</name><script>--sanguine: either Haemophilia, recklessness, paralysis
if multimatches[2][2] == "sanguine" then
	send("clot")
	wsys.recklessnesscheck()

--Melancholic: Anorexia, impatience, stupidity
elseif multimatches[2][2] == "melancholic" then
	--impatiencecheck()

--Phlegmatic: Asthma, clumsiness, disloyalty
elseif multimatches[2][2] == "phlegmatic" then
	--no pipe bal, so lets just smoke that
	--wsys.affadd("disloyalty")

--Choleric: Nausea, sensitivity, slickness
elseif multimatches[2][2] == "choleric" then
	--no pipe bal, so just smoke
	--wsys.affadd("slickness")
end

wsys.newClassTimer("alchemist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ glowers at you with a look of repressed disgust before making a slight gesture toward you.$</string><string>^A short convulsion sweeps through your body as \w+ wracks your (sanguine|melancholic|phlegmatic|choleric) humour\.$</string><string>return isPrompt()</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>innundated choleric</name><script>wsys.humourReset("choleric")
wsys.newClassTimer("alchemist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Sudden pain radiates throughout your body.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mercury +</name><script>--wsys.aff.homunculusmercury = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your flesh begins to swell as a diminutive homunculus resembling </string><string>^A diminutive homunculus resembling [A-Z][a-z]+ claws into your flesh with dirty nails. The surrounding flesh begins to swell with fluid\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Temper</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ glowers at you with a look of repressed disgust before making a slight gesture toward you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bleed</name><script>--wsys.osend("show bleeding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A low growl echoes from a diminutive homunculus resembling </string><string>^A low growl echoes from a diminutive homunculus resembling [A-Z][a-z]+'s throat, and blood begins flowing from your nose\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Truewrack</name><script>--sanguine: either Haemophilia, recklessness, paralysis
if multimatches[2][2] == "sanguine" or multimatches[2][3] == "sanguine" then
	send("clot")

--Melancholic: Anorexia, impatience, stupidity
elseif multimatches[2][2] == "melancholic" or multimatches[2][3] == "melancholic" then
	--impatiencecheck()

--Phlegmatic: Asthma, clumsiness, disloyalty
elseif multimatches[2][2] == "phlegmatic" or multimatches[2][3] == "phlegmatic" then
	--no pipe bal, so lets just smoke that
	--wsys.affadd("disloyalty")

--Choleric: Nausea, sensitivity, slickness
elseif multimatches[2][2] == "choleric" or multimatches[2][3] == "choleric" then
	--no pipe bal, so just smoke
	--wsys.affadd("slickness")
end

wsys.newClassTimer("alchemist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ glowers at you with a look of repressed disgust before making a slight gesture toward you\.$</string><string>^A short convulsion sweeps through your body as \w+ wracks your (sanguine|melancholic|phlegmatic|choleric) and (sanguine|melancholic|phlegmatic|choleric) humours\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>innundated melancholic</name><script>wsys.humourReset("melancholic")
wsys.newClassTimer("alchemist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your mind wander as a sense of mental weakness settles in.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mercury -</name><script>-- yes this trigger belongs here and not with other cures, don't fucking touch it.
--wsys.aff.homunculusmercury = nil
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Eating is suddenly less difficult again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Throat | Shriek</name><script>wsys.lostBal("focus", 2.6)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A diminutive homunculus resembling </string><string>^A diminutive homunculus resembling ([A-Z][a-z]+) turns its head towards you, its jaws opening wider than what seems possible\. The homunculus stares intently at you and lets out an ear-piercing shriek that disrupts your thoughts\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Corruption +</name><script>wsys.affadd("corruption", "alchemist", 45)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A diminutive homunculus resembling</string><string>^A diminutive homunculus resembling \w+ stares intendedly at you, its eyes flashing a deep blue. A strange feeling spreads through your body as your \w+ and \w+ humours become corrupted\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Innundated sanguine</name><script>--wsys.osend("show bleeding")
wsys.humourReset("sanguine")
wsys.newClassTimer("alchemist")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Horrifyingly, blood begins to seep from your eyes, ears, and nose.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Telepathy</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Impatience</name><script>wsys.affadd("impatience")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You shuffle your feet noisily, suddenly bored.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mind stupidity</name><script>wsys.affadd("stupidity")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ casts a net of stupidity over your mind\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deadening</name><script>wsys.affadd("deadening", "monk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a deadening pall overcome your mind, put there by </string><string>^You feel a deadening pall overcome your mind, put there by ([A-Z][a-z]+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disrupt</name><script>wsys.affadd("disrupted", "monk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel </string><string>^You feel [A-Z][a-z]+'s mind attacking yours from all sides, and you lose your mental equilibrium\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fear</name><script>wsys.affadd("fear", "monk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A wave of utter panic washes over you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def strip (telepathy)</name><script>wsys.defstrip(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You suddenly feel that it would be a fine idea to relax your </string><string>^You suddenly feel that it would be a fine idea to relax your (.+) defence\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deadening +</name><script>wsys.affadd("deadening", "monk")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffaa7f</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a deadening pall overcome your mind.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Batter</name><script>wsys.affadd("stupidity", "monk")
wsys.affadd("dizziness")
wsys.affadd("epilepsy")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You reel as your mind is viciously battered by a mental assault from </string><string>^You reel as your mind is viciously battered by a mental assault from [A-Z][a-z]+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>wsys.affadd("paralysis")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your limbs stiffen and lock up in response to an unseen power.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Apostasy</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hallucinations</name><script>wsys.affadd("hallucinations", "apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>An unseen being takes you to one side and whispers conspiratorially to you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Daegger strip rebounding</name><script>if wsys.timer.reboundingdelay then
 killTimer(tostring(wsys.timer.reboundingdelay))
end
wsys.timer.reboundingdelay = nil
wsys.undef("rebounding")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The daegger cuts through your skullcap-formed aura.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Balzaadeen def strip</name><script>wsys.defstrip(matches[2])
wsys.newClassTimer("apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your (.+) defence has been stripped by [A-Z][a-z]+'s Baalzadeen\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Daeggerimpale +</name><script>wsys.affadd("daeggerimpale", "apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The daegger has looped around and dives toward your shadow, impaling it and you!</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Balzadeen sap</name><script>wsys.boxDisplay("Sap Sap MIND DRAIN!", "red:white")
onSap()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+)'s Baalzadeen casts a piercing glance at you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fear</name><script>wsys.affadd("fear", "apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The Baalzadeen's terrible gaze turns to you, and utter terror floods your soul.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Demonstain +</name><script>wsys.affadd("demonstain", "apostate", 120)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a snarl, </string><string>^With a snarl, ([A-Z][a-z]+)'s Baalzadeen opens its mouth and spews a foul black liquid all over you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bloodworms disrupted</name><script>wsys.affadd("disrupted", "apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The unearthly screeching of the bloodworms disrupt your concentration.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity</name><script>wsys.affadd("stupidity", "apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind feels somewhat slower and more plodding.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Haemophilia</name><script>wsys.affadd("haemophilia", "apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The fiend's razor-sharp claws plunge into your flesh, sending fire through your veins.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning</name><script>wsys.affadd("burning", "apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your flesh is set alight by the Baalzadeen.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hellsight</name><script>wsys.affadd("hellsight", "apostate")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind is filled with horrifying visions of Hell.</string><string>An unspeakable, horrific image rises from the bowels of hell to plague you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crystalism</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Levitating down</name><script>wsys.undef("levitating")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You scream in pain as the forest of sharpened crystals pierces your body.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disrupt</name><script>wsys.affadd("disrupted", "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your equilibrium is disrupted by a high-pitched keening.</string><string>Your equilibrium is further disrupted by a high-pitched keening.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Both arms crippled</name><script>wsys.affadd("brokenleftarm")
wsys.affadd("brokenrightarm", "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A sudden pain shoots through both your arms and you feel their bones crumble.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon Sluggish Symptom</name><script>wsys.aeoncolour()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You move sluggishly into action.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dissonance</name><script>wsys.affadd("dissonance", "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your body begin to vibrate in tune with the disruptive harmonies.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dissonance def strip</name><script>wsys.affadd("dissonance", "magi")
wsys.defstrip(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your body is wracked with pain by the dissonant vibrations.</string><string>^Your (.+) defence has been stripped as your body vibrates in sync with a dissonant vibration\.$</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tremors</name><script>wsys.affadd("prone", "magi")
wsys.undef("levitating")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The ground heaves, knocking you off your feet.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Both legs crippled</name><script>wsys.affadd("brokenleftleg")
wsys.affadd("brokenrightleg")
wsys.affadd("prone", "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your legs suddenly snap from under you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shyness</name><script>wsys.affadd("shyness", "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Suddenly, irrational fear fills your mind.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curses</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Health Leech</name><script>wsys.affadd("healthleech", "shaman")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your health begins to drain away.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hidden curse</name><script>wsys.newClassTimer("shaman")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) points an imperious finger at you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tzantza</name><script>cecho("\n&lt;red&gt;".. string.format("%s started Tzantza!", matches[2]))


wsys.setPrefixWarning(matches[2].." started Tzantza", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+)'s eyes flutter and close as s?he begins to rock back and forth, chanting ominously under (?:his|her) breath\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Healing</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disrupt</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ motions negligently with one hand in your direction\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spirit focus</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The elemental energy about you fluctuates.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Airdisrupt symptom</name><script>wsys.affadd("airdisrupt", "priest")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You take a long drag </string><string>You suffer from the elemental energy plaguing you.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bedevil</name><script>wsys.boxDisplay("DIAGNOSE DIAGNOSE", "red")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a grand gesture of righteous fury, </string><string>^With a grand gesture of righteous fury, ([A-Z][a-z]+) bedevils you with (?:his|her) afflictions\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Undeaf|Unblind healing</name><script>--wsys.useDeaf()
--if not wsys.isRaid() then wsys.useBlind() end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ invokes the powers of Air and lays (?:his|her) hands on you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Elementalism (sylvan)</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Eclipse</name><script>cecho("\n&lt;orange&gt;DIAGNOSE!!!")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A flare of sunlight streaks forward to overwhelm your senses.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heartseed + 2</name><script>wsys.affadd("heartseed", "sylvan")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The sickening sensation of something writhing and growing within your chest overwhelms you, radiating throughout your body from your palpitating heart.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heartseed +</name><script>wsys.affadd("heartseed", "sylvan")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffffff</mFgColor><mBgColor>#00aa00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Lunging forward with one palm outstretched, </string><string>^Lunging forward with one palm outstretched, [A-Z][a-z]+ aims a blow at your heart\. A warm pulse accompanies (?:his|her) attack, leaving a dull ache in your chest\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Viridian thornrend</name><script>wsys.my_limb_hit(multimatches[2][2], "thornrend")
wsys.newClassTimer("sylvan")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The thorny vines of the Viridian </string><string>^The thorny vines of the Viridian [A-Z][a-z]+ lash out and rip into your (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lacerate</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a swipe of </string><string>^With a swipe of (?:his|her) arm, [A-Z][a-z]+ sends two barbed vines slicing through the air toward your throat\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragoncraft</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>dragoncurse hit</name><script>-- dragoncurseAff(matches[2])
if multimatches[2][2] ~= "sensitivity" or not wsys.def.deafness then
  wsys.affadd(multimatches[2][2], "dragon")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A sudden sense of panic overtakes you as the draconic curse manifests, afflicting you with </string><string>^A sudden sense of panic overtakes you as the draconic curse manifests, afflicting you with (impatience|paralysis|sensitivity|asthma)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragon Trample</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>999</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) rises back on (?:his|her) hind legs, more than doubling in height as s?he towers above you\. The ground shakes violently as s?he slams (?:his|her) feet back down, recklessly crushing everyone in (?:his|her) path\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disrupt dragonroar</name><script>wsys.affadd("disrupted", "dragon")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+'s nostrils flare wildly with a great rush of air as (?:his|her) sinuous body contracts and (?:his|her) mouth opens wide to emit a rippling, unbroken roar that reverberates through your body\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bite</name><script>wsys.bleedingfor(150, "health")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) snaps (?:his|her) massive jaws close around you, flinging you effortlessly into the air before catching you with a second powerful bite\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def strip dragon</name><script>wsys.defstrip(matches[3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+)'s eyes narrow as (?:his|her) massive jaws yawn open and s?he expels a sluggish cloud of \w+\. The nebulous haze clings to you for a moment, and you feel your (.+) defence vanish\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tailsweep</name><script>wsys.affadd("prone", "dragon")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are knocked forcefully off your feet by the impact of</string><string>^You are knocked forcefully off your feet by the impact of ([A-Z][a-z]+)'s huge tail\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>loki dcurse</name><script>wsys.recklessnesscheck()
raiseEvent("loki checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A heavy burden descends upon your soul as</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Breathgust</name><script>wsys.affadd("prone", "dragon")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Drawing an enormous breath, </string><string>^Drawing an enormous breath, ([A-Z][a-z]+) exhales, expelling a gale of wind with such force that you are knocked over\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Enmesh</name><script>wsys.affadd("entangled", "dragon")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>As the keening ceases, you are jolted by a burst of vaporous rope-like tendrils that flow from your chest and encircle your body.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Double def strip dragon</name><script>wsys.defstrip(matches[3])
wsys.defstrip(matches[4])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#800080</mFgColor><mBgColor>#ffffff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+)'s eyes narrow as (?:his|her) massive jaws yawn open and s?he expels a sluggish cloud of \w+\. The nebulous haze clings to you for a moment, and you feel your (.+) and (.+) defences vanish\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>dragoncurse start</name><script>wsys.incomingDragoncurse()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>An ominous feeling descends upon you as </string><string>^An ominous feeling descends upon you as [A-Z][a-z]+ turns (?:his|her) gaze upon you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Breath attacks</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blue blast</name><script>wsys.affadd("frozen", "dragon")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Opening </string><string>^Opening (?:his|her) massive maw, ([A-Z][a-z]+) throws (?:his|her) head forward and blasts wave after wave of deadly, all-consuming cold at you\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lightning breathrain</name><script>wsys.affadd("epilepsy", "dragon")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>High above, </string><string>^High above, ([A-Z][a-z]+) opens (?:his|her) glistening, tooth-lined maw wide and rains a great tempest of lightning down upon you, from which there is no escape or reprieve\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lightning breathstream</name><script>wsys.affadd("epilepsy", "dragon")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A snaking stream of lightning from </string><string>^A snaking stream of lightning from ([A-Z][a-z]+)'s maw forks into the room, blasting into you mercilessly\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blue breathstorm</name><script>wsys.affadd("frozen", "dragon")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Savage and brutal, a storm of ice-infused droplets rain down upon you, assailing your body with its ferocious onslaught.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blue breathrain</name><script>wsys.affadd("frozen", "dragon")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>High above, </string><string>^High above, ([A-Z][a-z]+) opens (?:his|her) glistening, tooth-lined maw wide and rains a great tempest of ice down upon you, from which there is no escape or reprieve\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blue breathstream</name><script>wsys.affadd("frozen", "dragon")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A snaking stream of ice from </string><string>^A snaking stream of ice from ([A-Z][a-z]+)'s maw forks into the room, blasting into you mercilessly\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alchemy</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Artificing</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning Stack 3</name><script>wsys.burningStacks( 3 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your vision begins to fade with the all-consuming agony of the fires that are consuming you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scorch</name><script>wsys.affadd("burning", "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A dim red glow emanates from the heart of a crystalline golem moments before flames spontaneously ignite all across your body.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dehydrated -</name><script>wsys.affcured("dehydrated")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your skin feels less dry.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Destabilise</name><script>golemowner = matches[2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) turns to a crystalline golem, a silent exchange taking place\.$</string><string>Turning to a crystalline golem you direct him to project a disruptive tone at a retardation vibration.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scalded +</name><script>wsys.affadd("scalded", "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Horrifying pain overcomes you as a crystalline golem sprays a stream of super-heated steam directly into your face, scalding your throat and searing your skin.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypothermia +</name><script>wsys.affadd("hypothermia", "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>As a crystalline golem blasts your already frozen form with icy water, you feel the scant remnants of stored body heat stolen away.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning Stack 5</name><script>wsys.burningStacks( 5 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your skin runs like wax as it melts from your bones.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning Stack 2</name><script>wsys.burningStacks( 2 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The fires consuming your flesh begin to crackle with greater intensity.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pummel</name><script>--svo.valid.pummel()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With brutal efficiency, a crystalline golem rains savage blows down upon your frozen body.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypothermia -</name><script>wsys.affcured("hypothermia")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Though still frozen, you feel some slight remnants of heat returning to you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smash</name><script>wsys.affadd("broken" .. multimatches[2][2] .. multimatches[2][3], "magi")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With efficient, precise motions a crystalline golem latches onto your </string><string>^With efficient, precise motions a crystalline golem latches onto your (left|right) (arm|leg), before giving a vicious twist\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Timeflux -</name><script>wsys.affcured("timeflux")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel less sluggish all of a sudden.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scalded -</name><script>wsys.affcured("scalded")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The terrible burning of your throat fades.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Burning Stack 4</name><script>wsys.burningStacks( 4 )
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your skin begins to char from the bones as the fires feast upon you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dehydrated +</name><script>wsys.affadd("dehydrated")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your skin crack and dry as a crystalline golem points a single appendage at you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Timeflux +</name><script>wsys.affadd("timeflux")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>As a crystalline golem begins to pulse with a strange inner glow, you feel suddenly sluggish and unsteady.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Striking</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hamstrung +</name><script>wsys.affadd("hamstrung", "blademaster", 9)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Ducking behind you, </string><string>The crippling blow renders your leg insensate.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Strike feet</name><script>wsys.dismountd()
wsys.undef("mounted")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) darts to your mount's flank in a rapid dash\. Grabbing your ankle and executing a graceful twist, s?he sends you tumbling from the saddle\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Knees</name><script>wsys.affadd("prone", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You tumble to the ground as your leg abruptly gives out.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Disloyalty</name><script>wsys.affadd("disloyalty", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Blood spurts and cartilage crunches as your face is rendered unrecognisable.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clumsiness</name><script>wsys.affadd("clumsiness", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The ringing blow drives all sense of coordination from you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Icefisted +</name><script>wsys.affadd("icefisted", "blademaster", 15)
wsys.boxDisplay("Icefist (no tats)", "deep_sky_blue")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Icy vapour escapes from </string><string>A thin rime of ice encases your body, numbing your extremities.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weakness</name><script>wsys.affadd("weariness", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A feeling of great weariness overcomes you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Ice strip</name><script>wsys.undef("insulation")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The ice-covered blade strips away your protective covering.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hallucinations | Dementia</name><script>wsys.affadd("dementia", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You begin to doubt your vision as it swims and distorts.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Slickness</name><script>wsys.affadd("slickness", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Profuse sweat slicks your skin in response to the underarm strike.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Recklessness</name><script>wsys.recklessnesscheck()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Blocking out the agonising pain, you feel curiously detached from your body.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flamefisted +</name><script>wsys.affadd("flamefisted", "blademaster", 15)
wsys.boxDisplay("Flamefist (no rebounding)", "firebrick")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Sweltering heat hazes the air as </string><string>Crackling flames erupt and surge across your skin in a frenzy.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hypochondria</name><script>wsys.affadd("hypochondria", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With rapid precision, </string><string>^With rapid precision, [A-Z][a-z]+ aims first a punch then a spearhand blow at two points on your chest\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Anorexia</name><script>wsys.affadd("anorexia", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>All appetite leaves you as you resist the urge to be sick.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pacified</name><script>wsys.affadd("pacified", "blademaster")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>All thought of retaliation evaporates as pain blossoms from the withering blow.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Airfisted +</name><script>wsys.affadd("airfisted", "blademaster", 15)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Moving with unpredictable grace, </string><string>A sudden phantom wind seizes your mind, blurring the world into a shifting sea.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stupidity</name><script>wsys.affadd("stupidity", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your thoughts scatter as clarity of mind deserts you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asthma</name><script>wsys.affadd("asthma", "blademaster")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The blow to your larynx leaves you coughing and gasping for breath.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Paralysis</name><script>wsys.affadd("paralysis", "blademaster")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your muscles lock up as the swift blows meet pressure points.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Misc System Triggers</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Teaching</name><script>wsys.osend("ok")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>'OK' to commence the lesson.</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Absorbed</name><script>wsys.absorbed = true
enableTrigger("Prompt Checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your shield completely absorbs the damage.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Unstunned</name><script>wsys.unstunned()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You are no longer stunned.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Starburst</name><script>wsys.starbursted = true
enableTrigger("Prompt Checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your starburst tattoo flares as the world is momentarily tinted red.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Logged in</name><script>-- yes this is now disabled after login, so you can't get illusioned or whatever.
disableTrigger("Logged in")
wsys.loggedIn()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Password correct. Welcome to Achaea.</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>MXP Links</name><script>local link = matches[2]
if string.ends( link, [[.]] ) then
	link = string.cut( link, string.len( link ) - 1 )
end
selectString( link, 1 )
setUnderline(true)
setLink( [[openUrl( "]] .. link .. [[" )]], "Open URL: " .. link )
deselect()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>((?:[hH][tT][tT][pP][sS]?://|[wW]{3})[-\w\d\.]+\.\w{2,4}[-\.\?!\w\d/\\=%~&amp;:#_,]*)</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curing Status Check</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>500</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Curing Status:</string><string>------------------------------------------------------------------------------</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Newsroom prompt</name><script>wsys.innewsroom = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>return isPrompt()</string><string>News &gt; </string></regexCodeList><regexCodePropertyList>
							<integer>4</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lifevision</name><script>if wsys.def.lifevision or wsys.def.astralvision then
 wsys.lifevision = true
 enableTrigger("Prompt Checks")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#00ff80</mFgColor><mBgColor>#191919</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>** Illusion **</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Transmogged</name><script>wsys.mogged = true
enableTrigger("Prompt Checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Pain wracks your soul as you begin your new life. As the new body forms, you realise you</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serverside Insomnia On</name><script>wsys.settings.useinsomnia = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You will now use the insomnia ability.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Snapped</name><script>if wsys.timer.snap then
  killTimer(tostring(wsys.timer.snap))
end
wsys.timer.snap = tempTimer(8, [[wsys.timer.snap = nil]])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^[A-Z][a-z]+ snaps (?:his|her) fingers in front of you\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serverside Insomnia Off</name><script>if not wsys.settings.stopinsomnia then
  wsys.settings.useinsomnia = false
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You will now not use the insomnia ability.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prompt trigger prompt</name><script>wsys.doPromptTrigTable()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>return isPrompt()</string></regexCodeList><regexCodePropertyList>
							<integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Illusion</name><script>wsys.lifevision = true
enableTrigger("Prompt Checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You fling the card </string><string>^You fling the card \w+ and watch as it creates:</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Soulcaged</name><script>wsys.mogged = true
enableTrigger("Prompt Checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>As you feel the last remnants of strength ebb from your tormented body, you close your eyes and let darkness embrace you.</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Left news room</name><script>wsys.innewsroom = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You leave the news room and reside in Achaea proper once more.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alertness</name><script>deleteLine()
wsys.AlertnessMatch(multimatches[2][2], multimatches[2][3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your enhanced</string><string>^Your enhanced senses inform you that (\w+) has entered (.+) nearby\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Conjured Illusion</name><script>wsys.lifevision = true
wsys.self_illusion = true
enableTrigger("Prompt Checks")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You conjure up your illusion:</string><string>You conjure up your illusion towards</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>2</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Limb damage</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>SnB Slice</name><script>wsys.my_limb_hit(multimatches[2][2], "slice")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The blade of </string><string>^The blade of [A-Z][a-z]+ is a blur as s?he moves forward, slicing into your (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BM Leg Slash</name><script>wsys.my_limb_hit(multimatches[2][2].." leg", "legslash")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a smooth lunge to the</string><string>^With a smooth lunge to the (left|right), ([A-Z][a-z]+) draws \w+ \w+ from its scabbard and delivers a powerful slash across your legs\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shatter</name><script>wsys.my_limb_hit(matches[2], "shatter")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ strikes your (\w+ \w+) a mighty blow\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>throwing axe out of room</name><script>wsys.my_limb_hit(multimatches[2][2], "throwingaxe")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(?:A|An) .+ comes speeding in from the \w+ towards your (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Smite</name><script>wsys.my_limb_hit(matches[2], "smite")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(?:[A-Z][a-z]+) utters a prayer and smites your (.+) with .+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Psion Limb Hits</name><script>-- All break limbs in 4
local limb = matches[2]

local map = {
	guts = "torso",
	throat = "head",
	skull = "head",
	eyes = "head",
	["left shoulder"] = "left arm",
	["right shoulder"] = "right arm",
}

limb = map[limb] or limb

wsys.my_limb_hit( limb, "psion")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Your ((left|right) arm) flops uselessly as \w+ severs the muscles in it with a precise blow of (?:his|her) a translucent sword\.$</string><string>^Stars explode in front of your eyes as \w+'s a translucent mace smashes into the side of your (head)\.$</string><string>^\w+ ducks low, (?:his|her) blade slicing into your ((right|left) leg)\.$</string><string>^With a brutal thrust of a translucent sword, \w+ sinks (?:his|her) weapon into your (guts), ripping it free in a spray of crimson\.$</string><string>^A sharp pain across your (throat) and a sudden lack of breath comes moments before you register the retreat of \w+, bloody dagger in hand\.$</string><string>^Pain explodes through your (skull) as \w+ brings a translucent mace around in a savage backhanded blow to your face\.$</string><string>^A terrible weariness overcomes you as \w+ darts out (?:his|her) blade and drives the tip into you just beneath your ((right|left) shoulder)\.$</string><string>^Horrific pain overcomes you as \w+ slashes a translucent dagger across your (eyes) in a lightning-fast motion, the world falling into darkness\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BM Arm Slash</name><script>wsys.my_limb_hit(multimatches[2][2].." arm", "armslash")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Spinning to the</string><string>^Spinning to the (left|right) as s?he draws \w+ \w+ from its sheath, ([A-Z][a-z]+) delivers a precise slash across your arms\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>magi staffstrike</name><script>wsys.my_limb_hit(matches[3], "staffstrike")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) calls upon \w+ and unleashes a forceful blow at your (.+) with (?:his|her) staff\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>throwing axe</name><script>wsys.my_limb_hit(matches[2], "throwingaxe")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ cocks back (?:his|her) arm and throws .+ at your (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>2h weapon hit</name><script>local limb = matches[3]
if limb == "overhand" then
	limb = "head"
end

wsys.my_limb_hit(limb, "2h")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) brings .+ down upon you with a brutal (overhand) blow\.$</string><string>^([A-Z][a-z]+) explodes upward from a low crouch, driving .+ toward your (torso)\.$</string><string>^([A-Z][a-z]+) unleashes a terrible blow at your ((right|left) (arm|leg)) with .+\.$</string><string>^([A-Z][a-z]+) comes around with a terrible swing of .+ toward your ((left|right) (arm|leg))\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>SnB Rend</name><script>wsys.my_limb_hit(matches[2], "snb rend")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^\w+ carves into your (.+) with a vicious strike, opening a bleeding wound\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shikudo Arm Hit</name><script>wsys.my_limb_hit(matches[2], "shikudo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ whips .+ in a controlled arc, bringing the length of the weapon to crash into your (.*).$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>drawslash again</name><script>wsys.my_limb_hit(multimatches[2][3], "drawslash")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>In a single motion,</string><string>^In a single motion, ([A-Z][a-z]+) draws \w+ \w+ from its scabbard and looses a vicious rising slash at your (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragon rend</name><script>wsys.my_limb_hit(matches[3], "rend")


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) lunges forward with long, flashing claws extended, tearing down to the bones of your (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BM Compass Slash</name><script>wsys.my_limb_hit(matches[3], "compassslash")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Whispering a prayer to the \w+ winds, ([A-Z][a-z']+) draws \w+ \w+ and unleashes a slash towards your (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shikudo Leg Hit</name><script>local limb = ""
if matches[2] == "left thigh" then
	limb = "left leg"
elseif matches[2] == "right thigh" then
	limb = "right leg"
else
	limb = matches[2]
end

wsys.my_limb_hit(limb, "shikudo")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^Dropping back into a low crouch, [A-Z][a-z]+ whips .+ at your (.*).$</string><string>^[\w'-]+ spins a full rotation, bringing .+ around in a blur to crash intoyour (\w+)\.$</string><string>^Whirling around, [\w'-]+ brings the ball of \w+ foot crashing into the side of your (head)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Monk hit</name><script>if not getLines(getLineNumber()-1, getLineNumber())[1]:find("%f[%a]you%f[%A]") then return end

--monk for now
wsys.my_limb_hit(matches[3], "monk")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) connects to the (.+)!$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Weapon hit</name><script>wsys.my_limb_hit(matches[2], "weapon")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ viciously jabs .+ into your (.+)\.$</string><string>^[A-Z][a-z]+ slashes into your (.+) with</string><string>^[A-Z][a-z]+ swings .+ at your (.+) with all (?:his|her) might\.$</string><string>^Lightning\-quick, [A-Z][a-z]+ (?:jabs|stabs) your (.+) with .+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BM Centerslash</name><script>wsys.my_limb_hit(multimatches[2][3], "centreslash")


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>In a single motion,</string><string>^In a single motion, ([A-Z][a-z]+) draws \w+ \w+ from its scabbard and looses a vicious (?:rising|falling) slash at your (torso|head)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>drawslash</name><script>wsys.my_limb_hit(multimatches[2][2], "drawslash")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The blade bites deeply into your</string><string>^The blade bites deeply into your (.+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retardation Detection</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serverside retardation detection</name><script>wsys.serversideRetardationDetection(string.lower(multimatches[1][2]))
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^\[\Curing\]\: (.*)$</string><string>You move sluggishly into action.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sluggish</name><script>if focusVibes or retardVibeHit then
  focusVibes = false
  retardVibeHit = false
  --yay it's a real retard mode, letsa go!
  wsys.retardationOn()
elseif not wsys.aff.aeon and not wsys.aff.blackout and not wsys.retard then
  wsys.retardationOn()
elseif checkingForRetardation and not wsys.retard then
  --retard flag set to true, time to get going
  wsys.retardationOn()
  checkingForRetardation = false
elseif checkingForRetardation and wsys.retard then
  --still in retardation I guess.
end

if wsys.retard then wsys.retardationDownCheck() end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You move sluggishly into action.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>smoke in retardation</name><script>if wsys.aff.aeon then
  wsys.retardationOn()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You take a long drag </string><string>return isPrompt()</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Spin into retardation sequence</name><script>vibeSpinner = matches[2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>999</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) vigorously spins (?:a pyramid carved of crystal|an opaque crystal disc), and it begins to hover in the air.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>dampen retardation</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^[A-Z][a-z]+ claps (?:her|his) hands and the retardation vibration is dampened\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vibe Spinner Dead</name><script>if matches[2] == vibeSpinner then
  --retardationCheck()
  --manual hard off for now
  wsys.retardationOff()
  vibeSpinner = nil
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) has been slain by [A-Z][a-z]+.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gold|Bodies|Shards|Axe</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shard Dropped</name><script>if not wsys.paused and not wsys.softpaused then
  if wsys.settings.gstuff then wsys.dofreeadd("g shard") end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A </string><string>^A (?:smooth|jagged|chipped) iconic shard appears and clatters to the ground.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gold Dropped</name><script>if not wsys.paused and not wsys.softpaused then
  if wsys.settings.gstuff then
    wsys.dofreeadd("get sovereigns/put sovereigns in " .. wsys.settings.container) 
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Golden sovereigns spill onto the ground from</string><string>drops some golden sovereigns onto the ground.</string><string>^[A-z ]+ sovereigns? spills? from the corpse\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>0</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Body Dropped</name><script>if not wsys.paused and not wsys.softpaused then
  for k,v in pairs(matches) do
   if wsys.settings.gstuff then wsys.dofreeadd("g body") end
  end -- if
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The twisted remains of \w+ lie here\.</string><string>A headless corpse, devoid of identity, lies here.</string><string>A headless corpse falls from</string><string>^The corpse of \w+ falls from \w+'s person\.$</string><string>^[A-Z][a-z]+ has been slain by [A-Z][a-z]+\.$</string><string>Unable to withstand the arrow piercing </string><string>^The corpse of \w+ falls out of your inventory\.$</string><string>This corpse has already been decapitated.</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>0</integer><integer>0</integer><integer>1</integer><integer>1</integer><integer>2</integer><integer>1</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Do and Dofree</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Do ran</name><script>--deleteLine()
selectCurrentLine(); replace("")
wsys.dosent("do")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[System]: Running queued eqbal command: DO1</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dor loop end</name><script>--wsys.dorclear()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[System]: Added DOR to your eqbal queue.</string><string>[System]: Running queued eqbal command: DOR</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dor ran</name><script>wsys.dosent("dor")
deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[System]: Running queued eqbal command: DOR</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dofree ran</name><script>wsys.dofreeclear()
deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[System]: Running queued </string><string>^\[System\]\: Running queued (?:balance|equilibrium) command\: DOFREE(\d+)$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gags and Replacements</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Do alias set</name><script>deleteFull()
wsys.doSub = multimatches[2][2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Alias "do1" will now execute:</string><string>^Alias \"do1\" will now execute: \"(.+)\"$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dor replace</name><script>selectString("DOR", 1)
bg("black") fg("SkyBlue")
replace(wsys.dorSub)
resetFormat()
deselect()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>[System]: Added DOR to your eqbal queue.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Do replace</name><script>selectString("DO1", 1)
bg("black") fg("SkyBlue")
replace(wsys.doSub)
resetFormat()
deselect()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>[System]: Added DO1 to your eqbal queue.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dofree alias set</name><script>deleteFull()
wsys.dofreeSub[tonumber(multimatches[2][2])] = multimatches[2][3]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Alias </string><string>^Alias \"dofree(\d+)\" will now execute: \"(.+)\"$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dor alias set</name><script>deleteFull()
wsys.dorSub = multimatches[2][2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Alias "dor" will now execute:</string><string>^Alias \"dor\" will now execute\: \"(.+)\"$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dofree replacement</name><script>selectString(matches[2]..matches[3], 1)
bg("black") fg("SkyBlue")
replace(wsys.dofreeSub[tonumber(matches[3])])
resetFormat()
deselect()
wsys.dofreeSub[tonumber(matches[3])] = matches[4]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^\[System\]\: (?:Added|Prepended) (DOFREE|dofree)(\d+) to your (?:balance|equilibrium) queue\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bombs</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bombs 2</name><script>cecho("\n&lt;white:red&gt;Bombs!! BOMBS!!!")
wsys.osend("put bomb in " .. wsys.settings.container)
wsys.osend("combine bomb", "combine bomb", "put group bomb in " .. wsys.settings.container, "put group bomb in " .. wsys.settings.container)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) gives an? \w+ bomb to you\.$</string><string>^([A-Z][a-z]+) tosses an? \w+ bomb to you, and you catch it nimbly\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bombs</name><script>cecho("\n&lt;white:red&gt;Bombs!! BOMBS!!!")
wsys.osend("put bomb in " .. wsys.settings.container)
wsys.osend("combine bomb", "combine bomb", "put group bomb in " .. wsys.settings.container, "put group bomb in " .. wsys.settings.container)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) gives \w+ \w+ bombs to you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>bombs group</name><script>cecho("\n&lt;white:red&gt;Bombs!! BOMBS!!!")
wsys.osend("put bomb in " .. wsys.settings.container)
wsys.osend("combine bomb", "combine bomb", "put group bomb in " .. wsys.settings.container, "put group bomb in " .. wsys.settings.container)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) gives a group of \d+ \w+ bombs? to you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Warnings</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Eliminate two</name><script>wsys.setPrefixWarning(multimatches[2][2].." eliminating you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The blade on the daegger splits into a semblance of teeth as</string><string>^The blade on the daegger splits into a semblance of teeth as (\w+) prepares for the final strike\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reave started</name><script>wsys.setPrefixWarning(matches[2].." reaving you", 4, matches[2].."_reave")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^A sudden nausea and lightheadedness takes hold of your body, and you struggle to hold on to consciousness under (\w+)'s assault\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Radiance three</name><script>if not lastradiancer then return end

cecho("\n&lt;red&gt;".. lastradiancer .. " still radiancing you! (3/7)")
wsys.setPrefixWarning(lastradiancer .. " radiancing you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Sparks of multicoloured light begin to dance in your mind.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devour start on someone else</name><script>wsys.setPrefixWarning(multimatches[2][2].." devouring "..multimatches[2][3], 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>In a single, sinuous motion, </string><string>^In a single, sinuous motion, (\w+) manoeuvres (?:her|his) imposing form to encircle (\w+)'s feet, fixing (?:her|him) with a penetrating gaze as (?:her|his) tremendous jaws open wide\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devour start</name><script>wsys.setPrefixWarning(multimatches[2][2].." devouring someone", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A deathly calm descends upon your surroundings as</string><string>^A deathly calm descends upon your surroundings as (\w+) draws (?:him|her)self up regally, eyes gleaming with murderous intent\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reave stopped</name><script>wsys.clearPrefixWarning(matches[2].."_reave")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+)'s action distracts (?:him|her) from \w+ intent focus\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deathstrike continued</name><script>wsys.setPrefixWarning(multimatches[2][2].." deathstriking you still", 2)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Leaping forwards with lightning speed, </string><string>^Leaping forwards with lightning speed, (\w+) strikes you in the chest with a single, powerful blow\. Its rhythm interrupted by (?:his|her) precise attack, your heartbeat begins to fluctuate erratically, a painful pressure building in your arteries\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deliverance</name><script>wsys.setPrefixWarning(matches[2].." has deliverance", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) slowly raises (?:his|her) head and you see (?:his|her) eyes glowing bright white\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Judgement two</name><script>cecho("\n&lt;red&gt;".. string.format("%s is judging you (2/4)!", matches[2]))
wsys.setPrefixWarning(matches[2].." judging you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) swings the crackling mace about (?:his|her) head, gathering momentum as s?he bears down on you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Judgement three</name><script>
cecho("\n&lt;red&gt;".. string.format("%s is judging you (3/4)!", matches[2]))

wsys.setPrefixWarning(matches[2].." judging you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+)'s mace begins to make a high-pitched keening sound as it rapidly spins over (?:his|her) head\. You have only moments left to escape before you are judged!$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Breathrain incoming</name><script>wsys.setPrefixWarning("breathrain inc", 1)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A massive shadow begins to circle in the skies above.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jack-in-the-Box start</name><script>--if my name
if matches[3] ~= gmcp.Char.Name.name then return end

wsys.setPrefixWarning(matches[2].." Jack-in-the-Box you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) sets a jack\-in\-the\-box on the ground and quickly winds it while whispering, '(\w+)\.' The cheerful music of a lute begins to emanate from it\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Radiance six</name><script>if not lastradiancer then return end

cecho("\n&lt;red&gt;".. lastradiancer .. " still radiancing you!!! (6/7)")
wsys.setPrefixWarning(lastradiancer .. " radiancing you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your heart thumps as you realise that you have but seconds left to escape whatever fate awaits you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heartseed 2</name><script>wsys.setPrefixWarning("have heartseed", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The sickening sensation of something writhing and growing within your chest overwhelms you, radiating throughout your body from your palpitating heart.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Jack-in-the-Box two</name><script>if multimatches[2][2] ~= gmcp.Char.Name.name then return end

wsys.setPrefixWarning(matches[2].." Jack-in-the-Box you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The music of the jack-in-the-box becomes faster and more frantic and a loud voice from within yells, </string><string>^The music of the jack\-in\-the\-box becomes faster and more frantic and a loud voice from within yells, "(\w+), I'm a-cooomiiiiing!"$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devour two</name><script>wsys.setPrefixWarning(multimatches[2][2].." devouring you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>In a single, sinuous motion,</string><string>^In a single, sinuous motion, (\w+) manoeuvres (?:his|her) imposing form to encircle your feet, fixing you with a penetrating gaze as (?:his|her) tremendous jaws open wide\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deathstrike</name><script>wsys.setPrefixWarning(multimatches[2][2].." deathstriking you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Fists clenched,</string><string>^Fists clenched, (\w+) focuses on you with a deadly look in (?:his|her) eyes\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Judgement one</name><script>cecho("\n&lt;red&gt;".. string.format("%s started judging you (1/4)!", matches[2]))

wsys.setPrefixWarning(matches[2].." judging you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) raises (?:his|her) .+ mace over you to pass judgement on your sins, and it begins to crackle with righteous fire\.$</string><string>^(\w+) raises .+ mace over you to pass judgement on your sins, and it begins to crackle with righteous fire\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Funeralmass continuation</name><script>if fmass and fmass.bard == matches[2] and fmass.victim == "you" then
wsys.setPrefixWarning(matches[2].." still fmass you", 2)

end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) masterfully adds heavier, darker tones to (?:his|her) song, which rises and falls with a melancholy rhythm\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deliverance kill</name><script>wsys.setPrefixWarning(matches[2].." has deliverance", 1)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) turns to face \w+, eyes glowing ominously\. Two radiant arcs of white lightning dart forth from them, enveloping \w+ who screams and slowly dies as s?he is burned alive\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Radiance one</name><script>cecho("\n&lt;red&gt;".. "Somebody started radiancing you (1/7)")

wsys.setPrefixWarning("radiance started on you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A shiver runs down your spine, and you feel an instinctive urge to run as far and fast as you can.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Execute</name><script>wsys.setPrefixWarning(multimatches[2][2].." execute you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a pop of</string><string>^With a pop of (?:his|her) knuckles, (\w+) buries (?:his|her) foot under your back and flips you overonto your stomach\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Daegger hit</name><script>--if not svo.hunt then return end

wsys.setPrefixWarning("daegger hunt - shield", 1)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The whirling daegger plunges into your flesh.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Execute two</name><script>wsys.setPrefixWarning(multimatches[2][2].." still executing you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Holding your head up</string><string>^Holding your head up, (\w+) snaps (?:his|her) wrist, sending (?:his|her) whip to wrap around your neck\. (?:He|She) casually places (?:his|her) foot upon the small of your back and jerks the whip viciously backwards so that it bites deeply into your throat\. Blood streams down from your shattered windpipe as you gasp uselessly for air\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Holocaust fell down</name><script>wsys.setPrefixWarning("holobomb landed", 1)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#cc0000</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A holocaust globe comes falling down from above to land with a 'THUMP.'</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Radiance five</name><script>if not lastradiancer then return end

cecho("\n&lt;red&gt;".. lastradiancer .. " still radiancing you! (5/7)")
wsys.setPrefixWarning(lastradiancer .. " radiancing you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Arcs of white light begin to flash across your vision, radiant and bright.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deliverance ql</name><script>local person = multimatches[2][2]:trim()

if selectString(person, 1) &gt; 0 then fg("red") setBold(true) deselect() resetFormat() end
wsys.setPrefixWarning("deliverance in room", 1)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>glowing white nimbus</string><string>([^\.]+) is here(?:\.|, sleeping soundly\.|, shrouded\.) (?:She|He) is surrounded by a glowing white nimbus\.</string></regexCodeList><regexCodePropertyList>
								<integer>0</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Radiance four</name><script>if not lastradiancer then return end

cecho("\n&lt;red&gt;"..  lastradiancer .. " still radiancing you! (4/7)")
wsys.setPrefixWarning(lastradiancer .. " radiancing you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>An odd sensation of warmth begins to fill your body.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Death rub</name><script>wsys.setPrefixWarning(matches[2].." making death tarot", .5)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) rubs a tarot card on your arm\. You feel slightly nauseated and drained\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Heartseed</name><script>wsys.setPrefixWarning(multimatches[2][2].." heartseed you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Lunging forward with one palm outstretched,</string><string>^Lunging forward with one palm outstretched, (\w+) aims a blow at your heart\. A warm pulse accompanies (?:her|his) attack, leaving a dull ache in your chest\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Displace start</name><script>wsys.setPrefixWarning("getting displaced", 2)
local currentroom = gmcp.Room.Info.name

--svo.displacerooms = svo.displacerooms or {}
--svo.displacerooms[#svo.displacerooms+1] = currentroom

--[[tempTimer(9+1, function()
  local i = table.index_of(svo.displacerooms, currentroom)
  if i then
    table.remove(svo.displacerooms, i)
    svo.echof(currentroom.." should be safe to move back into now.")
  end
end)]]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a sudden jerk, and the air immediately surrounding you comes alight with pale, etheric fire as a strange hissing noise fills the air.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Holocaust created</name><script>wsys.setPrefixWarning(matches[2].." made holo", 1)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) fashions a holocaust globe out of pure elemental fire and arms it\.$</string><string>^(\w+) fashions a sphere of crackling electricity and arms it\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Eliminate start</name><script>wsys.setPrefixWarning(multimatches[2][2].." eliminating you", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>With a daegger in hand,</string><string>^With a daegger in hand, (\w+) begins to close in on you\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Displace finish</name><script>wsys.setPrefixWarning(multimatches[2][2].. " displaced you (4/4)", 1)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel a strong tug in the pit of your stomach.</string><string>^You feel a strong tug in the pit of your stomach\. Your surroundings dissolve into the featureless swirl of the ether, resolving once more into a recognisable landscape as you land before (\w+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shatter start</name><script>wsys.setPrefixWarning(matches[2].." shatter", 1)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) pulls back a.+, readying (?:him|her)self for a deadly strike\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Death start</name><script>wsys.setPrefixWarning(matches[2].." started death tarot", 3)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) flings a tarot card at you and upon impact, it disappears\. An ominous silence overtakes your surroundings\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Behead start</name><script>wsys.setPrefixWarning(matches[2].." beheading someone", 2)	

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) raises (?:his|her) \w+ over (?:his|her) head and begins to swing it in a wide circle, gaining speed as s?he goes\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Behead two</name><script>wsys.setPrefixWarning(matches[2].." beheading you", 2)	
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^([A-Z][a-z]+) begins to bear down on you with (?:his|her) whirling \w+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Funeralmass start</name><script>wsys.setPrefixWarning(matches[2].." fmass "..matches[3], 2)
fmass = { bard = matches[2], victim = matches[3] }
tempTimer(10, [[fmass = nil]])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) moves into the deeply mournful yet glorious tones of a funeral mass, directing the performance towards (\w+)\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Radiance two</name><script>lastradiancer = multimatches[2][2]
tempTimer(28, [[lastradiancer = nil]])

cecho("\n&lt;red&gt;".. multimatches[2][2].." radiancing you (2/7)")
wsys.setPrefixWarning(multimatches[2][2].." radiancing", 2)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A shimmering image of the face of</string><string>^A shimmering image of the face of (\w+) appears fleetingly before you, frowning in concentration\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deliverance start</name><script>wsys.setPrefixWarning(matches[2].." starting deliverance", 2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+) bows (?:his|her) head in silent prayer\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Instakills</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Eliminate</name><script>cecho("&lt;blue&gt;\n\nEliminate! ELIMINATE!\nELIMINATE! ELIMINATE!\nELIMINATE! ELIMINATE!\n\n")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A look of concentration followed by a look of disgust passes across</string><string>With a daegger in hand, </string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Grove Summon</name><script>cecho("&lt;red&gt;\nGROVE SUMMON!!\nGROVE SUMMON!!")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The forest leaves rustle about you menacingly as the undergrowth appears to close in on you.</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deliverance Room</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>e is surrounded by a glowing white nimbus.</string></regexCodeList><regexCodePropertyList>
									<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deliverance Up</name><script>cecho("\n&lt;white:blue&gt;DELIVERANCE UP, DON'T HIT &lt;yellow:blue&gt;" .. matches[2] .. "!\n&lt;white:blue&gt;DELIVERANCE UP, DON'T HIT &lt;yellow:blue&gt;" .. matches[2] .. "!\n&lt;white:blue&gt;DELIVERANCE UP, DON'T HIT &lt;yellow:blue&gt;" .. matches[2] .. "!")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^([A-Z][a-z]+) slowly raises (?:his|her) head and you see (?:his|her) eyes glowing bright white\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deliverance Starting</name><script>cecho("\n&lt;white:blue&gt;Deliverance started by &lt;yellow:blue&gt;" .. matches[2] .. "!\n&lt;white:blue&gt;Deliverance started by &lt;yellow:blue&gt;" .. matches[2] .. "!")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^([A-Z][a-z]+) bows (?:his|her) head in silent prayer\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Holo</name><script>cecho("&lt;red&gt;\nHOLO HOLO!!\nHOLO HOLO!!\nHOLO HOLO!!\nHOLO HOLO!!\nHOLO HOLO!!\n")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>fashions a holocaust globe out of pure elemental fire and arms it.</string><string>^\w+ fashions a sphere of crackling electricity and arms it\.$</string></regexCodeList><regexCodePropertyList>
									<integer>0</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Death</name><script>cecho("&lt;blue&gt;\n\nDEATH DEATH! DEATH DEATH!\nDEATH DEATH! BEHEAD / CLEAVE!\nDEATH DEATH! DEATH DEATH!\n\n")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>flings a tarot card at you and upon impact, it disappears. An ominous silence overtakes your surroundings.</string></regexCodeList><regexCodePropertyList>
									<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Radiance</name><script>cecho("\n\n&lt;red&gt;[WARNING]:&lt;white&gt; You are being RADIANCED!!\n&lt;red&gt;[WARNING]:&lt;white&gt; You are being RADIANCED!!\n&lt;red&gt;[WARNING]:&lt;white&gt; You are being RADIANCED!!\n\n")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A shiver runs down your spine, and you feel an instinctive urge to run as far and fast as you can.</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Judge II</name><script>cecho("&lt;blue&gt;\n\nBehead / Cleave! BEHEAD / CLEAVE!\n&lt;red&gt;Behead / Cleave! BEHEAD / CLEAVE!\nBehead / Cleave! BEHEAD / CLEAVE!\n\n")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^([A-Z][a-z]+) swings the crackling mace about h(?:is|er) head, gathering momentum as s?he bears down on you\.$</string><string>^([A-Z][a-z]+)'s mace begins to make a high-pitched keening sound as it rapidly spins over h(?:is|er) head\. You have only moments left to escape before you are judged\!$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Behead|Cleave</name><script>cecho("&lt;blue&gt;\n\nBehead / Cleave! BEHEAD / CLEAVE!\nBehead / Cleave! BEHEAD / CLEAVE!\nBehead / Cleave! BEHEAD / CLEAVE!\n\n")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^[A-Z][a-z]+ raises (his|her) .+ over (his|her) head and begins to swing it in a wide circle, gaining speed as s?he goes\.$</string><string>^([A-Z][a-z]+) raises an? .+ over you to pass judgement on your sins, and it begins to crackle with righteous fire\.$</string><string>^[A-Z][a-z]+ moves into the deeply mournful yet glorious tones of a funeral mass, directing the performance\.$</string><string>^[A-Z][a-z]+ masterfully adds heavier, darker tones to h(?:is|er) song, which rises and falls with a melancholy rhythm\.$</string><string>^[A-Z][a-z]+ begins to bear down on you with h(?:is|er) .+\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deathstrike</name><script>cecho("\n&lt;yellow:red&gt;DEATHSTRIKE COMING FROM &lt;blue:red&gt;" .. matches[2] .. "!\n&lt;yellow:red&gt;DEATHSTRIKE COMING FROM &lt;blue:red&gt;" .. matches[2] .. "!\n&lt;yellow:red&gt;DEATHSTRIKE COMING FROM &lt;blue:red&gt;" .. matches[2] .. "!")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>^Fists clenched, ([A-Z][a-z]+) focuses on you with a deadly look in (?:his|her) eyes\.$</string><string>^Leaping forwards with lightning speed, ([A-Z][a-z]+) strikes you in the chest with a single, powerful blow\. Its rhythm interrupted by (?:his|her) precise attack, your heartbeat begins to fluctuate erratically, a painful pressure building in your arteries\.$</string></regexCodeList><regexCodePropertyList>
									<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Devour</name><script>cecho("&lt;blue&gt;\n\nDevour! DEVOUR!\nDevour! DEVOUR\nDevour! DEVOUR!\n")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>A deathly calm</string><string>A deathly calm descends upon your surroundings as \w+ draws (him|her)self up regally, eyes gleaming with murderous intent\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Precaching</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>stopped qq</name><script>if wsys.qqing then wsys.stoppedqq() end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#00ff80</mFgColor><mBgColor>#333333</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cease your praying.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>inr all</name><script>wsys.inralld()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have stored everything in your rift that you are able.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>serverside outrift</name><script>--this means it wasn't in your inventory before so well yeah check shit
wsys.serversideOutrift(multimatches[2][2])

if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: OUTR </string><string>^\[Curing\]\: OUTR (\w+)$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Outrift</name><script>if wsys.def.blindness and not wsys.def.mindseye then
  wsys.outrifted(multimatches[2][3], multimatches[2][2])
end
--deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You remove</string><string>^You remove (\d+)( .+), bringing the total in the Rift to \d+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>start qq</name><script>if wsys.qqing then
 wsys.startedqq()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#0080ff</mFgColor><mBgColor>#ff0080</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You grow still and begin to silently pray for preservation of your soul while you are out of the land.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Meditating</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>done meditating</name><script>wsys.stopmeditating()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cease your meditation having achieved full will and mana.</string><string>Your mental prowess is already swollen to its maximum.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>interrupted meditating</name><script>if wsys.meditating then wsys.meditate() end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You snap your head up as you break your meditation.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curing</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Demon Corrupt</name><script>wsys.demonCorrupted()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Crippling pain overcomes you as a Baalzadeen makes a hooking motion in your direction.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Knight Curing</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Off Rage Bal</name><script>wsys.ragedoffbal()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are too exhausted to summon the rage of battle to throw off afflictions.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rage Balance</name><script>wsys.ragebalgained()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You may channel your rage to cure your afflictions once again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rage</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Raged</name><script>wsys.raged()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#800080</mFgColor><mBgColor>#333333</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You allow your pent-up rage to vent and your eyes flash dangerously.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clot</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clotting</name><script>if wsys.settings.gagclot then deleteLine() end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: CLOT</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serverside clot On|Off</name><script>local clotNum = tonumber(multimatches[2][2])
if clotNum &lt; wsys.stats.maxh then
  wsys.settings.useclot = true
elseif clotNum &gt; wsys.stats.maxh then
  if not wsys.settings.stopclot then
    wsys.settings.useclot = false
  end 
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Will clot above </string><string>^Will clot above (\d+) bleeding\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serverside Clot Default On</name><script>wsys.settings.useclot = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Will clot at the default value of 100 bleeding.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Compose</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>composing</name><script>if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: COMPOSE</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Focus</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>FocusBalance</name><script>-- don't worry if this trigger is disabled. It still works via a script etc.
wsys.focusbal()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind is able to focus once again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>focussing</name><script>if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: FOCUS</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serverside Focus On</name><script>wsys.settings.usefocus = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Automatic usage of focusing activated.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serverside Focus Off</name><script>if not wsys.settings.stopfocus then
  wsys.settings.usefocus = false
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Automatic usage of focusing disabled.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Occultist Curing</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fool</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fool Bal</name><script>wsys.foolbal()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You may heal another affliction.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fooled</name><script>wsys.fooled()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You press the Fool tarot to your forehead.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dheal</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Failed Dheal</name><script>wsys.affadd("weariness")
wsys.affadd("recklessness")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your mind and body are too disjointed to invoke your healing powers, wyrm.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No Dragonheal Balance</name><script>if wsys.bals.dragonheal then wsys.faileddheal() end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have not yet recovered enough to purge your great form of afflictions.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dhealed</name><script>wsys.dhealed()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You let out a great keening, and cast the impurities from your form.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tree</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tree Bal</name><script>wsys.treed("empty")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your tree of life tattoo glows faintly for a moment then fades, leaving you unchanged.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>touching tree</name><script>wsys.timer.treewait = true

if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: TOUCH TREE</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Got Tree Bal</name><script>wsys.gotBal("tree")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You may utilise the tree tattoo again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fitness</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Empty Fitness</name><script>wsys.emptyfitness()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are already quite fit.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No Fitness Bal</name><script>if wsys.bals.fitness then wsys.failedfitness() end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You may not purge your lungs again as of this time.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fitnessd</name><script>wsys.fitnessd()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You inhale deeply, purging yourself of your asthmatic condition.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Restore</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Restored</name><script>wsys.restored()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Energy wreathes itself about your body to heal your limbs.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Herb</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>eating herb</name><script>wsys.cure = string.lower(multimatches[2][2])

if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: EAT </string><string>^\[Curing\]\: EAT (\w+)$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>HerbBalance</name><script>wsys.herbbal()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You may eat another plant or mineral.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>MossBalance</name><script>wsys.mossbal()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You may eat another bit of irid moss or potash.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon Failsafe</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aeon Failsafe trigger</name><script>if wsys.aff.aeon then
  wsys.aeonfailsafe = tempLineTrigger(1, 1, [[if line ~= "You move sluggishly into action." then wsys.affcuredconfirm("aeon") wsys.aeonfailsafe = nil end]])
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: </string></regexCodeList><regexCodePropertyList>
								<integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curingsets</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curingset End</name><script>deleteFull()
disableTrigger("Curingset Parse")
disableTrigger("Curingset End")
disableTrigger("Curingset None")

if not (wsys.curingSets.wundersys ~= nil and wsys.curingSets.wundersys_default ~= nil) then
  if tonumber(matches[3]) &gt;= (tonumber(matches[2]) + 2) then
    wsys.addCuringSets()
  else
    wsys.report("You need two curing sets free to set up WunderSys! Please ensure you have two free and reconnect to the game.") 
  end
else
	wsys.setSettings("curingsets", "true")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You are using a total of (\w+) of your allowed (\w+) curing sets.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curingset Parse</name><script>deleteFull()
wsys.curingSets[matches[2]] = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^(\w+)$</string><string>^(\w+) \(current\)$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gag Switches</name><script>deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You will now cure using the wundersys set.</string><string>Cloned the contents of the wundersys_default curing set into your currently active one.</string><string>You already have a set with that name. Either pick a new name or rename the old set.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curingset None</name><script>deleteFull()
wsys.addCuringSets()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have no sets defined - you are currently using default priorities.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Curingset Begin</name><script>deleteFull()
wsys.curingSets = {}
disableTrigger("Curingset Begin")
enableTrigger("Curingset Parse")
enableTrigger("Curingset End")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your current curing sets</string><string>--------------------------------------------------------------------------------</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pipes</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>SmokeBalance</name><script>wsys.smokebal()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your lungs have recovered enough to smoke another mineral or plant.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pipelist</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>99</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Status  Pipe         Contents                       Puffs Months</string><string>-------------------------------------------------------------------------------</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>smoking pipe</name><script>wsys.pipes.smoking = string.lower(multimatches[2][2])
wsys.cure = string.lower(multimatches[2][2])

if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: SMOKE </string><string>^\[Curing\]\: SMOKE (\w+)$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pipe Refilling</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prompt Trig</name><script>if not wsys.timer.refillwait and not wsys.timer.pipewait then
 disableTrigger("Pipe Refilling")
end -- if
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>return isPrompt()</string></regexCodeList><regexCodePropertyList>
									<integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="yes" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pipe Refill</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You fill your pipe with</string><string>^You fill your pipe with (.+)\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="yes" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No Herb</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You hold no</string><string>^You hold no \"(\w+)\"\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pipe Lighting</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pipes already lit</name><script>wsys.pipes.unlitpipes = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have no pipes that require lighting.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pipes went dark</name><script>wsys.pipes.unlitpipes = true
if not wsys.paused and not wsys.softpaused and not wsys.timer.lightpipewait then
  wsys.timer.lightpipewait = tempTimer(0.5, [[wsys.timer.lightpipewait = nil]])
  wsys.dofreefirst("light pipes")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your </string><string>^Your .* has gone cold and dark\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pipes Lit</name><script>wsys.pipes.unlitpipes = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You light </string><string>^You light .+ pipe\.$</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pipe not lit</name><script>wsys.pipes.unlitpipes = true
if not wsys.paused and not wsys.softpaused and not wsys.timer.lightpipewait then
  wsys.timer.lightpipewait = tempTimer(0.5, [[wsys.timer.lightpipewait = nil]])
  wsys.dofreefirst("light pipes") 
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>That pipe isn't lit.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Writhe</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>writhe</name><script>if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: WRITHE</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>writhing</name><script>wsys.writhing()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You continue trying to wrest your mind free.</string><string>You twist and turn as you attempt to escape from your entanglement.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sipping | Health</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>sipping</name><script>wsys.sipping = string.lower(multimatches[2][2])

if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: SIP </string><string>^\[Curing\]\: SIP (\w+)$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>HM Bal</name><script>wsys.hmbal()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You may drink another health or mana elixir or tonic.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flex</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flexd</name><script>--wsys.flexd()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Gritting your glistening teeth in a rictus grin, you emit a low rumble as you flex your rippling muscles, bursting the bindings that hold you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stand</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>standing</name><script>wsys.cure = "stand"
if wsys.aff.blackout then wsys.affcured("prone") end
--deleteLine()
if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: STAND</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sleep</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>waking up</name><script>wsys.cure = "wake"

if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: WAKE</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Salves</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>applying salve|elixir to limb</name><script>local twolower = string.lower(multimatches[2][2])
if twolower == "health" then
  wsys.cure = twolower .. string.lower(multimatches[2][3])
  wsys.lostBal("hm", 6)
else
  wsys.applying = twolower .. string.lower(multimatches[2][3])
end

if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: APPLY </string><string>^\[Curing\]\: APPLY (\w+) TO (\w+)$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Density +</name><script>if wsys.applying == "mass" then 
 wsys.def.density = true
end -- if
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your body grows extremely dense and heavy as the mass salve infuses your skin.</string><string>Your body grows extremely dense and heavy as the density balm infuses your skin.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Salve bal</name><script>wsys.salvebal()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You may apply another salve or balm to yourself.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>applying salve</name><script>local applied = string.lower(multimatches[2][2])
if applied ~= "quicksilver" and applied ~= "sileris" then
  wsys.applying = applied
end
if applied == "density" then
  deleteFull()
elseif wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: APPLY </string><string>^\[Curing\]\: APPLY (\w+)$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>applied salve</name><script>wsys.applied()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You take out some</string><string>^You take out some (?:salve|balm) and quickly rub it on your \w+\.$</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Empty Salves</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Empty Salve</name><script>wsys.emptysalve()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You messily spread the salve over your body, to no effect.</string><string>You messily spread the balm over your body, to no effect.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Resto reset</name><script>wsys.restoreset()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The topical remedy dissolves into your skin with no effect.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mending Reset</name><script>wsys.mendingreset()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>The topical remedy fizzles away without effect.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Blind|Deaf -</name><script>if wsys.cure == "epidermalhead" then
 wsys.emptysalve()
end -- if
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You are no longer blind.</string><string>You are no longer deaf.</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Passive Cures</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Angel care</name><script>if wsys.isClass("priest") then
  wsys.cure = "passive"
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>50</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your guardian angel soothes your afflictions.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Baalzadeen syphon</name><script>if wsys.isClass("apostate") then
  wsys.cure = "passive"
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>50</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your Baalzadeen syphons your afflictions.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dagaz proc</name><script>if wsys.isClass("runewarden") then
  wsys.cure = "passive"
end
selectString(line, 1) bg("black") fg("tomato") setItalics(true) resetFormat() deselect()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>50</mStayOpen><mCommand /><packageName /><mFgColor>#ffcc66</mFgColor><mBgColor>#333333</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>A rune like a rising sun upon the ground flares, bathing you with healing magic.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Panacea proc</name><script>if wsys.isClass("sylvan") or wsys.isClass("druid") then
  wsys.cure = "passive"
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>50</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Cool mist brings the vibrant touch of Nature to refresh you.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rite of Healing</name><script>if wsys.isClass("priest") or wsys.isClass("paladin") then
  wsys.cure = "passive"
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>50</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You feel your soul cleansed by the power of the Divine.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sun tarot</name><script>if wsys.isClass("jester") or wsys.isClass("occultist") then
  wsys.cure = "passive"
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>50</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The light of the sun tarot soothes your afflictions.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Concentrate</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>concentrating</name><script>if wsys.settings.gagcuring then
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[Curing]: CONCENTRATE</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prompt</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prompt</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>return isPrompt()</string></regexCodeList><regexCodePropertyList>
							<integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Balance</name><script>wsys.gainedb(true)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#0080ff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have recovered balance on all limbs.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>kai capture</name><script>if not matches[2] then
  wsys.stats.kai = 0
  wsys.stats.shin = 0
else
  if wsys.isClass("monk") then
    wsys.stats.kai = tonumber(matches[2])
    wsys.def.kaitrance = true
  elseif wsys.isClass("blademaster") then
    wsys.stats.shin = tonumber(matches[2])
    wsys.def.shintrance = true
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^\d+h, \d+m, \d+e, \d+w [cexkdb]+\-(?:(\d+)\-)?$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prompt Checks</name><script>wsys.firequeues()
disableTrigger("Prompt Checks")

if next(wsys.tb.justreckless) then
 if wsys.stats.h == wsys.stats.maxh and wsys.stats.m == wsys.stats.maxm and not wsys.lifevision then
  moveCursor("main", 0, wsys.tb.justreckless[2])
  wsys.affprint("recklessness", wsys.tb.justreckless[1])
	wsys.affpredict( "recklessness" )
  --herbqueue()
 end -- if
 wsys.tb.justreckless = {}
end -- func


if next(wsys.tb.restorationlist) then
  local is_real = ((wsys.aff.recklessness or wsys.absorbed) or ((wsys.stats.h &lt; wsys.stats.oh) or wsys.puppetmangle) or wsys.aff.blackout) and not wsys.lifevision
  for k,v in ipairs(wsys.tb.restorationlist) do
    local aff = v[1]
    --Announce breaks regardless of checks if we know we have the affliction already
    if is_real or wsys.aff[aff] then
      wsys.brokenLimbListener("got aff", v[1])
			
      wsys.affadd(v[1])
			
      local leg = v[1]:find("leg")
      local arm = v[1]:find("arm")
			
      wsys.boxDisplay(v[1] .. " BROKE!", ( (leg or arm) and "white" or "LightGray")..":"..(leg and "orange" or "orange_red") )
    end
  end -- for
end

wsys.puppetmangle = false
wsys.tb.restorationlist = {}
wsys.absorbed = false
wsys.lifevision = false
wsys.self_illusion = false

--Starburst situations
if wsys.starbursted then
 if not wsys.def.blindness and not wsys.def.deafness and not wsys.def.kola then
  raiseEvent("You Starbursted")
	
  --wsys.aff = {}
  for k,v in pairs(wsys.herbsout) do
   wsys.herbsout[k] = 0
  end -- for
  for k in pairs(wsys.def) do
   wsys.def[k] = false
  end -- for
  wsys.cleartimers()
  cecho("\n&lt;red&gt;[&lt;orange&gt;STARBURST&lt;red&gt;]")
 end -- if
 wsys.lostallchannels()
 wsys.starbursted = false
end -- if

if wsys.mogged then
 if not wsys.def.blindness and not wsys.def.deafness and not wsys.def.kola then
  --wsys.aff = {}
  for k in pairs(wsys.def) do
   wsys.def[k] = false
  end -- for
  wsys.cleartimers()
  cecho("\n&lt;red&gt;[&lt;orange&gt;MOGGED&lt;red&gt;]")
 end --if
 wsys.mogged = false
end -- if

forced = nil

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>return isPrompt()</string></regexCodeList><regexCodePropertyList>
							<integer>4</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Equilibrium</name><script>wsys.gainede(true)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#800080</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have recovered equilibrium.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Class Specifics</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Monk</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>monk balance</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								</regexCodeList><regexCodePropertyList>
								</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>ra bal regain</name><script>wsys.bals.ra = true
--monkBalanceCheck()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have recovered balance on your right arm.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>leg bal regain</name><script>wsys.bals.legs = true
--monkBalanceCheck()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have recovered balance on your legs.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>kick</name><script>wsys.bals.legs = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You pump out at </string><string>You spin into the air and throw a whirlwind kick towards</string><string>You kick your leg high and scythe downwards at</string><string>You let fly at </string><string>You hurl yourself towards</string><string>You drop to the floor and sweep your legs</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>one arm off bal</name><script>wsys.bals.la = true
wsys.bals.ra = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>Your only working arm is off-balance.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>la bal regain</name><script>wsys.bals.la = true
--monkBalanceCheck()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You have recovered balance on your left arm.</string></regexCodeList><regexCodePropertyList>
									<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>punch</name><script>if wsys.bals.la then
  wsys.bals.la = false
else
  wsys.bals.ra = false
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
									<string>You ball up one fist and hammerfist</string><string>You launch a powerful uppercut at </string><string>You form a spear hand and stab out towards </string><string>You unleash a powerful hook towards </string><string>You throw your force behind a forward palmstrike</string></regexCodeList><regexCodePropertyList>
									<integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Serpent</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							</regexCodeList><regexCodePropertyList>
							</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shrug Fail</name><script>wsys.shrugfail()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You are too weary in body to do that.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shrug Cooldown</name><script>wsys.shruggedoffbal()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You may not shrug again so soon.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shrugged</name><script>wsys.shrugged()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>99</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Focusing inward, you purge your body of afflictions.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cancel shrug Gag</name><script>if wsys.isClass("serpent") then
  deleteFull()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>[System]: Running queued balance command: HOLD BREATH</string><string>[System]: replaced command #1 in the </string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Cancel shrug Gag 2</name><script>deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your equilibrium queue is empty, use QUEUE ADD instead.</string><string>Your balance queue is empty, use QUEUE ADD instead.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shrug Balance</name><script>wsys.shrugbalgained()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your body has recovered enough to shrug afflictions once again.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bard</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							</regexCodeList><regexCodePropertyList>
							</regexCodePropertyList><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voice Balance Gained</name><script>wsys.gotBal("voice")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You have recovered voice balance.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dwinnu</name><script>wsys.lostBal("voice", 5)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>'DWINNU! DWINNU! you chant, to no effect.</string><string>'DWINNU! DWINNU!' you chant urgently as your bonds turn to dust.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Voice Balance Used</name><script>wsys.lostBal("voice", 5)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You sing a graceful maqam of el'Jazira at \w+\.$</string><string>You sing a powerful Lay of distortion, protecting against the creation of physical images of yourself.</string><string>^You recite an obscure Kamleikan haiku to \w+\.$</string><string>^In droning song you subject \w+ to a lengthy isorhythm\.$</string><string>Singing a powerful tune of safety and protection, you weave musical defences around yourself.</string><string>You begin an unearthly dirge, but find no hands reaching from the grave to be banished.</string><string>With an unearthly dirge, you banish the hands that reach from the grave.</string><string>Weaving a complex counterpoint between instrument and voice, you fill</string><string>You invoke chaotic powers in a dark solo, draining away some of the essential magic of</string><string>Your poem of gluttony and decay makes</string><string>Belting out an echoing yodel, you </string><string>You sing a pastorale of the fields and streams to</string><string>You belt out a meaningless screech of varying pitch</string><string>You chant 'GIMMEGIMME' at </string><string>You sing an irritating, mind-numbing ditty at </string><string>You strike up a march, inserting strong discordant undertones aimed at the mounts nearby.</string><string>With a mournful cry you begin the requiem for Seleucar to</string><string>Using a heavy tremolo you</string><string>With a trilling vibrato you </string><string>You begin reciting an epic tale of the heroism of Nicator to</string><string>Your voice rises to the heavens with your instrument, but without your audience, as you sing an Aria of healing to yourself.</string><string>Your voice rises to the heavens with your instrument as you sing an Aria of healing to</string><string>You play a prelude, summoning a fantastically believable illusion.</string><string>With a wink, you recite "Ode to Elixirs" to</string><string>You let the grace of your voice shine forth with a Scarlattan cantata</string><string>Starting with the characteristic Jaziran trill, you sing a qasida of asceticism</string><string>With a gravity born of respect, you sing of the saintly Imithia of legend</string><string>Composing a few clever lines in your head, you quickly sing a jaunty limerick</string><string>You sing a sonorous chant</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>3</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>3</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>3</integer><integer>2</integer><integer>3</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gagging</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Moss threshold changing gag</name><script>deleteFull()
--selectString(line, 1) setBold(true) setItalics(true) fg("firebrick") bg("white") resetFormat() deselect()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Moss </string><string>^Moss (?:health|mana) curing threshold set to \d+\%\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>inr all number gag</name><script>deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have no </string><string>^You have no \d+ in your inventory\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gag smiley</name><script>--display('yes')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>18</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^\s*\.\.o@@@@@@@@@@@@@o\.\.\s*$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>clot</name><script>if wsys.settings.gagclot then deleteFull() end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You exert superior mental control and your wounds clot before your eyes.</string><string>You do not bleed, my friend.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>metawake and softfocus gags</name><script>deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have set the 'metawake' defence</string><string>You have set the 'softfocusing' defence</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Focus aff priority shift gags</name><script>deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have set the 'weariness' affliction to the 6 priority.</string><string>You have set the 'stupidity' affliction to the 9 priority.</string><string>You have set the 'confusion' affliction to the 8 priority.</string><string>You have set the 'recklessness' affliction to the 12 priority.</string><string>You have set the 'dizziness' affliction to the 14 priority.</string><string>You have set the 'shyness' affliction to the 14 priority.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Def Priority Shift Gag</name><script>if multimatches[2] then
local theDef = multimatches[2][2]
local newPrio = tonumber(multimatches[2][3])
if wsys.settings.defup[wsys.profile][wsys.myClass()][theDef] or wsys.settings.keepup[wsys.profile][wsys.myClass()][theDef] or wsys.settings.gagdefshift then
  deleteFull()
  setTriggerStayOpen( "Def Priority Shift Gag", 1 ) 
end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have set the </string><string>^You have set the \'(\w+)\' defence to the (\d+) priority\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aff Priority Shift Gag</name><script>local newPrio = tonumber(multimatches[2][3])
local theAff = multimatches[2][2]
wsys.affPrioChanged( theAff, newPrio )
if (wsys.defaultAffPosition(theAff) == newPrio) or wsys.settings.gagaffshift then
  deleteFull()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You have set the </string><string>^You have set the \'(\w+)\' affliction to the (\d+) priority\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>item not in curing queue</name><script>deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>That cure is not in your queue.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hold Breath Gag</name><script>deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>[Curing]: HOLD BREATH</string><string>You inhale deeply and begin holding your breath.</string><string>You cease holding your breath and exhale loudly.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>selfish pipe empty</name><script>if wsys.timer.refillwait then
  deleteFull()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You're far too selfish to empty out your pipe.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Misc Gag</name><script>deleteFull()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>With almost magical swiftness, a snarling wolf leaps out at</string><string>howls in pain as thorny vines lash out at</string><string>^[A-Z][a-z]+ suddenly inhales deeply\.$</string><string>^[A-Z][a-z]+ exhales loudly\.$</string><string>^[A-Z][a-z]+ inhales and begins holding (?:his|her) breath\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>0</integer><integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>mudlet-mapper</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>mudlet-mapper</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mudlet Mapper</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Frozen</name><script>mmp.customwalkdelay(2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You begin moving your frozen body slowly</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Retardation|aeon walk delay</name><script>mmp.customwalkdelay(2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You move sluggishly into action.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scent (Achaea+Imperian)</name><script>mmp.roomEcho(matches[2]) 
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You detect traces of scent from (.+)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Have to swim</name><script>mmp.swim()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>There's water ahead of you. You'll have to swim in that direction to make it through.</string><string>There's water ahead of you. You'll have to swim in that direction to make it </string><string>There's water ahead of you. You'll have to SWIM </string><string>You'll have to swim to make it through the water in that direction.</string><string>The water is too deep for you to walk that way, you must swim.</string><string>You'll have to SWIM</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer><integer>2</integer><integer>3</integer><integer>3</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Too quick</name><script>if mmp.autowalking then
  mmp.hasty = true
  mmp.setmovetimer(0.5)
  mmp.deleteLineP()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>Now now, don't be so hasty!</string><string>You can not move that fast!</string><string>You cannot move that fast, slow down!</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hobbling</name><script>mmp.customwalkdelay(2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You slowly hobble</string><string>The shot in your leg slows you as you hobble away.</string></regexCodeList><regexCodePropertyList>
						<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No wormhole</name><script>if mmp.speedWalkDir and mmp.speedWalkDir[speedWalkCounter] and mmp.speedWalkDir[speedWalkCounter]=="worm warp" then
  mmp.echo("Missing wormhole detected, locking wormhole and trying new path...")

  lockSpecialExit(mmp.currentroom, mmp.speedWalkPath[speedWalkCounter], "worm warp", true)

  local destination = mmp.speedWalkPath[#mmp.speedWalkPath]

  mmp.stop()

  mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way

  if not mmp.getPath(mmp.currentroom, destination) then
    mmp.echo(string.format("Don't know how to get to %d (%s) anymore :( Move into a room we know of to continue", destination, getRoomName(destination)))
  else
    mmp.gotoRoom(destination)
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>There is no wormhole here.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alertness (Achaea+Imperian)</name><script>mmp.alertness = mmp.alertness or {}
local alertness = mmp.alertness

local roomexists, getRoomName, anytolong, matches, deleteLine = mmp.roomexists, getRoomName, mmp.anytolong, matches, deleteLine

if mmp.debug then
 mmp.alertnessTime = mmp.alertnessTime or createStopWatch()
 startStopWatch(mmp.alertnessTime)
end

if matches[4] ~= "location" then
  local longexitname = matches[4]
  alertness[longexitname] = alertness[longexitname] or {}
  alertness[longexitname][#alertness[longexitname]+1] = matches[2]
  deleteLine()
elseif matches[4] == "location" then
  local currentroomname = mmp.cleanroomname(mmp.currentroomname)
  if matches[3] == currentroomname then
    alertness.here = alertness.here or {}
    alertness.here[#alertness.here+1] = matches[2]
    deleteLine()
  end
end


if not mmp.firstAlert then
	mmp.firstAlert = true
	mmp.pdb_lastupdate = {}
end

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true

enableTrigger"Mudlet Mapper prompt trigger"

if mmp.debug then mmp.echo("alertness trigger for "..matches[2].." took "..stopStopWatch(mmp.alertnessTime).."s.") end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Your enhanced senses inform you that (\w+) has entered (.+?)(?:, to the| at your) (\w+)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wormhole</name><script>mmp.customwalkdelay(4)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You hurl yourself forwards through the air, and sure enough a swirling vortex of colours springs into existence to swallow you.</string><string>You reach out with the vibrating stick to probe for a wormhole, and as it connects with one, you are sucked through.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mudlet Mapper prompt trigger</name><script>-- to be enabled by functions that need it and disabled after it's done. Sort of like a cheap prompttrigger from Svo.
mmp.firstAlert = false
-- handle alertness
if mmp.alertness and next(mmp.alertness) then

  local dirs = {}
  for direction, _ in pairs(mmp.alertness) do dirs[#dirs+1] = direction end
  local people = select(2, next(mmp.alertness)) or {}

  moveCursor(0, getLineNumber())

  if ndb then
    local getcolor = ndb.getcolor
    for i = 1, #people do
      people[i] = getcolor(people[i])..people[i]
    end
  end

  cinsertText("&lt;red&gt;[&lt;cyan&gt;" .. table.concat(dirs, ', ') .. " &lt;red&gt;-"..(#dirs &gt; 1 and ("\n  ") or '').." &lt;white&gt;" .. ((svo and svo.concatand) and svo.concatand(people) or table.concat(people, ', ')) .. "&lt;cyan&gt; ("..#people..")&lt;red&gt;]\n")

  moveCursorEnd()

  mmp.alertness = nil

  raiseEvent("mmapper updated pdb")
end

-- reset names we last seen, so scripts can be efficient
-- not finished yet
--if next(mmp.pdb_lastupdate) then
--  mmp.pdb_lastupdate = {}
--end

disableTrigger"Mudlet Mapper prompt trigger"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string /></regexCodeList><regexCodePropertyList>
						<integer>7</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rubble at the exit</name><script>mmp.customwalkdelay(2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You begin to slowly clamber over the rubble that blocks your way.</string><string>You begin to slowly clamber over a pile of rubble that blocks your way.</string><string>You start plodding carefully across the constructed trenches.</string><string>You struggle to climb over the snow drift in your way.</string><string>You struggle to climb over the sand dune in your way.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>People here</name><script>mmp.pdb_lastupdate = {}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You see the following people here:</string><string>1</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer><integer>5</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lusternia</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Seeing stone</name><script>mmp.locateAndEcho(multimatches[3][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You gaze into a seeing stone.</string><string>1</string><string>^(.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>5</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Astrology scry</name><script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Gazing up at the sky, you bring the image of</string><string>^Gazing up at the sky, you bring the image of (\w+) into your mind's eye and overlay it on the constellations\. The power of the stars manifests as an image of (.+?) forms before your eyes\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pyramid port</name><script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo"\n"

if #t == 1 then
	cecho("&lt;red&gt;Porting to &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
else
	cecho("&lt;red&gt;Might be porting to &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
end	
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your hands become a blur as you twist and turn a paradox puzzle pyramid until each side is made up of the same colour, solving the puzzle in mere moments. Suddenly the image of</string><string>^Your hands become a blur as you twist and turn a paradox puzzle pyramid until each side is made up of the same colour, solving the puzzle in mere moments. Suddenly the image of (.*) appears in the back of your mind and you feel drawn towards it\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>mmp Lusternia Scent</name><script>mmp.tempscent = {}
mmp.pdb_lastupdate = {}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>100</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You scent at the air, your skilled nose picking up the faint traces of others in the surrounding area.</string><string>You snort and snuffle at the air, sensing through a ridiculous pig nose upon your face the faint traces of others in the surrounding area.</string><string>A pert little nose takes in a delicate whiff of your surroundings, sensing the faint traces of others in the nearby area.</string><string>You tilt back your head and inhale deeply through your nose, the whiskers of a wolf's snout upon your face twitching as you sense the faint traces of others in the surrounding area.</string><string>You flutter your nose at the air, sensing through a cute little rabbit nose upon your face the faint traces of others in the surrounding area.</string><string>You sniff disdainfully at the air with a snobby snoot, wrinkling your nose as you sense the faint traces of others in the nearby area.</string><string>Your snout twitches and trembles at the air, sensing through a striped badger nose upon your face the faint traces of others in the surrounding area.</string><string>You twitch your snout and scent the air, sensing through a scaled fink nose upon your face the faint traces of others in the surrounding area.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>City|commune shops menu</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>500</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>[ Local shops selling</string><string>3</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer><integer>5</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pyramid probe #</name><script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo"\n"

if #t == 1 then
	cecho("&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
else
	cecho("&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You lightly caress a button on a paradox puzzle pyramid and suddenly a hazy image of</string><string>^You lightly caress a button on a paradox puzzle pyramid and suddenly a hazy image of (.*) flashes momentarily in front of you\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Map artefact</name><script>mmp.gotoRoom(multimatches[4][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>As you inscribe the name of </string><string>^As you inscribe the name of \w+ with a flourish, lines crawl across the surface of the map, centered upon (.*)\.$</string><string>You see the following in detail:</string><string>v(\d+)</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer><integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Login</name><script>raiseEvent("mmp logged in", "Lusternia")
mmp.game = "lusternia"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>                        A G E  O F  A S C E N S I O N</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Forced Movement</name><script>if mmp.autowalking then
  mmp.hasty = true
  mmp.setmovetimer(0.5)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The soft ground around you suddenly gives way and you find yourself sliding down a muddy embankment, ending up in an undignified heap on the floor of a dark chamber.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Quicksand</name><script>mmp.customwalkdelay(4)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You struggle slowly through the quicksand as you move</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tierstone</name><script>mmp.locateAndEcho(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You gaze into a glittering tierstone.</string><string>^\w+ is at (.+?) in (.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crow spy</name><script>mmp.locateAndEcho(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>An image of</string><string>^An image of \w+ (?:entering|leaving) (.+?) appears in the centre of the nest\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Masquerade ball snowglobe</name><script>mmp.gotoRoom(multimatches[3][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You trace the name of \w+ on the surface of a splendid masquerade ball snowglobe, and then shake the globe vigorously\. As the swirling particles within clear, you see the vague outline of .+?\.$</string><string>You see the following in detail:</string><string>v(\d+)</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wildnodes nodes</name><script>mmp.locateAndEcho(matches[2]:sub(1,1):lower()..string.sub(matches[2], 2))
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^\(Planted\) Node \d+ - (.*)\.$</string><string>^ +Node \d+ - (.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Window search</name><script>mmp.locateAndEcho(matches[4], matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You open up a window in the cosmic fabric and search out (\w+). Through the cosmic window, you see (\w+) at (.+?)(?: \(.*\))?\.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Bond look</name><script>mmp.locateAndEcho(multimatches[3][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You look through the mind of (.*)\:$</string><string>1</string><string>^(.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>5</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Birdseye</name><script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>From your vantage point in the sky, your crow senses perceive that</string><string>^From your vantage point in the sky, your crow senses perceive that (\w+) is (.*) within the vicinity of (.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Crow spy remote</name><script>mmp.locateAndEcho(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your nest projects into your head an image</string><string>^Your nest projects into your head an image of \w+ (?:entering|exiting) (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Gravity</name><script>mmp.customwalkdelay(4)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The dragging force of a war shrine of</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>map scry</name><script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>As you inscribe the name of</string><string>^As you inscribe the name of (\w+) with a flourish, lines crawl across the surface of the map, centered upon (.*)\.</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>mmp Lusternia kaleidoscope</name><script>mmp.tempscent = {}
mmp.pdb_lastupdate = {}


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>100</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You hold a kaleidoscopic telescope to your eye, you twist the end and stare intently through its twinkling surfaces.</string><string>Through the glittering faceted planes, you see:</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pentagon probe #</name><script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo"\n"

if #t == 1 then
	cecho("&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
else
	cecho("&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You lightly caress a button on a paradox puzzle pentagon and suddenly a hazy image of</string><string>^You lightly caress a button on a paradox puzzle pentagon and suddenly a hazy image of (.+) \(room \#\d+\) flashes momentarily in front of you\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scry search</name><script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You rub .* and it begins to glow with a pulsating light\.$</string><string>Within the enchanted item, an image forms of (\w+) at (.+?)(?: \(.*\))?\.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pyramid probe</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>4</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You lightly caress a few buttons on a paradox puzzle pyramid and suddenly a series of hazy images flashes momentarily in front of you.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>World events</name><script>mmp.locateAndEcho(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^The Staff of Ascension is at (.*)\.$</string><string>^The Purple Hamster of Chaos is at (.*)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Deathsight</name><script>mmp.locateAndEcho(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You see the death occur at</string><string>^You see the death occur at (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chemwood walk delay</name><script>mmp.customwalkdelay(2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You struggle to push through \w+'s thick, swirling mists\.$</string><string>^You struggle to move with \w+'s amplified fields disrupting your muscular impulses, but you stumble determinedly in an effort to leave\.$</string><string>^\w+'s whirling leaves harry you as you try to leave, slowing your egress\.$</string><string>^You begin moving through the thick, swirling flurries of \w+'s spores\.$</string><string>You stumble through the thick smog, coughing and sputtering as you try to find cleaner air.</string><string>^You stumble around stupidly as \w+'s mind-dulling effluvia seeps into you, fighting against a strangely dull mind to make your legs take you out of here\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Delayed bix movement.</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Immediately retry on failed teleport</name><script>if mmp.autowalking then
  mmp.customwalkdelay(0)
  mmp.move()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Your action disrupts your concentration and you cease reaching out to harness</string><string>You cease concentrating on traveling the planar paths.</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Teleport Delays</name><script>mmp.customwalkdelay(10)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You run your fingers across the surface of .* and still your mind, preparing for the journey ahead.</string><string>^You reach out and touch the \w+-facing landmark of the Compass of the Basin, and the spinning needle within fixes on that direction. The compass begins vibrating sympathetically with strands of aether\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Rifts and Paths</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Failed transverse</name><script>if mmp.game~= "lusternia" then return end
mmp.clearTransverse()
validTransverse = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cannot find a planar gate here.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Successful transverse</name><script>if mmp.game~= "lusternia" then return end
if validTransverse then
  mmp.registerTransverseExit()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>^You (place your hands on|reach out to) .+ and find the link to .+\. Pulsating energy flares throughout your field of vision, and you find yourself tumbling through the aether pathways\.$</string></regexCodeList><regexCodePropertyList>
								<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>failed pathfind</name><script>if mmp.game~= "lusternia" then return end
mmp.clearPathfind()
validTransverse = false
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You cannot find a pathway here.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Successful pathfind</name><script>if mmp.game~= "lusternia" then return end
if validTransverse then
  mmp.clearPathfind()
  mmp.registerPathfind()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>You squat down and narrow your eyes, finally finding a mystic pathway that twists and turns in the distance. Before it slips away, you dash forward and rush along its winding tracks.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Doors</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Door in the way</name><script>mmp.openDoor()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>There is a door in the way, to the</string><string>There is a door in the way.</string><string>A closed door is in the way. You need to OPEN DOOR</string><string>There is an? (?:walnut|pine|oak|iron|reinforced) door in the way.</string><string>The door to the (\w+) is closed.</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>3</integer><integer>2</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Closing doors</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You open the door to the</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Door closed</name><script>mmp.failpath()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You open the door to the</string><string /><string>^The door to the \w+ closes with a click\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>7</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Door Locked</name><script>mmp.unlockDoor()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The door is locked.</string><string>The (?:walnut|pine|oak|iron|reinforced) door is locked\.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Failed to open door</name><script>mmp.failpath()


</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You are not carrying a key for this door.</string><string>This door has been magically locked shut.</string><string>Not recognising you as cast or crew, stagehands firmly close the door on you.</string><string>You push against the door in vain as you try to open it.</string><string>You do not have access to open this door.</string><string>The door beeps quietly. It appears to be locked.</string><string>This (?:walnut|pine|oak|iron|reinforced) door has been magically locked shut\.</string><string>You are not carrying a key for this (?:walnut|pine|oak|iron|reinforced) door\.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>3</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lithmeria</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Login</name><script>raiseEvent("mmp logged in", "Lithmeria")
mmp.game = "lithmeria"
mmp.echo("We're connected to Lithmeria.")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Welcome to your account!</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Asteria</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Login</name><script>raiseEvent("mmp logged in", "Asteria")
mmp.game = "asteria"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Welcome to Asteria.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aetolia</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Login</name><script>raiseEvent("mmp logged in", "Aetolia")
mmp.game = "aetolia"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Password correct. Welcome to Aetolia.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wormholes</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Worm seek</name><script>mmp.locateAndEcho(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You sense a wormhole leading to</string><string>^You sense a wormhole leading to (.*).$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wormhole Vision&#8482;</name><script>--if not getSpecialExitsSwap or mmp.settings.lockwormholes then return end
if not getSpecialExitsSwap then return end

local exits = getSpecialExitsSwap(mmp.currentroom)
if exits and exits["worm warp"] then
  cecho(string.format("\n&lt;DarkSlateGrey&gt;A wormhole is here, leading to: &lt;orange_red&gt;%s (#%d)&lt;DarkSlateGrey&gt; in %s.\n", getRoomName(exits["worm warp"]), exits["worm warp"], mmp.cleanAreaName(mmp.getAreaName(exits["worm warp"]))))
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You see exits</string><string>You see a single exit</string><string>There are no obvious exits.</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Worm sources</name><script>deleteLine()
local from,fromhouse = multimatches[2][2]:gsub(" %(house%)","")
local to,tohouse = multimatches[2][3]:gsub(" %(house%)","")
if fromhouse &gt;= 1 then fromhouse = " (house)" else fromhouse = "" end
if tohouse &gt;= 1 then tohouse = " (house)" else tohouse = "" end
cecho("\nYou see a connection between ".. from .. fromhouse .. " (")
mmp.echonums(from, gmcp.Room.Info.area)
cecho(") and "..to..tohouse.." (")
mmp.echonums(to)
cecho(")")

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You sense a connection between</string><string>^You sense a connection between (.*) and (.*).$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Starmourn</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Login</name><script>raiseEvent("mmp logged in", "Starmourn")
mmp.game = "starmourn"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Please enter the name of your Starmourn character.</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Path Blocked</name><script>mmp.failpath()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^.+ blocks your attempt to leave. You can attempt to CRASH \w+ to escape\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lifts</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lift arrival (inside)</name><script>if mmp.autowalking then
	send("KEY LIFT", false)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The lift comes to a complete stop, a ping echoing from the control interface. You can now EXIT LIFT.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lift at correct floor</name><script>if mmp.autowalking then
	mmp.liftFloor(nil,nil,true)
	mmp.customwalkdelay(0)
	mmp.deleteLineP()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Nothing happens, as the lift is already at the requested destination.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lift arrival (outside)</name><script>mmp.customwalkdelay(0)
mmp.move()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>An indicator light flashes above the lift as it arrives at this floor. You can ENTER LIFT to board the lift.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lift interaction failed</name><script>mmp.customwalkdelay(6)
mmp.deleteLineP()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The lift is currently in motion and the interface is locked down.</string><string>You may not exit the lift while it is in motion if you wish to remain in one piece.</string><string>The lift is already moving, further attempts will not speed up the process.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lift moving</name><script>if mmp.autowalking then
	mmp.customwalkdelay(15)
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The ground beneath your feet seems to shift for a split second as the lift begins to move.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No Lift to ENTER</name><script>mmp.customwalkdelay(15)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>The interface changes color, calling the lift car to your location.</string></regexCodeList><regexCodePropertyList>
								<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>KEY LIFT table</name><script>if mmp.autowalking then
	mmp.deleteLineP()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>30</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
								<string>Linking into the interface of lift network</string></regexCodeList><regexCodePropertyList>
								<integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragonswords</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Login</name><script>raiseEvent("mmp logged in", "dragonswords")
mmp.game = "dragonswords"
mmp.echo("We're connected to Dragon Swords.")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Welcome to Dragon Swords.</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Imperian</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trap List</name><script>-- the first pattern is not blank, there are spaces there

selectCurrentLine()
replace("")
echo("[" .. multimatches[2][2] .. "] (" .. multimatches[2][3] .. ") at " .. multimatches[2][4])
mmp.roomEcho(multimatches[2][4]) 
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>   </string><string>^   (\w+) \((\w+)\) at (.+)$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Login</name><script>raiseEvent("mmp logged in", "Imperian")
mmp.game = "imperian"
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Password correct. Welcome to Imperian.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parse wholist</name><script>selectCaptureGroup(2)
replace("")
mmp.roomEcho(matches[3])
 
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>.+( \- [A-Z].+?\s*?) \- (.+)</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Sewer grate</name><script>mmp.enterGrate()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>A sewer grate prevents you from moving down into the sewers.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hunt</name><script>selectCurrentLine()
replace("")
cecho("&lt;chocolate&gt;" .. matches[2] .. "&lt;grey&gt; moved to &lt;sienna&gt;" .. matches[3] .. ", &lt;white&gt;" ..matches[4])
mmp.roomEcho(matches[3]) 
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You sense that (\w+) has entered (.+)\, (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Trap went off</name><script>selectCurrentLine()
replace("")
mmp.echon("Your trap at " .. multimatches[2][2])
mmp.roomEcho(multimatches[2][2])
echo(" was set off by " .. multimatches[2][3] .. "!!!\n")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your alarm at</string><string>^Your alarm at \'(.+)\' has been set off by (\w+)\!$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wormholes</name><script>local room1 = mmp.roomEcho(multimatches[2][2])
local room2 = mmp.roomEcho(multimatches[2][3])
selectCurrentLine()
replace("")
mmp.echon("Stable wormhole between " .. room1)
mmp.roomEcho(room1)
echo(" and " .. room2)
mmp.roomEcho(room2)
echo(".\n")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You sense a stable wormhole between</string><string>^You sense a stable wormhole between (.+?) and (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Personal wormholes</name><script>selectCurrentLine()
replace("")
mmp.echon("Personal wormhole at " .. multimatches[2][2])
mmp.roomEcho(multimatches[2][2])
echo(". It is attached to " .. multimatches[2][3] .. ".\n")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You sense a personal wormhole at</string><string>^You sense a personal wormhole at (.+). It is attached to (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Caravan</name><script>mmp.customwalkdelay(15)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You begin leading a caravan</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scout</name><script>-- bad, overzealous trigger - the pattern needs to be improved
mmp.roomEcho(multimatches[2][2]) 
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>   </string><string>^   .+ at (.+)$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flying</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Wait for landing</name><script>mmp.customwalkdelay(4)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You continue your descent.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>move indoors failed by flying</name><script>--this will force land
--may be preferable to fail pathfinding or have option to determine users desire

if mmp.game == "starmourn" then
		send("queue land")
		mmp.customwalkdelay(4)
end

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You must land before you can move indoors.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>StickMUD</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Login</name><script>raiseEvent("mmp logged in", "StickMUD")
mmp.game = "stickmud"
mmp.echo("We're connected to StickMUD.")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>StickMUD rebooted</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Achaea</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Shadow preeminence</name><script>mmp.pdb_lastupdate = {}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>100</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You cast your will out across the land, surveying all that stand within shadow's embrace.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Underworld entry</name><script>mmp.customwalkdelay(3)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>A huge grey root numbs your fingertips as you reach out to touch it.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Grove Eyes</name><script>mmp.pdb_lastupdate = {}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>100</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You detect the following people disturbing the tranquility of the forest.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Defiled</name><script>mmp.locateAndEcho(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>(Order):</string><string>^\(Order\): \w+'s Herald says, "A shrine has been destroyed at (.+)!"$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>KoTH (mudlet mapper)</name><script>mmp.pdb_lastupdate = {}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1000</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Current event: King of the Hill</string><string>5</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>5</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Defilement</name><script>mmp.locateAndEchoSide(multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>(Order): </string><string>^\(Order\): \w+'s Herald says, "A shrine is being defiled at (.+)!"$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Scrying bowl</name><script>mmp.locateAndEcho(multimatches[3][3], multimatches[2][2], multimatches[3][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You dip your fingers into the cool water of the bowl, willing it to reveal the location of</string><string>^You dip your fingers into the cool water of the bowl, willing it to reveal the location of (\w+)\.$</string><string>^An image of (.+) appears reflected within the bowl, shifting with the rippling water to display (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Alchemist ether seek</name><script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You reach out into the ether, folding it aside to reveal</string><string>^You reach out into the ether, folding it aside to reveal (\w+)\. As you peer into the opening, the image of (.+) swims into view, then fades away as the ether seeps back into place\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Aero Whisper</name><script>mmp.locateAndEcho(matches[3], matches[2], matches[4])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Whispering a request to the omnipresent winds, you sense that (\w+) is at (.+), in (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Elementalism scry</name><script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You create a pool of water in the air in front of you and look through it, sensing</string><string>You create a pool of water in the air in front of you and look through it, sensing (\w+) at (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>chrono divine</name><script>mmp.locateAndEcho(multimatches[3][2], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Tapping into the timelines, you trace them to locate</string><string>^Tapping into the timelines, you trace them to locate (\w+)\.$</string><string>^You determine that s?he is at (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Annwyn circle</name><script>mmp.customwalkdelay(12)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The melody of a strange song rises unbidden to your lips as you skip around the circle of mushrooms.</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Forestwatch</name><script>mmp.locateAndEcho(matches[3], matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) has entered the forest at (.+)\.$</string><string>^(\w+) leaves the forest from (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Login</name><script>raiseEvent("mmp logged in", "Achaea")
mmp.game = "achaea"
mmp.echo("We're connected to Achaea.")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Password correct. Welcome to Achaea.</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Parse wholist</name><script>-- this trigger should be off by default. It's inefficient and gets auto-enabled
-- when you check 'who'
mmp.locateAndEcho(matches[3], matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) +\((.+)\)$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Underworld root</name><script>mmp.customwalkdelay(2)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>As you touch a huge grey root, you feel dark energies coursing up your hand and throughout your body.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>City has orb of confinement</name><script> -- disabled since the orb is now an rng chance and not a 100% blocker

local orbTable = mmp.getAchaeaOrbTable()
local areaID = getRoomArea(mmp.currentroom) or 0
if areaID == 0 or mmp.game ~= "achaea" then
  return
end
--don't know where we are
for city, areas in pairs(orbTable) do
  if table.contains(areas, areaID) then
    if not mmp.settings["orb" .. city] then
      mmp.settings:setOption("orb" .. city, true)
      mmp.inside = true
      raiseEvent("mmapper went inside")
      if mmp.autowalking then
        mmp.gotoRoom(mmp.speedWalkPath[#mmp.speedWalkPath])
      end
    end
    return
  end
end
if mmp.autowalking then
  mmp.stop()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>A shimmering orb covers the city</string><string>A shimmering orb covers the city, preventing you from rising to the skies.</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Soulmark Scry</name><script>mmp.locateAndEcho(matches[3], matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^Questing for the mark placed upon h(?:is|er) soul, you determine that (\w+) can be found at (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Farsee initial</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You see that </string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Destroyed room</name><script>mmp.customwalkdelay(3)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your movement is slowed as you move through the decimated remains.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Piety on astralform</name><script>mmp.customwalkdelay(3)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>A rite of piety slows your movement as it pulls at your ephemeral body.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Downed shrine in Order logs</name><script>local room = multimatches[2][2]

mmp.locateAndEcho(room)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>- A shrine at</string><string>- A shrine at '(.+)' was destroyed\.$</string></regexCodeList><regexCodePropertyList>
							<integer>0</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Entering wilderness</name><script>mmp.customwalkdelay(6)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You begin to look for that place to enter the wilderness. It's around here somewhere!</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Arena event (Achaea)</name><script>mmp.pdb_lastupdate = {}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1000</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Current event</string><string>Player               Location</string><string>----------------------------------------------------------------------</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Occultist entities</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1000</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>The following entities reside on the Prime Material plane:</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Party traces|locaters</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>(Party):</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="yes" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Directory - Catch shop entry</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^((?:\d+)(?:mc|gp|cr).+)$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Angel sense</name><script>local t = mmp.getnums(multimatches[2][2], true)
if not t then return end
if #t == 1 then
	cecho(" &lt;orange_red&gt;("..mmp.cleanAreaName(mmp.areatabler[getRoomArea(t[1])])..")")
else
	cecho(" &lt;orange_red&gt;Maybe ("..mmp.cleanAreaName(mmp.areatabler[getRoomArea(t[1])])..")")
end
echo " "; mmp.echonums(multimatches[2][2])

mmp.temp_room = multimatches[2][2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>100</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your guardian angel senses </string><string>^Your guardian angel senses .+? at (.+?),</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Icon enter|leave</name><script>mmp.customwalkdelay(10)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You reach out and touch a powerful Icon. For a moment, nothing happens, but soon you feel a humming deep inside you.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Allsight</name><script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Allsight:</string><string>^Allsight: (\w+) enters (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Angel trace</name><script>selectCurrentLine() replace("")
cecho("&lt;grey&gt;Angel trace: &lt;a_darkcyan&gt;"..multimatches[2][2].."&lt;grey&gt; moved to &lt;a_darkcyan&gt;" .. multimatches[2][3])
mmp.locateAndEchoInternal(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your guardian angel reports that</string><string>^Your guardian angel reports that (\w+) has moved to (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Dragonsense</name><script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2], multimatches[2][4])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Tapping into the unfathomable depths of your power, you sense that</string><string>Tapping into the unfathomable depths of your power, you sense that (\w+) is at (.+), in (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Fullsense (mudlet mapper)</name><script>mmp.pdb_lastupdate = {}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>100</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You seek out all mental presences within your reach:</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>View</name><script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You see</string><string>^You see (\w+) at (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Oppression Predator</name><script>mmp.locateAndEchoSide(multimatches[3][3], multimatches[3][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your oppressive gaze sweeps across the land, seeking out your prey.</string><string>1</string><string>^You see that (\w+) (?:conquers|) at (.+)\.$</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>5</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Demon sense</name><script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>Your Baalzadeen senses </string><string>^Your Baalzadeen senses (\w+) at (.+), on a health of</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Angel|Demon presences</name><script>disableTrigger("Angel sense")
disableTrigger("Demon sense")
mmp.pdb_lastupdate = {}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>100</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You bid your guardian angel to seek out life presences nearby.</string><string>You bid your Baalzadeen to seek out life presences nearby.</string></regexCodeList><regexCodePropertyList>
							<integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mindsense</name><script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>You seek out the mind of</string><string>^You seek out the mind of (\w+) and an image of (.+) appears in your mind\.$</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Polished skull locater</name><script>mmp.locateAndEcho(matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^An image of (.*) appears in your mind\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Chat</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>Chat</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>tabbed chat2</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>tabbed chat2</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tabbed Chat</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>House</name><script>demonnic.chat:append("House")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>(Thralls):</string><string>(Legates):</string><string>(Hellions):</string><string>(Vanguard):</string><string>&lt;&lt;Vanguard&gt;&gt;:</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Tells</name><script>demonnic.chat:append("Tells")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^\w+ tells you</string><string>You tell</string><string>^\w+ (.+) tells you</string><string>You (.+) tell</string><string>The Divine voice of</string><string>You (\w+) tell</string><string>^\w+ (\w+) tells you</string><string>With sharp, crackling tones, you tell</string><string>Your voice burns with heat as you</string><string>Your voice sizzles as you tell</string><string>Your voice quietly thrums</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>2</integer><integer>1</integer><integer>2</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>City</name><script>demonnic.chat:append("City")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>(Mhaldor):</string><string>(Newbie):</string><string>(Ashtan):</string><string>(Targossas):</string><string>(Eleusis):</string><string>(Hashan):</string><string>(Cyrene):</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Order</name><script>demonnic.chat:append("Order")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>(Order):</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Combat</name><script>demonnic.chat:append("Combat")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^(\w+) tells (\w+)\: (.+)\.$</string><string>^(\w+) tells (\w+)\: (.+)\?$</string><string>^(\w+) tells (\w+)\: (.+)\!$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Clans</name><script>demonnic.chat:append("Clans")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>(The Midnight Crew):</string><string>(Project 9):</string><string>(Mudlet Clan):</string><string>(Antlion's Den):</string><string>(Davey Jones' Locker):</string><string>(The al'Dejan family):</string><string>(Jester's Carousal):</string><string>(Mischief 101):</string><string>(Pirates of Meropis):</string><string>(The Soaring Sodality):</string><string>(Jin's Gin Joint):</string><string>(The Dread Navy of Ashtan):</string><string>(Ashuran Academy):</string><string>(The Warriors of Sapience):</string><string>(The Batcave):</string><string>(Colloquium Iniquus):</string><string>(WunderSys):</string><string>(The Mera'din):</string><string>(Flawless Victoly):</string><string>(Military Institute of Baelgrim):</string><string>(The Knights of Three Moons):</string><string>(Gleamius Phallus):</string><string>(Disciples of Ruin):</string><string>(Thug Life):</string><string>(Ashtani Ambassador Coalition):</string><string>(Ashtan Culture Ministry):</string><string>(The Hunting Gang):</string><string>(NFL Fan Clan):</string><string>(Al'Jafri):</string><string>(The Spider's Web):</string><string>(The Parthren Gare):</string><string>(Market):</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Party</name><script>demonnic.chat:append("Party")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>(Party):</string><string>(Group):</string></regexCodeList><regexCodePropertyList>
							<integer>2</integer><integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Says</name><script>demonnic.chat:append("Says")
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^.* says in</string><string>You say</string><string>^\w+ says with a</string><string>You smile and say</string><string>^.* says,</string><string>^.* says to you,</string><string>^(([a-zA-Z ,'^_-]+) (?:scream|mutter|chant|sing|whine|exclaim|snarl|say)s?[a-zA-Z ,'-]*, ".+")$.</string><string>^.* says to</string><string>^.* (.+) says,</string><string>^.* (.+) says to</string><string>^.* (.+) says to you,</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer><integer>2</integer><integer>1</integer><integer>2</integer><integer>0</integer><integer>1</integer><integer>1</integer><integer>1</integer><integer>0</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prospector</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>Prospector</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>prospectingtriggers</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName>prospectingtriggers</packageName><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Prospecting</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Stronghold found</name><script>strongholdowner=matches[2]

strongholdtable[gmcp.Room.Info.num] = {strongholdowner, gmcp.Room.Info.name, gmcp.Room.Info.area}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>This stronghold is controlled by (\w+).</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Lode found</name><script>lodesize = matches[2]
lodetype = matches[3]
if lodesize == "small" or lodesize == "medium" or lodesize == "tiny" then

else
mmp.stop() --Mudlet mapper command
prospecting = 0
killTimer(tostring(prospectingtimer))
send("clan erc tell " ..lodetype .. " found at " .. gmcp.Room.Info.name.. " (" ..gmcp.Room.Info.num.. ") SIZE: " ..lodesize)
end


lodetable[gmcp.Room.Info.num] = {lodesize, lodetype, gmcp.Room.Info.name, gmcp.Room.Info.area}

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffff00</mFgColor><mBgColor>#ff55ff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^You determine that there is a (\w+) lode of (.*) here.</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mine sign</name><script>mineowner = matches[2]

if minetable[minetype] == nil then
	minetable[minetype] = {}
end

loderoom[gmcp.Room.Info.num] = {osminesize, mineowner, minelode, mineprogress, gmcp.Room.Info.name, gmcp.Room.Info.area}
table.insert(minetable[minetype], loderoom)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>This (?:.*) mine is owned by (\w+).</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Mine found</name><script>loderoom = {}
minesize = matches[2]
minetype = matches[3]
minelode = matches[4]
mineprogress = matches[5]*1




--minetable[loderoom] = {minetype, minelode, mineprogress}
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
							<string>^There is a (\w+) (.*) mine here on a (\w+) lode that you'd guess is approximately (\w+)% mined out\.$</string></regexCodeList><regexCodePropertyList>
							<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerGroup><TriggerGroup isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>cart setup</name><script>local vialID = matches[2]
echoLink('\nAdd to Cart (50gp)',
         function() send('cart price '.. vialID ..' 50') end,
         '')</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
				</regexCodeList><regexCodePropertyList>
				</regexCodePropertyList></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>OpSec</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>opsec_grossshitonground</name><script>opsec.wait = true
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>Your movement is slowed as you move through the decimated remains.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>opsec_nowormhole</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ebe591</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>You sense no wormhole here.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>opsec_yeswormhole</name><script>opsec.wormholes = (opsec.wormholes or {})

opsec.wormholes[gmcp.Room.Info.num] = matches[2]
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^You sense a wormhole leading to (.*)\.$</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>opsec_checktotem_loyalty</name><script>totem_target = matches[2]
if totem_target ~= 'enemies of the City of '.. gmcp.Room.Info.area then
  cecho('\n&lt;cyan&gt;TOTEM SETUP WARNING: Tune '..
        'against enemies of '.. gmcp.Room.Info.area ..
        ', not '.. totem_target ..'.')
  opsec.checkedSlots[7] = totem_target
else cecho('\t\t&lt;cyan&gt;OK.') end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^It is tuned against (.+)\.$</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>opsec_checktotem_empower</name><script>opsec.totem_empowered = 1
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>The totem is currently empowered and will warn of attempts to defile it.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>opsec_checktotem_runes</name><script>local rune = matches[3]
local slot = matches[4]

if (gmcp.Room.Info.area == 'Targossas') then
  if ((slot == '3') and (rune ~= 'a butterfly')) then
    cecho('\n&lt;cyan&gt;TOTEM SETUP WARNING: Slot 3 is usually nairat.')
  elseif (((slot == '1') or (slot == '2')) and (rune ~= 'an open eye')) then
    cecho('\n&lt;cyan&gt;TOTEM SETUP WARNING: Slots 1 &amp; 2 are usually wunjo.')
  elseif (((slot == '4') or (slot == '5') or (slot == '6')) and (rune ~= 'a closed eye')) then
    cecho('\n&lt;cyan&gt;TOTEM SETUP WARNING: Slots 4 - 6 are usually fehu.')
  else
    if (slot ~= '3') then cecho('\t') end
    cecho('\t\t&lt;cyan&gt;OK.')
    opsec.checkedSlots[slot] = 'OK'
  end
elseif (gmcp.Room.Info.area == 'Hashan' or gmcp.Room.Info.area == 'Mhaldor') then
  if ((slot == '1') and (rune ~= 'an open eye')) then
    cecho('\n&lt;cyan&gt;TOTEM SETUP WARNING: Slot 1 is usually wunjo.')
  elseif ((slot == '2') and ((rune ~= 'a bell') and (rune ~= 'an open eye'))) then
    cecho('\n&lt;cyan&gt;TOTEM SETUP WARNING: Slot 2 is usually wunjo or mannaz.')
  elseif ((slot == '3') and ((rune ~= 'a butterfly') and
          (rune ~= 'an open eye') and (rune ~= 'a nail'))) then
    cecho('\n&lt;cyan&gt;TOTEM SETUP WARNING: Slot 3 is usually nairat, wunjo, or sowulu.')
  elseif (((slot == '4') or (slot == '5') or (slot == '6')) and
          ((rune ~= 'a butterfly') and (rune ~= 'a closed eye') and
           (rune ~= 'a nail'))) then
    cecho('\n&lt;cyan&gt;TOTEM SETUP WARNING: Slots 4 - 6 are usually nairat, fehu, or sowulu.')
  else
    if ((rune == 'an open eye') or (rune == 'a bell') or
        ((rune ~= 'a butterfly') and (rune ~= 'a nail') and
            ((slot == '4') or (slot =='5') or (slot == '6')))) then cecho('\t') end
    cecho('\t\t&lt;cyan&gt;OK.')
    opsec.checkedSlots[slot] = 'OK'
  end
end

if opsec.checkedSlots[slot] ~= 'OK' then
  opsec.checkedSlots[slot] = rune
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#aaffff</mFgColor><mBgColor>#0000ff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^A rune (like|resembling|that looks like|shaped like) (.+) is sketched in slot (\d{1}).$</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>opsec_checkmono_flame</name><script>opsec.flame_rune_found = 1
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>There is a flame-shaped sigil attached.</string></regexCodeList><regexCodePropertyList>
					<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>opsec_missing_item</name><script>cecho('\n&lt;red&gt;Monolith sigil or totem is missing at '.. gmcp.Room.Info.name ..'!')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#00aaff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>What do you wish to examine?</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>opsec_keeppose</name><script>local fullname = gmcp.Char.Name.fullname:gsub('%.', '%%.'):gsub('%-', '%%-')
local pose = matches[1]:gsub('Your current pose is: ', ''):gsub(fullname, '^')
opsec = (opsec or {})
opsec.lastPose = pose
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>1</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^Your current pose is: .*</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Achaea</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Get karma mask</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>g mask</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>The Mask of the Beast tumbles out of the corpse </string></regexCodeList><regexCodePropertyList>
					<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Auto-follow Friends</name><script>local beckoner = matches[2]

local acceptable_beckoners = {
}

for _, ok_guy in pairs(acceptable_beckoners) do
  if beckoner == ok_guy then send('fol '.. beckoner) end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ffffff</mFgColor><mBgColor>#0055ff</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^(\w+) beckons you to (him|her).$</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>ORB ORB</name><script>send('art This one has '.. matches[2] ..' the Orb of Confinement')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^You have (activated|deactivated) the city's Orb of Confinement\.$</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>GET THAT PEARL</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>g pearl</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>A glistening iridescent pearl tumbles out of the corpse of a barnacle encrusted oyster.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No more cigar</name><script>killTimer(cigarTimer)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^You finish the remainder of a .+ cigar, dropping it</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Keep meditating</name><script>disableTrigger('Keep meditating')

tempTimer(.5, function() enableTrigger('Keep meditating') end)

</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>meditate</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>You snap your head up as you break your meditation.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Elixsum Activate (Detect Missing Potions)</name><script>elixsum = {elixirs = {}}
enableTrigger("Elixsum Read (Detect Missing Potions)")

local every_elixir = {
  "an elixir of frost", "an elixir of health", "an elixir of mana",
  "an elixir of immunity", "an elixir of levitation",
  "an elixir of venom", "an elixir of speed", "a caloric salve",
  "an epidermal salve", "a salve of mending", "a salve of restoration"
}

tempTimer(.5, function()
  disableTrigger("Elixsum Read (Detect Missing Potions)")
  for _, elixir in pairs(every_elixir) do
    if not elixsum.elixirs[elixir] then
      cecho("\n&lt;cyan&gt;Missing ".. elixir .."!")
    elseif elixsum.elixirs[elixir] &lt; 2 then
      cecho("\n&lt;cyan&gt;".. elixir .." looks lonely all by itself...")
    end
  end
end)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^Elixir\s+Sips\s+Vials</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>BONK!!</name><script>if (Megophrys.class == 'Psion' and 
    Megophrys.killStrat == 'denizen') then
  send('say BONK!!!')
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^You have scored a.*CRITICAL hit!</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>No Timeout Unless DC'd</name><script>send('who here')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>You will TIMEOUT in 1 minute unless you do something.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Auto-Expand</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>more</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^\[Type MORE if you wish to continue reading. \((\d+)% shown\)\]$</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>ChamDown</name><script>if keepChameleonUp then
  local chamList = {'Joshfire', 'Zadkiel', 'Zbaco', 'Layta', 'Yen', 'Bambi',
                    'Andraste', 'Andrayas', 'Tianondria', 'Astarod'}
  chameleonedAsUser = nil
  for _, identity in pairs(chamList) do
    if (not table.contains(Megophrys.playersOnline, identity) and
        math.random() &gt; 0.5) then
      chameleonedAsUser = identity
      cecho('\n&lt;DarkOrange&gt;Chameleon set to '.. identity)
      send('touch chameleon '.. identity)
      break
    end
  end
  
  if not chameleonedAsUser then
    cecho('\n&lt;red&gt;WARNING: No suitable chameleon target found.')
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>The effect of your chameleon tattoo slowly fades, and you return to your own</string></regexCodeList><regexCodePropertyList>
					<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Show PW Keypad</name><script>showColors()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>What is your password?</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Get karma medallion</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>g medallion</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>An Ophidian Medallion tumbles out of the corpse </string></regexCodeList><regexCodePropertyList>
					<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Missing tattoo</name><script>if matches[3] then
  if matches[3] == 'leg' then
    if matches[2] == 'Right' then
      cecho('\n&lt;cyan&gt;Missing moss or megalith\n')
    else
      cecho('\n&lt;cyan&gt;Missing chameleon or starburst\n')
    end
  else
    if matches[2] == 'Right' then
      cecho('\n&lt;cyan&gt;Missing shield or cloak\n')
    else
      cecho('\n&lt;cyan&gt;Missing web or mindseye\n')
    end
  end
else
  if matches[2] == 'Head' then
    cecho('\n&lt;cyan&gt;Missing crystal or moon\n')
  elseif matches[2] == 'Torso' then
    cecho('\n&lt;cyan&gt;Missing bell or tree\n')
  else -- back
    cecho('\n&lt;cyan&gt;Missing boar or prism\n')
  end
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>(Head|Torso|Left|Right|Back) ?(arm|leg)?\s+&lt;empty&gt;\s+\-\-\-\s+\-\-\-$</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Suppress hoard misses</name><script>moveCursor(0, getLineCount()) deleteLine()
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^I see no \"(gold|mask|fetish)\" to take.$</string><string>You hold no "sovereigns".</string><string>You have nothing to store in the rift.</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer><integer>3</integer><integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Elixsum Read (Detect Missing Potions)</name><script>elixsum.elixirs[matches[2]:trim()] = tonumber(matches[3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^(.*)\s+\d+\s+(\d+)</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Pulverise Shield</name><script>send('warcry')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>You weave a great warhammer into being and with an overhand swing obliterate</string></regexCodeList><regexCodePropertyList>
					<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Get Karma Fetish</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>g fetish</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>A fetish charm tumbles out of the corpse</string></regexCodeList><regexCodePropertyList>
					<integer>2</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Servitor Return</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>servitor return</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>Your servitor is neither with you or stationed anywhere.</string></regexCodeList><regexCodePropertyList>
					<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hide claimed bounties</name><script>if matches[2] == 'Y' then
  moveCursor(0, getLineCount())
  deleteLine()
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
					<string>^\d+\s+\w+.+(Y|N)\s+\d+gp$</string></regexCodeList><regexCodePropertyList>
					<integer>1</integer></regexCodePropertyList></Trigger><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hunting</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>auto-hoard</name><script>hoard()
cecho('\n&lt;gold&gt;GOLD!\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^A(?: (\w+))? pile of sovereigns spills from the corpse.</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Auto-Squeeze</name><script>send('golem squeeze '.. target)
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You can use Squeeze again.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>General Combat</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Auto-Parry 2</name><script>send('parry '.. matches[3])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Lightning-quick, (\w+) jabs your (.*) with a (.*)\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Monk telekinetic blackout</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>concentrate</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>A devastating blast of telepathic energy strikes you and your senses black out completely...</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>light pipes</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand>light pipes</mCommand><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Your pipe(.*) has gone cold and dark.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Reject forced alliance</name><script>send('unally '.. matches[2] ..'| enemy '.. matches[2])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^You feel irresistibly compelled to ally (\w+).$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Target off salve balance!</name><script>if matches[2] == target then
  cecho('\n&lt;gold&gt;TARGET SALVED '.. matches[4] ..'\n')
end
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#00ff00</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(\w+) takes some salve from a vial and rubs it on (his|her) (arms|legs|torso|head).$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Auto-Parry 1</name><script>send('parry '.. matches[4])
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(\w+) calls upon (\w+) and unleashes a forceful blow at your (.*) with his staff.$</string><string>^Whispering a prayer to the southwestern winds, (\w+) draws (.*) andunleashes a slash towards your (.*)\.$</string><string>^With a smooth lunge to the left, (\w+) draws (.*) from its scabbardand delivers a powerful slash across your (.*)s.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer><integer>1</integer><integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Capture the Flag</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flag Uproot|Plant</name><script>local color = '&lt;badblood&gt;'
if matches[3] == 'planting' then color = '&lt;SpringGreen&gt;' end
cecho('\n\n'.. color .. matches[2]:upper() ..' '.. matches[3]:upper() ..' FLAG!!\n\n')
Megophrys.PartyChatConsole:cecho(color ..'FLAG '.. matches[3]:upper() ..': '.. matches[2]:upper() ..'\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(\w+) begins (uprooting|planting) a flag\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>FLAG HERE</name><script>Megophrys.PartyChatConsole:cecho('&lt;SpringGreen&gt;FLAG LOCATED\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff55ff</mFgColor><mBgColor>#000000</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>A flag emblazoned with Yggdrasil stands here, waving in the breeze.</string></regexCodeList><regexCodePropertyList>
						<integer>0</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Uproot complete</name><script>cecho('\n\n&lt;badblood&gt;'.. matches[2]:upper() ..' TOOK THE FLAG!!!\n\n')
Megophrys.PartyChatConsole:cecho('&lt;SpringGreen&gt;FLAG UPROOTED: '.. matches[2]:upper() ..'\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^The flag has been UPROOTED by (\w+)!$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>FLAG DROP</name><script>cecho('\n\n&lt;badblood&gt;'.. matches[2]:upper() ..' DROPPED FLAG!!!\n\n')
Megophrys.PartyChatConsole:cecho('&lt;SpringGreen&gt;FLAG DROP: '.. matches[2]:upper() ..'\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^A flag emblazoned with Yggdrasil falls from (\w+)'s person\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Hill Change</name><script>cecho('\n\n&lt;SpringGreen&gt;\t\t\t&lt;i&gt;The hills are alive...\n\t\t\tand they\'ve started moving.&lt;/i&gt;\n\n')
Megophrys.PartyChatConsole:cecho('&lt;SpringGreen&gt;HILL CHANGE\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>The hills have moved!</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flag Planted</name><script>cecho('\n\n\t\t&lt;SpringGreen&gt;FLAG PLANTED!!\n\n\t\t\tWAY TO GO!!!!!\n\n')
Megophrys.PartyChatConsole:cecho('&lt;SpringGreen&gt;YOU SCORED!!\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You have planted the flag!</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Uproot stopped</name><script>cecho('\n\n&lt;badblood&gt;'.. matches[2]:upper() ..' STOPPED UPROOTING\n\n')
Megophrys.PartyChatConsole:cecho('&lt;badblood&gt;FLAG UPROOT HALTED: '.. matches[2]:upper() ..'\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^(\w+) stops uprooting the flag\.$</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Flag Uproot|Plant Remote</name><script>local color = '&lt;badblood&gt;'
if matches[2] == 'PLANTED' then color = '&lt;SpringGreen&gt;' end
cecho('\n\n'.. color .. matches[3]:upper() ..' '.. matches[2]:upper() ..' FLAG!!\n\n')
Megophrys.PartyChatConsole:cecho(color ..'FLAG '.. matches[2]:upper() ..': '.. matches[3]:upper() ..'\n')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^A flag has been (UPROOTED|PLANTED) by (\w+)</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup><TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>Vibe Detect</name><script /><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList /><regexCodePropertyList /><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_revelation</name><script>vibeset.revelation = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Revelation(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_oscillate</name><script>vibeset.oscillate = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Oscillate(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_disorient</name><script>vibeset.disorient = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Disorientation(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_reverb</name><script>vibeset.reverb = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Reverberation(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_silence</name><script>vibeset.silence = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Silence(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_creeps</name><script>vibeset.creeps = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Creeps(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_gravity</name><script>vibeset.gravity = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Gravity(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_eqerror</name><script>vibeset.eqerror = 1
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>You must regain equilibrium first.</string></regexCodeList><regexCodePropertyList>
						<integer>3</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_grounding</name><script>vibeset.grounding = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Grounding(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_strid</name><script>vibeset.strid = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Stridulation(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_energise</name><script>vibeset.energise = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Energise(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_dissipate</name><script>vibeset.dissipate = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Dissipate(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_lullaby</name><script>vibeset.lullaby = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Lullaby(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_palpitation</name><script>vibeset.palpitation = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Palpitation(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_tremors</name><script>vibeset.tremors = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Tremors(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_forest</name><script>vibeset.forest = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Forest(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_dissonance</name><script>vibeset.dissonance = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Dissonance(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_plague</name><script>vibeset.plague = 1 
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Plague(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_harmony</name><script>vibeset.harmony = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Harmony(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger><Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no"><name>vibedetect_adduc</name><script>vibeset.adduc = 1
cecho('\t\t&lt;cyan&gt;OK.')
</script><triggerType>0</triggerType><conditionLineDelta /><mStayOpen>0</mStayOpen><mCommand /><packageName /><mFgColor>#ff0000</mFgColor><mBgColor>#ffff00</mBgColor><mSoundFile /><colorTriggerFgColor>#000000</colorTriggerFgColor><colorTriggerBgColor>#000000</colorTriggerBgColor><regexCodeList>
						<string>^Adduction(\s+)Nasuta</string></regexCodeList><regexCodePropertyList>
						<integer>1</integer></regexCodePropertyList></Trigger></TriggerGroup></TriggerGroup></TriggerPackage><TimerPackage><TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no"><name>Megophrys</name><script /><command /><packageName /><time>00:00:00.000</time><Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no"><name>Show Time</name><script>sendGMCP([[IRE.Time.Request]])
</script><command /><packageName /><time>00:00:04.000</time></Timer><Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no"><name>Who</name><script>getHTTP('http://api.achaea.com/characters.json')
</script><command /><packageName /><time>00:00:05.000</time></Timer></TimerGroup><TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no"><name>AK Opponent Tracking</name><script /><command /><packageName>AK Opponent Tracking</packageName><time>00:00:00.000</time><TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no"><name>AK Opponent Tracking</name><script /><command /><packageName /><time>00:00:00.000</time><Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no"><name>Wrench Torso Timer</name><script>--ak.HeadWrench
ak = ak or {}
if affstrack.score.wrenchhead then
   if ak.InitialWrench then
      ak.InitialWrench = false
   else
      local aff = "epilepsy"
      OppGainedAff(aff)
   end
else
   disableTimer("Wrench Torso Timer")
end
</script><command /><packageName /><time>00:00:04.000</time></Timer><Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no"><name>Hypnosis Timer</name><script>if hypnosis_table[target] and hypnosis_table[target].load and #hypnosis_table[target].load &gt; 0  then
   if hypnosis_table[target].load[#hypnosis_table[target].load] ~= "impatience" then
      OppGainedAff(hypnosis_table[target].load[#hypnosis_table[target].load])
      ak.scoreup(target)
   end
   table.remove(hypnosis_table[target].load, #hypnosis_table[target].load)
   if #hypnosis_table[target].load  == 0 then
      disableTimer("Hypnosis Timer")
      resetHypno = tempTimer(1,[[
         hypnosis_table[target].load = {}
      ]])
      ak.scoreup(target)
   end
else
   disableTimer("Hypnosis Timer")
   resetHypno = tempTimer(1,[[
      hypnosis_table[target].load = {}
   ]])
   ak.scoreup(target)
end
</script><command /><packageName /><time>00:00:02.000</time></Timer><Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no"><name>Hypochondria Timer</name><script>if affstrack.score.hypochondria &gt; 0 then
   for i = 1, #affstrack.hypo do
      if affstrack.score[affstrack.hypo[i]] ~= 100 then
         if affstrack.hypo[i] ~= "impatience" then
            affstrack.score[affstrack.hypo[i]] = 100
            ak.scoreup(target)
            return
         end
      end
   end
else
   disableTimer("Hypochondria Timer")
end
</script><command /><packageName /><time>00:00:02.500</time></Timer><TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no"><name>2h</name><script /><command /><packageName /><time>00:00:00.000</time><Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no"><name>AK_RibsTimer</name><script>ak.ribscount = ak.ribscount or 0
ak.ribscount = ak.ribscount + 1
if ak.twoh.ribs == 0 then
	disableTimer("AK_RibsTimer")
	ak.ribscount = 0
elseif ak.twoh.ribs == 1 and ak.ribscount == 5 then
	ak.ribscount = 0
	OppGainedAff("prefarar")
elseif ak.twoh.ribs == 2 and ak.ribscount == 4 then
	ak.ribscount = 0
	OppGainedAff("prefarar")
elseif ak.twoh.ribs == 3 and ak.ribscount == 3  then
	ak.ribscount = 0
	OppGainedAff("prefarar")
elseif ak.twoh.ribs == 4 and ak.ribscount == 2 then
	ak.ribscount = 0
	OppGainedAff("prefarar")
elseif ak.twoh.ribs == 5 and ak.ribscount == 1 then
	ak.ribscount = 0
	OppGainedAff("prefarar")
end 
</script><command /><packageName /><time>00:00:01.000</time></Timer><Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no"><name>AK_TendonTimer</name><script>ak.tendonscount = ak.tendonscount or 0
ak.tendonscount = ak.tendonscount + 1
if ak.twoh.tendons == 0 then
	disableTimer("AK_TendonTimer")
	ak.tendonscount = 0
elseif ak.twoh.tendons == 1 and ak.tendonscount == 5 then
	ak.tendonscount = 0
	OppGainedAff("clumsiness")
elseif ak.twoh.tendons == 2 and ak.tendonscount == 4 then
	ak.tendonscount = 0
	OppGainedAff("clumsiness")
elseif ak.twoh.tendons == 3 and ak.tendonscount == 3  then
	ak.tendonscount = 0
	OppGainedAff("clumsiness")
elseif ak.twoh.tendons == 4 and ak.tendonscount == 2 then
	ak.tendonscount = 0
	OppGainedAff("clumsiness")
elseif ak.twoh.tendons == 5 and ak.tendonscount == 1 then
	ak.tendonscount = 0
	OppGainedAff("clumsiness")
end 
</script><command /><packageName /><time>00:00:01.000</time></Timer><Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no"><name>AK_SkullTimer</name><script>ak.skullcount = ak.skullcount or 0
ak.skullcount = ak.skullcount + 1
if ak.twoh.skull == 0 then
	disableTimer("AK_SkullTimer")
	ak.skullcount = 0
elseif ak.twoh.skull == 1 and ak.skullcount == 5 then
	ak.skullcount = 0
	OppGainedAff("nausea")
elseif ak.twoh.skull == 2 and ak.skullcount == 4 then
	ak.skullcount = 0
	OppGainedAff("nausea")
elseif ak.twoh.skull == 3 and ak.skullcount == 3  then
	ak.skullcount = 0
	OppGainedAff("nausea")
elseif ak.twoh.skull == 4 and ak.skullcount == 2 then
	ak.skullcount = 0
	OppGainedAff("nausea")
elseif ak.twoh.skull == 5 and ak.skullcount == 1 then
	ak.skullcount = 0
	OppGainedAff("nausea")
end 

</script><command /><packageName /><time>00:00:01.000</time></Timer></TimerGroup></TimerGroup></TimerGroup><TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no"><name>Tragedy</name><script /><command /><packageName>Tragedy</packageName><time>00:00:00.000</time><Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no"><name>Test Timer for Afflictions</name><script>expandAlias("lua xtarget.afflictions")
</script><command /><packageName /><time>00:00:01.500</time></Timer></TimerGroup><TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no"><name>mudlet-mapper</name><script /><command /><packageName>mudlet-mapper</packageName><time>00:00:00.000</time><TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no"><name>Mudlet Mapper</name><script /><command /><packageName /><time>00:00:00.000</time><Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no"><name>Check for updates periodically</name><script>mmp.checkforupdate()
</script><command /><packageName /><time>01:00:00.000</time></Timer></TimerGroup></TimerGroup></TimerPackage><AliasPackage><AliasGroup isActive="yes" isFolder="yes"><name>limb.1.2</name><script /><command /><packageName>limb.1.2</packageName><regex /><AliasGroup isActive="yes" isFolder="yes"><name>Limb</name><script /><command /><packageName /><regex /><Alias isActive="no" isFolder="no"><name>^t (.+)$</name><script>send("settarget " .. matches[2])
target = matches[2]:lower():title()

-- This is an example target alias. Note that the target variable has to be properly capitalised.
</script><command /><packageName /><regex>^t (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>^lra$</name><script>lb.resetAll(target)
</script><command /><packageName /><regex>^lra$</regex></Alias><Alias isActive="yes" isFolder="no"><name>^lr (.+)$</name><script>local convert = {
  head = "head",
  hh = "head",
  h = "head",
   
  torso = "torso",
  tt = "torso",
  t = "torso",
  
  ["right arm"] = "right arm",
  ra = "right arm",
  rarm = "right arm",
  
  ["left arm"] = "left arm",
  la = "left arm",
  larm = "left arm",
  
  ["right leg"] = "right leg",
  rl = "right leg",
  rleg = "right leg",
  
  ["left leg"] = "left leg",
  ll = "left leg",
  lleg = "left leg",
}

if convert[matches[2]] and target and lb[target] then
  lb.resetLimb(target, convert[matches[2]])
end
</script><command /><packageName /><regex>^lr (.+)$</regex></Alias></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="no"><name>test</name><script>display(gmcp)</script><command /><packageName /><regex>^test$</regex></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>TargetCallTables</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Show Current Target Prio List</name><script>cecho('\n&lt;'.. TargetCallTables.Config.EchoColor ..'&gt;Current target prios:\n')
for prio, tgt in pairs(TargetCallTables.targetPrios) do
  cecho(('&lt;'.. TargetCallTables.Config.EchoColor ..'&gt;'.. tostring(prio) ..': '
         .. tgt ..'\n'))
end
</script><command /><packageName /><regex>^stlist$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Set Target N</name><script>local num = matches[2]
local tar = matches[4]

if tar ~= nil then
  TargetCallTables.addTarget(num, tar)
else
  TargetCallTables.callTarget(num)
end
</script><command /><packageName /><regex>^st(\d+)( (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Next Target</name><script>TargetCallTables.nextTarget()
</script><command /><packageName /><regex>^nt$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Set List of Targets</name><script>local targets = {}
local targetList = string.gsub(matches[1], "^st ", "")
for t in string.gmatch(targetList, "%w+") do
  if t ~= "and" then
    targets[#targets + 1] = t
  end
end

if #targets == 1 then
  target = targets[1]:lower():title()
  sendAll('st '.. targets[1], 'pt Target: '.. targets[1])
else
  TargetCallTables.setTargets(targets)
end
</script><command /><packageName /><regex>^st (\w+[, ]*)*\.?$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>OpSec Private</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Targossas Opsec Path</name><script>-- fun fact: this is backwards because it's the only efficient way to pop in lua
local commands = {
  -- Veil's end
  'goto 40513', 'ne', 'n', 'w', 'n', 'goto 40975',
  'e', 'se', 's', 'sw', 'se', 'ne', 'ne', 's', 'goto 6848', 'goto 6850',
  'sw', 'goto 4715', 'goto 4883', 'goto 4888', 'goto 5243', 'e', 'e', 'goto 2656',
  'sw', 'e', 'se', 'e', 'se', 'se', 'w', 'goto 40370',
  -- Eusian Falls
  'up', 'n', 'up', 'up', 's', 's', 'up', 'n', 'n', 'up', 's', 'goto 40490',
  -- Shornwall
  'goto 40403', 'w', 's',' w', 'n', 'goto 40235', 'n', 'e',
  'goto 40739', 'goto 4309', 'goto 42', 'goto 40372', 'n', 'se', 'sw', 'goto 3687',
  'goto 5515', 'goto 6844', 'goto 40435', 'goto 5403', 'goto 4462',
  'sw', 'sw', 'w', 'goto 40218', 'goto 40766',
  's', 'se', 'se', 'e', 'nw', 'goto 20797',
  -- Anost
  'n', 'n', 'se', 'ne', 'goto 40154',
  's', 'e', 'e', 'goto 40090', 's', 'se', 'goto 40069',
  -- Duskmere
  'sw', 's', 'goto 40431',
  's', 'sw', 's', 'ne', 'e', 'goto 2353', 'e', 'sw',
  'w', 'w', 'sw', 'n', 'nw', 'w', 'ne', 'e', 'e', 'se', 'goto 22107',
  'goto 6856', 'e', 'nw', 'down', 'goto 40346', 'goto 4220', 'goto 5494',
  'goto 3725', 'goto 6862', 'nw', 'n', 'e', 'e', 'e', 'goto 38928',
  -- Blackstone Quarter
  'n', 'down', 'e', 'down', 'down', 'down', 'ne', 'e', 'goto 51853',
  'n', 'e', 'se', 'e', 'down', 's', 'ne', 'n', 'n', 'n', 'goto 39933',
  'up', 'up', 'goto 40461', 'w', 's', 's', 'sw', 'goto 40387',
  -- Averrone
  's', 'se', 'se', 'ne', 'goto 41814', 'up', 'goto 41095', 'up', 'se', 'goto 40776',
  -- Sundown &amp; Mirror Isles
  'e', 'e', 'e', 'goto 35083', 'goto 35279', 'goto 42079', 'goto 4431', 'goto 42678',
  'sw', 'w', 'sw', 'se', 'goto 41322', 'w', 'sw', 'w', 'goto 36883',
  -- Acacia Isle
  'goto 38903', 'goto 40785', 'up',
  'n', 'ne', 'ne', 'e', 'n', 'n', 'w', 'w', 'w', 's', 's', 'se', 's', 'goto 32098',
  'sw', 'se', 'goto 3852', 'goto 6854', 'goto 3551',
  'nw', 'sw', 'e', 'goto 3722', 's', 'w', 'goto 3831', 'goto 40684',
  -- Greathorn
  'nw', 'w', 'w', 'sw', 'w', 'goto 39992',
  'sw', 'goto 42233', 'goto 41251', 'n', 'goto 40906', 'goto 40026', 'goto 40755', 'w', 'n', 'nw', 'nw',
  -- Pillars of the Morning
  'goto 40031', 'n', 'w', 'w', 'n', 'goto 40349',
  'up', 'up', 'in', 'se', 's', 's', 'goto 40356',
  'up', 'up', 'in', 'ne', 'e', 'e', 'e', 'n', 'n', 'goto 40243',
  -- Western Brighthold &amp; Isle of Ram
  'w', 'n', 'n', 'se', 'goto 45442', 'goto 41550', 'goto 41283', 'goto 22269',
  'goto 41259', 'goto 42146', 'se', 'n', 'goto 41351', 'goto 40367',
  'nw', 'w', 'goto 40359', 's', 's', 'goto 40192', 's', 's', 'goto 40190',
  -- Square and Temples
  'goto 40256', 'goto 40409', 'goto 40415',
  'w', 's', 'w', 'goto 40265', 'goto 40379', 'goto 40374', 'e', 'n', 'w', 'n',
  -- Terrace of the Dawn
  'goto 40257', 'e', 'e', 'e', 'n',
  'goto 40505', 'e', 'n', 'goto 40514', 'e', 'n', 'n', 'goto 40520', 'n', 'w', 'w',
  'goto 40527', 'e', 'e', 's', 'goto 40557', 'goto 40586', 's', 'e', 'n', 'n',
  'goto 40558', 's', 'e', 'goto 40599', 'n', 'e', 'n', 'd'
}

expandAlias('opsec reset')
expandAlias('goto 40609')
opsec.checkWormholes = false

tempTimer(6, [[ echo('\nStarting opsec run in 4...\n') ]])
tempTimer(7, [[ echo('3...\n') ]])
tempTimer(8, [[ echo('2...\n') ]])
tempTimer(9, [[ echo('1...\n') ]])
opsec.runTimer = tempTimer(10, function() opsec.doCommand(commands) end)
</script><command /><packageName /><regex>^checktarg$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Hashan Opsec Path</name><script>-- fun fact: this is backwards because it's the only efficient way to pop in lua
local commands = {
  -- Bazaar &amp; Porta Aquila
  'goto 4639', 's', 'se', 'se', 'e', 'goto 4646',
  'goto 7654', 'sw', 'nw', 'nw', 'n', 'e', 'ne',
  'goto 4650', 'goto 4655', 'n', 'n', 'n', 'goto 4487', 'goto 4674',
  'ne', 'w', 's', 's', 'sw', 's', 's', 's', 's', 'goto 4482',
  'n', 'n', 'n', 'goto 6135', 'n', 'n', 'n', 'goto 5008',
  'n', 'n', 'goto 4543', 'sw', 's', 'se', 'e', 'goto 4538',
  -- Northwestern Corner
  'goto 5930', 'down', 'w', 'goto 31398', 's', 's', 'e', 'se',
  'ne', 'n', 'n', 'nw', 'goto 4531', 'goto 36167', 'goto 4728',
  's', 's', 'nw', 'w', 'goto 4528', 'goto 35274', 'n', 'nw', 'n', 'n', 'sw', 'w',
  'goto 4525', 'goto 36098', 's', 's', 'w', 'sw', 'nw', 'n',
  -- Eventide Alehouse &amp; Serpentis Blvd
  'w', 'w', 'goto 20202', 's', 's', 'goto 6840', 's', 's', 'goto 6830',
  's', 's', 'goto 6836', 'goto 4673', 'n', 'e', 'goto 5487',
  'n', 'e', 'e', 'goto 4516', 'goto 15758', 'out', 's', 's',
  -- Old Quarter
  'ne', 'e', 'se', 'e', 'se', 'goto 4522', 'n', 'e', 'e', 'se', 'goto 1380',
  'w', 'n', 'e', 'goto 4973', 'w', 'w', 'goto 1396', 'e', 'goto 1389',
  'goto 1391', 'w', 'up', 'n', 'goto 1387', 'e', 'n', 'nw', 'nw', 'goto 1395',
  'n', 'w', 'out', 'goto 1332', 'goto 5450', 's', 'goto 1336', 'goto 5553',
  'ne', 's', 'goto 1339', 'w', 'w', 'n', 'goto 6419',
  'ne', 's', 'goto 1373', 'goto 5460', 'goto 1342',
  'se', 'sw', 'w', 'n', 'goto 1404', 'up', 'e', 'n', 'n', 'w',
  -- Coliseum, Obelisk, and Port
  'goto 4493', 'n', 'sw', 'w', 'sw', 'goto 4466', 'up', 'n', 'goto 25811',
  's', 's', 's', 's', 'sw', 's', 'goto 4484', 'goto 4467', 'goto 4508', 'n',
  'w', 'nw', 'w', 'goto 4495', 'n', 'w', 'w', 's', 'se', 's',
  -- Shopping Centre by Crossroads
  'goto 4471', 'se', 'se', 'goto 4399',
  's', 's', 'goto 6822', 's', 's', 'goto 6842',
  'goto 6866', 'up', 'n', 'n', 'w', 'sw', 'n', 'goto 6864',
  -- Court &amp; Seneschal's Complex
  'goto 4564', 'goto 10582', 'goto 19673', 'w', 'n', 'goto 4560',
  'goto 4559', 's', 'nw', 'n', 'w', 'goto 4558', 'goto 5523', 'nw', 'w',
  'goto 5526', 'w', 'sw', 's', 'e', 'goto 5524', 'e', 'ne', 'goto 5520',
  'w', 'sw', 's', 's', 'w', 's', 'goto 6816', 'n', 'sw', 's', 'goto 6824',
  -- Ereptor St &amp; Prospero Ave
  'goto 4599',
  'w', 'goto 39237', 'goto 39331', 'e', 'n', 'in', 'n', 'goto 4601', 'goto 4607',
  'w', 'nw', 'ne', 'e', 's', 'e', 'n', 'goto 4602', 'goto 4613', 'goto 59114',
  'goto 59649', 'n', 'n', 'w', 'w', 'sw', 'se', 'goto 4614', 'goto 6132', 'w', 'up',
  'w', 'w', 's', 'sw', 'goto 4612', 'goto 9988', 'e', 'e', 'se',
  'goto 4622', 'up', 'w', 'se', 'se', 'goto 4619', 'in', 's', 'sw',
  -- Menagerie &amp; Park
  'goto 4599', 'goto 4573', 'nw', 's', 's', 'nw', 'n', 'sw', 'se', 's', 'se',
  'goto 4589', 'goto 4579', 'goto 4584', 'w', 'w', 's', 's', 'e', 'e', 'n', 'e',
  'ne', 'nw', 'w', 'w', 'w', 'sw', 'w', 'sw', 's', 'goto 4569',
  -- Black Lotus Monastery &amp; Porta Nemorosus
  'e', 'se', 'e', 's', 's', 'goto 4630', 'goto 4634', 'goto 1319', 'goto 30359',
  'n', 'e', 'e', 'e', 's', 'se', 'w', 's', 'e', 's', 's',
  -- Planetarium
  'sw', 'sw', 'se', 'e', 'goto 41032', 'goto 27754', 'goto 27769',
  'goto 27759', 'e', 'ne', 'w', 'w', 'w', 'sw', 'e', 'se',
  'd', 's', 'd','d', 'd', 'ne', 'd', 'd', 'sw', 'd', 'd',
}

expandAlias('opsec reset')
expandAlias('goto 26639')
opsec.checkWormholes = false

tempTimer(12, [[ echo('\nStarting opsec run in 4...\n') ]])
tempTimer(13, [[ echo('3...\n') ]])
tempTimer(14, [[ echo('2...\n') ]])
tempTimer(15, [[ echo('1...\n') ]])
opsec.runTimer = tempTimer(16, function() opsec.doCommand(commands) end)
</script><command /><packageName /><regex>^checkhash$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Mhaldor Opsec Path</name><script>-- fun fact: this is backwards because it's the only efficient way to pop in lua
local commands = {
  -- More Balegrim Fortress
  'goto 11090', 'goto 10713', 'up', 'w', 'sw', 's', 's', 'se',
  'e', 'e', 'ne', 'n', 'n', 'nw', 'goto 10717', 'up', 'up', 'goto 10710',
  'goto 10672', 'goto 10671', 'goto 60202', 'goto 60887', 'goto 60998',
  -- Spire of Malevolance
  'goto 60439', 'in', 'out', 'up', 'goto 60369', 'goto 61310', 'goto 61186', 'nw',
  -- Mhaldor Road &amp; Baelgrim Fortress
  'goto 60676', 'goto 31686', 'goto 60202',
  'n', 'n', 'goto 10702', 'e', 'e', 'goto 61716', 'w', 'up',
  'up', 'e', 'goto 10693', 'goto 13436', 'w', 's', 'e', 'e', 'goto 10664',
  'n', 'sw', 's', 'goto 28778', 'nw', 'goto 14314', 'goto 10660',
  'd', 'n', 'n', 'n', 'n', 'up', 'up', 'up', 'up',
  -- Gatehouse &amp; lab
  'goto 11095', 'goto 10577', 'goto 30958', 'w', 's', 
  'goto 11089', 'goto 11142', 'w', 'se', 'goto 11142', 'goto 40330',
  'n', 'e', 'se', 'se', 's', 'goto 11134', 'e', 's', 'goto 11130',
  -- Red Square
  'goto 55665', 'goto 4423', 'goto 11933', 'sw', 's', 'w', 'w', 'nw', 'n',
  'goto 12475', 'goto 52963', 'goto 48909', 'goto 52103', 'goto 9802',
  'goto 9805', 'goto 9766', 'nw', 'e', 'n', 'n', 'nw', 'goto 12479',
  -- Museum &amp; Surrounding
  'goto 46930', 'n', 'in', 'w', 'w', 'goto 12483', 's', 's', 'e', 'n',
  'goto 27425', 'w', 'w', 'n', 'e', 'e', 'ne', 's', 's', 's',
  'goto 27479', 's', 's', 'w', 'sw', 'sw', 'goto 12470',
  'e', 'e', 'goto 18255', 'goto 9843', 'goto 18235', 'goto 16838',
  -- Circle of Damnation &amp; Slave Market
  'e', 'goto 12664', 'goto 13619', 'goto 8374', 'goto 12817',
  'goto 14018', 'goto 13518', 'goto 8396', 'goto 14302',
  'goto 16447', 'goto 15163', 'goto 15045', 'ne', 's', 'se', 'se',
  'goto 12460', 'goto 53384', 'w', 'n', 'e', 'e', 'ne', 'd',
  -- Vault, Blood Gulch, Tavern
  'goto 11127', 'goto 12500', 'goto 12497', 'goto 12515',
  'w', 'up', 'n', 'n', 'w', 'sw', 'd', 'd', 'goto 11145', 's',
  -- Post Office, Lab, Warehouses
  'nw', 'sw', 'goto 13147', 'goto 22328', 'goto 22531', 'goto 12478',
  's', 'sw', 'nw', 'goto 11116', 'goto 11826', 'n', 'e', 'n', 'w',
  -- Belltower &amp; Outer
  's', 's', 's', 'e', 's', 'goto 21698',
  'goto 19972', 'goto 23343', 'n', 'up', 'n', 'w', 'up', 's', 'e',
  -- Cathedral Upper Level
  'goto 21583', 's', 'out', 'goto 23324', 'goto 23318', 'e', 'sw', 'goto 23315',
  'goto 23310', 'n', 'se', 'e', 'goto 23340', 'goto 23309', 'n', 'se',
  'goto 23306', 'n', 'e', 'goto 23303', 'goto 23302', 'w', 'ne',
  'goto 23300', 'goto 23296', 'goto 23295', 'sw', 'n', 'up', 'goto 21920',
  -- Cathedral
  'goto 20460', 'goto 20539', 'goto 21640', 'se', 's', 'sw', 'goto 21536',
  'goto 21666', 'goto 22103', 'up', 'n', 'ne', 'n', 'nw', 'n', 'n',
  'n', 'w', 's', 'e', 's', 'goto 22500', 'n', 'w', 's'
}

expandAlias('opsec reset')
expandAlias('goto 23294')
opsec.checkWormholes = false

tempTimer(12, [[ echo('\nStarting opsec run in 4...\n') ]])
tempTimer(13, [[ echo('3...\n') ]])
tempTimer(14, [[ echo('2...\n') ]])
tempTimer(15, [[ echo('1...\n') ]])
opsec.runTimer = tempTimer(16, function() opsec.doCommand(commands) end)
</script><command /><packageName /><regex>^checkmhal$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Talisman</name><script /><command /><packageName>Talisman</packageName><regex /><AliasGroup isActive="yes" isFolder="yes"><name>Talisman</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Talisman market buy</name><script>local source = matches[4] or "P"
if source == "P" then
  source = "promo"
else
  source = "refine"
end
queue.inject(string.format("open pack265875|get %s coins from pack265875|Talisman market buy 1 %s level 1 %s %s|agree|put coins in pack265875|close pack265875", matches[3], matches[2], source, matches[3]))
</script><command /><packageName /><regex>^tbuy (\w+) (\d+)(?: (P|R))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Talisman Trade Help</name><script>talisman.help()
</script><command /><packageName /><regex>^(?:ttrade|thelp)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Talisman Trade</name><script>if matches[2]:lower()=="set" then
	talisman.tradeset(matches[3], matches[4], matches[6])
elseif matches[2]:lower()=="talisman" then
	talisman.tradetalisman(matches[3], matches[4], matches[6])
else
	talisman.trade(matches[3], matches[4], (tonumber(matches[5]) or 1), matches[6])
end

</script><command /><packageName /><regex>^(?:ttrade|TTRADE)(?: (set|SET|talisman|TALISMAN))? (\w+) (\w+)(?: (\d+))?(?: (R|P))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Talisman Complete</name><script>talisman.complete(matches[2])
</script><command /><packageName /><regex>^tcomplete (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Summary</name><script>talisman.summary(matches[2])
</script><command /><packageName /><regex>^(?:tlist|TLIST)(?: (\w+))?$</regex></Alias></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Megophrys</name><script /><command /><packageName>Megophrys</packageName><regex /><Alias isActive="yes" isFolder="no"><name>LoSMode</name><script>Megophrys.LOSDirection = matches[2]
Megophrys.setMode('los')
</script><command /><packageName /><regex>^los (n|ne|nw|e|s|se|sw|w|in|out|u|d)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Hammer of Phaestus</name><script>local hammer = 'hammer480738'
sendAll('wield '.. hammer ..' left', 'smite ground with hammer', 'unwield '.. hammer)
</script><command /><packageName /><regex>^hmr$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Active Heal</name><script>local healTries = {'touch crystal'}

if gmcp.Char.Status.class == 'Magi' then
  healTries[#healTries + 1] = 'absorb energy'
  healTries[#healTries + 1] = 'cast bloodboil'
elseif gmcp.Char.Status.class == 'Blademaster' then
  healTries[#healTries + 1] = 'shin phoenix'
  healTries[#healTries + 1] = 'alleviate'
elseif gmcp.Char.Status.class == 'Psion' then
  healTries[#healTries + 1] = 'psi expunge'
  healTries[#healTries + 1] = 'psi breakthrough'
elseif gmcp.Char.Status.class == 'Alchemist' then
  healTries[#healTries + 1] = 'educe salt'
end

sendAll('setalias activeHeal '.. table.concat(healTries, ' / '),
        'queue addclear eqbal activeHeal')
</script><command /><packageName /><regex>^heal$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Portals</name><script>send('point wand600657 at '.. matches[2])
</script><command /><packageName /><regex>^port (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Enemy List</name><script>Megophrys.setEnemies(matches[2])
</script><command /><packageName /><regex>^enem (\w+(, a?n?d? ?\w+)*){1}\.?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Journal QQ</name><script /><command>get journal279704 from hat405053 | write journal279704</command><packageName /><regex>^jj$</regex></Alias><Alias isActive="yes" isFolder="no"><name>EnemyWho</name><script>enableTrigger('suppress_enw_spam')

for _, enemy in pairs(Megophrys.enemies or {}) do 
  send('qw '.. enemy)
end

tempTimer(.5, function()
  disableTrigger('suppress_enw_spam')
end)
</script><command /><packageName /><regex>^enw$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Reconnect Megophrys</name><script>Megophrys.onConnect()
</script><command /><packageName /><regex>^reinit$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Set target</name><script>Megophrys.setTarget(matches[3])
-- set optional target2, target3
target2 = matches[4] or nil
target3 = matches[5] or nil

if matches[2] ~= "" then
  Megophrys.autoAttack()
end
</script><command /><packageName /><regex>^t(a?) (['\w]+)(?: (['\w]+))?(?: (['\w]+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Find'n'Follow</name><script>send('walk to '.. matches[2] ..'| fol '.. matches[2])
</script><command /><packageName /><regex>^ff (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Check target health | mana</name><script>Megophrys.assess(matches[2])
</script><command /><packageName /><regex>^chk(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Show Controls</name><script>local keyPadImage = [[
 ____   ____   ____   ____   ____
| 01 | | 02 | | 03 | | 04 | | 05 |
|    | |    | |    | |    | |    |
'----' '----' '----' '----' '----'
 ____   ____   ____   ____   ____
| 06 | | 07 | | 08 | | 09 | | 10 |
|    | |    | |    | |    | |    |
'----' '----' '----' '----' '----'
 ____   ____   ____   ____   ____
| 11 | | 12 | | 13 | | 14 | | 15 |
|    | |    | |    | |    | |    |
'----' '----' '----' '----' '----'
 ____   ____   ____   ____ 
| 16 | | 17 | | 18 | | 19 |      x  x
|    | |    | |    | |    |    x      x
'----' '----' '----' '----'   x   21   x
                               x      x
                                 x  x
                         ________________
                        |                |
                        |       20       |
                        |                |
                        |                |
                        '________________'
]]

local display = keyPadImage ..'\n\n'
local toggleOneLabel = Megophrys[Megophrys.class].toggleOneLabel or 'UNASSIGNED'

display = display .. '(01) &lt;F8&gt; \t'.. toggleOneLabel ..'\n'
display = display .. '(02) &lt;F9&gt; \tToggle single/dual limb prep\n'
display = display .. '(03) &lt;F10&gt;\tToggle right/left primary limb prep\n'
display = display .. '(04) &lt;F11&gt;\tToggle head/torso prep gauge\n'
display = display .. '(05) &lt;F12&gt;\tToggle legs/arms limb prep\n\n'

display = display .. '(06)  `   \tPerform class-specific "Special"\n'
display = display .. '(07) &lt;F4&gt; \tSet primary element to EARTH\n'
display = display .. '(08) &lt;F5&gt; \tSet primary element to FIRE\n'
display = display .. '(09) &lt;F6&gt; \tSet primary element to AIR\n'
display = display .. '(10) &lt;F7&gt; \tSet primary element to WATER\n\n'

display = display .. '(11) L3SHF\tWith (21) MENU, AutoPursue (PURSUE)\n'
display = display .. '(12) &lt;F13&gt;\tUnassigned\n'
display = display .. '(13) &lt;F14&gt;\tUnassigned\n'
display = display .. '(14) &lt;F15&gt;\tDuanatharan!\n'
display = display .. '(15) &lt;F16&gt;\tDuanathar!\n\n'

display = display .. '(16) ALT_L\tWith (21) MENU, AutoEscape (FLEE)\n'
display = display .. '(17) &lt;F1&gt; \tSet Mode: HUNT (Denizen)\n'
display = display .. '(18) &lt;F2&gt; \tSet Mode: RAID\n'
display = display .. '(19) &lt;F3&gt; \tSet Mode: PK (default)\n'
display = display .. '(20) RSUP \tShields up! (RESIST)\n'
display = display .. '(21) MENU \tCommence AutoAttack (ATTACK)\n\n'

display = display .. 'EMERGENCY STOP: (11+16+21) L3SHF + ALT_L + MENU'
echo(display)

</script><command /><packageName /><regex>^ctrls$</regex></Alias><Alias isActive="yes" isFolder="no"><name>RaidMode</name><script>if matches[2] then
  Megophrys.raidLeader = matches[2]
end
Megophrys.setMode('raid')
</script><command /><packageName /><regex>^raid(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Megophrys Config</name><script>if matches[2] == 'dirpad' then
  if matches[3] == 'show' then DirPad:show() else DirPad:hide() end
elseif matches[2] == 'hpbars' then
  if matches[3] == 'show' then
    Megophrys.hpGauge:show()
    Megophrys.mpGauge:show()
  else
    Megophrys.hpGauge:hide()
    Megophrys.mpGauge:hide()
  end
end
</script><command /><packageName /><regex>^megophrys config(?: (dirpad|hpbars))?(?: (show|hide))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Reflections</name><script>send('point wand127259 at '.. (matches[2] or 'me'))
</script><command /><packageName /><regex>^ref(?: (\w+))$</regex></Alias><Alias isActive="yes" isFolder="no"><name>HuntMode</name><script>Megophrys.setMode('denizen')
if matches[3] then
  Megophrys.huntingGround = matches[3]
  cecho('\n&lt;cyan&gt;Hunting ground: '..
        Megophrys.huntingGround:title()
        ..'\n')
  Megophrys.setTarget(matches[2])
elseif matches[2] then
  Megophrys.setTarget(matches[2])
end
</script><command /><packageName /><regex>^hunt(?: (\w+))?(?: (.*))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Tumble Random Direction</name><script>Megophrys.tumbleRandom()
</script><command /><packageName /><regex>^tum$</regex></Alias><AliasGroup isActive="yes" isFolder="yes"><name>Selfishness</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Sell while selfish</name><script>local item = matches[2]
local merchant = matches[3]
Megophrys.sellWhileSelfish(item, merchant)
</script><command /><packageName /><regex>^sl (\w+) (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Offer while selfish</name><script>Megophrys.offerWhileSelfish(matches[2])
</script><command /><packageName /><regex>^of(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Buy while selfish</name><script>local item = matches[2]
local qty = matches[3]
local cmd = 'buy '

if item == 'letter' or item == 'parcel' then cmd = 'request ' end

elixirs = {'health', 'mana', 'mending', 'immunity', 'epidermal', 'restoration',
          'caloric', 'mass', 'slike', 'delphinium', 'gecko', 'voyria', 'speed',
          'venom', 'levitation', 'frost'}
          
for _, elixir in pairs(elixirs) do 
  if item == elixir then cmd = 'refill rift from ' end
end

sendAll('get '.. qty ..' sovereigns from pack',
        cmd .. item)
</script><command /><packageName /><regex>^acq (\w+) (\d+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Hoard</name><script>Megophrys.hoard()
</script><command /><packageName /><regex>^hoard$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Bank while selfish</name><script>local amt = matches[2]
local org = matches[3]
local reason = matches[4]

if reason then
  sendAll('get '.. amt .. ' sovereigns from pack',
          'deposit '.. amt ..' gold '.. org ..' '.. reason)
elseif org then
  sendAll('get '.. amt .. ' sovereigns from pack',
          'deposit '.. amt ..' gold '.. org)
else
  sendAll('get '.. amt .. ' sovereigns from pack',
          'deposit '.. amt ..' gold')
end
</script><command /><packageName /><regex>^bank (\d+)(?: (\w+))?(?: (.*))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Give while selfish</name><script>local amt = matches[2]
local item = matches[3]
local tgt = matches[4]
Megophrys.giveWhileSelfish(amt, item, tgt)
</script><command /><packageName /><regex>^gi( \d+)? (\w+) (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Drop while selfish</name><script>local item = matches[2]
Megophrys.dropWhileSelfish(item)
</script><command /><packageName /><regex>^dr (\w+)$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Alchemist</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Homunculus give|get</name><script>if matches[3] then
  send('homunculus give '.. matches[2] ..' to '.. matches[3])
else
  send('homunculus get '.. matches[2])
end
</script><command /><packageName /><regex>^hg (\w+)(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Homunculus say</name><script>send('homunculus say '.. (matches[2] or 'Merp!'))
</script><command /><packageName /><regex>^hs(?: (.*))?</regex></Alias><Alias isActive="yes" isFolder="no"><name>Homunculus Drop</name><script>send('homunculus drop '.. matches[2])
</script><command /><packageName /><regex>^hd (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Minasuta, stop :(</name><script /><command>homunculus pacify</command><packageName /><regex>^hstop$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Homunculus Remote Control</name><script>local tbl = {f='follow', l='look', L='listen on', LL='listen off', 
             r='return', x='exits'}
send('homunculus '.. tbl[matches[2]])
</script><command /><packageName /><regex>^h(f|l|x|L|LL|r)$</regex></Alias><AliasGroup isActive="yes" isFolder="yes"><name>Offense</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Alchemist PK Mode</name><script>Megophrys.setMode('alch')
if matches[2] then
  Megophrys.setTarget(matches[2])
end
</script><command /><packageName /><regex>^alch(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Formulation</name><script>local brewTable = {intox="intoxicant", devit="devitalisation",
                   tox="toxin", incen="incendiary", vap="vaporisation",
                   mon="monoxide"}
local brew = brewTable[matches[2]]

if brew then
  send('wield '.. brew)
  if matches[3] then
    send('throw '.. brew ..' '.. matches[3])
  else
    send('throw '.. brew ..' at ground')
  end
end
</script><command /><packageName /><regex>^(intox|devit|incen|tox|vap|mon)(?: (n|e|s|w|ne|nw|se|sw|in|out|up|down|u|d|))?$</regex></Alias></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Who Console</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>qw manual</name><script>disableTrigger("Who Console")
send('qw')
tempTimer(.25, function() enableTrigger("Who Console") end)
</script><command /><packageName /><regex>^qw$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Magi</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Set target limb</name><script>if matches[2] == 'l' then 
  Megophrys.targetLimb = 'left' 
elseif matches[2] == 'r' then
  Megophrys.targetLimb = 'right'
else
  Megophrys.targetLimb = ''
end
cecho('\n&lt;cyan&gt;Target limb set to: '.. (Megophrys.targetLimb or 'none') ..'\n')
</script><command /><packageName /><regex>^stl (l|r|n)$</regex></Alias><AliasGroup isActive="yes" isFolder="yes"><name>Hunting</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Golem Loves You (Hug)</name><script>local Magi = Megophrys.Magi
Magi.followUp = 'golem squeeze '
cecho('\n&lt;cyan&gt;Follow up set to: '.. Magi.followUp ..'\n')
</script><command /><packageName /><regex>^sqq$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Offense</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>FireMode</name><script>Megophrys.setMode('fiyah')
if matches[2] then
  Megophrys.setTarget(matches[2])
end
</script><command /><packageName /><regex>^fire(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>IceMode</name><script>Megophrys.setMode('pummel')
if matches[2] then
  Megophrys.setTarget(matches[2])
end
</script><command /><packageName /><regex>^ice(?: (\w+))?$</regex></Alias></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Blademaster</name><script /><command /><packageName /><regex /><AliasGroup isActive="yes" isFolder="yes"><name>Offense</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Brokenstar Mode</name><script>Megophrys.setMode('bstar')
if matches[2] then
  Megophrys.setTarget(matches[2])
end
</script><command /><packageName /><regex>^bstar(?: (\w+))?$</regex></Alias></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Psion</name><script /><command /><packageName /><regex /><AliasGroup isActive="yes" isFolder="yes"><name>Offense</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Bonk mode</name><script>Megophrys.setMode('bonk')
if matches[2] then
  Megophrys.setTarget(matches[2])
end
</script><command /><packageName /><regex>^bonk(?: (\w+))?$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Defense</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Ironwill</name><script>send('psi ironwill '.. matches[2])
Megophrys.channeling = true
</script><command /><packageName /><regex>^iw (\w+)$</regex></Alias></AliasGroup></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>AK Opponent Tracking</name><script /><command /><packageName>AK Opponent Tracking</packageName><regex /><AliasGroup isActive="no" isFolder="yes"><name>Ak Opponent Curing</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>^ora$</name><script>send("clearqueue all")
send("queue add eqbal oattackra")
</script><command /><packageName /><regex>^ora$</regex></Alias><Alias isActive="yes" isFolder="no"><name>^ola$</name><script>send("clearqueue all")
send("queue add eqbal oattackla")
</script><command /><packageName /><regex>^ola$</regex></Alias><Alias isActive="yes" isFolder="no"><name>^odst$</name><script>send("clearqueue all")
send("queue add eqbal oattack")
</script><command /><packageName /><regex>^odst$</regex></Alias><Alias isActive="yes" isFolder="no"><name>^t (.+)$</name><script>target = matches[2] 
ak.highlighttarget = ak.highlighttarget or true --Change This To False if Errors
if ak.highlighttarget == true then
   if idtwo then killTrigger(idtwo) end
   idtwo = tempTrigger(target, [[selectString("]] .. target .. [[", 1) fg("red") resetFormat()]])
   target = target:title()
   if id then killTrigger(id) end
   id = tempTrigger(target, [[selectString("]] .. target .. [[", 1) fg("red") resetFormat()]])
else 
   target = target:title()
end
if ak.stack and ak.stack == "none" then ak.classenable() end
echo("\n")
cecho("&lt;cyan&gt; Target Changed to "..target)
echo("\n")
echo("\n")
ak.oresetparse()



--If your targetting errors, try setting ak.highlighttarget to false
</script><command /><packageName /><regex>^t (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>^oah$</name><script>send("clearqueue all")
send("queue add eqbal oattackh")
</script><command /><packageName /><regex>^oah$</regex></Alias><Alias isActive="yes" isFolder="no"><name>^oat$</name><script>send("clearqueue all")
send("queue add eqbal oattackt")
</script><command /><packageName /><regex>^oat$</regex></Alias><Alias isActive="yes" isFolder="no"><name>^orl$</name><script>send("clearqueue all")
send("queue add eqbal oattackrl")
</script><command /><packageName /><regex>^orl$</regex></Alias><Alias isActive="yes" isFolder="no"><name>^oll$</name><script>send("clearqueue all")
send("queue add eqbal oattackll")
</script><command /><packageName /><regex>^oll$</regex></Alias></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>cdb 1.1</name><script /><command /><packageName>cdb 1.1</packageName><regex /><AliasGroup isActive="yes" isFolder="yes"><name>cdb (aliases)</name><script /><command /><packageName>cdb</packageName><regex /><Alias isActive="yes" isFolder="no"><name>cdb - manual lookup</name><script>cdb.lookup(matches[2])
cdb.echo("Retrieving &lt;orange&gt;" .. matches[2]:lower():title() .. "'s &lt;white&gt;data...")
cdb.looking = matches[2]:lower():title()
</script><command /><packageName /><regex>^cdb (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>get city enemies</name><script>cdb.gettingenemies = true
tempTimer(5, [[cdb.gettingenemies = false]])
send("city enemies", false)
</script><command /><packageName /><regex>^city enemies$</regex></Alias><Alias isActive="yes" isFolder="no"><name>anon - players in need of manual honors</name><script>cdb.anons()
</script><command /><packageName /><regex>^anons?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>qwg - get info from qw</name><script>cdb.echo("Getting CDB information for everyone online...")
cdb.getwho()
</script><command /><packageName /><regex>^qwg$</regex></Alias><Alias isActive="yes" isFolder="no"><name>getm - get members of class</name><script>cdb.getmembers(matches[2]:trim():lower())
</script><command /><packageName /><regex>^getm (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>h - honours</name><script>send("honours " .. matches[2]) 

 
                                    -- z   $b$$F
                                   -- F"  4$$P"
                                    -- r *$$$".c...
                                    -- %-4$$$$$$$$"
                                     -- J$*$$$$$$P
                                    -- ^r4$$$$$$"
                                      -- *f*$$*"
                                    -- ".4 *$$$$$$.                 HONOURS IS SPELT WITH A U!
                              -- 4ee%.e.  .$$$$$$$$r
                             -- 4$$$$$$b  P$**)$$$$b                   THE SUN NEVER SETS ON THE
                          -- e..4$$$$$$$"     $$$$$$c.                    BRITISH EMPIRE!!!!
                          -- 3$$$$$$$$*"   "  ^"$$$$$$c
                         -- *$$$$$$$$$.        *$$$$$$$.
                          -- ..$$$$$$$L    c ..J$$$$$$$b
                          -- d"$$$$$$$F   .@$$$$$$$$$$$P"..
                       -- ..$$$$$$$$$$      d$$$$$$$$$$$$$$$
                       -- =$$$$$$P"" "    .e$$$$$$$$$$$$$$$$
                         -- *""          $**$$$$$$$$$$$$$$*
                                          -- "".$$$$$$$$$C .
                                       -- .z$$$$$$$$$$$$$$""
                                      -- .$$$*"^**"  "
                                    -- =P"  "
</script><command /><packageName /><regex>^h (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>qwa - qw for each city</name><script>local cities = {"rogue", "targossas", "mhaldor", "hashan", "ashtan", "eleusis", "cyrene"}
send("qw " .. table.concat(cities, cdb.cs .. "qw "))
</script><command /><packageName /><regex>^qwa$</regex></Alias><Alias isActive="yes" isFolder="no"><name>wi - display info</name><script>cdb.display(matches[2], true)
</script><command /><packageName /><regex>^wi (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>cla - get current class</name><script>cdb.classcheck(matches[2])
</script><command /><packageName /><regex>^cla (\w+)$</regex></Alias></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Tragedy</name><script /><command /><packageName>Tragedy</packageName><regex /><Alias isActive="yes" isFolder="no"><name>^reset$</name><script>xtarget.afflictions = {}
cecho("&lt;red&gt;\nAfflictions reset!")
</script><command /><packageName /><regex>^reset$</regex></Alias><AliasGroup isActive="yes" isFolder="yes"><name>Priest</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>^hitit$</name><script>send(selloutCity())
</script><command /><packageName /><regex>^hitit$</regex></Alias></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>WunderSys</name><script /><command /><packageName>WunderSys</packageName><regex /><AliasGroup isActive="yes" isFolder="yes"><name>WunderSys</name><script /><command /><packageName /><regex /><AliasGroup isActive="yes" isFolder="yes"><name>Curing Commands</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Fool</name><script>wsys.fool()
</script><command /><packageName /><regex>^fool$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Kelp</name><script>send("curing queue add kelp")
</script><command /><packageName /><regex>^kelp$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Dheal</name><script>wsys.dheal()
</script><command /><packageName /><regex>^(dh|dheal|dragonheal)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Restore</name><script>wsys.restore()
</script><command /><packageName /><regex>^(rs|restore)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Writhe</name><script>send("curing queue insert 20 writhe")
</script><command /><packageName /><regex>^wr$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Moss</name><script>wsys.moss()
</script><command /><packageName /><regex>^em$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Tree</name><script>send("curing queue add touch tree")
</script><command /><packageName /><regex>^tr$</regex></Alias><Alias isActive="yes" isFolder="no"><name>aeon is real</name><script>wsys.affadd("aeon")
</script><command /><packageName /><regex>^aeon$</regex></Alias><Alias isActive="yes" isFolder="no"><name>M Sip</name><script>wsys.hmsip("mana")
</script><command /><packageName /><regex>^m$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Parry</name><script>wsys.parryf(matches[2])
</script><command /><packageName /><regex>^p(rl|ll|ra|la|t|h|n)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Bloodroot</name><script>send("curing queue add bloodroot")
</script><command /><packageName /><regex>^blr$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Caloric</name><script>send("curing queue add caloric")
</script><command /><packageName /><regex>^ac$</regex></Alias><Alias isActive="yes" isFolder="no"><name>H Sip</name><script>wsys.hmsip("health")
</script><command /><packageName /><regex>^h$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Stand</name><script>wsys.stand()
</script><command /><packageName /><regex>^stand$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Restoration</name><script>local limbsa = {
 a = "arms",
 l = "legs",
 h = "head",
 t = "torso",
}
send("curing queue remove restoration to " .. limbsa[matches[2]])
send("curing queue add restoration to " .. limbsa[matches[2]])
</script><command /><packageName /><regex>^ar(a|l|h|t)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Valerian</name><script>send("curing queue add valerian")
</script><command /><packageName /><regex>^sval$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Concentrate</name><script>send("curing queue add concentrate")
</script><command /><packageName /><regex>^c$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Goldenseal</name><script>send("curing queue add goldenseal")
</script><command /><packageName /><regex>^gls$</regex></Alias><Alias isActive="yes" isFolder="no"><name>curing lock</name><script>send("light pipes")
wsys.dheal()
wsys.tree()
if wsys.isFitnessClass() then wsys.fitness() end
if wsys.isClass("occultist") or wsys.isClass("jester") then wsys.fool() end
send("curing queue remove valerian")
send("curing queue add valerian")
send("curing queue remove epidermal to body")
send("curing queue add epidermal to body")
send("curing queue remove goldenseal")
send("curing queue add goldenseal")
wsys.focus()

</script><command /><packageName /><regex>^cvp$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Focus</name><script>wsys.focus()
</script><command /><packageName /><regex>^f$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Skullcap</name><script>send("curing queue add skullcap")
</script><command /><packageName /><regex>^sku$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Elm</name><script>send("curing queue add elm")
</script><command /><packageName /><regex>^selm$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Misc System Commands</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Math</name><script>display(assert(loadstring("return "..matches[2]))())
</script><command /><packageName /><regex>^math (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>echo to test</name><script>local s = matches[2]

s = string.gsub(s, "%$", "\n")
feedTriggers("\n" .. s .. "\n")
echo("\n")
</script><command /><packageName /><regex>^echo (.+)</regex></Alias><Alias isActive="yes" isFolder="no"><name>Lua command</name><script>local f,e = loadstring("return "..matches[2])
if not f then
	f,e = assert(loadstring(matches[2]))
end

local r = f()
if r ~= nil then display(r) end
</script><command /><packageName /><regex>^/(.*)$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>System Commands</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Defup Profile</name><script>wsys.defup( matches[2] )
</script><command /><packageName /><regex>^defup(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Set mount</name><script>wsys.settings.mount = matches[2]
wsys.settings.havevault = true
send("vault " .. wsys.settings.mount)
</script><command /><packageName /><regex>^vault (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Toggle|On|Off Rebounding</name><script>if matches[2] then
  if matches[2] == "on" then
    wsys.keepup("rebounding", false)
    wsys.report("Maintaining REBOUNDING")
  elseif matches[2] == "off" then
    wsys.unkeepup("rebounding", false)
    wsys.report("No longer keeping rebounding")
  end
else
  wsys.togglekeepup("rebounding")
end
</script><command /><packageName /><regex>^reb\s?(on|off)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Plist</name><script>wsys.pipelist()
</script><command /><packageName /><regex>^plist$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Diagnose</name><script>if wsys.bals.b and wsys.bals.e then
  enableTrigger("Diagnose")
wsys.salviaSend("diagnose")
if wsys.timer.diagwait then
  killTimer(tostring(wsys.timer.diagwait))
  end
wsys.timer.diagwait = tempTimer(wsys.myPing() * 3, [[wsys.timer.diagwait = nil;disableTrigger("Diagnose")]])
elseif not wsys.doqueue_pending or wsys.doqueue_pending.element.ac ~= "diagnose" then
  enableTrigger("Diagnose")
  wsys.dofirst( "diagnose", 5, true )
  if wsys.timer.diagwait then
    killTimer(tostring(wsys.timer.diagwait))
  end
  wsys.timer.diagwait = tempTimer( 8, [[wsys.timer.diagwait = nil;disableTrigger("Diagnose")]])
elseif wsys.doqueue_pending and wsys.doqueue_pending.element.ac == "diagnose" then
  if wsys.timer.diagwait then
    killTimer(tostring(wsys.timer.diagwait))
  end
  wsys.timer.diagwait = tempTimer( 8, [[wsys.timer.diagwait = nil;disableTrigger("Diagnose")]])
end
</script><command /><packageName /><regex>^(dv|diag)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>defprio set</name><script>wsys.defprioset(matches[2], tonumber(matches[3]))
</script><command /><packageName /><regex>^wconfig defprio (\w+) (\d+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>wshow</name><script>wsys.wshow()
</script><command /><packageName /><regex>^wshow$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Reset all profile affs</name><script>wsys.resetAllProfileAffs( matches[2] )
</script><command /><packageName /><regex>^wconfig profile resetaffs? all(| confirm)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>HM Priority Switch</name><script>hmtoggle()
</script><command /><packageName /><regex>^hm$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Config setting</name><script>wsys.setSettings(matches[2], matches[3])
</script><command /><packageName /><regex>^wconfig (\w+) (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Toggle|On|Off Mass</name><script>if matches[2] then
  if matches[2] == "on" then
    wsys.keepup("mass", true)
    wsys.report("&lt;yellow&gt;Maintaining MASS")
  elseif matches[2] == "off" then
    wsys.unkeepup("mass", true)
    wsys.report("&lt;yellow&gt;No longer keeping MASS")
  end
else
  wsys.togglekeepup("mass")
end
</script><command /><packageName /><regex>^mass\s?(on|off)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Copy a profile (original to copy)</name><script>wsys.copyProfile( matches[2], matches[3] )
</script><command /><packageName /><regex>^wconfig profile copy (\w+) (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>wshow affprio specific</name><script>wsys.affpriodisplay(matches[2])
</script><command /><packageName /><regex>^wshow affprio (all|compose|stand|smoke|wake|writhe|salve|focus|concentrate|immunity|health|herb)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Toggle|On|Off Auto Tree</name><script>if matches[2] then
  if matches[2] == "on" then
    wsys.autoTreeOn()
  elseif matches[2] == "off" then
    wsys.autoTreeOff()
  end
else
  wsys.toggleAutoTree()
end
</script><command /><packageName /><regex>^atr\s?(on|off)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>touch shield</name><script>wsys.dofirst("touch shield")
</script><command /><packageName /><regex>^ts$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Fullstats action</name><script>wsys.fullstatsf(matches[2])
</script><command /><packageName /><regex>^fl\s+(.+)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>defup | keepup config toggle (this class and profile)</name><script>--example usage wconfig defup profile fangbarrier
wsys.defToggle(matches[2], wsys.profile, wsys.myClass(), matches[4])
</script><command /><packageName /><regex>^wconfig (defup|keepup) (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>On|Off Lyre Mode</name><script>if matches[2] then
 wsys.uselyre = false
 wsys.checkaffs()
 wsys.report("&lt;yellow&gt;Lyre Mode&lt;red&gt; DISABLED")
 send("curing on", false)
else
 wsys.uselyre = true
 wsys.lyrequeue()
 wsys.report("&lt;yellow&gt;Lyre Mode&lt;red&gt; ENABLED")
 send("curing off", false)
end -- if
</script><command /><packageName /><regex>^sl(o)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>affprio set</name><script>wsys.affprioset(matches[2], matches[3])
</script><command /><packageName /><regex>^wconfig affprio (\w+) (\d+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Get stuff on|off</name><script>if wsys.settings.gstuff then
 wsys.settings.gstuff = false
 wsys.report("&lt;gold&gt;No longer picking up gold, shards, and bodies.")
else
 wsys.settings.gstuff = true
 wsys.report("&lt;gold&gt;Picking up gold, shards, and bodies now.")
 wsys.balqueue()
end -- if
</script><command /><packageName /><regex>^gstuff$</regex></Alias><Alias isActive="yes" isFolder="no"><name>defup | keepup config toggle (this class)</name><script>--example usage wconfig defup profile fangbarrier
wsys.defToggle(matches[2], matches[3], wsys.myClass(), matches[4])
</script><command /><packageName /><regex>^wconfig (defup|keepup) (\w+) (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Moss On|Off</name><script>if matches[2] == "on" then
  wsys.setSettings("usemoss", "true")
  wsys.report("Will use moss")
  wsys.mossThreshholdDown()
elseif matches[2] == "off" then
  wsys.setSettings("usemoss", "false")
  wsys.report("Won't use moss")
  send("curing mosshealth 0", false)
  send("curing mossmana 0", false)
end
</script><command /><packageName /><regex>^moss (on|off)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Report a bug</name><script>send("msg tynil //WunderSys("..wsys.myVersion..") Bug: " .. matches[2])
</script><command /><packageName /><regex>^wbug (.*)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Vivi mode on|off</name><script>if wsys.vmode then
 wsys.vmode = false
 wsys.report("&lt;maroon&gt;VIVI MODE &lt;red&gt;DISABLED")
else
 wsys.vmode = true
 wsys.report("&lt;maroon&gt;VIVI MODE &lt;green&gt;ENABLED")
end -- if
</script><command /><packageName /><regex>^vivi$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Copy a class profile</name><script>-- Copy the given class profile into your current class
wsys.copyProfileClass( matches[2] )
</script><command /><packageName /><regex>^wconfig profile copyclass (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Heartseed mode on|off</name><script>if wsys.heartseedmode then
 wsys.heartseedmode = false
 wsys.report("&lt;firebrick&gt;HEART&lt;LimeGreen&gt;SEED &lt;white&gt;MODE &lt;red&gt;DISABLED")
else
 wsys.heartseedmode = true
 wsys.report("&lt;firebrick&gt;HEART&lt;LimeGreen&gt;SEED &lt;white&gt;MODE &lt;green&gt;ENABLED")
end -- if
</script><command /><packageName /><regex>^hseed$</regex></Alias><Alias isActive="yes" isFolder="no"><name>winstall confirm</name><script>wsys.wunderSysInstall()
wsys.report("WunderSys primary settings configured and installed.")
</script><command /><packageName /><regex>^winstall confirm$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Open Website</name><script>openUrl("https://dl.dropboxusercontent.com/u/6980966/ServersideSystem/documentation.html")
</script><command /><packageName /><regex>^whelp$</regex></Alias><Alias isActive="yes" isFolder="no"><name>focus shift set</name><script>wsys.setfocusshift(matches[2], matches[3])
</script><command /><packageName /><regex>^wconfig focusshift (\w+) (\d+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>precache set</name><script>wsys.precacheset(matches[2], matches[3])
</script><command /><packageName /><regex>^wconfig precache (\w+) (\d+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Restore Default Settings</name><script>--wsys.return_defaultsettings()
wsys.report("Settings restored to default")
</script><command /><packageName /><regex>^wsystem restore default$</regex></Alias><Alias isActive="yes" isFolder="no"><name>wshow stuff</name><script>if matches[2] == "settings" then
  wsys.displaySettings()
elseif matches[2] == "display" then
  wsys.displayEchosAndGags()
elseif matches[2] == "defup" then
  wsys.showDefMenu("defup", wsys.profile ,wsys.myClass())
elseif matches[2] == "keepup" then
  wsys.showDefMenu("keepup", wsys.profile ,wsys.myClass())
elseif matches[2] == "convenience" then
  wsys.displayConvenience()
elseif matches[2] == "defprio" then
  wsys.defprioDisplay()
elseif matches[2] == "precache" then
  wsys.precachedisplay()
elseif matches[2] == "focusshift" or matches[2] == "focusshifts" then
 wsys.focusshiftsdisplay()
elseif matches[2] == "affprio" then
 wsys.affpriodisplay("all")
end

</script><command /><packageName /><regex>^wshow (settings|display|defup|keepup|convenience|defprio|precache|focusshift|focusshifts|affprio)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Defences</name><script>wsys.defCheckStart()
</script><command /><packageName /><regex>^(def|df)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>meditate toggle</name><script>wsys.toggleMeditate()
</script><command /><packageName /><regex>^med$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Switch Profile</name><script>wsys.switchProfile( matches[2] )
</script><command /><packageName /><regex>^swp (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Reset Profile Affs</name><script>wsys.resetProfileAffs( matches[2], matches[3], true )
</script><command /><packageName /><regex>^wconfig profile resetaffs? (\w+) (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Basic Defences</name><script>wsys.defup("basic")
</script><command /><packageName /><regex>^bdef$</regex></Alias><Alias isActive="yes" isFolder="no"><name>defup|keepup config toggle any class</name><script>--example usage wconfig defup basic runewarden fangbarrier
wsys.defToggle(matches[2], matches[3], matches[4], matches[5])
</script><command /><packageName /><regex>^wconfig (defup|keepup) (\w+) (\w+) (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Change Manathreshold</name><script>wsys.changemanathreshold(matches[2])
</script><command /><packageName /><regex>^manause (\d+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Delete a Profile</name><script>wsys.deleteProfile( matches[2] )
</script><command /><packageName /><regex>^wconfig profile delete (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Breathing on|off</name><script>if wsys.settings.keepup[wsys.profile][wsys.myClass()]["heldbreath"] then
 wsys.report("&lt;yellow&gt;No longer HOLDING BREATH")
 wsys.unkeepup("heldbreath", true)
else
 wsys.keepup("heldbreath", true)
 wsys.report("&lt;yellow&gt;HOLDING BREATH")
end -- if
</script><command /><packageName /><regex>^br$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Automounting toggle</name><script>if matches[2] then
  local mount = matches[2]
  if matches[2] == " on" then mount = true end
  if matches[2] == " off" then mount = false end
  wsys.mountUp(  mount )
else
  wsys.mountToggle()
end
</script><command /><packageName /><regex>^va( \w+)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>On|Off Retardation</name><script>if matches[2] == "on" then
 retardationOn()
 wsys.report("&lt;red&gt;RETARDATION curing enabled")
else
 wsys.retardationOff()
 wsys.report("&lt;red&gt;RETARDATION curing disabled")
end -- if
</script><command /><packageName /><regex>^ret\s*(on|off)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>winstall</name><script>wsys.report("This will reset most settings to default, if you're sure you want to do this then do &lt;green&gt;winstall confirm")
</script><command /><packageName /><regex>^winstall$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Create New Profile</name><script>wsys.newProfile( matches[2] )
</script><command /><packageName /><regex>^wconfig profile new (\w+)$</regex></Alias><AliasGroup isActive="yes" isFolder="yes"><name>Do Queue</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>dofree action</name><script>wsys.dofreeadd(matches[2])
</script><command /><packageName /><regex>^dofree (.*)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Dor Action</name><script>if matches[2] then
 wsys.doradd(matches[2])
else
 wsys.dorclear()
end -- if
 
</script><command /><packageName /><regex>^dor(?: (.+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>do action</name><script>wsys.doadd(matches[2])


</script><command /><packageName /><regex>^do (.*)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Do List</name><script>wsys.dolist()
</script><command /><packageName /><regex>^dolist$</regex></Alias><Alias isActive="yes" isFolder="no"><name>do first</name><script>wsys.dofirst(matches[2])


</script><command /><packageName /><regex>^dofirst (.*)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Undo All</name><script>wsys.undoall()
</script><command /><packageName /><regex>^undoall$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Un|Pause System</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Toggle softpause</name><script>wsys.toggleSoftPause()
</script><command /><packageName /><regex>^sp$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Unpause</name><script>wsys.unpause()
</script><command /><packageName /><regex>^unp$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Toggle pause</name><script>wsys.togglePause()
</script><command /><packageName /><regex>^pp$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Precaching</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>qq | quit</name><script>wsys.qq()
</script><command /><packageName /><regex>^(qq|quit)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>inra</name><script>wsys.osend("inrift all")
</script><command /><packageName /><regex>^inra$</regex></Alias></AliasGroup></AliasGroup></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>mudlet-mapper</name><script /><command /><packageName>mudlet-mapper</packageName><regex /><AliasGroup isActive="yes" isFolder="yes"><name>Mudlet Mapper</name><script>mudlet = mudlet or {}; mudlet.mapper_script = true</script><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Room find</name><script>mmp.roomFind(matches[2])
</script><command /><packageName /><regex>^(?:rf|room find) (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Area list</name><script>mmp.echoAreaList()
</script><command /><packageName /><regex>^area list$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Add Room Mark</name><script>local tmp = getRoomUserData(1, "gotoMapping")
local maptable = {}

if tmp ~= "" then
  maptable = yajl.to_value(tmp)
end

local location, markname
if not matches[3] then
  markname = matches[2]
  location = mmp.currentroom
elseif tonumber(matches[2]) then
  location = matches[2]; markname = matches[3]
else
  location = matches[3]; markname = matches[2]
end

-- can't allow mark name to ne a number - yajl then generates a giant table of null's
if tonumber(markname) then
  mmp.echo("The mark name can't be a number.") return
end

maptable[markname] = location
local tmp2 = yajl.to_string(maptable)

if not mmp.roomexists(1) then
  addRoom(1)
end

setRoomUserData(1, "gotoMapping", tmp2)
mmp.echo(string.format("Room mark for '%s' set to room %s.", markname, location))
</script><command /><packageName /><regex>^room mark (\w+)(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Set debug mode</name><script>if matches[2] == "on" then
  mmp.debug = true
else
  mmp.debug = false
end

mmp.echo("Debug &amp; performance telemetry "..(mmp.debug and "enabled" or "disabled")..".")
</script><command /><packageName /><regex>^(?:mdg|mdebug) (on|off)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Remove Room Mark</name><script>local tmp= getRoomUserData(1, "gotoMapping")
if tmp~="" then
  local maptable=yajl.to_value(tmp)
  if not maptable[matches[2]] then mmp.echo("Don't have such a mark in the db.") return end

  maptable[matches[2]]=nil
  local tmp2=yajl.to_string(maptable)
  setRoomUserData(1, "gotoMapping", tmp2)
  mmp.echo("Removed the "..matches[2].." mark.")
else
  mmp.echo("We don't have any marks stored anyway.")
end
</script><command /><packageName /><regex>^room unmark (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>View roomID or area</name><script>local where = matches[2]

if not where then
	centerview(mmp.currentroom)
elseif tonumber(where) then -- view a room ID
	centerview(where)
else -- view an area
	mmp.viewArea (where)
end
</script><command /><packageName /><regex>^mmap ?(.+)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>View|delete area labels</name><script>mmp.areaLabels(matches[2])
</script><command /><packageName /><regex>^area labels ?(.+)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Go to ID or area</name><script>local where = matches[2]:lower()
local gallop
if command:ends("gallop") then
  gallop = "gallop"
  where = where:sub(1, -8)
elseif command:ends("sprint") then
  gallop = "sprint"
  where = where:sub(1, -8)
elseif command:ends("dash") then
  gallop = "dash"
  where = where:sub(1, -6)
elseif command:ends("runaway") then
  gallop = "runaway"
  where = where:sub(1, -9)
elseif command:ends("glide") then
  gallop = "glide"
  where = where:sub(1, -7)
end
if mmp.debug then
  mmp.gotoPerf = mmp.gotoPerf or createStopWatch()
  startStopWatch(mmp.gotoPerf)
end
-- goto room ID
if tonumber(where) then
  mmp.gotoRoom(where, gallop)
else
  -- goto area or feature
  local split = where:split(" ")
  if split[1] == "feature" then
	  table.remove(split, 1)
    mmp.gotoFeature(table.concat(split, " "), gallop)
  else
    if tonumber(split[#split]) then
      mmp.gotoArea(where:sub(1, -#(split[#split]) - 2), tonumber(split[#split]), gallop)
    else
      mmp.gotoArea(where, nil, gallop)
    end
  end
end
if mmp.debug then
  mmp.echo("goto alias took " .. stopStopWatch(mmp.gotoPerf) .. "s to run.")
end
</script><command /><packageName /><regex>^goto (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Load a map</name><script>local function s(loc)
  if string.ends(loc, ".json") and not loadJsonMap then
    mmp.echo("Your Mudlet can't load maps in JSON, please upgrade first.")
    return
  end

  local allok = true
  if string.ends(loc, ".json") then
    allok = loadJsonMap(loc)
  else
    allok = loadMap(loc)
  end

  if not allok then
    mmp.echo("Couldn't load the map :(")
  else
    mmp.lockWormholes();
    mmp.lockSewers();
    mmp.lockPebble();
    if mmp.settings.waterwalk then
      mmp.enableWaterWalk()
    else
      mmp.disableWaterWalk()
    end
    if loc ~= "" then
      mmp.echo("Map loaded.")
    else
      mmp.echo("Loaded the default map.")
    end
    raiseEvent("mmapper updated map")
  end
end

if matches[2] and matches[2] == "custom" then
  s(invokeFileDialog(true, "Please select the map file and click Open to load it"))
elseif matches[2] then
  s(getMudletHomeDir() .. "/map/" .. matches[2])
else
  s("")
end
</script><command /><packageName /><regex>^map load(?: (.+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Save a map</name><script>local function s(location, format)
  local savednormal, savedjson = "not saved", "not saved"
  if format == "json" then
    savedjson = saveJsonMap(location)
  elseif format == "all" then
    savedjson = saveJsonMap(location)
    savednormal = saveMap(location)
  elseif format == nil or format == "" then
    savednormal = saveMap(location)
  end

  if savednormal == nil then
    mmp.echo("Couldn't save the map :(")
  elseif savednormal == true then
    mmp.echo(location ~= "" and "Map saved." or "Saved the default map.")
  end
  if savedjson == nil then
    mmp.echo("Couldn't save the JSON map :(")
  elseif savedjson == true then
    mmp.echo(location ~= "" and "Map saved in JSON." or "Saved the default map in JSON.")
  end
end

if matches[2] and (matches[2] == "json" or matches[2] == "all") and not saveJsonMap then
  mmp.echo("Your Mudlet can't save maps in JSON, please upgrade first.")
  return
end
if matches[3] and matches[3] == "custom" then
  s(
    invokeFileDialog(false, "Please select the folder to save the map in and hit Open") ..
    "/Mudlet map from " ..
    os.date("%A %d, %b '%y") ..
    ".dat",
    matches[2]
  )
elseif matches[3] then
  s(getMudletHomeDir() .. "/map/" .. matches[3], matches[2])
else
  s("", matches[2])
end
</script><command /><packageName /><regex>^map save(?: (json|all))?(?: (.+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Add a room label</name><script>mmp.roomLabel(matches[2])
</script><command /><packageName /><regex>^room label (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Display area for lock|unlock</name><script>mmp.doLockArea(matches[2])
</script><command /><packageName /><regex>^arealock(?: (.*))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Toggle pause</name><script>mmp.pause(matches[2])
</script><command /><packageName /><regex>^mpp(?:\s?(on|off))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Toggle map sizes</name><script>local size = matches[2]

if size == "biggest" then
  mapper = Geyser.Mapper:new({
    name = "mapper",
    x = 0, y = 0,
    width = "100%", height = "97%"
  })
  mmp.echo("Map size set to pretty damn big.")

elseif size == "small" then
  mapper = Geyser.Mapper:new({
    x = "70%", y = 0,
    width = "28%", height = "50%"
  })
  mmp.echo("Map size set to comfortable.")

elseif size == "big" then
  local window_width, window_height = getMainWindowSize()
  local used_width = getMainConsoleWidth()

  local available_space = window_width - used_width

  if matches[3] then available_space = available_space - tonumber(matches[3]) end

  mapper = Geyser.Mapper:new({
    x = available_space*-1, y = 0,
    width = available_space, height = "100%"
  })

  mmp.echo("Set the map size to big - it'll cover all of the space on the right that game text isn't using. You'll want to call this alias again if you resize the window to update.")
end
</script><command /><packageName /><regex>^(small|big|biggest)map(?: (\d+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Check wholist</name><script>enableTrigger("Parse wholist")
send("who b")
tempTimer(10, [[disableTrigger'Parse wholist']])
</script><command /><packageName /><regex>^who b$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Stop walking</name><script>mmp.stop()
</script><command /><packageName /><regex>^mstop$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Option</name><script>if not matches[2] then
	mmp.settings:showAllOptions(mmp.game)
	return
end

local val = matches[4]
if val == "true" or val == "yes" or val == "on" then val = true end
if val == "false" or val == "no" or val == "off" then val = false end
local numberVal = tonumber(val)
val = numberVal and numberVal or val
mmp.settings:setOption(matches[3], val)
</script><command /><packageName /><regex>^mconfig( (\w+) (.*))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Display Room Marks</name><script>local tmp= getRoomUserData(1, "gotoMapping")
if tmp~="" then
	local maptable = yajl.to_value(tmp) or {}
    local sortedkeys = {}
    for k in pairs(maptable) do sortedkeys[#sortedkeys+1] = k end
    table.sort(sortedkeys)

    mmp.echo("Known marks in this map:")
    if next(maptable) then
      for i = 1, #sortedkeys do echo(string.format("  %-21s  %s\n", tostring(sortedkeys[i]), tostring(maptable[sortedkeys[i]]))) end
    else
      echo("  (none)\n")
    end
else
	mmp.echo("No marks are recorded in this map.")
end
</script><command /><packageName /><regex>^room marks$</regex></Alias><Alias isActive="yes" isFolder="no"><name>List map features</name><script>mmp.listMapFeatures()
</script><command /><packageName /><regex>^feature list$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Get dirs</name><script>if not matches[2] and not matches[3] then
  mmp.echo("Where do you want to showpath to?")
elseif matches[2] and not matches[3] then
  mmp.echoPath(mmp.currentroom, matches[2])
else
  mmp.echoPath(matches[2], matches[3])
end
</script><command /><packageName /><regex>^showpath(?: (\d+))?(?: (\d+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Toggle mapping mode</name><script>if (matches[2] and matches[2] == "on") or (not matches[2] and not mmp.editing) then
  mmp.editing = true
  enableAlias("mm Mapping")

  mmp_regenerate_areas()
  mmp.highlight_unfinished_rooms()

  mmp.echo("Mapping mode enabled. Happy mapping!")
elseif (matches[2] and matches[2] == "off") or (not matches[2] and mmp.editing) then
  mmp.editing = false
  disableAlias("mm Mapping")
  mmp.echo("Mapping mode disabled.")
end
</script><command /><packageName /><regex>^(?:mc|map create) ?(on|off)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Room look</name><script>mmp.roomLook(matches[2])
</script><command /><packageName /><regex>^(?:rl|room look)(?: (.+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>measure getPath()</name><script>mmp = mmp or {}

mmp.getPathPerf = mmp.getPathPerf or createStopWatch()
startStopWatch(mmp.getPathPerf)

local from, to = tonumber(matches[2]), tonumber(matches[3])

getPath(from, to)

mmp.echon = mmp.echon or echo
mmp.echon("a new getPath() from "..from.." to "..to.." took "..stopStopWatch(mmp.getPathPerf).."s. There are "..#speedWalkPath.." rooms to visit in it.")
echo(" ")
echoLink("[unhighlight]", [[
  for room in pairs(mmp.getpathhighlights) do
    unHighlightRoom(room)
  end
]], "Click me to remove highlighting from getpath")

mmp.getpathhighlights = mmp.getpathhighlights or {}

for room in pairs(mmp.getpathhighlights) do
  unHighlightRoom(room)
end

mmp.getpathhighlights = {}

local r,g,b = unpack(color_table.yellow)
local br,bg,bb = unpack(color_table.yellow)
-- add the first room to the speedWalkPath, as we'd like it highlighted as well
table.insert(speedWalkPath, 1, from)
for i = 1, #speedWalkPath do
  local room = speedWalkPath[i]
  highlightRoom(room, r,g,b,br,bg,bb, 1, 255, 255)
  mmp.getpathhighlights[room] = true
end

centerview(from)
</script><command /><packageName /><regex>^getpath (?:from )?(\d+) (?:to )?(\d+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Room list</name><script>mmp.echoRoomList(matches[2] or mmp.areatabler[getRoomArea(mmp.currentroom)])
</script><command /><packageName /><regex>^room list(?: (.+))?$</regex></Alias><AliasGroup isActive="no" isFolder="yes"><name>mm Mapping</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Show char marks</name><script>local c = 0
local m = {}
local areas = getAreaTable()
local show_area = table.size(areas) &gt; 1 and true or false

for area, id in pairs(areas) do
  for _, roomid in pairs(getAreaRooms(id)) do
    local c = getRoomChar(roomid)
    if c ~= '' and c ~= ' ' then
      m[c] = m[c] or {}
      m[c][#m[c]+1] = roomid
    end
  end
end

if not next(m) then mmp.echo("This map has no char marks on it. Do mc on and rcc &lt;mark&gt; in a room to add them!") return end

for letter, rooms in pairs(m) do
  table.sort(rooms)
  mmp.echo("Rooms with the &lt;"..mmp.settings.echocolour.."&gt;"..letter.."&lt;reset&gt; character on them:")
  for i = 1, #rooms do
    if not show_area then
      cecho(string.format("  &lt;sea_green&gt;%-5s&lt;reset&gt; %s\n", rooms[i], getRoomName(rooms[i])))
    else
      cecho(string.format("  &lt;sea_green&gt;%-5s&lt;reset&gt; %-35s &lt;dim_grey&gt;(in&lt;reset&gt; %s&lt;dim_grey&gt;)\n", rooms[i], getRoomName(rooms[i]), mmp.areatabler[getRoomArea(rooms[i])]))
    end
  end
end
</script><command /><packageName /><regex>^show char marks$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Set a room character</name><script>local room = matches[3] or mmp.currentroom
room = tonumber(room) or mmp.relativeroom(mmp.currentroom, room)
if not room or not mmp.roomexists(room) then
  mmp.echo("Sorry - which room do you want to put this character in? I don't know where you are at the moment, if you want to do the current room.")
  return
end

local char = matches[2]

if char == "clear" then
  setRoomChar(room, ' ')
  mmp.echo("Cleared the character from "..room.." ("..getRoomName(room)..")")
else
  setRoomChar(room, char)
  mmp.echo("Set the "..char:sub(1,1).." character on "..room.." ("..getRoomName(room)..")")
end
centerview(mmp.currentroom)
</script><command /><packageName /><regex>^rcc ([^ ]+)(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Delete all special exits across a map</name><script>mmp.delSpecialExits(matches[2])
</script><command /><packageName /><regex>^spe delete all(?: (.+))?$</regex></Alias><Alias isActive="no" isFolder="no"><name>-- (dangerous functions)</name><script /><command /><packageName /><regex /></Alias><Alias isActive="yes" isFolder="no"><name>Add map feature to room</name><script>mmp.roomCreateMapFeature(matches[3], matches[2] == "" and mmp.currentroom or tonumber(matches[2]))
</script><command /><packageName /><regex>^(?:room create feature|rcf) (?:v(\d+) )?(.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Create a room</name><script>local m = matches[2]
if m:starts("feature") then
  -- another alias was meant.
  return
end
local rid, rname
if mmp.roomexists(mmp.currentroom) then
  rid, rname = mmp.currentroom, mmp.currentroomname
end
local x, y, z

local function set(newid)
  -- small func to set things
  local rid = newid or createRoomID()
  addRoom(rid)
  setRoomCoordinates(rid, x, y, z)
  if mmp.roomexists(mmp.currentroom) then
    setRoomArea(rid, getRoomArea(mmp.currentroom))
  end
  if mmp.roomexists(mmp.currentroom) then
    setRoomEnv(rid, getRoomEnv(mmp.currentroom))
  end
  setExit(mmp.currentroom, rid, m)
  mmp.echo(string.format("Created new room (%d) at %dx, %dy, %dz.\n", rid, x, y, z))
  centerview(mmp.roomexists(mmp.currentroom) and mmp.currentroom or rid)
  if not mmp.roomexists(mmp.currentroom) then
    mmp.currentroom = rid;
    mmp.currentroomname = ""
  end
end

-- let's be flexible and allow several ways if giving an arg
-- rc v# x y z
newid, x, y, z = string.match(m, "v(%d+) (%-?%d+) (%-?%d+) (%-?%d+)")
if x then
  set(newid);
  return
end
-- rc x y z
x, y, z = string.match(m, "(%-?%d+) (%-?%d+) (%-?%d+)")
if x then
  set();
  return
end
if not rid then
  mmp.echo("Don't know where we are at the moment in order to use relative coordinates.")
  return
end
-- rc xx? yy? zz?
x, y, z = string.match(m, "(%-?%d+)x"), string.match(m, "(%-?%d+)y"), string.match(m, "(%-?%d+)z")
if x or y or z then
  -- merge w/ old coords if any are missing
  local ox, oy, oz = getRoomCoordinates(rid)
  x = x or ox;
  y = y or oy;
  z = z or oz
  set();
  return
end
-- rc left/west, right/east, ...
local ox, oy, oz = getRoomCoordinates(rid)
local has = table.contains
for w in string.gmatch(m, "%a+") do
  if has({"west", "left", "w", "l"}, w) then
    x = (x or ox) - 1;
    y = (y or oy);
    z = (z or oz)
  elseif has({"east", "right", "e", "r"}, w) then
    x = (x or ox) + 1;
    y = (y or oy);
    z = (z or oz)
  elseif has({"north", "top", "n", "t"}, w) then
    x = (x or ox);
    y = (y or oy) + 1;
    z = (z or oz)
  elseif has({"south", "bottom", "s", "b"}, w) then
    x = (x or ox);
    y = (y or oy) - 1;
    z = (z or oz)
  elseif has({"northwest", "topleft", "nw", "tl"}, w) then
    x = (x or ox) - 1;
    y = (y or oy) + 1;
    z = (z or oz)
  elseif has({"northeast", "topright", "ne", "tr"}, w) then
    x = (x or ox) + 1;
    y = (y or oy) + 1;
    z = (z or oz)
  elseif has({"southeast", "bottomright", "se", "br"}, w) then
    x = (x or ox) + 1;
    y = (y or oy) - 1;
    z = (z or oz)
  elseif has({"southwest", "bottomleft", "sw", "bl"}, w) then
    x = (x or ox) - 1;
    y = (y or oy) - 1;
    z = (z or oz)
  elseif has({"up", "u"}, w) then
    x = (x or ox);
    y = (y or oy);
    z = (z or oz) + 1
  elseif has({"down", "d"}, w) then
    x = (x or ox);
    y = (y or oy);
    z = (z or oz) - 1
  end
end
if x then
  set();
  return
end
mmp.echo(
  [[Where do you want to move the room to?
  You can use direct coordinates or relative directions.]]
)
</script><command /><packageName /><regex>^(?:rlc|room create) (.+)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Add|remove a ferry room</name><script>local room = tonumber(matches[2])

if matches[3] == "add" then
  if mmp.ferry_rooms[room] then
    mmp.echo("Ferry room #"..room.." is already recorded as such.") return
  else
    mmp.ferry_rooms[room] = true; mmp.echo("Added #"..room.." to be a ferry room.")
  end
else
  if not mmp.ferry_rooms[room] then
    mmp.echo("Room #"..room.." isn't a ferry one already.") return
  else
    mmp.ferry_rooms[room] = nil; mmp.echo("Removed #"..room.." from being a ferry room.")
  end
end

local keys = {}; for k,_ in pairs(mmp.ferry_rooms) do keys[#keys+1] = k end

setRoomUserData(1, "ferry rooms", yajl.to_string(keys))
</script><command /><packageName /><regex>^fr (\d+) (add|remove)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Delete a link</name><script>-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo("Don't know where we are at the moment.") return end

-- make sure the dir is valid
local dir = mmp.anytolong(matches[2])
if not dir then mmp.echo(matches[2].." isn't a valid normal exit.") return end

-- gone already?
if not getRoomExits(mmp.currentroom)[dir] then mmp.echo(dir.." link doesn't exist already.") end

-- locate the room on the other end, so we can unlink it from there as well if necessary
local otherroom
if getRoomExits(getRoomExits(mmp.currentroom)[dir])[mmp.ranytolong(dir)] then
  otherroom = getRoomExits(mmp.currentroom)[dir]
end

if setExit(mmp.currentroom, -1, dir) then
  if otherroom then
    if setExit(otherroom, -1, mmp.ranytolong(dir)) then
      mmp.echo(string.format("Deleted the %s exit from %s (%d).",
        dir, getRoomName(mmp.currentroom), mmp.currentroom))
     else mmp.echo("Couldn't delete the incoming exit.") end
  else
    mmp.echo(string.format("Deleted the one-way %s exit from %s (%d).",
      dir, getRoomName(mmp.currentroom), mmp.currentroom))
  end
else
  mmp.echo("Couldn't delete the outgoing exit.")
end
centerview(mmp.currentroom)
</script><command /><packageName /><regex>^(?:urlk|room unlink) (\w+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Cancel area deletion</name><script>if not mmp.deletingarea then mmp.echo("I wasn't deleting any areas already.") return end

local areaname = mmp.deletingarea.areaname
mmp.deletingarea = nil

mmp.echo("Stopped deleting rooms in the '"..areaname.."'. The area is partially missing its rooms now, you'll want to restart the process to finish it.")
</script><command /><packageName /><regex>^cancel area deletion$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Delete map feature from room</name><script>mmp.roomDeleteMapFeature(matches[3], matches[2] == "" and mmp.currentroom or tonumber(matches[2]))
</script><command /><packageName /><regex>^(?:room delete feature|rdf) (?:v(\d+) )?(.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Add a special exit</name><script>-- spe clear and spe list match on this
if matches[2] == "clear" or matches[2] == "list" then return end

-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo("Don't know where we are at the moment.") return end

local otherroom = tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])

-- need the another room, but it doesn't actually exist
if not otherroom or not mmp.roomexists(otherroom) then mmp.echo(matches[2].." doesn't exist.") return end

addSpecialExit(mmp.currentroom, tonumber(otherroom), matches[3])
addSpecialExit(mmp.currentroom, tonumber(otherroom), matches[3])
mmp.echo(string.format("Added special exit with command '%s' to %s (%d).", matches[3], getRoomName(otherroom), otherroom))
centerview(mmp.currentroom)
</script><command /><packageName /><regex>^(?:spe|exit special) (\w+) (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Rename an area</name><script>mmp.renameArea(matches[2])
</script><command /><packageName /><regex>^area rename (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Add|delete doors</name><script>local room = (matches[2] ~= "" and tonumber(matches[2]) or mmp.currentroom)

local direction, status = matches[3], matches[4]

if not roomExists(room) then mmp.echo("Room "..room.." doesn't exist. It has to before we can make doors in it.") return end

local validdirs = {'e', 's', 'w', 'n', 'ne', 'se', 'sw', 'nw', 'in', 'out', 'up', 'down'}

if not table.contains(validdirs, direction) then
  mmp.echo("Can't make a door in the '"..direction.."' direction - available choices are:\n  "..table.concat(validdirs, ', '))
  return
end

local statusnum

if status == "" or status == "open" or status == "o" then
  statusnum = 1
elseif status == "closed" or status ==  "c" then
  statusnum = 2
elseif status == "locked" or status ==  "l" then
  statusnum = 3
elseif status == "clear" or status == "gone" then
  statusnum = 0
end

if not statusnum then mmp.echo("Unrecognized option - a door can be open, closed, locked or gone.") return end

setDoor(room, direction, statusnum)

if statusnum == 0 then
  mmp.echo("OK, door removed.")
else
  mmp.echo("OK, door added/adjusted.")
end
</script><command /><packageName /><regex>^rd(?: (\d+))? (\w+)(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Delete a room</name><script>-- want the current room, but we're lost
if not matches[2] and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo("Don't know where we are at the moment.") return end

-- want another room, but it doesn't exist
if matches[2] and tonumber(matches[2]) and not mmp.roomexists(matches[2]) then mmp.echo("v"..matches[2].." doesn't exist.") return end

-- or a relative one
if matches[2] and not tonumber(matches[2]) and not mmp.relativeroom(mmp.currentroom, matches[2]) then mmp.echo("There is no room "..matches[2].. " of us.") return end

local rid = (not matches[2] and mmp.currentroom or (tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])))

local n = getRoomName(rid)
deleteRoom(rid)
mmp.echo(string.format("Deleted the %s (%d) room.\n", (n ~= "" and n or "''"), rid))
centerview(mmp.currentroom)
</script><command /><packageName /><regex>^(?:rld|room delete) ?(\w+)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Create a link between two rooms</name><script>-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo("Don't know where we are at the moment.") return end

-- make sure the dir is valid
local dir = mmp.anytolong(matches[3])
if not dir then mmp.echo(matches[3].." isn't a valid normal exit.") return end

-- if we don't give a room number, then we want to auto-locate an appropriate room nearby.
local otherroom
if matches[2] == "" then
  local w = matches[3]
  local ox, oy, oz, x,y,z = getRoomCoordinates(mmp.currentroom)
  local has = table.contains
  if has({"west", "left", "w", "l"}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({"east", "right", "e", "r"}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({"north", "top", "n", "t"}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({"south", "bottom", "s", "b"}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({"northwest", "topleft", "nw", "tl"}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({"northeast", "topright", "ne", "tr"}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({"southeast", "bottomright", "se", "br"}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({"southwest", "bottomleft", "sw", "bl"}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({"up", "u"}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({"down", "d"}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  end

  local carea = getRoomArea(mmp.currentroom)
  if not carea then mmp.echo("Don't know what area are we in.") return end

  otherroom = select(2, next(getRoomsByPosition(carea,x,y,z)))

  if not otherroom then
    mmp.echo("There isn't a room to the "..w.." that I see - try with an exact room id.") return
  end

else
  if not mmp.roomexists(matches[2]) then -- check that an explicit other room ID is valid
    mmp.echo("A room with id "..matches[2].. " doesn't exist.") return
  else
    otherroom = tonumber(matches[2])
  end
end

if setExit(mmp.currentroom, otherroom, matches[3]) then
  if not matches[4] then setExit(otherroom, mmp.currentroom, mmp.ranytolong(matches[3])) end

  mmp.echo(string.format("Linked %s (%d) to %s (%d) via a %s%s exit.",
    (getRoomName(mmp.currentroom) ~= "" and getRoomName(mmp.currentroom) or "''"), mmp.currentroom, (getRoomName(otherroom) ~= "" and getRoomName(otherroom) or "''"), otherroom, (matches[4] and "one-way " or ''), matches[3]))
else
  mmp.echo("Couldn't create an exit.")
end
centerview(mmp.currentroom)
</script><command /><packageName /><regex>^(?:rlk|room link) ?(\d+)? (\w+)( one)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Delete shop stockroom exits</name><script>mmp.echo("Deleting all known stockroom exits (rooms with $ and a down exit)")
local c = 0

for area, areaname in pairs(mmp.areatabler) do
  local rooms = getAreaRooms(area) or {}
  for i = 0, #rooms do
    if rooms[i] then
      local char = getRoomChar(rooms[i])
      if char == '$' then
        local exits = getRoomExits(rooms[i]) -- retrieve after $, more efficient

        if exits.down then
          setExit(rooms[i], -1, 'down')
          mmp.echo(string.format("Deleted the stockroom exit at %s (#%d in %s)", getRoomName(rooms[i]), rooms[i], mmp.areatabler[getRoomArea(rooms[i])]))
          c = c + 1
        end
      end
    end

  end
end

mmp.echo(string.format("Deleted %s known stockroom exit%s.", c, (c ~= 1 and 's' or '')))
centerview(mmp.currentroom)
</script><command /><packageName /><regex>^delete known stockrooms$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Delete map feature</name><script>mmp.deleteMapFeature(matches[2]:trim())
</script><command /><packageName /><regex>^feature delete (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Add area to continent</name><script>-- aca continent [optional area]

local continent = matches[2]:title()
local area
if not matches[3] then area = getRoomArea(mmp.currentroom)
elseif tonumber(matches[3]) then
  area = tonumber(matches[3])
  if getRoomAreaName(area) == -1 then area = nil end
else
  local areas = getAreaTable()

  for karea, id in pairs(areas) do if karea:lower():find(matches[3]:lower(), 1, true) then area = id break end end
end

if not area then mmp.echo(matches[3].." isn't a known area. Which one do you want to set?") return end

local res, error = mmp.addcontinent(area, continent)
if res then
  mmp.echo("Recorded that "..getRoomAreaName(area).." is on the "..continent.." continent.")
else
  mmp.echo(error)
end
</script><command /><packageName /><regex>^aca ([\w']+)(?: (.+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Add a special exit from one remote room to another</name><script>local room1, room2 = tonumber(matches[2]), tonumber(matches[3])

if not room1 or not mmp.roomexists(room1) then
  mmp.echo("Room #"..matches[2].." doesn't exist - create it first, or make sure you got the room ID right?")
  return
end

if not room2 or not mmp.roomexists(room2) then
  mmp.echo("Room #"..matches[3].." doesn't exist - create it first, or make sure you got the room ID right?")
  return
end

addSpecialExit(room1, room2, matches[4])
mmp.echo(string.format("Added special exit with command '%s' to from %s (%d) to %s (%d).", matches[4], getRoomName(room1), room1, getRoomName(room2), room2))
</script><command /><packageName /><regex>^spev (\d+) (\d+) (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>List special exits</name><script>mmp.listSpecialExits(matches[2])
</script><command /><packageName /><regex>^spe list(?: (.+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Set exit weight</name><script>local room = (matches[2] ~= "" and tonumber(matches[2]) or mmp.currentroom)

local weight, exit = tonumber(matches[3]), matches[4]

if not roomExists(room) then mmp.echo("Room "..room.." doesn't exist. It has to before we can set weights on exits.") return end

setExitWeight(room, exit, weight)

mmp.echo(string.format("Set the weight on the %d room going %s to %s. If it's a two-way exit, please set the reverse exit as well.", room, exit, weight))
</script><command /><packageName /><regex>^rwe(?: (\d+))? (\d+) (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Weight ferry exits</name><script>local ferryCommands = {
  ["buy passage to"] = {"achaea"},
  ["takeoff to"] = {"starmourn"},
  ["station transfer to"] = {"starmourn"}
}
local c = 0
local weight = 200
for area in pairs(mmp.areatabler) do
  local rooms = getAreaRooms(area) or {}
  for i = 0, #rooms do
    local exits = getSpecialExits(rooms[i] or 0)
    if exits and next(exits) then
      for exit, cmd in pairs(exits) do
        if type(cmd) == "table" then
          cmd = next(cmd)
        end
        local lowerCommand = cmd:lower()
        local found = false
        for ferryCommand, games in pairs(ferryCommands) do
          if table.contains(games, mmp.game) and lowerCommand:find(ferryCommand, 1, true) then
            found = true
            break
          end
        end
        if found then
          setExitWeight(rooms[i], cmd, weight)
          mmp.echo(
            "Weighted " .. cmd .. " going to " .. rooms[i] .. " (" .. getRoomName(rooms[i]) .. ")."
          )
          c = c + 1
        end
      end
    end
  end
end
mmp.echo(
  string.format(
    "%s ferry exits weighted to %s (so we don't take them over too short distances).", c, weight
  )
)
</script><command /><packageName /><regex>^weight ferry exits$</regex></Alias><Alias isActive="yes" isFolder="no"><name>List continents</name><script>local continents = mmp.getcontinents()

if not next(continents) then mmp.echo("No continents known.")
else
  for continent, areadata in pairs(continents) do
    mmp.echo(continent.." continent:")

    for _, areaid in ipairs(areadata) do
      cecho("  "..getRoomAreaName(areaid).."\n")
    end
  end
end
</script><command /><packageName /><regex>^(?:acl|area continents)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>remove area from continent</name><script>-- acr continent [optional area]

local continent = matches[2]:title()
local area
if not matches[3] then area = getRoomArea(mmp.currentroom)
elseif tonumber(matches[3]) then
  area = tonumber(matches[3])
  if getRoomAreaName(area) == -1 then area = nil end
else
  local areas = getAreaTable()

  for karea, id in pairs(areas) do if karea:lower():find(matches[3]:lower(), 1, true) then area = id break end end
end

if not area then mmp.echo(matches[3].." isn't a known area. Which one do you want to set?") return end

local res, error = mmp.removecontinent(area, continent)
if res then
  mmp.echo("Recorded that "..getRoomAreaName(area).." is not on the "..continent.." continent.")
else
  mmp.echo(error)
end
</script><command /><packageName /><regex>^acr ([\w']+)(?: (.+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Set room weight</name><script>local weight = tonumber(matches[3]), room
if matches[2] == '' then room = mmp.currentroom
else
  room = tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])
end

if not room or not mmp.roomexists(room) then
  mmp.echo("Sorry - which room do you want to set the weight on? I don't know where you are at the moment, if you want to do the current room.")
  return
end

if not weight then
  mmp.echo("What weight do you want to set on #"..room.."?")
end

local oldweight = getRoomWeight(room)
setRoomWeight(room, weight)

if weight &gt; oldweight then
  mmp.echo("Increased the room weight on #"..room.." ("..getRoomName(room)..") by "..(weight-oldweight).." to "..weight.." - making it less desirable to travel through.")
elseif weight &lt; oldweight then
  mmp.echo("Decreased the room weight on #"..room.." ("..getRoomName(room)..") by "..(oldweight-weight).." to "..weight.." - making it more desirable to travel through.")
else
  mmp.echo("The room weight on #"..room.." ("..getRoomName(room)..") is already "..weight..".")
end
</script><command /><packageName /><regex>^rw(?: (\w+))? (\d+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Show ferry rooms</name><script>mmp.echo("Ferry rooms available:")
if not next(mmp.ferry_rooms) then  mmp.echo("(none)") return end

for k, _ in pairs(mmp.ferry_rooms) do
  mmp.echo(string.format("  (%d) - %s\n", k, getRoomName(k)))
end
</script><command /><packageName /><regex>^fr show$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Delete suffixed periods</name><script>mmp.echo("Deleting removing all periods at the end of room names...")
local c = 0

for area, areaname in pairs(mmp.areatabler) do
  local rooms = getAreaRooms(area) or {}
  for i = 0, #rooms do
    local name = getRoomName(rooms[i] or 0)
    if string.ends(name, ".") then
      name = string.sub(name, 1, (#name-1))
      setRoomName(rooms[i], name)
      mmp.echo(string.format("Patched up room #%s - '%s'", rooms[i], name))
      c = c + 1
    end
  end
end

mmp.echo(string.format("Fixed up %s room%s.", c, (c ~= 1 and 's' or '')))
</script><command /><packageName /><regex>^delete suffixed periods$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Find single exits</name><script>local c = 0

local getAreaRooms, getRoomExits, contains, echoLink, getRoomEnv, envidsr =
  getAreaRooms, getRoomExits, table.contains, echoLink, getRoomEnv, mmp.envidsr

for area, id in pairs(getAreaTable()) do
  for _, roomid in pairs(getAreaRooms(id)) do
    local exits = getRoomExits(roomid)
    for dir, otherroom in pairs(exits) do
      local otherexits = getRoomExits(otherroom) or {}
      if not contains(otherexits, roomid) then
        echoLink(string.format("%s -&gt; %s is oneway (%s-&gt;%s type)\n", roomid, otherroom,
          (envidsr and envidsr[getRoomEnv(roomid)] or "?"),
          (envidsr and envidsr[getRoomEnv(otherroom)] or "?")),
        [[mmp.gotoRoom(]]..roomid..[[)]], "Click to go to the start room "..roomid, true)
        c = c + 1
     end
    end
  end
end

mmp.echo(string.format("Found %s oneways.%s", c, (c &gt; 10 and " Have fun. Click on lines to go to the rooms." or "")))
</script><command /><packageName /><regex>^find single exits$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Create an area</name><script>local t = getAreaTable(); local tr = {}; for k,v in pairs(t) do tr[v] = k end
local newid = table.maxn(tr) + 1

setAreaName( newid, matches[2] )
mmp.echo(string.format("Created new area %s (%d)", matches[2], newid))
centerview(mmp.currentroom)
raiseEvent("mmp areas changed")
</script><command /><packageName /><regex>^area add (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Create map feature</name><script>mmp.createMapFeature(matches[2]:trim(), (matches[3] and matches[3]:trim()))
</script><command /><packageName /><regex>^feature create (.+?)(?: char (.+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>migrate features</name><script>local translation
if mmp.game == "starmourn" then
  translation =
  {
    ["@"] = "landing dock",
    ["C"] = "cloning",
    ["R"] = "repair",
    ["$"] = "denizen shop",
    ["I"] = "insurance office",
    ["T"] = "transport",
    ["J"] = "junk",
    ["M"] = "mail",
    ["L"] = "lift",
    ["P"] = "ptp",
    ["TT"] = "trade terminal",
  }
else
  mmp.echo("Sorry, don't know which room character maps to which map feature for your game. Please contact us at https://discord.gg/PPUNnc3 to get this sorted out.")
	return
end
mmp.echo("Migrating room characters to map features...")
for char, feature in pairs(translation) do
  mmp.createMapFeature(feature, char)
end
for key in pairs(getRooms()) do
  local char = getRoomChar(key)
  if char ~= "" then
    if translation[char] then
      if not mmp.roomCreateMapFeature(translation[char], key) then
			  mmp.echo("An error occurred when migrating room characters, see messages above for details. Migration incomplete!")
			  return
			end
    end
  end
end
mmp.echo("Migration done.")
</script><command /><packageName /><regex>^feature migrate$</regex></Alias><Alias isActive="no" isFolder="no"><name>-- (Map feature functions)</name><script /><command /><packageName /><regex /></Alias><Alias isActive="yes" isFolder="no"><name>Clear the map completely</name><script>if not mmp.map_delete_warning then
  mmp.echo("Are you really, really, really sure you want to delete all of the map to go to a blank state? Do the command again if you're certain.")
  mmp.map_delete_warning = true
  return
end

mmp.echo("Okay, deleting...")

tempTimer(.1, function()
  for name, id in pairs(getAreaTable()) do
    deleteArea(tonumber(id))
  end

  mmp.echo("Deleted everything. It's all gone.")
  mmp.map_delete_warning = nil
  centerview(1)
end)
</script><command /><packageName /><regex>^map delete all$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Clear all special exits</name><script>-- want the current room, but we're lost
if not matches[2] and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo("Don't know where we are at the moment.") return end

-- want another room, but it doesn't exist
if matches[2] and tonumber(matches[2]) and not mmp.roomexists(matches[2]) then mmp.echo("v"..matches[2].." doesn't exist.") return end

-- or a relative one
if matches[2] and not tonumber(matches[2]) and not mmp.relativeroom(mmp.currentroom, matches[2]) then mmp.echo("There is no room "..matches[2].. " of us.") return end

local rid = (not matches[2] and mmp.currentroom or (tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])))

clearSpecialExits(rid)
mmp.echo(string.format("Cleared all special exits in %s (%d).\n", getRoomName(rid), rid))
</script><command /><packageName /><regex>^(?:spe clear|exit special clear) ?(\w+)?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Manually set the room coordinates</name><script>-- want the current room, but we're lost
if matches[2] == '' and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo("Don't know where we are at the moment.") return end

-- want another room, but it doesn't actually exist
if matches[2] ~= '' and not mmp.roomexists(matches[2]) then mmp.echo("v"..matches[2].." doesn't exist.") return end

local m = matches[3]
local rid, rname = (matches[2] ~= "" and matches[2] or mmp.currentroom),
  (matches[2] ~= "" and getRoomName(matches[2]) or mmp.currentroomname)
local x,y,z

local function set() -- small func to set things
  setRoomCoordinates(rid, x, y, z)
  mmp.echo(string.format("%s (%d) is now at %dx, %dy, %dz.\n", rname, rid, x,y,z))
  centerview(rid)
end

-- let's be flexible and allow several ways if giving an arg
-- rc x y z
x,y,z = string.match(m, "(%-?%d+) (%-?%d+) (%-?%d+)")
if x then
  set(); return
end

-- rc xx? yy? zz?
x,y,z = string.match(m, "(%-?%d+)x"), string.match(m, "(%-?%d+)y"), string.match(m, "(%-?%d+)z")
if x or y or z then
  -- merge w/ old coords if any are missing
  local ox, oy, oz = getRoomCoordinates(rid)
  x = x or ox; y = y or oy; z = z or oz
  set(); return
end

-- rc left/west, right/east, ...
local ox, oy, oz = getRoomCoordinates(rid)
local has = table.contains
for w in string.gmatch(m, "%a+") do
  if has({"west", "left", "w", "l"}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({"east", "right", "e", "r"}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({"north", "top", "n", "t"}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({"south", "bottom", "s", "b"}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({"northwest", "topleft", "nw", "tl"}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({"northeast", "topright", "ne", "tr"}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({"southeast", "bottomright", "se", "br"}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({"southwest", "bottomleft", "sw", "bl"}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({"up", "u"}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({"down", "d"}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  end

end
if x then set(); return end

mmp.echo([[Where do you want to move the room to?
  You can use direct coordinates or relative directions.]])
</script><command /><packageName /><regex>^(?:rc|room coords) (?:v(\d+) )?(.+)$</regex></Alias><Alias isActive="no" isFolder="no"><name>-- (area functions)</name><script /><command /><packageName /><regex /></Alias><Alias isActive="yes" isFolder="no"><name>Clear continent data</name><script>if not mmp.wipingcontinents then
  mmp.wipingcontinents = true
  mmp.echo("Are you sure you want to wipe all continent data? If yes, do this again.")
  return
end
mmp.wipingcontinents = nil

local toserialize = yajl.to_string{}
setRoomUserData(1, "areaContinents", toserialize)
mmp.echo("Wiped all continents data.")
</script><command /><packageName /><regex>^clear continent data$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Delete an area</name><script>mmp.deleteArea(matches[2])
</script><command /><packageName /><regex>^area delete (.+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Move room to another area</name><script>mmp.roomArea(matches[2], matches[3])
</script><command /><packageName /><regex>^room area (?:v(\d+) )?(.+)$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Game-specific</name><script /><command /><packageName /><regex /><AliasGroup isActive="yes" isFolder="yes"><name>Lusternia</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Wildnodes toggle</name><script>if mmp.game ~= "lusternia" then return end
mmp.wildnodes(matches[2]:lower()=="on")
mmp.echo("All astral nodes have been "..(matches[2]:lower()=="on" and "" or "un").."linked.")
</script><command /><packageName /><regex>(?i)^nodes (on|off)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Lock or unlock pathfinding exits</name><script>mmp.lockpaths(matches[2]:lower()=="lock")
</script><command /><packageName /><regex>(?i)^(lock|unlock) paths$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Link through manse</name><script>local portalRooms = {
gaudiguch="19861",
glomdoring="7747",
celest="6834",
serenwilde="6833",
hallifax="19937",
magnagora="6832",
aetherplex="6831",
}

if mmp.game ~= "lusternia" then return end
matches[2]=matches[2]:lower()
matches[3]=matches[3]:lower()
local manse, city
if portalRooms[matches[2]] then
	city=matches[2]
	manse=matches[3]
elseif portalRooms[matches[3]] then
	city=matches[3]
	manse=matches[2]
else
	mmp.echo("Invalid city")
	return
end
if not gmcp.Room.Info.area:find("(manse)") then
	mmp.echo("You are not in a manse")
else
	if	searchRoom(gmcp.Room.Info.num):sub(0,11)=="searchRoom:" then
		addRoom(gmcp.Room.Info.num)
	end
	if getRoomArea(gmcp.Room.Info.num)==-1 then
		setRoomArea(gmcp.Room.Info.num,addAreaName(manse:title().." Manse"))
	end
	setRoomChar(gmcp.Room.Info.num,"A")
	addSpecialExit(portalRooms[city],gmcp.Room.Info.num,"Portal enter "..manse)
	addSpecialExit(portalRooms["aetherplex"],gmcp.Room.Info.num,"Portal enter "..manse)
	addSpecialExit(gmcp.Room.Info.num,portalRooms["aetherplex"],"portal exit aetherplex")
	addSpecialExit(gmcp.Room.Info.num,portalRooms[city],"portal exit "..city)
	mmp.echo(city:title().." has been linked to the Aetherplex through "..manse:title())
end
</script><command /><packageName /><regex>(?i)^manselink (\w+) (\w+)$</regex></Alias></AliasGroup></AliasGroup></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Prospector</name><script /><command /><packageName>Prospector</packageName><regex /><AliasGroup isActive="yes" isFolder="yes"><name>prospectingaliases</name><script /><command /><packageName>prospectingaliases</packageName><regex /><AliasGroup isActive="yes" isFolder="yes"><name>Prospecting</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>continue prospecting</name><script>expandAlias("goto "..ProspectList[1])
prospecting=1
</script><command /><packageName /><regex>^cprospect$</regex></Alias><Alias isActive="yes" isFolder="no"><name>OMG STOP</name><script>mmp.stop()
killTimer(tostring(prospectingtimer))
gotopactive = false
send("stop")
prospecting = 0
</script><command /><packageName /><regex>^pstop$</regex></Alias><Alias isActive="yes" isFolder="no"><name>showmines</name><script>mineowners = {}
counter= 0
for k,v in pairs(minetable) do 

cecho("\n\nMaterial type: " ..k)

for m,n in pairs(v) do 
  for p,o in pairs(n) do

    cecho("\nRoom number: " ..p.. "\n")


    for b,r in pairs(o) do
      echo(b..": "..r..",  ")
		if b == 2 then
				mineowners[counter] = r
				counter = counter+1
		end
    end
  end

end

end


cecho("\n\n--STRONGHOLDS--\n")
for k,v in pairs(strongholdtable) do

cecho("\n Room number: " ..k.. "\n ")
	for m,n in pairs(v) do
		cecho(m.. ": " ..n.. ", ")
	end

end
</script><command /><packageName /><regex>^showmines$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Prospecting</name><script>ProspectList = { 
--Mhojave Desert
"330", "331", "335", "334", "333", "343", "347", "348", "352", "6587", "6629", "348", "45863", "344", "345", "346", "350", "354", "358", "357", "356", "355", "1236", "1235"
,"1247", "1246", "1249", "1250", "1244", "1243", "1251", "1245", "1237", "316", "318", "312", "311", "317", "315", "310", "314", "308", "307", "303", "301", "309"
,"302", "300", "304", "14790", "6164", "13778", "306", "305"
--Dakhota Hills
,"1079", "1080", "1077", "1081", "1083", "1094", "1084", "1089", "1088", "1090", "1091", "1093", "1092", "1095", "1103", "1102", "1115", "1118", "1119", "1121"
,"1123", "1112", "1113", "1114", "1111", "1104", "1105", "1106", "1096", "1097", "1098", "1082", "1100", "1101", "1125", "1127", "1126", "1133", "1136", "1137", "1138"
,"1139", "1132", "1128", "1131", "1130", "1108", "1107"
-- Dun valley
, "3812", "3797", "3796", "3799", "3801", "3802", "3805", "3804", "3800", "3821", "3798", "3795", "5036", "5035", "5034", "5033", "5032"
-- Vashnar Mountains
,"2019", "2018", "2017", "2010", "2011", "2012", "2013", "2015", "2016", "2014", "2009", "2008", "2007"
--Southern Vashnars
,"10226", "10247", "10224", "10502", "10381", "10458", "10241", "10295", "38162", "35601", "35193", "10280", "10311", "10235", "13553", "10342", "10299"
,"10250", "10448", "10218", "10219", "10429", "10412", "10567", "10203", "10202", "10195", "10712", "10196", "10194", "10240", "10184", "10186", "10182", "10185"
,"10189", "10193", "10187", "10192", "10190", "10409", "10181", "10206", "10222"
-- Pash valley
,"1726", "1725", "1724", "1723", "1722", "1721", "1720", "1717", "1716", "1714", "5585", "4315", "1715", "1713", "1718", "1719", "1712", "1711", "1710", "1705", "1702", "1706", "1709", "1708", "1707", "1697", "1619", "1728", "1490"
,"1729", "1727", "1686", "1685", "1683", "1634", "1633", "1635", "1631", "1628", "1627", "1626", "1433", "1434", "1432", "1431", "1435"
,"1428", "1430", "1427", "1423", "1425", "1424", "1426", "1429", "3018", "3017", "3019", "3020", "3390", "3389", "28632", "3016", "3015", "2997", "2991", "2990", "2977"
-- Siroccian hills
,"2979", "2980", "2981", "3420", "3421", "3422", "3424", "3423", "2982", "2983", "2984", "2985", "2986", "2987", "2988"
--granite hills 1
,"9067", "9068", "9069", "9075", "9074", "9073", "9070", "9071", "9072", "9146", "19004", "11693", "11657", "18634", "7626", "7154", "7153", "7155", "7156", "7226", "7625", "9139", "9140", "9141", "9142", "9143", "9144", "9145"
-- granite hills 2
,"9086", "9088", "9089", "9090", "9091", "9092", "9093", "9096", "9094", "9095", "9138", "9147", "9097", "9098", "9099", "9100", "9101", "9102", "9103", "9131", "9130", "9105", "9104", "40513"
}

expandAlias("goto "..ProspectList[1])
--send("clan tug tell Beginning prospecting run!")
prospecting=1
lastminetable = minetable
minetable = {}
lodetable = {}
strongholdtable = {}
</script><command /><packageName /><regex>^prospectall$</regex></Alias></AliasGroup></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>OpSec</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Stop Checks!</name><script>killTimer(opsec.runTimer)
cecho('\n&lt;red&gt;Stopping opsec run!\n')
if opsec.lastPose then send('pose '.. opsec.lastPose) end
opsec.posed = false
</script><command /><packageName /><regex>^stopcheck$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Check Room Security</name><script>opsec = (opsec or {})
opsec.checkWormholesAlways = false
opsec.checkedRooms = (opsec.checkedRooms or {})
opsec.checkedSlots = {}

opsec.doCommand = function(cmds)
  if opsec.wait then
    cecho('Pausing opsec run temporarily...')
    opsec.wait = false
    local wait_for = 8
    if not opsec.checkWormholes and not opsec.checkWormholesAlways then
      wait_for = 4
    end
    opsec.runTimer = tempTimer(wait_for, function() opsec.doCommand(cmds) end)
  else
    if table.is_empty(cmds) then
      killTimer(opsec.runTimer)
      cecho('\nOpsec run finished!\n')
      expandAlias('opsec display')
      opsec.checkWormholes = true
      if opsec.lastPose then send('pose '.. opsec.lastPose) end
      opsec.posed = false
      return
    end
    if not opsec.posed then
      send('pose')
      send('pose Scribbling notes, ^ is here, eyeing the totem '..
           'up and down and tut-tutting.')
      opsec.posed = true
    end
    if gmcp.Room.Players and #gmcp.Room.Players &gt; 1 then
      send('em scribbles some notes while glancing at a totem, '..
           'before busily hurrying off.')
    end
    expandAlias('opsec')
    local timer_in = 3.5
    if cmds[#cmds]:starts('goto') then
      expandAlias(cmds[#cmds])
      timer_in = 5
    else
      send(cmds[#cmds])
    end
    table.remove(cmds, #cmds)
    if not opsec.checkWormholes and not opsec.checkWormholesAlways then
      if timer_in == 5 then timer_in = 2.75 else timer_in = 1.75 end
    end
    opsec.runTimer = tempTimer(timer_in, function() opsec.doCommand(cmds) end)
  end
end

if matches[2] == 'display' then
  for roomID, info in pairs(opsec.checkedRooms) do
    cecho('\nAt '.. info.name ..' ('.. roomID ..'):\n')
    for _, problem in pairs(info.report) do
      cecho('\t'.. problem ..'\n')
    end
  end
  cecho('\nWormholes found:\n')
  display(opsec.wormholes)
elseif matches[2] == 'logreport' then
  local report = 'Totems damaged at: '
  if #opsec.checkedRooms then
    for roomID, info in pairs(opsec.checkedRooms) do
      report = report .. info.name .. ' ('.. roomID ..'); '
    end
    --cecho('\n'.. report ..'\n')
    send('writelog '.. gmcp.Char.Status.city:lower() ..' '.. report)
  end
elseif matches[2] == 'reset' then
  opsec.checkedRooms = {}
  opsec.wormholes = {}
  cecho('\n&lt;cyan&gt;opsec.checkedRooms and opsec.wormholes reset\n')
else  
  enableTrigger('opsec_checktotem_runes')
  enableTrigger('opsec_checktotem_loyalty')
  enableTrigger('opsec_checktotem_empower')
  enableTrigger('opsec_checkmono_flame')
  enableTrigger('opsec_missing_item')
  enableTrigger('opsec_grossshitonground')
  enableTrigger('opsec_yeswormhole')
  
  opsec.totem_empowered = 0
  opsec.flame_rune_found = 0
  
  sendAll('p totem', 'p monolith')
  if opsec.checkWormholes or opsec.checkWormholesAlways then
    send('wormholes')
  end
  
  tempTimer(.75, function()
    local roomId = gmcp.Room.Info.num
    local report = {}
    if (opsec.flame_rune_found == 0) then
      cecho('\n&lt;red&gt;Monolith sigil at '.. gmcp.Room.Info.name ..' missing flame rune!')
    end
    disableTrigger('opsec_checktotem_runes')
    disableTrigger('opsec_checktotem_loyalty')
    disableTrigger('opsec_checktotem_empower')
    disableTrigger('opsec_checkmono_flame')
    disableTrigger('opsec_missing_item')
    disableTrigger('opsec_grossshitonground')
    disableTrigger('opsec_yeswormhole')
    local checkSlot = 1
    while checkSlot &lt;= 6 do 
      local slotVal = opsec.checkedSlots[tostring(checkSlot)]
      if slotVal ~= 'OK' then
        report[checkSlot] = 'slot '.. tostring(checkSlot) ..' has '.. (slotVal or 'been smudged')
      end
      checkSlot = checkSlot + 1
    end
    
    if (opsec.totem_empowered == 0) then
      cecho('&lt;cyan&gt;TOTEM SETUP WARNING: Totem not empowered.')
      --report[#report + 1] = "Totem not empowered"
    end
    
    if #report &gt; 0 then
      opsec.checkedRooms[roomId] = {
        name = gmcp.Room.Info.name,
        report = report
      }
    end
  end)
end

if not (opsec.checkWormholes == true or opsec.checkWormholes == false) then
  opsec.checkWormholes = true
end
</script><command /><packageName /><regex>^opsec(?: (display|reset|logreport))?$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Achaea</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Duanathar</name><script /><command>say *human Duanathar!</command><packageName /><regex>^clouds$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Area</name><script>display(gmcp.Room.Info.area)
display(gmcp.Room.Info.num)
</script><command /><packageName /><regex>^area$</regex></Alias><Alias isActive="yes" isFolder="no"><name>ORB ORB</name><script>local action = 'activate'
if matches[2] == 'off' then
  action = 'deactivate'
end

send('city improvement '.. action ..' orb')
</script><command /><packageName /><regex>^orb (on|off)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Enter Portal</name><script /><command>enter portal</command><packageName /><regex>^ep$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Mount Griff</name><script /><command>whistle mount hippogriff506577 | vault hippogriff506577</command><packageName /><regex>^mnt$</regex></Alias><Alias isActive="yes" isFolder="no"><name>SEAMONSTER</name><script /><command>load ballista with dart | fire ballista at seamonster</command><packageName /><regex>^sm$</regex></Alias><Alias isActive="yes" isFolder="no"><name>SWAP</name><script /><command>psi projection swap</command><packageName /><regex>^swp$</regex></Alias><Alias isActive="yes" isFolder="no"><name>BONK!!</name><script>local tgt = matches[2] or target
sendAll(
  'weave prepare disruption',
  'weave overhand '.. tgt,
  'say BONK!!'
)
</script><command /><packageName /><regex>^bnk(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Eye Sigil</name><script>sendAll('ent',
        'group',
        'get box302675 from pack',
        'get eye from box302675',
        'wield eye',
        'throw eye at ground',
        'put box302675 in pack')
</script><command /><packageName /><regex>^eye$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Harpoon (Arakesh)</name><script /><command>turn harpoon | push harpoon | pull harpoon</command><packageName /><regex>^harp$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Find Missing Defences</name><script>local expectedDefs = {
  "starburst",
  "blindness",
  "deafness",
  "moontattoo",
  "mosstattoo",
  "megalithtattoo",
  "boartattoo",
  "insomnia",
  "belltattoo",
  "insulation",       -- caloric salve
  "levitating",
  "temperance",       -- frost elixir
  "kola",
  "thirdeye",
  "poisonresist",
  "speed",
  "selfishness",
  "cloak",
  "mindseye",
  "fangbarrier",      -- sileris
  "deathsight",
  "electricresist",   -- sunless hope
  "fireresist",       -- sunless hope
  "coldresist",       -- sunless hope
  "magicresist",      -- sunless hope
}

if gmcp.Char.Status.Class == 'Psion' then
  local psionDefs = {
    "secondskin",
    "psitranscend",
    "psicomprehend",
    "guidedstrike",
  }
  expectedDefs = table.n_union(expectedDefs, psionDefs)
elseif gmcp.Char.Status.Class == 'Magi' then
  local magiDefs = {
    "stoneskin",
    "stonefist",
    "diamondskin",
    "chargeshield",
  }
  expectedDefs = table.n_union(expectedDefs, magiDefs)
end

if gmcp.Char then
  local defTable = {}
  for _, def in pairs(gmcp.Char.Defences.List) do
    defTable[#defTable + 1] = def.name
  end
  local missingDefs = {}
  for _, def in pairs(expectedDefs) do
    if not table.contains(defTable, def) then
      missingDefs[#missingDefs + 1] = def
    end
  end
  if #missingDefs &gt; 0 then
    cecho('\n&lt;cyan&gt;Missing defences:\n')
    display(missingDefs)
  else
    cecho('\n&lt;cyan&gt;No defences down.\n')
  end
else
  cecho('\n&lt;red&gt;GMCP not available.\n')
end
</script><command /><packageName /><regex>^mdef$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Duanatharan</name><script /><command>say *human Duanatharan!</command><packageName /><regex>^hiclouds$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Find</name><script>if gmcp.Char.Status.class == 'Magi' then
  send('cast scry at '..(matches[2] or target))
elseif gmcp.Char.Status.class == 'Blademaster' then
  send('detect '..(matches[2] or target))
elseif gmcp.Char.Status.class == 'Alchemist' then
  send('ether seek '..(matches[2] or target))
elseif gmcp.Char.Status.class == 'Apostate' then
  send('sense '..(matches[2] or target))
else
  send('farsee '..(matches[2] or target))
end
</script><command /><packageName /><regex>^find(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Steal Monolith</name><script>sendAll('g monolith', 'g box302675 from pack370332',
        'g group monolith from box302675', 'combine monolith fully',
        'put group monolith in box302675', 'put box302675 in pack370332')
</script><command /><packageName /><regex>^stealmono$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Show Colors</name><script>showColors()
</script><command /><packageName /><regex>^showcolors$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Manually Set Limb Counter</name><script>cecho('\n&lt;cyan&gt;Setting target '.. matches[2] ..' to '.. matches[3] ..'%\n')
lb[target].hits[matches[2]] = tonumber(matches[3])
Megophrys.updatePrepGauges()
</script><command /><packageName /><regex>^setl (.*) (\d+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Monolith Sigil</name><script>sendAll(
  'get box302675 from pack',
  'get monolith from box302675',
  'get flame from box302675',
  'generosity',
  'attach flame to monolith',
  'drop monolith',
  'put box302675 in pack'
)
</script><command /><packageName /><regex>^mono$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Spur Skywards</name><script /><command>spur hippogriff skywards</command><packageName /><regex>^fly$</regex></Alias><AliasGroup isActive="yes" isFolder="yes"><name>Defs</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Fly|Cast Aerial</name><script /><command>cast aerial</command><packageName /><regex>^aer$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Channel All</name><script /><command>simultaneity</command><packageName /><regex>^chan$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Auto-cham On|Off</name><script>if matches[2] == 'on' then keepChameleonUp = true else keepChameleonUp = false end
send('touch chameleon nasuta')
</script><command /><packageName /><regex>^cham (on|off)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Hide (Sandling)</name><script /><command>cast sandling</command><packageName /><regex>^hide$</regex></Alias></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>Offense</name><script /><command /><packageName /><regex /><AliasGroup isActive="yes" isFolder="yes"><name>Tattoos</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Summon (Brazier)</name><script>send('touch brazier '.. (matches[2] or target))
</script><command /><packageName /><regex>^sum(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Web</name><script>send('touch web '.. (matches[2] or target))
</script><command /><packageName /><regex>^web(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Traverse (Prism)</name><script>send('touch prism '.. (matches[2] or target))
</script><command /><packageName /><regex>^trav(?: (\w+))?$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Sleep (Hourglass)</name><script>send('touch hourglass '.. (matches[2] or target))
</script><command /><packageName /><regex>^slp(?: (\w+))?$</regex></Alias></AliasGroup></AliasGroup><AliasGroup isActive="yes" isFolder="yes"><name>RP</name><script /><command /><packageName /><regex /><Alias isActive="yes" isFolder="no"><name>Start smoking</name><script>local function puffCig()
  send('puff cigar')
  local puff_again_in = (math.random() * 35) + 55
  cigarTimer = tempTimer(puff_again_in, puffCig)
end
puffCig()
</script><command /><packageName /><regex>^puffcig$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Pet Minasuta</name><script>if Megophrys.homunculus then
  send('petnice '.. Megophrys.homunculus)
end
</script><command /><packageName /><regex>^peth$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Lab Gear</name><script>local pack = 'pack370332'
local mask = 'mask160277'
local gloves = 'gloves479407'
local coat = 'coat521859'
local goggles = 'goggles494089'
if matches[2] == 'up' then
  sendAll(
    'get '.. mask ..' from '.. pack,
    'get '.. gloves ..' from '.. pack,
    'get '.. goggles ..' from '.. pack,
    'get '.. coat ..' from '.. pack,
    'wear '.. mask,
    'wear '.. coat,
    'wear '.. goggles,
    'wear '.. gloves
  )
else
  sendAll(
    'remove '.. mask,
    'remove '.. gloves,
    'remove '.. goggles,
    'remove '.. coat,
    'put '.. mask ..' in '.. pack,
    'put '.. gloves ..' in '.. pack,
    'put '.. goggles ..' in '.. pack,
    'put '.. coat ..' in '.. pack
  )
end
</script><command /><packageName /><regex>^labgear (up|down)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Strike a pose</name><script>if matches[2] == '1' then
  send('pose ^ is crouched nearby, bulging eyes gazing blankly in different directions')
end
</script><command /><packageName /><regex>^pose(\d+)$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Have a Cigar</name><script>sendAll('get box370283 from pack370332',
        'open box370283',
        'get cigar from box370283',
        'close box370283',
        'put box370283 in pack370332')
</script><command /><packageName /><regex>^cig$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Language, Voice|Accent</name><script>local language = ''
local speech_pattern = ''
if matches[2] == 'h' then
  language = 'human'
  speech_pattern = 'accent strange, forced'
elseif matches[2] == 'm' then
  language = 'mhaldorian'
  speech_pattern = 'voice rasping guttural'
elseif matches[2] == 'a' then
  language = 'common'
  speech_pattern = 'voice rasping guttural'
elseif matches[2] == 'g' then
  language = 'grook'
  speech_pattern = 'voice piercing metallic'
end
send('speak ' .. language)
send('set ' .. speech_pattern)
</script><command /><packageName /><regex>^lng ([aghm]{1})$</regex></Alias><Alias isActive="yes" isFolder="no"><name>Stop smoking</name><script>killTimer(cigarTimer)
cecho('\nStopped auto-puffing cigar.')
</script><command /><packageName /><regex>^stopcig$</regex></Alias></AliasGroup></AliasGroup></AliasPackage><ActionPackage /><ScriptPackage><ScriptGroup isActive="yes" isFolder="yes"><name>limb.1.2</name><packageName>limb.1.2</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>Limb</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>limb prompt</name><packageName /><script>function lb.prompt()
  if not lb[target] then return "" end
  local ret = {}
  -- CHANGE ORDER BELOW! CHANGE ORDER BELOW! CHANGE ORDER BELOW! CHANGE ORDER BELOW! CHANGE ORDER BELOW! CHANGE ORDER BELOW! --
  for _, v in ipairs({"head", "torso", "left arm", "right arm", "left leg", "right leg"}) do 
  -----------------------------------------------------------------------------------------------------------------------------
    table.insert(ret, ((lb[target].hits[v] &gt; 100 and "&lt;red&gt;") or ((lb[target].hits[v] &gt; 0 and "&lt;orange&gt;") or "&lt;grey&gt;")) .. lb[target].hits[v])
  end
  return "&lt;DimGrey&gt;[" .. table.concat(ret, "&lt;DimGrey&gt;|") .. "&lt;DimGrey&gt;]"
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>limb management</name><packageName /><script>function lb.addHit(name, ltar, amount)
  name = name:lower():title()
  if not lb[name] then lb.initTarget(name) end
  if not lb[name].hits[ltar] then 
    cecho("&lt;red&gt;(!) Limb not found: " .. tostring(ltar) .. ".\n")
    return
  end
  lb[name].hits[ltar] = lb[name].hits[ltar] + amount
  if lb[name].t[ltar] then killTimer(lb[name].t[ltar]) end
  lb[name].t[ltar] = tempTimer(180, [[
    lb.resetLimb("]] .. name .. [[", "]] .. ltar .. [[")
    lb["]] .. name .. [["].t["]] .. ltar .. [["] = nil
  ]])
  cecho(" " .. ((lb[name].hits[ltar] &gt; 100 and "&lt;firebrick&gt;") or "&lt;ansi_yellow&gt;") .. "("
            .. ((lb[name].hits[ltar] &gt; 100 and "&lt;orange_red&gt;") or "&lt;yellow&gt;") .. lb[name].hits[ltar] .. "%"
            .. ((lb[name].hits[ltar] &gt; 100 and "&lt;firebrick&gt;") or "&lt;ansi_yellow&gt;") .. ")")    
  raiseEvent("limb hits updated", name, ltar, amount)
end

function lb.resetLimb(name, ltar)
  name = name:lower():title()
  if not lb[name].hits[ltar] then
    cecho("&lt;red&gt;(!) Limb not found: " .. tostring(ltar) .. ".\n")
    return
  end
  lb[name].hits[ltar] = 0
  lb.echo("Reset " .. name .. ((name:sub(-1) == "s" and "'") or "'s") .. " " .. ltar .. ".")
end

function lb.salve(name, area)
  lb[name].t.cure = tempTimer(3.7, [[
    local convert = {
      head = {"head"},
      torso = {"torso"},
      arms = {[1] = "left arm", [2] = "right arm"},
      legs = {[1] = "left leg", [2] = "right leg"},
    }
    if not convert["]] .. area .. [["] then return end
    for _, ltar in ipairs(convert["]] .. area .. [["]) do 
      if lb["]] .. name .. [["].hits[ltar] &gt;= 100 then 
        if lb["]] .. name .. [["].t.cure then killTimer(lb["]] .. name .. [["].t.cure) end
        lb.resetLimb("]] .. name .. [[", ltar, true)
        if lb["]] .. name .. [["].t[ltar] then
          killTimer(lb["]] .. name .. [["].t[ltar])
          lb["]] .. name .. [["].t[ltar] = nil
        end
        lb["]] .. name .. [["].t.cure = nil
        break
      end
    end
  ]])
end

function lb.resetAll(name)
  for _, v in ipairs({"head", "torso", "left arm", "right arm", "left leg", "right leg"}) do 
    if lb[name] then
      if lb[name].hits[v] &gt; 0 then 
        lb.resetLimb(name, v)
      end
      if lb[name].t[v] then 
        killTimer(lb[name].t[v])
        lb[name].t[v] = nil
      end
    end
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>limb init</name><packageName /><script>lb = lb or {}

function lb.initTarget(name)
  name = name:lower():title()
  
  lb[name] = lb[name] or {}
  lb[name].t = lb[name].t or {}
  lb[name].hits = lb[name].hits or {
    head = 0,
    torso = 0,
    ["left arm"] = 0,
    ["right arm"] = 0,
    ["left leg"] = 0,
    ["right leg"] = 0,
  }
  
  raiseEvent("limb hits updated", name, "all")
end

function lb.echo(str)
  cecho("&lt;turquoise&gt;[Limb]: &lt;white&gt;" .. str .. "\n")
end
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>TargetCallTables</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>OPTIONS</name><packageName /><script>TargetCallTables = (TargetCallTables or {})
TargetCallTables.Config = (TargetCallTables.Config or {})
TargetCallTables.targetPrios = (TargetCallTables.targetPrios or {})

-- == -- == -- == CONFIG OPTIONS == -- == -- == --
TargetCallTables.Config.EchoColor = 'cyan'
TargetCallTables.Config.ShowEchoes = true

TargetCallTables.Config.UI = true
TargetCallTables.Config.UITableCols = 2
TargetCallTables.Config.UITableRows = 10
TargetCallTables.Config.UIFontSize = 11
TargetCallTables.Config.UIXPos = "40%"
TargetCallTables.Config.UIYPos = "0px"
TargetCallTables.Config.UIWidth= "350px"
TargetCallTables.Config.UIColor = 'cyan'
-- == -- END OF CONFIG: DO NOT EDIT BELOW -- == --

TargetCallTables.echo = function(msg)
  if not TargetCallTables.Config.ShowEchoes then return end
  local color = TargetCallTables.Config.EchoColor
  cecho('\n&lt;'.. color ..'&gt;'.. msg ..'\n')
end

TargetCallTables.addTarget = function(index, tar)
  TargetCallTables.echo('Setting target '.. tostring(index) ..' to '.. tar)
  TargetCallTables.targetPrios[tonumber(index)] = tostring(tar):lower():title()
  TargetCallTables.showTable()
end

TargetCallTables.callTarget = function(index)
  local num = tonumber(index)
  local tar = TargetCallTables.targetPrios[num]
  if tar == nil then
    cecho('\n&lt;red&gt;No target in slot '.. tostring(index) ..'!\n')
    return
  end
  TargetCallTables.lastTargetIndex = num
  target = tar
  sendAll('st '.. tar, 'pt Target: '.. tar)
end

TargetCallTables.nextTarget = function()
  local lastTargetIndex = (TargetCallTables.lastTargetIndex or 0)
  if lastTargetIndex == #TargetCallTables.targetPrios then
    cecho('\n&lt;orange&gt;WARNING: Looping to beginning of call table (out of targets).')
    cecho('\n&lt;orange&gt;=============================================================')
    cecho('\n&lt;orange&gt;REPEAT THE COMMAND TO CALL TARGET #1')
    TargetCallTables.lastTargetIndex = 0
    return
  end
  TargetCallTables.callTarget(lastTargetIndex + 1)
end

TargetCallTables.setTargets = function(tarTable)
  TargetCallTables.targetPrios = {}
  for index, target in pairs(tarTable) do
    TargetCallTables.addTarget(index, target)
  end
end

TargetCallTables.showTable = function()
  if not TargetCallTables.Config.UI then return end
  
  local tbl = '&lt;table width="100%"&gt;'
  local row = 0
  while row &lt; TargetCallTables.Config.UITableRows do
    row = row + 1
    local col = 0
    tbl = tbl ..'&lt;tr&gt;'
    while col &lt; TargetCallTables.Config.UITableCols do
      local idx = (col * 10) + row
      local t = TargetCallTables.targetPrios[idx] or "&amp;nbsp;"
      tbl = tbl ..'&lt;td&gt;'.. tostring(idx) ..'. '.. t ..'&lt;/td&gt;'
      col = col + 1
    end
    tbl = tbl ..'&lt;/tr&gt;'
  end
  tbl = tbl ..'&lt;/table&gt;'

  TargetCallTables.UITable = Geyser.Label:new({
    name="TargetCallTables_UITable",
    x=TargetCallTables.Config.UIXPos, y=TargetCallTables.Config.UIYPos,
    width=TargetCallTables.Config.UIWidth,
    height=(TargetCallTables.Config.UIFontSize + 10) * TargetCallTables.Config.UITableRows,
    bgColor="black", fgColor=TargetCallTables.Config.UIColor,
    message = "&lt;center&gt;".. tbl .."&lt;/center&gt;"
  })
  TargetCallTables.UITable:setFontSize(TargetCallTables.Config.UIFontSize)
end
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Talisman</name><packageName>Talisman</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>Talisman</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Talisman Data</name><packageName /><script>-- dreadpilar 6
-- yggdrasiltablet 18
-- shapingtome 25
-- firecrystal 37
-- nexuscube 37
-- snakeskin 125
-- criersbell 200

talisman = talisman or {}

talisman.setorder = {"dragon", "azatlan", "wonders", "miscellane", "historical", "conclave", "marks", "seafaring", "death", "blackwave", "races", "forays", "cities", "monks", "elemental", "yggdrasil", "contenders", "underworld", "renegades", "invasion", "war", "planes", "eldergod"}

-- Order is optional, if not present it will be a random order as the talisman.info tables is unsorted.
talisman.setformat = {
	dragon = {titlewidth = 7, cellwidth = 7},
	azatlan = {titlewidth = 10, cellwidth = 6, order = {"eagleheaddress", "coati", "kinkajou", "quetzal", "transoceanic", "atlatl", "azatlanknife"}},
	wonders = {titlewidth = 10, cellwidth = 7, order = {"baitbucket", "dragonskinpack", "platinumwhistle", "ramshorn", "monocle", "globe"}},
	miscellane = {titlewidth = 15, cellwidth = 7, order = {"hookah", "tapestry", "vaultkey", "negationsphere", "clayfigurine"}},
	historical = {titlewidth = 15, cellwidth = 7, order = {"window", "mantle", "icicle", "helmet", "disc", "votive", "whisperstone", "lily", "ozhera", "turtle", "mongoose", "hellcat"}},
	conclave = {titlewidth = 10, cellwidth = 7, value = true, order = {"tophat", "hourglass", "tempestbrooch", "elementsprite", "lesservault", "flyingring", "celerity", "buckawns", "adaptgrimoire", "stygianpendant", "grandmagi", "atavianwings"}},
	marks = {titlewidth = 10, cellwidth = 7, value = true, order = {"ivoryatlantia", "ivoryspyglass", "ivorypennon", "ivorydummy", "ivorymedallion", "ivoryarmband", "ivorytower", "ivorywarhorn", "ivorybowstring", "quisalisderillin", "quisalislookingglass", "quisalismedallion", "quisalisdummy", "quisalisbone", "quisalisarmband", "quisalistombstone", "quisalismask", "quisalisdagger", "quisaliscloak"}},
	seafaring = {titlewidth = 15, cellwidth = 10, order = {"cloverbox", "maelstrom", "islandwings", "frostpail", "neatpail", "shipchit", "xpplaque", "monstermap", "crossbow", "glassbottle", "seaweedpail", "smokeflare"}},
	death = {titlewidth = 10, cellwidth = 7, value = true, order = {"mortalcoil", "vulturetalon", "deathcandle", "deathdummy", "gravestone", "crucible", "deathscall", "deathcape"}},
	blackwave = {titlewidth = 10, cellwidth = 7, value = true, order = {"taper", "finalityring", "grievouskeyring", "goblin", "blackspigot", "sunlesshope", "blackcirclet", "guise", "jewel", "canopic", "apperceptionstone", "blackgrimoire", "suremekh'neina"}},
	races = {titlewidth = 10, cellwidth = 7, value = true, order = {"lodestone", "arachnideye", "panpipes", "chitin", "rattle", "whispercloth", "sirensong", "demolitionsphere", "catapult", "dalamyrrclaws", "frogskin", "mayafigurine"}},
	forays = {titlewidth = 10, cellwidth = 6, order = {"arankeshfeather", "icossemirror", "ogrebroth", "boulder", "margamwheel", "foraymap"}},
	cities = {titlewidth = 10, cellwidth = 7, value = true, order = {"biscuit", "tumbleweed", "celescope", "musicbox", "wraithshackles", "alabasterurn"}},
	monks = {titlewidth = 10, cellwidth = 7, value = true, order = {"monkdummy", "odysseantongue", "monkheadband", "talonedring", "cranepennon", "monkbanner", "ashstaff", "olivebranch"}},
	elemental = {titlewidth = 10, cellwidth = 7, value = true, order = {"airelement", "airbrooch", "firependant", "jawbone", "seatears", "earthenshovel", "garashshackle", "mudbomb", "searedglyph", "firetank", "sceptre", "harness"}},
	yggdrasil = {titlewidth = 13, cellwidth = 7, order = {"dreadpilar", "squargon", "yggdrasiltablet", "valdblom", "earthshapingtome", "nexuscube", "firecrystal", "planarmote", "goldensnakeskin", "yggdrasilbranch", "criersbell"}},
	contenders = {titlewidth = 10, cellwidth = 7, value = true, order = {"contenderspig", "contendersjug", "contendersbouquet", "contendersfigurine", "contendersglass", "contendersjournal", "contendersstud", "contendersribbon"}},
	underworld = {titlewidth = 10, cellwidth = 7, value = true, order = {"cryptworm", "psychesplinter", "sanityskein", "custodytalisman", "unlifetotem", "soulsliver", "funeralshroud", "cullingblade"}},
	renegades = {titlewidth = 13, cellwidth = 7, value = true, order = {"mercenarychalk", "elementalinjunction", "moppet", "turncoatscoat", "shadowcloak", "betrayersmantle", "turncoatsmasque", "sunderedpennon"}},
	invasion = {titlewidth = 13, cellwidth = 7, value = true, order = {"darkearthfigrine", "batteringram", "caltrop", "cauldron", "shadowshackle", "hagseye", "icebrick", "scoutingmap"}},
	planes = {titlewidth = 13, cellwidth = 7, value = true, order = {"cowculator", "golemgateway", "hollowbook", "brainjar", "faemirror", "celestialcoronet", "chaosclaw", "iconstatuette", "kris", "crystalsword"}},
	war = {titlewidth = 10, cellwidth = 6, value = true, order = {"rottingremains", "gildedbit", "pigeon", "warcloud", "portalhoop", "observantsigil"}},
	eldergod = {titlewidth = 10, cellwidth = 6, value = true, order = {"gaia", "lorielan", "vulnurana", "twilight", "phaestus", "scarlatti", "prospero", "aegis", "vastar"}},
}

talisman.sets = {
	eldergod = {
		gaia = {short = "blossom", order = {"cherryblossomstem", "cherryblossomflower", "cherryblossomstamen", "cherryblossomscent"}, redeem = 12, tradein = 66},
		lorielan = {short = "filter", order = {"filtercrystal", "filterbronze", "filterfitting", "filterpolish"}, redeem = 31, tradein = 166},
		vulnurana = {short = "sache", order = {"sachetcloth", "sachetherbs", "sachetstring", "sachetscent"}, redeem = 37, tradein = 200},
		twilight = {short = "hound", order = {"houndcarvingeyes", "houndcarvinglegs", "houndcarvingfangs", "houndcarvingobsidian"}, redeem = 43, tradein = 233},
		phaestus = {short = "hammer", order = {"finishinghammerhead", "finishinghammerrunes", "finishinghammerhandle", "finishinghammergrip"}, redeem = 50, tradein = 266},
		scarlatti = {short = "citole", order = {"citolestrings", "citolebody", "citolebase", "citoletune"}, redeem = 62, tradein = 333},
		prospero = {short = "pan", order = {"batteredpanhandle", "batteredpandish", "batteredpangrip", "batteredpanspell"}, redeem = 150, tradein = 800},
		aegis = {short = "declaration", order = {"declarationpaper", "declarationtext", "declarationsignature", "declarationseal"}, redeem = 187, tradein = 1000},
		vastar = {short = "wings", order = {"vastarwingfeathers", "vastarwingstraps", "vastarwingspan", "vastarwinglightning"}, redeem = 250, tradein = 1333},
	},
	dragon = {
		blackdragon = {short = "black", color = "white", order = {"blackdragonbone", "blackdragonclaw", "blackdragoneye", "blackdragonheart", "blackdragonleather", "blackdragonscale", "blackdragontooth", "blackdragonsac"}}, 
		reddragon = {short = "red", color = "red", order = {"reddragonbone", "reddragonclaw", "reddragoneye", "reddragonheart", "reddragonleather", "reddragonscale", "reddragontooth", "reddragonbelly"}}, 
		bluedragon = {short = "blue", color = "blue", order = {"bluedragonbone", "bluedragonclaw", "bluedragoneye", "bluedragonheart", "bluedragonleather", "bluedragonscale", "bluedragontooth", "bluedragonlung"}}, 
		greendragon = {short = "green", color = "green", order = {"greendragonbone", "greendragonclaw", "greendragoneye", "greendragonheart", "greendragonleather", "greendragonscale", "greendragontooth", "greendragonsac"}}, 
		golddragon = {short = "gold", color = "gold", order = {"golddragonbone", "golddragonclaw", "golddragoneye", "golddragonheart", "golddragonleather", "golddragonscale", "golddragontooth", "golddragonstem"}}, 
		silverdragon = {short = "silver", color = "LightSlateGray", order = {"silverdragonbone", "silverdragonclaw", "silverdragoneye", "silverdragonheart", "silverdragonleather", "silverdragonscale", "silverdragontooth", "silverdragonlarynx"}},
	},
	azatlan = {
		eagleheaddress = {short = "eagle", order = {"bluefeather", "greenfeather", "redfeather", "yellowfeather", "orangefeather", "purplefeather", "blackfeather"}},
		atlatl = {short = "atlatl", order = {"atlatlshaft", "atlatlcup", "atlatlspear"}},
		transoceanic = {short = "orb", order = {"orbleft", "orbright", "orbcenter"}},
		azatlanknife = {short = "knife", order = {"knifebladetop", "knifebladebottom", "knifeleather"}},
		quetzal = {short = "quetzal", order = {"quetzalbluefeather", "quetzalgreenfeather", "quetzalredfeather", "quetzalcage", "quetzaltalon", "quetzalegg"}},
		kinkajou = {short = "kinkajou", order = {"kinkajoutooth", "kinkajoucollar", "kinkajoubait", "kinkajouclaw", "kinkajoupaw", "kinkajoutail"}},
		coati = {short = "coati", order = {"coatibait", "coaticlaw", "coaticollar", "coatipaw", "coatitooth", "coatitail"}},
	},
	wonders = {
		baitbucket = {short = "bucket", order = {"buckethandle", "bucketleft", "bucketright", "bucketbase", "bucketwater"}},
		dragonskinpack = {short = "pack", order = {"packscales", "packstraps", "packlining", "packthread", "packleather"}},
		platinumwhistle = {short = "whistle", order = {"whistlemouth", "whistleflue", "whistlereed", "whistletoppipe", "whistlelowpipe"}},
		ramshorn = {short = "horn", order = {"ramshorn", "hornmouth", "hornleftstrap", "hornrightstrap", "hornfastener"}},
		monocle = {short = "monocle", order = {"monotop", "monobottom", "monoframe", "monocatch", "monoclasp"}},
		globe = {short = "globe", order = {"globetop", "globemiddle", "globebottom"}},
	},
	miscellane = {
		hookah = {short = "hookah", order = {"hookahbase", "hookahbowl", "hookahhood", "hookahchain", "hookahhoses", "hookahstem", "hookahplate"}},
		tapestry = {short = "tapestry", order = {"tapestryroller", "tapestryonyx", "tapestryvellum", "tapestryclaw"}},
		vaultkey = {short = "vaultkey", order = {"keyfragment"}},
		negationsphere = {short = "negsphere", order = {"spherefragment"}},
		clayfigurine = {short = "clayfigurine", order = {"clayfigurinebody", "clayfigurinehead", "clayfigurinelegs", "clayfigurinearms"}},
	},
	historical = {
		window = {short = "window", order = {"windowframe", "windowpane", "windowjamb", "windowshutters", "windowgrid"}},
		mantle = {short = "mantle", order = {"mantlecloth", "mantlethread", "mantlecentre", "mantlegems"}}, 
		icicle = {short = "icicle", order = {"icicletop", "iciclemiddle", "iciclebase", "icicletip", "iciclerunes"}},
		helmet = {short = "helmet", order = {"helmetskull", "helmetnose", "helmetstrap"}},
		disc = {short = "disc", order = {"disctop", "discside", "discmiddle", "discbottom", "discrunes", "disccentre"}},
		votive = {short = "votive", order = {"votivebase", "votivewick", "votivewax"}},
		whisperstone = {short = "whisperstone", order = {"stonetop", "stonebottom", "stonemiddle", "stoneside", "stonecore", "stoneemitter"}},
		lily =  {short = "lily", order = {"lilypetals", "lilystem", "lilystamen", "lilybulb", "lilypistil"}},
		ozhera =  {short = "ozhera", order = {"ozherabait", "ozheracollar", "ozheraegg", "ozheraclaw", "ozherabeak", "ozheranest"}},
		turtle =  {short = "turtle", order = {"turtleshell", "turtlebait", "turtlecollar", "turtletail", "turtlefoot", "turtletongue"}},
		mongoose =  {short = "mongoose", order = {"mongoosebait", "mongoosecollar", "mongoosetail", "mongoosepaw", "mongooseclaw", "mongoosefang"}},
		hellcat = {short = "hellcat", order = {"hellcatbait", "hellcatcollar", "hellcatclaw", "hellcatfang", "hellcattail", "hellcatpaw"}},
	},
	conclave = {
		tophat = {short = "tophat", order = {"tophatlining", "tophatbrim", "tophatthread", "tophatband"}, redeem = 3, tradein = 16},
		hourglass = {short = "hourglass", order = {"hourglasstop", "hourglassbottom", "hourglasssand", "hourglassbulb"}, redeem = 12, tradein = 66},
		tempestbrooch = {short = "brooch", order = {"broochgem", "broochclasp", "broochmetal", "broochhook"}, redeem = 18, tradein = 100},
		elementsprite = {short = "sprite", order = {"spritelegs", "spritearms", "spritetorso", "spritehead"}, redeem = 28, tradein = 150},
		lesservault = {short = "vault", order = {"vaultdoor", "vaulthinge", "vaulthandle", "vaultgems"}, redeem = 43, tradein = 233},
		flyingring = {short = "RoF", order = {"ringtop", "ringbottom", "ringinside", "ringoutside"}, redeem = 50, tradein = 266},
		celerity = {short = "celerity", order = {"armbandtop", "armbandbottom", "armbandinside", "armbandoutside"}, redeem = 62, tradein = 333},
		buckawns = {short = "buckawns", order = {"amuletthread", "amuletchain", "amuletball", "amuletclasp"}, redeem = 100, tradein = 533},
		adaptgrimoire = {short = "grimoire", order = {"grimoireleather", "grimoirepaper", "grimoiregems", "grimoirelock"}, redeem = 125, tradein = 666},
		stygianpendant = {short = "stygian", order = {"pendantbase", "pendantclasp", "pendantpearl", "pendanthook"}, redeem = 150, tradein = 800},
		grandmagi = {short = "grandmagi", order = {"robesthread", "robesneedle", "robestrim", "robesfabric"}, redeem = 312, tradein = 3000},
		atavianwings = {short = "wings", order = {"wingsthread", "wingsleft", "wingsright", "wingsfeathers"}, redeem = 250, tradein = 1333},
	},
	marks = {
		ivorywarhorn = {short = "warhorn", order = {"ivoryhornmouthpiece", "ivoryhornfittings", "ivoryhornleft", "ivoryhornright"}, redeem = 100, tradein = 533},
		ivorymedallion = {short = "ivory med", order = {"ivorymedalliondisc", "ivorymedallionclasp", "ivorymedallionaccent", "ivorymedallionribbon"}, redeem = 43, tradein = 233},
		ivoryspyglass = {short = "spyglass", order = {"ivoryspyglasslens", "ivoryspyglasseyepiece", "ivoryspyglassbody", "ivoryspyglassstrap"}, redeem = 18, tradein = 100},
		ivorypennon = {short = "pennon", order = {"ivorypennonsilk", "ivorypennonribbon", "ivorypennonthread", "ivorypennondye"}, redeem = 31, tradein = 166},
		ivoryarmband = {short = "iarmband", order = {"ivoryarmbandaccent", "ivoryarmbandouter", "ivoryarmbandinner", "ivoryarmbandclasp"}, redeem = 75, tradein = 400},
		ivoryatlantia = {short = "atlantia", order = {"ivoryatlantiabody", "ivoryatlantialegs", "ivoryatlantiahead", "ivoryatlantiaarms"}, redeem = 12, tradein = 66},
		ivorydummy = {short = "idummy", order = {"ivorydummylimbs", "ivorydummytorso", "ivorydummyclothing", "ivorydummyarmour"}, redeem = 37, tradein = 200},
		ivorytower = {short = "tower", order = {"ivorytowerbase", "ivorytowerlower", "ivorytowerupper", "ivorytowerlacquer"}, redeem = 81, tradein = 433},
		ivorybowstring = {short = "bowstring", order = {"ivorybowstringcore", "ivorybowstringwrapping", "ivorybowstringeyelet", "ivorybowstringenchant"}, redeem = 125, tradein = 666},

		quisalisdagger = {short = "anima", order = {"quisaisdaggerhilt", "quisalisdaggerblade", "quisalisdaggerpommel", "quisalisdaggergrip"}, redeem = 150, tradein = 800},
		quisalisbone = {short = "bone", order = {"quisalisbonelower", "quisalisboneupper", "quisalisbonerope", "quisalisbonestain"}, redeem = 43, tradein = 233},
		quisalismedallion = {short = "quis med", order = {"quisalismedallionchain", "quisalismedalliontop", "quisalismedallionbottom", "quisalismedallionclasp"}, redeem = 31, tradein = 166},
		quisalislookingglass = {short = "lookglass", order = {"quisalisglasscase", "quisalisglasslens", "quisalisglassiris", "quisalisglasseyepiece"}, redeem = 18, tradein = 100},
		quisalisderillin = {short = "derillin", order = {"quisalisderillinhair", "quisalisderillinclothing", "quisalisderillintorso", "quisalisderillinhead"}, redeem = 12, tradein = 66},
		quisalisdummy = {short = "qdummy", order = {"quisalisdummylimbs", "quisalisdummytorso", "quisalisdummyrobes", "quisalisdummytargets"}, redeem = 37, tradein = 200},
		quisalistombstone = {short = "tombstone", order = {"quisalistombstonetop", "quisalistombstonemiddle", "quisalistombstonebase", "quisalistombstonescript"}, redeem = 81, tradein = 433},
		quisalisarmband = {short = "qarmband", order = {"quisalisarmbandserpent", "quisalisarmbandeyes", "quisalisarmbandtop", "quisalisarmbandbottom"}, redeem = 75, tradein = 400},
		quisaliscloak = {short = "cloak", order = {"quisaliscloakcloth", "quisaliscloakembroidery", "quisaliscloaklining", "quisaliscloakhood"}, redeem = 187, tradein = 1000},
		quisalismask = {short = "deathmask", order = {"quisalismaskbone", "quisalismaskwire", "quisalismaskteeth", "quisalismaskrunes"}, redeem = 100, tradein = 533},
	},
	seafaring = {
		cloverbox = {short = "cloverbox", order = {"cloverboxclovers", "cloverboxsides", "cloverboxlid", "cloverboxbase"}},
		maelstrom = {short = "maelstrom", order = {"maelstromarms", "maelstromlegs", "maelstromhead", "maelstromtorso"}},
		islandwings = {short = "islandwings", order = {"islandwingsleft", "islandwingsright", "islandwingsthread", "islandwingsstraps"}},
		frostpail = {short = "frostpail", order = {"frostpailhandle", "frostpailleft", "frostpailright", "frostpailbase"}},
		neatpail = {short = "neatpail", order = {"neatpailhandle", "neatpailleft", "neatpailright", "neatpailbase"}},
		shipchit = {short = "shipchit", order = {"shipchittop", "shipchitbottom", "shipchitink", "shipchitseal"}},
		xpplaque = {short = "xpplaque", order = {"xpplaquemount", "xpplaquefascia", "xpplaquelacquer", "xpplaquelettering"}},
		monstermap = {short = "monstermap", order = {"monstermapink", "monstermapparchment", "monstermapcompass", "monstermapenchant"}},
		crossbow = {short = "crossbow", order = {"crossbowmount", "crossbowarms", "crossbowstring", "crossbowcrank"}},
		glassbottle = {short = "glassbottle", order = {"glassbottleneck", "glassbottlemiddle", "glassbottlebase", "glassbottleenchant"}},
		seaweedpail = {short = "seaweedpail", order = {"seaweedpailhandle", "seaweedpailleft", "seaweedpailright", "seaweedpailbase"}},
		smokeflare = {short = "flare", order = {"smokeflareshell", "smokeflarefins", "smokeflarelid", "smokeflarechamber"}},
	},
	death = {
		mortalcoil = {short = "coil", order = {"coiltop", "coilbottom", "coilstrand", "coilbinding"}, redeem = 10, tradein = 66},
		vulturetalon = {short = "talon", order = {"talontip", "talonstem", "talonbase", "talonpoison"}, redeem = 10, tradein = 66},
		deathcandle = {short = "candle", order = {"candlewax", "candleflame", "candlebase", "candlestring"}, redeem = 10, tradein = 66},
		deathdummy = {short = "dummy", order = {"deathdummyhead", "deathdummyarms", "deathdummytorso", "deathdummylegs"}, redeem = 10, tradein = 33},
		gravestone = {short = "gravestone", order = {"gravestonetop", "gravestonebottom", "gravestoneinscription", "gravestonelichen"}, redeem = 10, tradein = 264},
		crucible = {short = "crucible", order = {"cruciblebase", "cruciblehandle", "cruciblebowl", "crucibleflame"}, redeem = 10, tradein = 396},
		deathscall = {short = "call", order = {"deathscallmouth", "deathscallhorn", "deathscalltassels", "deathscallcoil"}, redeem = 10, tradein = 792},
		deathcape = {short = "cape", order = {"capebrocade", "capethread", "capeenchantment", "capevelvet"}, redeem = 10, tradein = 990},
	},
	blackwave = {
		taper = {short = "taper", order = {"tapertop", "taperbottom", "taperwax", "taperstring"}, redeem = 6, tradein = 33},
		finalityring = {short = "finality", order = {"signetband", "signetbezel", "signetcarving", "signetmarks"}, redeem = 6, tradein = 33},
		grievouskeyring = {short = "keyring", order = {"keyringlizard", "keyringtiger", "keyringslate", "keyringhoop"}, redeem = 12, tradein = 66},
		goblin = {short = "goblin", order = {"goblinlegs", "goblinarms", "goblinhead", "goblintorso"}, redeem = 16, tradein = 86},
		blackspigot = {short = "spigot", order = {"spigottop", "spigotbottom", "spigotstem", "spigottip"}, redeem = 50, tradein = 266},
		sunlesshope = {short = "sunless", order = {"sunlessband", "sunlessstone", "sunlessbinding", "sunlessenchantment"}, redeem = 75, tradein = 400},
		blackcirclet = {short = "circlet", order = {"circletfur", "circletblades", "circletband", "circletbinding"}, redeem = 106, tradein = 566},
		jewel = {short = "jewel", order = {"sanguinestone", "sanguineaura", "sanguineteardrop", "taintedblood"}, redeem = 125, tradein = 666},
		canopic = {short = "canopic", order = {"canopiclid", "canopicfluid", "canopicbase", "canopicpot"}, redeem = 125, tradein = 666},
		apperceptionstone = {short = "stone", order = {"crystalshard", "crystalbinding", "crystalportal", "crystalbase"}, redeem = 125, tradein = 666},
		guise = {short = "guise", order = {"guiseenchantment", "guisethread", "guisesmile", "guiseleather"}, redeem = 150, tradein = 800},
		blackgrimoire = {short = "grimoire", order = {"grimoiregut", "grimoirescroll", "grimoirecover", "grimoirebinding"}, redeem = 250, tradein = 1333},
		["suremekh'neina"] = {short = "mantle", order = {"mantleenchant", "mantleclasp", "mantlelining", "mantlefabric"}, redeem = 250, tradein = 1333},
	},
	races = {
		lodestone = {short = "lodestone", order = {"lodestonetop", "lodestonebase", "lodestoneright", "lodestoneleft"}, redeem = 12, tradein = 66},		-- 100
		arachnideye = {short = "arachnid", order = {"arachnidlens", "arachnideyeball", "arachnidenchantment", "arachnidcolour"}, redeem = 12, tradein = 66},		-- 100
		panpipes = {short = "panpipes", order = {"panpipepipes", "panpipefeathers", "panpipehair", "panpipeflutes"}, redeem = 35, tradein = 186},		-- 280
		chitin = {short = "chitin", order = {"chitincolour", "chitinname", "chitincarving", "chitinfragment"}, redeem = 37, tradein = 200},				-- 300
		rattle = {short = "rattle", order = {"rattlebones", "rattleantlers", "rattlerunes", "rattlestaff"}, redeem = 37, tradein = 200},				-- 300
		whispercloth = {short = "cloth", order = {"clothenchantment", "clothbinding", "clothblood", "whispersilk"}, redeem = 50, tradein = 266},		-- 400
		demolitionsphere = {short = "sphere", order = {"sphereglass", "spherefire", "spherespark", "sphererunes"}, redeem = 62, tradein = 333},	-- 500
		sirensong = {short = "sirensong", order = {"sirenglass", "sirenvoice", "sirencork", "sirensmoke"}, redeem = 62, tradein = 333},		-- 500
		catapult = {short = "catapult", order = {"catapultframe", "catapultbolts", "catapultwheel", "catapultarm"}, redeem = 75, tradein = 400},		-- 600
		dalamyrrclaws = {short = "claws", order = {"clawstraps", "clawbase", "clawpoints", "clawbarbs"}, redeem = 87, tradein = 466},		-- 700
		frogskin = {short = "frogskin", order = {"froghead", "frogcord", "frogbody", "frogfeet"}, redeem = 100, tradein = 533},		-- 800
		mayafigurine = {short = "maya", order = {"figurinehead", "figurinearms", "figurinetorso", "figurinelegs"}, redeem = 187, tradein = 1000},		-- 1500
	},
	forays = {
		arankeshfeather = {short = "feather", order = {"arankeshfeatherspine", "arankeshfeatherdown", "arankeshfeathercolour", "arankeshfeatheredge"}},
		icossemirror = {short = "mirror", order = {"goldmirrorframe", "mirrorglass", "mirrorcurse", "mirrorinscription"}},
		ogrebroth = {short = "broth", order = {"brothbowl", "brothbroth", "brothseasoning", "brothspice"}},
		boulder = {short = "boulder", order = {"boulderchipping", "bouldershell", "bouldercore", "boulderstone"}},
		margamwheel = {short = "wheel", order = {"margamwheelweeds", "margamwheelbolts", "margamwheelwood", "margamwheelcentre"}},
		foraymap = {short = "map", order = {"mapfragmenttop", "mapfragmentbottom", "mapfragmentleft", "mapfragmentright"}},
	},
	cities = {
		musicbox = {short = "musicbox", order = {"musicboxsong", "musicboxmechanism", "musicboxframe", "musicboxcrank"}, redeem = 10, tradein = 333},
		biscuit = {short = "biscuit", order = {"biscuitbase", "biscuitspecial", "biscuitsugar", "biscuitsalt"}, redeem = 10, tradein = 50},
		wraithshackles = {short = "wraith", order = {"wraithshacklesmoke", "wraithshacklechain", "wraithshacklemanacles", "wraithshacklelock"}, redeem = 10, tradein = 533},
		tumbleweed = {short = "tumbleweed", order = {"tumbleweedroots", "tumbleweedtendrils", "tumbleweedvines", "tumbleweedstem"}, redeem = 10, tradein = 100},
		alabasterurn = {short = "urn", order = {"alabasterurnlid", "alabasterurnpot", "alabasterurninscription", "alabasterurnash"}, redeem = 10, tradein = 600},
		celescope = {short = "celescope", order = {"celescopeglobe", "celescopecylinders", "celescopeeyepiece", "celescopeingraving"}, redeem = 10, tradein = 333},
	},
	monks = {
		monkdummy = {short = "dummy", order = {"monkdummyhead", "monkdummyarms", "monkdummytorso", "monkdummylegs"}, redeem = 6, tradein = 33},		-- 50
		odysseantongue = {short = "tongue", order = {"tongueflesh", "tonguecasing", "tonguepolish", "tonguecurse"}, redeem = 18, tradein = 100},		-- 150
		monkheadband = {short = "headband", order = {"monkheadbandthreads", "monkheadbandamethyst", "monkheadbandenchantment", "monkheadbandsupport"}, redeem = 25, tradein = 133},		-- 200
		talonedring = {short = "talonring", order = {"crimsonsteelband", "quartzsetting", "ringsteelclaws", "talonedringbinding"}, redeem = 50, tradein = 266},		-- 400
		cranepennon = {short = "pennon", order = {"pennoncloth", "pennoncranes", "pennonstaff", "pennonthread"}, redeem = 87, tradein = 466},		-- 700 			???
		monkbanner = {short = "banner", order = {"monkbannerflag", "monkbannerembroidery", "monkbannerspear", "monkbannerthread"}, redeem = 200, tradein = 1066},		-- 1600
		ashstaff = {short = "staff", order = {"ashstaffstave", "ashstaffstrapping", "ashstaffcap", "ashstaffshoe"}, redeem = 218, tradein = 1166},		-- 1750
		olivebranch = {short = "branch", order = {"olivewood", "olivebranchshoots", "oliveleaves", "olivebranchenchantment"}, redeem = 137, tradein = 733},		-- 1100
	},
	elemental = {
		airelement = {short = "pet", order = {"airelementalcyclone", "airelementalessence", "airelementalbinding", "airelementallightning"}, redeem = 7, tradein = 40},		-- 60
		airbrooch = {short = "brooch", order = {"airbroochclasp", "airbroochgem", "airbroochsetting", "airbroochenchantment"}, redeem = 18, tradein = 100},		-- 150
		firependant = {short = "pendant", order = {"firependantchain", "firependantflame", "firependantsetting", "firependantjewel"}, redeem = 25, tradein = 133},		-- 200
		jawbone = {short = "jawbone", order = {"jawboneteeth", "jawbonemandibles", "jawbonebone", "jawbonehinge"}, redeem = 25, tradein = 133},		-- 200
		earthenshovel = {short = "shovel", order = {"earthshovelwood", "earthshovelblade", "earthshovelbinding", "earthshovelminerals"}, redeem = 46, tradein = 250},		-- 375
		garashshackle = {short = "shackle", order = {"garashshacklelinks", "garashshackleorbs", "garashshackleenchantment", "garashshacklechains"}, redeem = 75, tradein = 400},		-- 600
		seatears = {short = "tears", order = {"seatearsphial", "seatearsstopper", "seatearspaint", "seatearstears"}, redeem = 37, tradein = 200},		-- 300
		mudbomb = {short = "mudbomb", order = {"mudbombbinding", "mudbombmud"}, redeem = 87, tradein = 466},		-- 700
		searedglyph = {short = "glyph", order = {"searedglyphplaque", "searedglyphemblem", "searedglyphtendrils", "searedglyphflame"}, redeem = 106, tradein = 566},		-- 850
		firetank = {short = "tank", order = {"firetankframe", "firetankflame", "firetankinsignia", "firetanklinks"}, redeem = 168, tradein = 900},		-- 1350
		sceptre = {short = "sceptre", order = {"sceptrescript", "sceptreenchantment", "sceptreheart", "sceptretusk"}, redeem = 250, tradein = 1333},		-- 2000
		harness = {short = "harness", order = {"airharnessstraps", "airharnessglyphs", "airharnessenchantment", "airharnessbuckles"}, redeem = 212, tradein = 1133},		-- 1133
	},
	yggdrasil = {
		dreadpilar = {short = "dreadpilar", order = {"dreadpilarplates", "dreadpilarbody", "dreadpilarhead", "dreadpilarlegs"}},
		squargon = {short = "squargon", order = {"squargonbody", "squargonhead", "squargonlegs", "squargonfangs"}},
		yggdrasiltablet = {short = "tablet", order = {"tabletwax", "tabletwood", "tabletstylus", "tablettwine"}},
		valdblom = {short = "valdblom", order = {"valdblomstem", "valdblomleaves", "valdblomessence", "valdblomroot"}},
		earthshapingtome = {short = "shapingtome", order = {"shapingtomeclay", "shapingtomgranite", "shapingtomeplates", "shapingtominsignia"}},
		nexuscube = {short = "nexuscube", order = {"nexuscubegold", "nexuscubeglass", "nexuscubemote", "nexuscubescript"}},
		firecrystal = {short = "firecrystal", order = {"firecrystalenchantment", "firecrystalstone", "firecrystalflame", "firecrystalspark"}},
		planarmote = {short = "planarmote", order = {"moteflame", "moteaura", "motebinding", "moteenchantment"}},
		goldensnakeskin = {short = "snakeskin", order = {"goldenscales", "goldenskin", "goldencolouring", "goldenenchantment"}},
		yggdrasilbranch = {short = "branch", order = {"yggdrasilbranchwood", "yggdrasilbranchmosaic", "yggdrasilbranchline", "yggdrasilbranchhook"}},
		criersbell = {short = "bell", order = {"criersshell", "criershandle", "crierschime", "crierscurse"}},
	},	
	contenders = {
		contenderspig = {short = "pig", order = {"pigclay", "pigears", "pigbelly", "pigtail"}, redeem = 7, tradein = 40},		-- 60
		contendersjug = {short = "jug", order = {"juglip", "jugbase", "jugbowl", "jughandle"}, redeem = 12, tradein = 66},		-- 100
		contendersbouquet = {short = "bouquet", order = {"bouquetstring", "bouquetknot", "bouquetbloom", "bouquetstem"}, redeem = 18, tradein = 100},		-- 150
		contendersfigurine = {short = "figurine", order = {"contenderfigurinehead", "contenderfigurinearms", "contenderfigurinelegs", "contenderfigurinebody"}, redeem = 31, tradein = 166},		-- 250
		contendersglass = {short = "glass", order = {"glasshandle", "glasspane", "glassfocus", "glassframe"}, redeem = 37, tradein = 200},		-- 300
		contendersjournal = {short = "journal", order = {"journalbinding", "journalpage", "journalcover", "journalindex"}, redeem = 62, tradein = 333},		-- 500
		contendersstud = {short = "stud", order = {"studgleam", "studpost", "studgem", "studback"}, redeem = 125, tradein = 666},		-- 1000
		contendersribbon = {short = "ribbon", order = {"ribbongilding", "ribbonpin", "ribbonstripe", "ribbonfold"}, redeem = 175, tradein = 933},		-- 1400
	},
	underworld = {
		cryptworm = {short = "worm", order = {"cryptwormhead", "cryptwormbody", "cryptwormfangs", "cryptwormbinding"}, redeem = 10, tradein = 40}, -- no tradein
		psychesplinter = {short = "splinter", order = {"psychesplinterchain", "psychesplinterframe", "psychesplinterlength", "psychesplintercurse"}, redeem = 10, tradein = 120}, -- 180
		sanityskein = {short = "skein", order = {"sanityskeinthread", "sanityskeincoil", "sanityskeincurse", "sanityskeinbinding"}, redeem = 10, tradein = 146}, -- 220
		custodytalisman = {short = "custody", order = {"custodyleft", "custodyright", "custodycentre", "custodybinding"}, redeem = 10, tradein = 266}, -- 400
		unlifetotem = {short = "totem", order = {"unlifetotembase", "unlifetotemwood", "unlifetotemskull", "unlifetotemtendrils"}, redeem = 10, tradein = 333}, -- 500
		soulsliver = {short = "sliver", order = {"soulsliverobsidian", "soulsliverfog", "soulsliversouls", "soulslivercurse"}, redeem = 10, tradein = 533}, -- 800
		cullingblade = {short = "blade", order = {"cullingbladehilt", "cullingbladeedge", "cullingblademetal", "cullingbladecurse"}, redeem = 10, tradein = 1000}, -- 1500
		funeralshroud = {short = "shroud", order = {"funeralshroudcloth", "funeralshroudthread", "funeralshroudbenediction", "funeralshroudclasp"}, redeem = 10, tradein = 1333}, -- 2000
	},
	renegades = {
		mercenarychalk = {short = "chalk", order = {"mercenarychalkbinding", "mercenarychalkchalk", "mercenarychalkdust", "mercenarychalkstick"}, redeem = 8 , tradein = 42}, -- 65 
		elementalinjunction = {short = "injunction", order = {"injunctionscript", "injunctionpaper", "injunctionseal", "injunctionsignature"}, redeem = 7 , tradein = 36}, -- 60
		moppet = {short = "moppet", order = {"moppetcloth", "moppeteyes", "moppetthread", "moppetbuttons"}, redeem = 25 , tradein = 132}, -- 200
		turncoatscoat = {short = "coat", order = {"turncoatscoatcloth", "turncoatscoatbinding", "turncoatscoatthread", "turncoatscoatbuttons"}, redeem = 43, tradein = 231}, -- 350
		shadowcloak = {short = "shadowcloak", order = {"shadowcloakcloth", "shadowcloakclasp", "shadowcloakthread", "shadowcloakcurse"}, redeem = 75, tradein = 396}, -- 600
		betrayersmantle = {short = "betrayers", order = {"betrayersmantlecloth", "betrayersmantlethread", "betrayersmantlestraps", "betrayersmantlecurse"}, redeem = 100, tradein = 528}, -- 800
		turncoatsmasque = {short = "masque", order = {"turncoatsmasquestone", "turncoatsmasqueetchings", "turncoatsmasquecurse", "turncoatsmasqueeyes"}, redeem = 125, tradein = 660}, -- 1000
		sunderedpennon = {short = "sundered", order = {"sunderedpennoncloth", "sunderedpennonthread", "sunderedpennonstaff", "sunderedpennonbinding"}, redeem = 200, tradein = 1056}, -- 1600
	},
	invasion = {
		darkearthfigrine = {short = "darkearth", order = {"darkearthhead", "darkearthtorso", "darkeartharms", "darkearthlegs"}, redeem = 6, tradein = 33}, --50
		batteringram = {short = "batteringram", order = {"batteringramwheels", "batteringramram", "batteringramgrips", "batteringrambolts"}, redeem = 25, tradein = 132}, --200
		caltrop = {short = "caltrop", order = {"caltropspikes", "caltropball", "caltropbinding", "caltropbarbs"}, redeem = 43, tradein = 233}, -- 350
		cauldron = {short = "cauldron", order = {"cauldronpot", "cauldronoil", "cauldronhandle", "cauldronbase"}, redeem = 50, tradein = 264}, --400
		shadowshackle = {short = "shadowshackle", order = {"shadowshacklelink", "shadowshacklemetal", "shadowshackleenchantment", "shadowshackleshadow"}, redeem = 75, tradein = 400}, -- 600
		hagseye = {short = "hagseye", order = {"hagseyelid", "hagseyeball", "hagseyefluid", "hagseyeenchantment"}, redeem = 87, tradein = 466}, -- 700
		icebrick = {short = "icebrick", order = {"magicice", "repeatingspell", "icebinding", "iceenchantment"}, redeem = 112, tradein = 600}, -- 900
		scoutingmap = {short = "scoutingmap", order = {"scoutingmapenchantment", "scoutingmapicons", "scoutingmapink", "scoutingmapvellum"}, redeem = 150, tradein = 800}, -- 1200
	},
	war = {
		rottingremains = {short = "remains", order = {"remainsbones", "remainsmuscles", "remainsblood", "remainsflesh"}, redeem = 10, tradein = 80},
		gildedbit = {short = "bit", order = {"bitpatterns", "bitgilding", "bitchain", "bitbar"}, redeem = 10, tradein = 80},
		pigeon = {short = "pigeon", order = {"pigeonhead", "pigeonbody", "pigeonlegs", "pigeonwings"}, redeem = 10, tradein = 80},
		warcloud = {short = "warcloud", order = {"warcloudfog", "warcloudstench", "warcloudcurse", "warcloudbinding"}, redeem = 10, tradein = 80},
		portalhoop = {short = "portalhoop", order = {"portalhoopsteel", "portalhooplight", "portalhoopenchantment", "portalhoopbinding"}, redeem = 10, tradein = 80},
		observantsigil = {short = "sigil", order = {"observantsigilmetal", "observantsigilstar", "observantsigileye", "observantsigillatice"}, redeem = 10, tradein = 80},
	},
  planes = {
    cowculator = {short = "cow", order = {"cowculatorwood", "cowculatornumbers", "cowculatorpaint", "cowculatorspectacles"}, redeem = 12, tradein = 66},
    golemgateway = {short = "golem", order = {"gatewayemblem", "gatewaygates", "gatewayframe", "gatewaybars"}, redeem = 31, tradein = 166},
    hollowbook = {short = "book", order = {"hollowbookcovers", "hollowbookeye", "hollowbookglyphs", "hollowbookscream"}, redeem = 37, tradein = 200},
    brainjar = {short = "brainjar", order = {"brainjarpot", "brainjarbrains", "brainjarpreserves", "brainjarlabel"}, redeem = 50, tradein = 266},
    faemirror = {short = "mirror", order = {"faemirrorglass", "faemirrorcrystal", "faemirrorhandle", "faemirrorscript"}, redeem = 56, tradein = 300},
    celestialcoronet = {short = "coronet", order = {"coronetband", "coronetangels", "coronetspheres", "coronetengravings"}, redeem = 87, tradein = 466},
    chaosclaw = {short = "claw", order = {"chaosclawedge", "chaosclawtip", "chaosclawcorruption", "chaosclawspan"}, redeem = 100, tradein = 533},
    iconstatuette = {short = "icon", order = {"statuetteglobe", "statuettesigils", "statuetteshards", "statuetteicon"}, redeem = 125, tradein = 666},
    kris = {short = "kris", order = {"krisblade", "krishaft", "krisrunes", "krissteel"}, redeem = 1, tradein = 1},
    crystalsword = {short = "sword", order = {"crystalswordhilt", "crystalswordguard", "crystalswordblade", "crystalswordgem"}, redeem = 250, tradein = 1333},
  },

}


-- Require this to map the line when you find a talisman back to the short name
talisman.names = {

-- Elder Gods
  ["the stem for a cherry blossom"] = "cherryblossomstem",
  ["the flower for a cherry blossom"] = "cherryblossomflower",
  ["the stamen for a cherry blossom"] = "cherryblossomstamen",
  ["the scent for a cherry blossom"] = "cherryblossomscent",
  
  ["the crystal for a translucent filter"] = "filtercrystal",
  ["the bronze for a translucent filter"] = "filterbronze",
  ["the fitting for a translucent filter"] = "filterfitting",
  ["the polish for a translucent filter"] = "filterpolish", 
  
  ["the cloth for a sachet"] = "sachetcloth",
  ["the herbs for a sachet"] = "sachetherbs",
  ["the string for a sachet"] = "sachetstring",
  ["the scent for a sachet"] = "sachetscent", 
  
  ["the eyes for an obsidian hound carving"] = "houndcarvingeyes",
  ["the legs for an obsidian hound carving"] = "houndcarvinglegs",
  ["the fangs for an obsidian hound carving"] = "houndcarvingfangs",
  ["the obsidian for a hound carving"] = "houndcarvingobsidian",
  
  ["the head for a finishing hammer"] = "finishinghammerhead",
  ["the runes for a finishing hammer"] = "finishinghammerrunes",
  ["the handle for a finishing hammer"] = "finishinghammerhandle",
  ["the grip for a finishing hammer"] = "finishinghammergrip", 
  
  ["the strings for a citole"] = "citolestrings",
  ["the body for a citole"] = "citolebody",
  ["the base for a citole"] = "citolebase",
  ["the tune for a citole"] = "citoletune",
  
  ["the handle for a battered pan"] = "batteredpanhandle",
  ["the dish for a battered pan"] = "batteredpandish",
  ["the grip for a battered pan"] = "batteredpangrip",
  ["the spell for a battered pan"] = "batteredpanspell",
  
  ["the paper for a declaration of hostility"] = "declarationpaper",
  ["the text for a declaration of hostility"] = "declarationtext",
  ["the signature for a declaration of hostility"] = "declarationsignature",
  ["the seal for a declaration of hostility"] = "declarationseal",
  
  ["the feathers for a set of stormforged wings"] = "vastarwingfeathers",
  ["the straps for a set of stormforged wings"] = "vastarwingstraps",
  ["the span for a set of stormforged wings"] = "vastarwingspan",
  ["the lightning for a set of stormforged wings"] = "vastarwinglightning",

--Planes

  ["the wood for a cowculator carving"] = "cowculatorwood",
  ["the numbers for a cowculator carving"] = "cowculatornumbers",
  ["the paint for a cowculator carving"] = "cowculatorpaint",
  ["the spectacles for a cowculator carving"] = "cowculatorspectacles",

  ["the emblem for an iron gateway"] = "gatewayemblem",
  ["a set of iron gates"] = "gatewaygates",
  ["the frame for an iron gateway"] = "gatewayframe",
  ["the bars for an iron gateway"] = "gatewaybars",
    
  ["the pot for a jar of withered brains"] = "brainjarpot",
  ["the contents of a jar of withered brains"] = "brainjarbrains",
  ["the preserves for a jar of withered brains"] = "brainjarpreserves",
  ["the label for a jar of withered brains"] = "brainjarlabel",

  ["the covers for an empty book"] = "hollowbookcovers",
  ["the eye for an empty book"] = "hollowbookeye",
  ["the glyphs for an empty book"] = "hollowbookglyphs",
  ["the scream for an empty book"] = "hollowbookscream",

  ["the glass for a mirror of fae perception"] = "faemirrorglass",
  ["the crystal for a mirror of fae perception"] = "faemirrorcrystal",
  ["the handle for a mirror of fae perception"] = "faemirrorhandle",
  ["the script for a mirror of fae perception"] = "faemirrorscript",

  ["the band for a celestial coronet"] = "coronetband",
  ["the angels for a celestial coronet"] = "coronetangels",
  ["the spheres for a celestial coronet"] = "coronetspheres",
  ["the engravings for a celestial coronet"] = "coronetengravings",

  ["the edge for a jagged claw"] = "chaosclawedge",
  ["the tip for a jagged claw"] = "chaosclawtip",
  ["the corruption for a jagged claw"] = "chaosclawcorruption",
  ["the span for a jagged claw"] = "chaosclawspan",

  ["the globe for an icon statuette"] = "statuetteglobe",
  ["the sigils for an icon statuette"] = "statuettesigils",
  ["the shards for an icon statuette"] = "statuetteshards",
  ["the icon for a statuette"] = "statuetteicon",

  ["the blade for a sacrificial kris"] = "krisblade",
  ["the haft for a sacrificial kris"] = "krishaft",
  ["the runes for a sacrificial kris"] = "krisrunes",
  ["the steel for a sacrificial kris"] = "krissteel",

  ["the hilt for a crystal sword"] = "crystalswordhilt",
  ["the guard for a crystal sword"] = "crystalswordguard",
  ["the blade for a crystal sword"] = "crystalswordblade",
  ["the gem for a crystal sword"] = "crystalswordgem",
  
--Dragon

	["a Blue Dragon's claw"] = "bluedragonclaw",
	["Blue Dragon leather"] = "bluedragonleather",
	["a Blue Dragon's eye"] = "bluedragoneye",
	["a Blue Dragon's tooth"] = "bluedragontooth",
	["a Blue Dragon's heart"] = "bluedragonheart",
	["a Blue Dragon bone"] = "bluedragonbone",
	["a Blue Dragon's scale"] = "bluedragonscale",
	["a Blue Dragon's lung"] = "bluedragonlung",

	["a Red Dragon's claw"] = "reddragonclaw",
	["Red Dragon leather"] = "reddragonleather",
	["a Red Dragon's eye"] = "reddragoneye",
	["a Red Dragon's tooth"] = "reddragontooth",
	["a Red Dragon's heart"] = "reddragonheart",
	["a Red Dragon bone"] = "reddragonbone",
	["a Red Dragon's scale"] = "reddragonscale",
	["a Red Dragon's belly"] = "reddragonbelly",

	["a Black Dragon's claw"] = "blackdragonclaw",
	["Black Dragon leather"] = "blackdragonleather",
	["a Black Dragon's eye"] = "blackdragoneye",
	["a Black Dragon's tooth"] = "blackdragontooth",
	["a Black Dragon's heart"] = "blackdragonheart",
	["a Black Dragon bone"] = "blackdragonbone",
	["a Black Dragon's scale"] = "blackdragonscale",
	["a Black Dragon's acid sac"] = "blackdragonsac",

	["a Green Dragon's claw"] = "greendragonclaw",
	["Green Dragon leather"] = "greendragonleather",
	["a Green Dragon's eye"] = "greendragoneye",
	["a Green Dragon's tooth"] = "greendragontooth",
	["a Green Dragon's heart"] = "greendragonheart",
	["a Green Dragon bone"] = "greendragonbone",
	["a Green Dragon's scale"] = "greendragonscale",
	["a Green Dragon's poison sac"] = "greendragonsac",

	["a Gold Dragon's claw"] = "golddragonclaw",
	["Gold Dragon leather"] = "golddragonleather",
	["a Gold Dragon's eye"] = "golddragoneye",
	["a Gold Dragon's tooth"] = "golddragontooth",
	["a Gold Dragon's heart"] = "golddragonheart",
	["a Gold Dragon bone"] = "golddragonbone",
	["a Gold Dragon's scale"] = "golddragonscale",
	["a Gold Dragon's brain stem"] = "golddragonstem",

	["a Silver Dragon's claw"] = "silverdragonclaw",
	["Silver Dragon leather"] = "silverdragonleather",
	["a Silver Dragon's eye"] = "silverdragoneye",
	["a Silver Dragon's tooth"] = "silverdragontooth",
	["a Silver Dragon's heart"] = "silverdragonheart",
	["a Silver Dragon bone"] = "silverdragonbone",
	["a Silver Dragon's scale"] = "silverdragonscale",
	["a Silver Dragon's larynx"] = "silverdragonlarynx",
	
 --AZATLAN
  
	["a red eagle's feather"] = "redfeather",
	["a yellow eagle's feather"] = "yellowfeather",
	["a blue eagle's feather"] = "bluefeather",
	["a green eagle's feather"] = "greenfeather",
	["an orange eagle's feather"] = "orangefeather",
	["a purple eagle's feather"] = "purplefeather",
	["a black eagle's feather"] = "blackfeather",

	["a coati's tooth"] = "coatitooth",
	["a coati's collar"] = "coaticollar",
	["some coati bait"] = "coatibait",
	["a coati tail"] = "coatitail",
	["a coati's claw"] = "coaticlaw",
	["a coati's paw"] = "coatipaw",

	["a kinkajou's tooth"] = "kinkajoutooth",
	["a collar for a kinkajou"] = "kinkajoucollar",
	["some kinkajou bait"] = "kinkajoubait",
	["a kinkajou's tail"] = "kinkajoutail",
	["a kinkajou claw"] = "kinkajouclaw",
	["a kinkajou's paw"] = "kinkajoupaw",
	
	["a red quetzal feather"] = "quetzalredfeather",
	["a blue quetzal feather"] = "quetzalbluefeather",
	["a green quetzal feather"] = "quetzalgreenfeather",
	["a wooden quetzal cage"] = "quetzalcage",
	["a quetzal talon"] = "quetzaltalon",
	["a quetzal egg"] = "quetzalegg",

	["the left half of a Transoceanic Orb"] = "orbleft",
	["the right half of a Transoceanic Orb"] = "orbright",
	["the center of a Transoceanic Orb"] = "orbcenter",

	["the shaft of an atlatl"] = "atlatlshaft",
	["the cup of an atlatl"] = "atlatlcup",
	["a spear for an atlatl"] = "atlatlspear",

	["the broken tip of an obsidian knife"] = "knifebladetop",
	["the broken tang of an obsidian knife"] = "knifebladebottom",
	["some green leather"] = "knifeleather",
	
--Wonders

	["a bucket handle"] = "buckethandle",
	["a bucket's left side"] = "bucketleft",
	["a bucket's right side"] = "bucketright",
	["a bucket's base"] = "bucketbase",
	["a globe of enchanted water"] = "bucketwater",

	["blue Dragon scales"] = "packscales",
	["some backpack straps"] = "packstraps",
	["a backpack lining"] = "packlining",
	["backpack thread"] = "packthread",
	["backpack leather"] = "packleather",

	["a whistle mouthpiece"] = "whistlemouth",
	["a whistle's flue"] = "whistleflue",
	["a whistle reed"] = "whistlereed",
	["a whistle's top pipe"] = "whistletoppipe",
	["a whistle's bottom pipe"] = "whistlelowpipe",

	["a ram's horn"] = "ramshorn",
	["a horn mouthpiece"] = "hornmouth",
	["a left horn strap"] = "hornleftstrap",
	["a right horn strap"] = "hornrightstrap",
	["some fasteners"] = "hornfastener",

	["a lens top"] = "monotop",
	["a lens bottom"] = "monobottom",
	["a monocle frame"] = "monoframe",
	["a monocle's catch"] = "monocatch",
	["a monocle's clasp"] = "monoclasp",

	["a globe's top"] = "globetop",
	["a globe's middle"] = "globemiddle",
	["a globe's bottom"] = "globebottom",

--Misc
	
	["a hookah's base"] = "hookahbase",
	["a hookah's bowl"] = "hookahbowl",
	["a hookah's wind hood"] = "hookahhood",
	["a hookah's chain"] = "hookahchain",
	["a hookah's hoses"] = "hookahhoses",
	["a hookah's stem"] = "hookahstem",
	["a hookah's ash plate"] = "hookahplate",
	
	["the rollers for a tapestry"] = "tapestryroller",
	["an onyx pedestal"] = "tapestryonyx",
	["a piece of aged vellum"] = "tapestryvellum",	
	["the claw from a shadow dragon"] = "tapestryclaw",
	
	["the key to a vault"] = "keyfragment",
		
	["the fragment to a sphere"] = "spherefragment",
	
	["the body of a clay figurine"] = "clayfigurinebody",
	["the head of a clay figurine"] = "clayfigurinehead",
	["the legs of a clay figurine"] = "clayfigurinelegs",
	["the arms of a clay figurine"] = "clayfigurinearms",
	
--Historical

	["a Golden Window's frame"] = "windowframe",
	["a Golden Window's pane"] = "windowpane",
	["a Golden Window's jamb"] = "windowjamb",
	["a Golden Window's shutters"] = "windowshutters",
	["a Golden Window's grid"] = "windowgrid",
	
	["Mantle of Himalia cloth"] = "mantlecloth",
	["Mantle of Himalia thread"] = "mantlethread",
	["Mantle of Himalia centrepiece"] = "mantlecentre",
	["Mantle of Himalia gems"] = "mantlegems",
	
	
	[" an icicle's top"] = "icicletop",
	[" an icicle's middle"] = "iciclemiddle",
	[" an icicle's base"] = "iciclebase",
	[" an icicle's tip"] = "icicletip",
	["icicle runes"] = "iciclerunes",
	
	["an Ormyrr skull"] = "helmetskull",
	["a helmet nosepiece"] = "helmetnose",
	["a helmet strap"] = "helmetstrap",
	
	["a smooth piece of obsidian"] = "disctop",
	["a broken piece of obsidian"] = "discside",
	["a rough piece of obsidian"] = "discmiddle",
	["a smooth piece of obsidian"] = "discbottom",
	["obsidian runes"] = "discrunes",
	["a round piece of obsidian"] = "disccentre",
	
	["a votive's base"] = "votivebase",
	["a votive's wick"] = "votivewick",
	["votive wax"] = "votivewax",
	
	["a whisperstone top"] = "stonetop",
	["a whisperstone bottom"] = "stonebottom",
	["a rough whisperstone piece"] = "stonemiddle",
	["a jagged whisperstone piece"] = "stoneside",
	["a whisperstone core"] = "stonecore",
	["a whisperstone emitter"] = "stoneemitter",
	
	["glass lily petals"] = "lilypetals",
	["a glass lily stem"] = "lilystem",
	["a glass lily stamen"] = "lilystamen",
	["a glass lily bulb"] = "lilybulb",
	["a glass lily pistil"] = "lilypistil",
	
	["ozhera bait"] = "ozherabait",
	["an ozhera collar"] = "ozheracollar",
	["an ozhera egg"] = "ozheraegg",
	["an ozhera claw"] = "ozheraclaw",
	["an ozhera beak"] = "ozherabeak",
	["an ozhera nest"] = "ozheranest",
	
	["a polka-dotted turtle shell"] = "turtleshell",
	["turtle bait"] = "turtlebait",
	["a little turtle collar"] = "turtlecollar",
	["a polka-dot turtle tail"] = "turtletail",
	["a turtle foot"] = "turtlefoot",
	["a polka-dot turtle tongue"] = "turtletongue",
	
	["mongoose bait"] = "mongoosebait",
	["a mongoose collar"] = "mongoosecollar",
	["a mongoose claw"] = "mongooseclaw",
	["a mongoose paw"] = "mongoosepaw",
	["a mongoose tail"] = "mongoosetail",
	["a mongoose fang"] = "mongoosefang",
	
	["hellcat bait"] = "hellcatbait",
	["a hellcat collar"] = "hellcatcollar",
	["a hellcat claw"] = "hellcatclaw",
	["a hellcat fang"] = "hellcatfang",
	["a hellcat tail"] = "hellcattail",
	["a hellcat paw"] = "hellcatpaw",
	
--Conclave

	["a tophat's lining"] = "tophatlining",
	["a tophat's brim"] = "tophatbrim",
	["some thread"] = "tophatthread",
	["a tophat's hatband"] = "tophatband",

	["an hourglass's top"] = "hourglasstop",
	["an hourglass's bottom"] = "hourglassbottom",
	["hourglass sand"] = "hourglasssand",
	["an hourglass bulb"] = "hourglassbulb",

	["a beautiful gem"] = "broochgem",
	["a brooch's clasp"] = "broochclasp",
	["metal for a brooch"] = "broochmetal",
	["a brooch's hook"] = "broochhook",

	["an elemental sprite's legs"] = "spritelegs",
	["an elemental sprite's arms"] = "spritearms",
	["an elemental sprite's head"] = "spritehead",
	["an elemental sprite's torso"] = "spritetorso",

	["a vault's door"] = "vaultdoor",
	["a vault's hinge"] = "vaulthinge",
	["a vault's handle"] = "vaulthandle",
	["a vault's inlaid gems"] = "vaultgems",

	["a Ring of Flying's top"] = "ringtop",
	["a Ring of Flying's bottom"] = "ringbottom",
	["a Ring of Flying's inside"] = "ringinside",
	["a Ring of Flying's outside"] = "ringoutside",

	["the inside of an Armband of Celerity"] = "armbandinside",
	["the outside of an Armband of Celerity"] = "armbandoutside",
	["the top of an Armband of Celerity"] = "armbandtop",
	["the bottom of an Armband of Celerity"] = "armbandbottom",

	["a Buckawn Amulet's thread"] = "amuletthread",
	["A Buckawn Amulet's chain"] = "amuletchain",
	["a Buckawn Amulet's silver ball"] = "amuletball",
	["a Buckawn Amulet's thread"] = "amuletthread",

	["leather for a Grimoire of Adaptation"] = "grimoireleather",
	["paper for a Grimoire of Adaptation"] = "grimoirepaper",
	["gems for a Grimoire of Adaptation"] = "grimoiregems",
	["the lock for a Grimoire of Adaptation"] = "grimoirelock",

	["a Stygian Pendant's clasp"] = "pendantclasp",
	["a Stygian Pendant's pearl"] = "pendantpearl",
	["a Stygian Pendant's base"] = "pendantbase",
	["a Stygian Pendant's hook"] = "pendanthook",

	["thread for Grand Magi robes"] = "robesthread",
	["fabric for Grand Magi robes"] = "robesfabric",
	["trim for Grand Magi robes"] = "robestrim",
	["a needle for sewing Grand Magi robes"] = "robesneedle",

	["thread for Atavian wings"] = "wingsthread",
	["Atavian feathers"] = "wingsfeathers",
	["a left Atavian wing "] = "wingsleft",
	["a right Atavian wing"] = "wingsright",

--MARKS
  
	["a mouthpiece of a Warhorn of Heroes"] = "ivoryhornmouthpiece",
	["the fittings of a Warhorn of Heroes"] = "ivoryhornfittings",
	["the left side of a Warhorn of Heroes"] = "ivoryhornleft",
	["the right side of a Warhorn of Heroes"] = "ivoryhornright",

	["the disc of a Champion's medallion"] = "ivorymedalliondisc", 
	["the clasp of a Champion's medallion"] = "ivorymedallionclasp", 
	["the accent of a Champion's medallion"] = "ivorymedallionaccent", 
	["the ribbon of a Champion's medallion"] = "ivorymedallionribbon",
	
	["the lens of a Sangrean spyglass"] = "ivoryspyglasslens", 
	["the eye piece of a Sangrean spyglass"] = "ivoryspyglasseyepiece", 
	["the body of a Sangrean spyglass"] = "ivoryspyglassbody", 
	["the trap of a Sangrean spyglass"] = "ivoryspyglassstrap",

	["a piece of silk from an Ivory pennon"] = "ivorypennonsilk", 
	["a piece of ribbon from an Ivory pennon"] = "ivorypennonribbon", 
	["some thread from an Ivory pennon"] = "ivorypennonthread", 
	["some dye for an Ivory pennon"] = "ivorypennondye",

	[" the accent of an ivory armband"] = "ivoryarmbandaccent", 
	["the inner shell of a silver armband"] = "ivoryarmbandouter", 
	["the outer shell of a silver armband"] = "ivoryarmbandinner", 
	["a silver armband clasp"] = "ivoryarmbandclasp",
	
	["the body of an Atlantia dummy"] = "ivoryatlantiabody", 
	["the legs of an Atlantia dummy"] = "ivoryatlantialegs", 
	["the head of an Atlantia dummy"] = "ivoryatlantiahead", 
	["the arms of an Atlantia dummy"] = "ivoryatlantiaarms",

	["the limbs of a Champion's Training dummy"] = "ivorydummylimbs", 
	["the torso of a Champion's Training dummy"] = "ivorydummytorso", 
	["the clothing of a Champion's Training dummy"] = "ivorydummyclothing", 
	["the armour of a Champion's Training dummy"] = "ivorydummyarmour",
	
	["the base of a miniature ivory tower"] = "ivorytowerbase", 
	["the lower steps of a miniature ivory tower"] = "ivorytowerlower", 
	["the upper part of a miniature ivory tower"] = "ivorytowerupper", 
	["the laquer for a miniature ivory tower"] = "ivorytowerlacquer",

	["the core of an Atlantia bowstring"] = "ivorybowstringcore", 
	["the wrapping of an Atlantia bowstring"] = "ivorybowstringwrapping", 
	["the eyelet of an Atlantia bowstring"] = "ivorybowstringeyelet", 
	["the enchantment for an Atlantia bowstring"] = "ivorybowstringenchant",

	["the hilt of an Anima's Thirst"] = "quisaisdaggerhilt", 
	["the blade of an Anima's Thirst"] = "quisalisdaggerblade", 
	["the pommel of an Anima's Thirst"] = "quisalisdaggerpommel", 
	["the grip of an Anima's Thirst"] = "quisalisdaggergrip",

	["the lower fragment of a notched bone"] = "quisalisbonelower", 
	["the upper fragment of a notched bone"] = "quisalisboneupper", 
	["a piece of rope for a notched bone"] = "quisalisbonerope", 
	["the stain of a notched bone"] = "quisalisbonestain",

	["the chain of a Callibian medallion"] = "quisalismedallionchain", 
	["the top part of a Callibian medallion"] = "quisalismedalliontop", 
	["the bottom fragment of a Callibian medallion"] = "quisalismedallionbottom", 
	["the clasp of a Callibian medallion"] = "quisalismedallionclasp",

	["the case of the Grandmaster's looking glass"] = "quisalisglasscase", 
	["the lens of the Grandmaster's looking glass"] = "quisalisglasslens", 
	["the iris of the Grandmaster's looking glass"] = "quisalisglassiris", 
	["the eye piece of the Grandmaster's looking glass"] = "quisalisglasseyepiece",

	["the hair of a Derillin dummy"] = "quisalisderillinhair", 
	["the clothing of a Derillin dummy"] = "quisalisderillinclothing", 
	["the head of a Derillin dummy"] = "quisalisderillinhead", 
	["the torso of a Derillin dummy"] = "quisalisderillintorso",

	["the limbs of an Assassin's dummy"] = "quisalisdummylimbs", 
	["the torso of an Assassin's dummy"] = "quisalisdummytorso", 
	["the robes of an Assassin's dummy"] = "quisalisdummyrobes", 
	["the targets of an Assassin's dummy"] = "quisalisdummytargets",
	
	["the top of a Quisalis tombstone"] = "quisalistombstonetop", 
	["the middle of a Quisalis tombstone"] = "quisalistombstonemiddle", 
	["the base of a Quisalis tombstone"] = "quisalistombstonebase", 
	["the script of a Quisalis tombstone"] = "quisalistombstonescript",

	["the serpent insignia of a steel armband"] = "quisalisarmbandserpent", 
	["the eyes of a steel armband"] = "quisalisarmbandeyes", 
	["the top fragment of a steel armband"] = "quisalisarmbandtop", 
	["the bottom fragment of a steel armband"] = "quisalisarmbandbottom",

	["the cloth of a cloak of the Blood Maiden"] = "quisaliscloakcloth", 
	["the embroidery of a cloak of the Blood Maiden"] = "quisaliscloakembroidery", 
	["the lining of a cloak of the Blood Maiden"] = "quisaliscloaklining", 
	["the hood of a cloak of the Blood Maiden"] = "quisaliscloakhood",

	["the bone of a Death Keeper's mask"] = "quisalismaskbone", 
	["the wire of a Death Keeper's mask"] = "quisalismaskwire", 
	["the teeth of a Death Keeper's mask"] = "quisalismaskteeth", 
	["the runes of a Death Keeper's mask"] = "quisalismaskrunes",

-- SEAFARING

	["the contents of a cargo crate of clovers"] = "cloverboxclovers",
	["the sides from a cargo crate of clovers"] = "cloverboxsides",
	["the lid from a cargo crate of clovers"] = "cloverboxlid",
	["the base of a cargo crate of clovers"] = "cloverboxbase",
 
	["the arms of a figurine of Captain Maelstrom"] = "maelstromarms",
	["the legs of a figurine of Captain Maelstrom"] = "maelstromlegs",
	["the torso of a figurine of Captain Maelstrom"] = "maelstromtorso",
	["the head of a figurine of Captain Maelstrom"] = "maelstromhead",
 
	["the left wing of a scintillating pair of cascading wings"] = "islandwingsleft",
	["the right wing of a scintillating pair of cascading wings"] = "islandwingsright",
	["the binding thread of a scintillating pair of cascading wings"] = "islandwingsthread",
	["the shoulder straps of a scintillating pair of cascading wings"] = "islandwingsstraps",
 
	["the handle of a frosted pail of pitch"] = "frostpailhandle",
	["the left-hand side of a frosted pail of pitch"] = "frostpailleft",
	["the right-hand side of a frosted pail of pitch"] = "frostpailright",
	["the base of a frosted pail of pitch"] = "frostpailbase",
 
	["the handle of a neatly-appointed pail of pitch"] = "neatpailhandle",
	["the left-hand side of a neatly-appointed pail of pitch"] = "neatpailleft",
	["the right-hand side of a neatly-appointed pail of pitch"] = "neatpailright",
	["the base of a neatly-appointed pail of pitch"] = "neatpailbase",
 
	["the top half of a Shipwright's union chit"] = "shipchittop",
	["the bottom half of a Shipwright's union chit"] = "shipchitbottom",
	["the ink from a Shipwright's union chit"] = "shipchitink",
	["the official seal from a Shipwright's union chit"] = "shipchitseal",
 
	["the mounting plate for an etched and lacquered plaque"] = "xpplaquemount",
	["the fascia from an etched and lacquered plaque"] = "xpplaquefascia",
	["the lacquer for an etched and lacquered plaque"] = "xpplaquelacquer",
	["the lettering from an etched and lacquered plaque"] = "xpplaquelettering",
 
	["the ink from a stylised ocean map"] = "monstermapink",
	["the parchment from a stylised ocean map"] = "monstermapparchment",
	["the compass rose from a stylised ocean map"] = "monstermapcompass",
	["the magical enchantment from a stylised ocean map"] = "monstermapenchant",
 
	["the mounting plate of a crossbow of coconut lumber"] = "crossbowmount",
	["the draw arms of a crossbow of coconut lumber"] = "crossbowarms",
	["the string from a crossbow of coconut lumber"] = "crossbowstring",
	["the winding crank of a crossbow of coconut lumber"] = "crossbowcrank",
 
	["the neck from a polished green bottle"] = "glassbottleneck",
	["the main cylinder from a polished green bottle"] = "glassbottlemiddle",
	["the base of a polished green bottle"] = "glassbottlebase",
	["the magical enchantment from a polished green bottle"] = "glassbottleenchant",
 
	["the handle of an overgrown pail of pitch"] = "seaweedpailhandle",
	["the left-hand side of an overgrown pail of pitch"] = "seaweedpailleft",
	["the right-hand side of an overgrown pail of pitch"] = "seaweedpailright",
	["the base of an overgrown pail of pitch"] = "seaweedpailbase",
	
	["the shell of a smoke flare"] = "smokeflareshell",
	["the fins of a smoke flare"] = "smokeflarefins",
	["the lid of a smoke flare"] = "smokeflarelid",
	["the chamber of a smoke flare"] = "smokeflarechamber",
 
--Death

	["the top of a loop of mortal coil"] = "coiltop",
	["the bottom of a loop of mortal coil"] = "coilbottom",
	["a strand of mortal coil"] = "coilstrand",
	["the binding for a loop of mortal coil"] = "coilbinding",

	["the tip of a vulture's talon"] = "talontip",
	["the stem of a vulture's talon"] = "talonstem",
	["the base of a vulture's talon"] = "talonbase",
	["the poison for a vulture's talon"] = "talonpoison",

	["some candle wax"] = "candlewax",
	["the flame for a candle of cessation"] = "candleflame",
	["the base for a candle of cessation"] = "candlebase",
	["the string for a candle of cessation"] = "candlestring",
	
	["the head of a cowled dummy"] = "deathdummyhead",
	["the arms of a cowled dummy"] = "deathdummyarms",
	["the torso of a cowled dummy"] = "deathdummytorso",
	["the legs of a cowled dummy"] = "deathdummylegs",
	
	["the top of a gravestone"] = "gravestonetop",
	["the bottom of a gravestone"] = "gravestonebottom",
	["the inscription for a gravestone"] = "gravestoneinscription",
	["the lichen for a gravestone"] = "gravestonelichen",
	
	["the base of a soulfire crucible"] = "cruciblebase",
	["the handle of a soulfire crucible"] = "cruciblehandle",
	["the bowl of a soulfire crucible"] = "cruciblebowl",
	["the flame of a soulfire crucible"] = "crucibleflame",
	
	["the mouthpiece for death's call"] = "deathscallmouth",
	["the horn for death's call"] = "deathscallhorn",
	["the tassels for death's call"] = "deathscalltassels",
	["the coil for death's call"] = "deathscallcoil",
	
	["the brocade for a sycophantic shoulder cape"] = "capebrocade",
	["the thread for a sycophantic shoulder cape"] = "capethread",
	["the enchantment for a sycophantic shoulder cape"] = "capeenchantment",
	["the velvet for a sycophantic shoulder cape"] = "capevelvet",
	
--Blackwave

	["The top of a taper of eternity"] = "tapertop", 
	["The bottom of a taper of eternity"] = "taperbottom",
	["The wax for a taper of eternity"] = "taperwax",
	["The string for a taper of eternity"] = "taperstring",

	["The band for a ring of finality"] = "signetband",
	["The bezel for a ring of finality"] = "signetbezel",
	["The carving for a ring of finality"] = "signetcarving",
	["The marks for a ring of finality"] = "signetmarks",

	["The lizard for a grievous keyring"] = "keyringlizard",
	["The tiger for a grievous keyring"] = "keyringtiger",
	["The slate for a grievous keyring"] = "keyringslate",
	["The hoop for a grievous keyring"] = "keyringhoop",

	["The head of a goblin"] = "goblinhead",
	["The arms of a goblin"] = "goblinarms",
	["The torso of a goblin"] = "goblintorso",
	["The legs of a goblin"] = "goblinlegs",

	["The top of a subjectioner's spigot"] = "spigottop",
	["The bottom of a subjectioner's spigot"] = "spigotbottom",
	["The stem of a subjectioner's spigot"] = "spigotstem",
	["The tip of a subjectioner's spigot"] = "spigottip",

	["The band for sunless hope"] = "sunlessband",
	["The stone for sunless hope"] = "sunlessstone",
	["The binding for sunless hope"] = "sunlessbinding",
	["The enchantment for sunless hope"] = "sunlessenchantment",

	["The fur for Vakha's bribe"] = "circletfur",
	["The blades for Vakha's bribe"] = "circletblades",
	["The band for Vakha's bribe"] = "circletband",
	["The binding for Vakha's bribe"] = "circletbinding",

	["The stone for pedigree's jewel"] = "sanguinestone",
	["The aura for pedigree's jewel"] = "sanguineaura",
	["The teardrop for pedigree's jewel"] = "sanguineteardrop",
	["The blood for pedigree's jewel"] = "taintedblood",

	["The lid for a canopic jar"] = "canopiclid",
	["The fluid for a canopic jar"] = "canopicfluid",
	["The base for a canopic jar"] = "canopicbase",
	["The pot for a canopic jar"] = "canopicpot",

	["A shard for an apperception stone"] = "crystalshard",
	["The base of an apperception stone"] = "crystalbase",
	["The binding for an apperception stone"] = "crystalbinding",
	["The portal for an apperception stone"] = "crystalportal",

	["The leather for revelation's guise"] = "guiseleather",
	["The thread for revelation's guise"] = "guisethread",
	["The smile for revelation's guise"] = "guisesmile",
	["The enchantment for revelation's guise"] = "guiseenchantment",

	["The scroll for an experimenter's grimoire"] = "grimoirescroll",
	["The gut for an experimenter's grimoire"] = "grimoiregut",
	["The cover for an experimenter's grimoire"] = "grimoirecover",
	["The binding for an experimenter's grimoire"] = "grimoirebinding",

	["The enchantment for suremekh'neina"] = "mantleenchant",
	["The clasp for suremekh'neina"] = "mantleclasp",
	["The fabric for suremekh'neina"] = "mantlefabric",
	["The lining for suremekh'neina"] = "mantlelining",

-- RACES SET

	["The pipes for a set of crystalline panpipes"] = "panpipepipes",
	["the feathers for a set of crystalline panpipes"] = "panpipefeathers",
	["The hair for a set of crystalline panpipes"] = "panpipehair",
	["The flutes for a set of crystalline panpipes"] = "panpipeflutes",

	["The bones for a shamanistic rattle"] = "rattlebones",
	["The staff for a shamanistic rattle"] = "rattlestaff",
	["The antlers for a shamanistic rattle"] = "rattleantlers",
	["The runes for a shamanistic rattle"] = "rattlerunes",

	["The frame for a collapsable catapult"] = "catapultframe",
	["The bolts for a collapsable catapult"] = "catapultbolts",
	["The wheel for a collapsable catapult"] = "catapultwheel",
	["The arm for a collapsable catapult"] = "catapultarm",

	["Some blood spattered cloth"] = "clothblood",
	["A piece of whispersilk"] = "whispersilk",
	["The enchantment for a whispercloth"] = "clothenchantment",
	["The binding for a whispercloth"] = "clothbinding",

	["The glass for a demolition sphere"] = "sphereglass",
	["The fire for a demolition sphere"] = "spherefire",
	["The runes for a demolition sphere"] = "sphererunes",
	["The spark for a demolition sphere"] = "spherespark",

	["The carving for a piece of horkval chitin"] = "chitincarving",
	["A fragment of horkval chitin"] = "chitinfragment",
	["The colouring for a piece of horkval chitin"] = "chitincolour",
	["The name for a piece of horkval chitin"] = "chitinname",

	["The head for a flattened frogskin"] = "froghead",
	["The cord for a flattened frogskin"] = "frogcord",
	["The body for a flattened frog skin"] = "frogbody",
	["The feet for a flattened frog skin"] = "frogfeet",

	["The barbs for a pair of Dala'myrr claws"] = "clawbarbs",
	["The points for a set of Dala'myrr claws"] = "clawpoints",
	["The straps for a set of Dala'myrr claws"] = "clawstraps",
	["The base for a pair of Dala'myrr claws"] = "clawbase",

	["The glass for a bottled siren's song"] = "sirenglass",
	["The voice for a bottled siren's song"] = "sirenvoice",
	["The cork for a bottled siren's song"] = "sirencork",
	["The smoke for a bottled siren's song"] = "sirensmoke",

	["The lens for an arachnid eye"] = "arachnidlens",
	["The eyeball for an arachnid eye"] = "arachnideyeball",
	["The enchantment for an arachnid's eye"] = "arachnidenchantment",
	["The colouration for an arachnid's eye"] = "arachnidcolour",

	["The top of a dwarven lodestone"] = "lodestonetop",
	["The left fragment of a dwarven lodestone"] = "lodestoneleft",
	["The base of a dwarven lodestone"] = "lodestonebase",
	["The right fragment of a dwarven lodestone"] = "lodestoneright",

	["The head of a figurine of the suffering Maya"] = "figurinehead",
	["The arms of a figurine of the suffering Maya"] = "figurinearms",
	["The torso of a figurine of the suffering Maya"] = "figurinetorso",
	["The legs of a figurine of the suffering Maya"] = "figurinelegs",

-- FORAYS
 
	["the spine of a feather from Aran'Kesh"] = "arankeshfeatherspine",
	["the down from a feather of Aran'Kesh"] = "arankeshfeatherdown",
	["the colouration for a feather from Aran'Kesh"] = "arankeshfeathercolour",
	["the lethally sharp edge of a feather from Aran'Kesh"] = "arankeshfeatheredge",
 
	["a golden mirror frame"] = "goldmirrorframe",
	["silvery mirror class"] = "mirrorglass",
	["a cursed piece of glass"] = "mirrorcurse",
	["the inscription for a cursed mirror"] = "mirrorinscription",
 
	["the bowl for some ogre's broth"] = "brothbowl",
	["some basic ogre's broth"] = "brothbroth",
	["some seasoning for ogre's broth"] = "brothseasoning",
	["some special ogre spices"] = "brothspice",
 
	["the chipping for a large boulder"] = "boulderchipping",
	["the shell for a large boulder"] = "bouldershell",
	["the core of a large boulder"] = "bouldercore",
	["the stone for a large boulder"] = "boulderstone",
 
	["clumps of weeds"] = "margamwheelweeds",
	["the bolts for a ship's wheel"] = "margamwheelbolts",
	["the wood for a ship's wheel"] = "margamwheelwood",
	["a cursed ship's wheel centre"] = "margamwheelcentre",
 
	["the top of a map fragment"] = "mapfragmenttop",
	["the bottom of a map fragment"] = "mapfragmentbottom",
	["the left piece of a map fragment"] = "mapfragmentleft",
	["the right piece of a map fragment"] = "mapfragmentright",

-- Cities set

	["The chain for a set of wraith shackles"] = "wraithshacklechain",
	["The smoke for a set of wraith shackles"] = "wraithshacklesmoke",
	["The manacles for a set of wraith shackles"] = "wraithshacklemanacle",
	["The lock for a set of wraith shackles"] = "wraithshacklelock",

	["The globe for a celescope"] = "celescopeglobe",
	["The cylinders for a celescope"] = "celescopecylinders",
	["The eyepiece for a celescope"] = "celescopeeyepiece",
	["The ingraving for a celescope"] = "celescopeingraving",

	["The base for a disgusting biscuit"] = "biscuitbase",
	["The special ingredient for a disgusting biscuit"] = "biscuitspecial",
	["The sugar for a disgusting biscuit"] = "biscuitsugar",
	["The salt for a disgusting biscuit"] = "biscuitsalt",

	["The song for a music box"] = "musicboxsong",
	["The mechanism for a music box"] = "musicboxmechanism",
	["The frame for a broken music box"] = "musicboxframe",
	["The crank for a broken music box"] = "musicboxcrank",

	["The lid for an alabaster urn"] = "alabasterurnlid",
	["The pot for an alabaster urn"] = "alabasterurnpot",
	["The inscription for an alabaster urn"] = "alabasterurninscript",
	["The ash for an alabaster urn"] = "alabasterurnash",

	["The roots for a tumbleweed"] = "tumbleweedroots",
	["The tendrils for a tumbleweed"] = "tumbleweedtendrils",
	["The vines for a tumbleweed"] = "tumbleweedvines",
	["The roots for a tumbleweed"] = "tumbleweedstem",

-- Monks
	
	["The head of a monk dummy"] = "monkdummyhead",
	["The arms of a monk dummy"] = "monkdummyarms",
	["The torso of a monk dummy"] = "monkdummytorso",
	["The legs of a monk dummy"] = "monkdummylegs",

	["The fleshy part of a tongue"] = "tongueflesh",
	["The metal casing for a tongue"] = "tonguecasing",
	["The polish for the metal casing for a tongue"] = "tonguepolish",
	["The curse for an odyssean tongue"] = "tonguecurse",

	["The threads for a black headband"] = "monkheadbandthreads",
	["The amethyst for a black headband"] = "monkheadbandamethyst",
	["The enchantment for a black headband"] = "monkheadbandenchantment",
	["The support for a black headband"] = "monkheadbandsupport",

	["A crimson steel band"] = "crimsonsteelband",
	["A rough-cut quartz setting"] = "quartzsetting",
	["The claws for a taloned ring"] = "ringsteelclaws",
	["The binding for a taloned ring"] = "talonedringbinding",

	["The cloth for a pennon of cranes"] = "pennoncloth",
	["The cranes for a pennon"] = "pennoncranes",
	["The staff for a pennon of cranes"] = "pennonstaff",
	["The thread for a pennon of cranes"] = "pennonthread",

	["The flag for a rallying banner"] = "monkbannerflag",
	["The embroidery for a rallying banner"] = "monkbannerembroidery",
	["The spear for a rallying banner"] = "monkbannerspear",
	["The thread for a rallying banner"] = "monkbannerthread",

	["The stave for an ash wood staff"] = "ashstaffstave",
	["The strapping for an ash wood staff"] = "ashstaffstrapping",
	["The cap for an ash wood staff"] = "ashstaffcap",
	["The shoe for an ash wood staff"] = "ashstaffshoe",

	["The wood for an olive branch"] = "olivewood",
	["The shoots for an olive branch"] = "olivebranchshoots",
	["The leaves for an olive branch"] = "oliveleaves",
	["The enchantment for an olive branch"] = "olivebranchenchantment",

-- Elemental

	["The cyclone for an Air Elemental"] = "airelementalcyclone",
	["The essence for an Air Elemental"] = "airelementalessence",
	["The binding for an Air Elemental"] = "airelementalbinding",
	["The lightning for an Air Elemental"] = "airelementallightning",

	["The clasp for a brooch of the tempest"] = "airbroochclasp",
	["The gem for a brooch of the tempest"] = "airbroochgem",
	["The setting for a brooch of the tempest"] = "airbroochsetting",
	["The enchantment for a brooch of the tempest"] = "airbroochenchantment",

	["The chain for a fire pendant"] = "firependantchain",
	["The flame for a fire pendant"] = "firependantflame",
	["The setting for a fire pendant"] = "firependantsetting",
	["The jewel for a fire pendant"] = "firependantjewel",

	["The teeth for a warblefish's jawbone"] = "jawboneteeth",
	["The mandibles for a warblefish's jawbone"] = "jawbonemandibles",
	["The bone for a warblefish's jawbone"] = "jawbonebone",
	["The hinge for a warblefish's jawbone"] = "jawbonehinge",

	["The wood for a mineral-crusted shovel"] = "earthshovelwood",
	["The blade for a mineral-crusted shovel"] = "earthshovelblade",
	["The binding for a mineral-crusted shovel"] = "earthshovelbinding",
	["The minerals for a mineral-crusted shovel"] = "earthshovelminerals",

	["The phial for some tears of the sea"] = "seatearsphial",
	["The stopper for a phial of some tears of the sea"] = "seatearsstopper",
	["The paint for a phial for some tears of the sea"] = "seatearspaint",
	["Some tears of the sea"] = "seatearstears",

	["The links for a shackle of Garash"] = "garashshacklelinks",
	["The orbs for a shackle of Garash"] = "garashshackleorbs",
	["The enchantment for a shackle of Garash"] = "garashshackleenchantment",
	["The chains for a shackle of Garash"] = "garashshacklechains",

	["Some sticky mud"] = "mudbombmud",
	["The binding for a sticky mud bomb"] = "mudbombbinding",

	["The plaque for a seared glyph"] = "searedglyphplaque",
	["The emblem for a seared glyph"] = "searedglyphemblem",
	["The tendrils for a seared glyph"] = "searedglyphtendrils",
	["The flame for a seared glyph"] = "searedglyphflame",

	["The frame for an armoured charge tank"] = "firetankframe",
	["The flame for an armoured charge tank"] = "firetankflame",
	["The insignia for an armoured charge tank"] = "firetankinsignia",
	["The links for an armoured charge tank"] = "firetanklinks",

	["The script for a sceptre of aqueous mastery"] = "sceptrescript",
	["The enchantment for a sceptre of aqueous mastery"] = "sceptreenchantment",
	["The heart of a sceptre of aqueous mastery"] = "sceptreheart",
	["The tusk for a sceptre of aqueous mastery"] = "sceptretusk",

	["The straps for a stratospheric harness"] = "airharnessstraps",
	["The glyphs for a stratospheric harness"] = "airharnessglyphs",
	["The enchantment for a stratospheric harness"] = "airharnessenchantment",
	["The buckles for a stratospheric harness"] = "airharnessbuckles",

-- Yggdrasil
	
	["The plates for a dreadpilar figurine"] = "dreadpilarplates",
	["The body for a dreadpilar figurine"] = "dreadpilarbody",
	["The legs for a dreadpilar figurine"] = "dreadpilarlegs",
	["The head for a dreadpilar figurine"] = "dreadpilarhead",
	
	["a Squargon's head"] = "squargonhead",
	["The legs of a Squargon"] = "squargonlegs",
	["The body of a Squargon"] = "squargonbody",
	["The fangs for a Squargon"] = "squargonfangs",
	
	["The wax for a tablet"] = "tabletwax",
	["The wood for a tablet"] = "tabletwood",
	["The stylus for a tablet"] = "tabletstylus",
	["The twine	for a tablet"] = "tablettwine",
	
	["a valdblom stem"] = "valdblomstem",
	["Some valdblom leaves"] = "valdblomleaves",
	["Some valdblom essence"] = "valdblomessence",
	["a valdblom root"] = "valdblomroot",
	
	["The clay for a tash'la shaping tome"] = "shapingtomeclay",
	["The granite for a tash'la shaping tome"] = "shapingtomgranite",
	["The plates for a tash'la shaping tome"] = "shapingtomeplates",
	["The insignia for a tash'la shaping tome"] = "shapingtominsignia",
	
	["The script for a nexus cube"] = "nexuscube",
	["The gold for a nexus cube"] = "nexuscubegold",
	["The glass for a nexus cube"] = "nexuscubeglass",
	["The mote for a nexus cube"] = "nexuscubemote",
	
	["The stone for a fire crystal"] = "firecrystalstone",
	["The flame for a fire crystal"] = "firecrystalflame",
	["The enchantment for a fire crystal"] = "firecrystalenchantment",
	["The spark for a fire crystal"] = "firecrystalspark",
	
	["The flame for a planar mote"] = "moteflame",
	["The aura for a planar mote"] = "moteaura",
	["The binding for a planar mote"] = "motebinding",
	["The enchantment for a planar mote"] = "moteenchantment",
	
	["The scales from some snakeskin"] = "goldenscales",
	["a length of snakeskin"] = "goldensnakeskin",
	["The colouring from some snakeskin"] = "goldencolouring",
	["The enchantment from some snakeskin"] = "goldenenchantment",
	
	["Some wood for a branch Yggdrasil"] = "yggdrasilbranchwood",
	["A mosiac for a branch of Yggdrasil"] = "yggdrasilbranchmosaic",
	["Some enchancted fishing line"] = "yggdrasilbranchline",
	["An iron hook"] = "yggdrasilbranchhook",
	
	["The shell for a crier's bell"] = "criersshell",
	["The handle for a crier's bell"] = "criershandle",
	["The chime for a crier's bell"] = "crierschime",
	["The curse for a crier's bell"] = "crierscurse",
	
-- CONTENDERS
	
	["The clay for a piglet bank"] = "pigclay",
	["The ears of a piglet bank"] = "pigears",
	["The belly of a piglet bank"] = "pigbelly",
	["The tail of a piglet bank"] = "pigtail",

	["The lip for a jug of chum"] = "juglip",
	["The base for a jug of chum"] = "jugbase",
	["The bowl for a jug of chum"] = "jugbowl",
	["The handle for a jug of chum"] = "jughandle",

	["The string for a bouquet"] = "bouquetstring",
	["The knot for a bouquet"] = "bouquetknot",
	["The bloom for a bouquet"] = "bouquetbloom",
	["The stem for a bouquet"] = "bouquetstem",

	["The head for a featureless figurine"] = "contenderfigurinehead",
	["The arms for a featureless figurine"] = "contenderfigurinearms",
	["The legs for a featureless figurine"] = "contenderfigurinelegs",
	["The body for a featureless figurine"] = "contenderfigurinebody",

	["The handle for a magnifying glass"] = "glasshandle",
	["The pane for a magnifying glass"] = "glasspane",
	["The focus for a magnifying glass"] = "glassfocus",
	["The frame for a magnifying glass"] = "glassframe",

	["The binding for an adventurer's journal"] = "journalbinding",
	["The page for an adventurer's journal"] = "journalpage",
	["The cover for an adventurer's journal"] = "journalcover",
	["The index for an adventurer's journal"] = "journalindex",

	["The gleam for a prismatic stud"] = "studgleam",
	["The post for a prismatic stud"] = "studpost",
	["The gem for a prismatic stud"] = "studgem",
	["The back for a prismatic stud"] = "studback",

	["The gilding for a crimson ribbon bar"] = "ribbongilding",
	["The pin for a crimson ribbon bar"] = "ribbonpin",
	["The stripe for a crimson ribbon bar"] = "ribbonstripe",
	["The fold for a crimson ribbon bar"] = "ribbonfold",

-- UNDERWORLD

	["The head of a crypt worm"] = "cryptwormhead", 
	["The body of a crypt worm"] = "cryptwormbody", 
	["The fangs of a crypt worm"] = "cryptwormfangs", 
	["The binding for a crypt worm"] = "cryptwormbinding",
	
	["The chain for a splinter of shattered psyche"] = "psychesplinterchain", 
	["The frame for a splinter of shattered psyche"] = "psychesplinterframe", 
	["The length for a splinter of shattered psyche"] = "psychesplinterlength", 
	["The curse for a splinter of shattered psyche"] = "psychesplintercurse",
	
	["The thread for a skein of sanity"] = "sanityskeinthread", 
	["The coil for a skein of sanity"] = "sanityskeincoil", 
	["The curse for a skein of sanity"] = "sanityskeincurse", 
	["The binding for a skein of sanity"] = "sanityskeinbinding",
	
	["The left half of a custody talisman"] = "custodyleft", 
	["The right half of a custody talisman"] = "custodyright", 
	["The centre of a custody talisman"] = "custodycentre", 
	["The binding for a custody talisman"] = "custodybinding",
	
	["The base for a totem of unlife"] = "unlifetotembase", 
	["The wood for a totem of unlife"] = "unlifetotemwood", 
	["The skull for a totem of unlife"] = "unlifetotemskull", 
	["The tendrils for a totem of unlife"] = "unlifetotemtendrils",

	["The obsidian for a soul sliver"] = "soulsliverobsidian", 
	["The fog for a soul sliver"] = "soulsliverfog", 
	["The souls for a soul sliver"] = "soulsliversouls", 
	["The curse for a soul sliver"] = "soulslivercurse",
	
	["The hilt for a culling blade"] = "cullingbladehilt", 
	["The edge of a culling blade"] = "cullingbladeedge", 
	["The metal for a culling blade"] = "cullingblademetal", 
	["The curse for a culling blade"] = "cullingbladecurse",
	
	["The cloth for a funeral shroud"] = "funeralshroudcloth", 
	["The thread for a funeral shroud"] = "funeralshroudthread", 
	["The benediction for a funeral shroud"] = "funeralshroudbenediction", 
	["The clasp for a funeral shroud"] = "funeralshroudclasp",

-- Renegades

	["The stick for mercenary's chalk"] = "mercenarychalkstick",
	["The chalkdust for mercenary's chalk"] = "mercenarychalkdust",
	["The binding for mercenary's chalk"] = "mercenarychalkbinding",
	["The chalk for mercenary's chalk"] = "mercenarychalkchalk",
	
	["The signature for an elemental injunction"] = "injunctionsignature",
	["The script for an elemental injunction"] = "injunctionscript",
	["The paper for an elemental injunction"] = "injunctionpaper",
	["The seal for an elemental injunction"] = "injunctionseal",
	
	["The cloth for a moppet"] = "moppetcloth",
	["The eyes for a moppet"] = "moppeteyes",
	["The thread for a moppet"] = "moppetthread",
	["The buttons for a moppet"] = "moppetbuttons",
	
	["The buttons for a turncoat's coat"] = "turncoatscoat",
	["The thread for a turncoat's coat"] = "turncoatscoatthread",
	["The cloth for a turncoat's coat"] = "turncoatscoatcloth",
	["The binding for a turncoat's coat"] = "turncoatscoatbinding",
	
	["The cloth for a shadowcloak"] = "shadowcloakcloth",
	["The clasp for a shadowcloak"] = "shadowcloakclasp",
	["The thread for a shadowcloak"] = "shadowcloakthread",
	["The curse for a shadowcloak"] = "shadowcloakcurse",
	
	["The cloth for a betrayer's mantle"] = "betrayersmantlecloth",
	["The thread for a betrayer's mantle"] = "betrayersmantlethread",
	["The straps for a betrayer's mantle"] = "betrayersmantlestraps",
	["The curse for a betrayer's mantle"] = "betrayersmantlecurse",
	
	["The stone for a turncoat's masque"] = "turncoatsmasquestone",
	["The etchings for a turncoat's masque"] = "turncoatsmasqueetchings",
	["The curse for a turncoat's masque"] = "turncoatsmasquecurse",
	["The eyes for a turncoat's masque"] = "turncoatsmasqueeyes",
	
	["The cloth for a sundered pennon"] = "sunderedpennoncloth",
	["The thread for a sundered pennon"] = "sunderedpennonthread",
	["The staff for a sundered pennon"] = "sunderedpennonstaff",
	["The binding for a sundered pennon"] = "sunderedpennonbinding",

--Invasion

	["The head of a figurine of the Dark Earth"] = "darkearthhead",
	["The torso of a figurine of the Dark Earth"] = "darkearthtorso",
	["The arms of a figurine of the Dark Earth"] = "darkeartharms",
	["The legs for a figurine of the Dark Earth"] = "darkearthlegs",

	["The wheels for a battering ram"] = "batteringramwheels",
	["The ram for a battering ram"] = "batteringramram",
	["The grips for a battering ram"] = "batteringramgrips",
	["Some bolts for a battering ram"] = "batteringrambolts",
	
	["The spikes for a steel caltrop"] = "caltropspikes",
	["The ball for a steel caltrop"] = "caltropball",
	["The binding for a steel caltrop"] = "caltropbinding",
	["The barbs for a steel caltrop"] = "caltropbarbs",
	
	["The pot for an iron cauldron"] = "cauldronpot",
	["The oil for an iron cauldron"] = "cauldronoil",
	["The handle for an iron cauldron"] = "cauldronhandle",
	["The base for an iron cauldron"] = "cauldronbase",
	
	["The link for an adamantine shackle"] = "shadowshacklelink",
	["The metal for an adamantine shackle"] = "shadowshacklemetal",
	["The enchantment for an adamantine shackle"] = "shadowshackleenchantment",
	["The shadow for an adamantine shackle"] = "shadowshackleshadow",
	
	["The lid for a hag's eye"] = "hagseyelid",
	["The ball for a hag's eye"] = "hagseyeball",
	["The fluid for a hag's eye"] = "hagseyefluid",
	["The enchantment for a hag's eye"] = "hagseyeenchantment",
	
	["Some magic ice"] = "icebrickmagic",
	["The repeating spell for a block of ice"] = "icebrickspell",
	["The binding for a block of ice"] = "icebrickbinding",
	["The enchantment spell for a block of ice"] = "icebrickenchantment",
	
	["The enchantment for a map"] = "scoutingmapenchantment",
	["The icons	for a map"] = "scoutingmapicons",
	["The ink for a map"] = "scoutingmapink",
	["The vellum for a map"] = "scoutingmapvellum",

-- WAR
  
	["the bones for some rotting remains"] = "remainsbones",
	["the flesh for some rotting remains"] = "remainsflesh",
	["the muscles for some rotting remains"] = "remainsmuscles",
	["the blood for some rotting remains"] = "remainsblood",
 
	["the gilding for a gilded bit"] = "bitgilding",
	["the bar for a gilded bit"] = "bitbar",
	["the chain for a gilded bit"] = "bitchain",
	["the patterns for a gilded bit"] = "bitpatterns",
 
	["the head of a portly pigeon"] = "pigeonhead",
	["the body of a portly pigeon"] = "pigeonbody",
	["the legs of a portly pigeon"] = "pigeonlegs",
	["the wings of a portly pigeon"] = "pigeonwings",
 
	["the fog for a cloud of war"] = "warcloudfog",
	["the stench for a cloud of war"] = "warcloudstench",
	["the curse for a cloud of war"] = "warcloudcurse",
	["the binding for a cloud of war"] = "warcloudbinding",
 
	["the steel for a portal hoop"] = "portalhoopsteel",
	["the light for a portal hoop"] = "portalhooplight",
	["the enchantment for a portal hoop"] = "portalhoopenchantment",
	["the binding for a portal hoop"] = "portalhoopbinding",
 
	["the metal for an observant sigil"] = "observantsigilmetal",
	["the star for an observant sigil"] = "observantsigilstar",
	["the eye for an observant sigil"] = "observantsigileye",
	["the latice for an observant sigil"] = "observantsigillatice",

}

-- require this info for formatting and complete set management (note, can be extended)
-- frustratingly, being an unsorted table, this also required the additional order in the set data or I couldnt handle the formatting..
talisman.info = {
	blackdragon = {
			blackdragonbone = {required=64, short="bone"}, 
			blackdragonclaw = {required=64, short="claw"}, 
			blackdragoneye = {required=64, short="eye"}, 
			blackdragonheart = {required=64, short="heart"}, 
			blackdragonleather = {required=64, short="leather"}, 
			blackdragonscale = {required=64, short="scale"}, 
			blackdragontooth = {required=64, short="tooth"}, 
			blackdragonsac = {required=4, short="sac"}
		},
	greendragon = {
			greendragonbone = {required=64, short="bone"}, 
			greendragonclaw = {required=64, short="claw"}, 
			greendragoneye = {required=64, short="eye"}, 
			greendragonheart = {required=64, short="heart"}, 
			greendragonleather = {required=64, short="leather"}, 
			greendragonscale = {required=64, short="scale"}, 
			greendragontooth = {required=64, short="tooth"}, 
			greendragonsac = {required=4, short="sac"}
		},
	reddragon = {
			reddragonbone = {required=64, short="bone"}, 
			reddragonclaw = {required=64, short="claw"}, 
			reddragoneye = {required=64, short="eye"}, 
			reddragonheart = {required=64, short="heart"}, 
			reddragonleather = {required=64, short="leather"}, 
			reddragonscale = {required=64, short="scale"}, 
			reddragontooth = {required=64, short="tooth"}, 
			reddragonbelly = {required=4, short="belly"}
		},
	bluedragon = {
			bluedragonbone = {required=64, short="bone"}, 
			bluedragonclaw = {required=64, short="claw"}, 
			bluedragoneye = {required=64, short="eye"}, 
			bluedragonheart = {required=64, short="heart"}, 
			bluedragonleather = {required=64, short="leather"}, 
			bluedragonscale = {required=64, short="scale"}, 
			bluedragontooth = {required=64, short="tooth"}, 
			bluedragonlung = {required=4, short="lung"}
		},
	silverdragon = {
			silverdragonbone = {required=64, short="bone"}, 
			silverdragonclaw = {required=64, short="claw"}, 
			silverdragoneye = {required=64, short="eye"}, 
			silverdragonheart = {required=64, short="heart"}, 
			silverdragonleather = {required=64, short="leather"}, 
			silverdragonscale = {required=64, short="scale"}, 
			silverdragontooth = {required=64, short="tooth"}, 
			silverdragonlarynx = {required=4, short="larynx"}
		},
	golddragon = {
			golddragonbone = {required=64, short="bone"}, 
			golddragonclaw = {required=64, short="claw"}, 
			golddragoneye = {required=64, short="eye"}, 
			golddragonheart = {required=64, short="heart"}, 
			golddragonleather = {required=64, short="leather"}, 
			golddragonscale = {required=64, short="scale"}, 
			golddragontooth = {required=64, short="tooth"}, 
			golddragonstem = {required=4, short="stem"}
		},
-- AZATLAN
	eagleheaddress = {
			bluefeather = {required=64, short="blue"}, 
			greenfeather = {required=64, short="green"}, 
			redfeather = {required=64, short="red"}, 
			yellowfeather = {required=64, short="yellow"}, 
			orangefeather = {required=16, short="orange"}, 
			purplefeather = {required=16, short="purple"}, 
			blackfeather = {required=4, short="black"}, 
		},
	atlatl = {
			atlatlshaft = {required=1, short="shaft"}, 
			atlatlcup = {required=1, short="cup"}, 
			atlatlspear = {required=1, short="spear"}, 
	},
	transoceanic = {
			orbleft = {required=4, short="left"}, 
			orbright = {required=4, short="right"}, 
			orbcenter = {required=2, short="center"}, 
	},
	azatlanknife = {
			knifebladetop = {required=1, short="tip"}, 
			knifebladebottom = {required=1, short="tang"}, 
			knifeleather = {required=1, short="leather"}, 
	},
	quetzal = {
			quetzalredfeather = {required=64, short="red"}, 
			quetzalbluefeather = {required=64, short="blue"}, 
			quetzalgreenfeather = {required=64, short="green"}, 
			quetzalcage = {required=64, short="cage"}, 
			quetzaltalon = {required=16, short="talon"}, 
			quetzalegg = {required=4, short="egg"}, 
	},
	kinkajou= {
			kinkajoutooth = {required=64, short="tooth"}, 
			kinkajoucollar = {required=64, short="collar"}, 
			kinkajoubait = {required=64, short="bait"}, 
			kinkajouclaw = {required=32, short="claw"}, 
			kinkajoupaw = {required=16, short="paw"}, 
			kinkajoutail = {required=4, short="tail"}, 
	},
	coati= {
			coatitooth = {required=16, short="tooth"}, 
			coaticollar = {required=64, short="collar"}, 
			coatibait = {required=64, short="bait"}, 
			coaticlaw = {required=64, short="claw"}, 
			coatipaw = {required=32, short="paw"}, 
			coatitail = {required=4, short="tail"}, 
	},
--Wonders
	baitbucket = {
			buckethandle = {required=1, short="handle"}, 
			bucketleft = {required=1, short="left"},
			bucketright = {required=1, short="right"},
			bucketbase = {required=1, short="base"},
			bucketwater = {required=1, short="water"}
	},
	dragonskinpack = {
			packscales = {required=1, short="scales"},
			packstraps = {required=1, short="straps"},
			packlining = {required=1, short="lining"},
			packthread = {required=1, short="thread"},
			packleather = {required=1, short="leather"},
	},
	platinumwhistle = {
			whistlemouth = {required=1, short="mouth"},
			whistleflue = {required=1, short="flue"},
			whistlereed = {required=1, short="reed"},
			whistletoppipe = {required=1, short="top"},
			whistlelowpipe = {required=1, short="bottom"},
	},
	ramshorn = {
			ramshorn = {required=1, short="horn"},
			hornmouth = {required=1, short="mouth"},
			hornleftstrap = {required=1, short="left"},
			hornrightstrap = {required=1, short="right"},
			hornfastener = {required=1, short="fastener"},
	},
	monocle = {
			monotop = {required=1, short="top"},
			monobottom = {required=1, short="bottom"},
			monoframe = {required=1, short="frame"},
			monocatch = {required=1, short="catch"},
			monoclasp = {required=1, short="clasp"},
	},
  globe = {
    globetop = {required=1, short="top"},
    globemiddle = {required=1, short="middle"},
    globebottom = {required=1, short="bottom"},
  },
--Misc
	hookah = {
			hookahbase = {required=1, short="base"},
			hookahbowl = {required=1, short="bowl"},
			hookahhood = {required=1, short="hood"},
			hookahchain = {required=1, short="chain"},
			hookahhoses = {required=1, short="hose"},
			hookahstem = {required=1, short="stem"},
			hookahplate = {required=1, short="plate"},
	},
	tapestry = {
			tapestryclaw = {required=1, short="claw"},
			tapestryonyx = {required=1, short="onyx"},
			tapestryroller = {required=1, short="roller"},
			tapestryvellum = {required=1, short="vellum"},
	},
	vaultkey = {
			keyfragment = {required=1, short="keyfragment"},
	},
	negationsphere = {
			spherefragment = {required=1, short="spherefragment"},
	},
	clayfigurine = {
			clayfigurinearms = {required=1, short="arms"},
			clayfigurinelegs = {required=1, short="legs"},
			clayfigurinehead = {required=1, short="head"},
			clayfigurinebody = {required=1, short="body"},
	},
--Historical
	window = {
			windowframe = {required=1, short="frame"},
			windowpane = {required=1, short="pane"},
			windowjamb = {required=1, short="jamb"},
			windowshutters = {required=1, short="shutters"},
			windowgrid = {required=1, short="grid"},
	},
	mantle = {
			mantlecloth = {required=1, short="cloth"},
			mantlethread = {required=1, short="thread"},
			mantlecentre = {required=1, short="centre"},
			mantlegems = {required=1, short="gems"},
	},
	icicle = {
			icicletop = {required=1, short="top"},
			iciclemiddle = {required=1, short="middle"},
			iciclebase = {required=1, short="base"},
			icicletip = {required=1, short="tip"},
			iciclerunes = {required=1, short="runes"},
	},
	helmet = {
			helmetskull = {required=1, short="skull"},
			helmetnose = {required=1, short="nose"},
			helmetstrap = {required=1, short="strap"},
	},
	disc = {
			disctop = {required=1, short="top"},
			discside = {required=1, short="side"},
			discmiddle = {required=1, short="middle"},
			discbottom = {required=1, short="bottom"},
			discrunes = {required=1, short="runes"},
			disccentre = {required=1, short="centre"},
	},
	votive = {
			votivebase = {required=1, short="base"},
			votivewick = {required=1, short="wick"},
			votivewax = {required=1, short="wax"},
	},
	whisperstone = {
			stonetop = {required=1, short="top"},
			stonebottom = {required=1, short="bottom"},
			stonemiddle = {required=1, short="middle"},
			stoneside = {required=1, short="side"},
			stonecore = {required=1, short="core"},
			stoneemitter= {required=1, short="emitter"},
	},
	lily = {
			lilypetals = {required=1, short="petals"},
			lilystem = {required=1, short="stem"},
			lilystamen = {required=1, short="stamen"},
			lilybulb = {required=1, short="bulb"},
			lilypistil = {required=1, short="pistil"},
	},
	ozhera = {
			ozherabait = {required=1, short="bait"},
			ozheracollar = {required=1, short="collar"},
			ozheraegg = {required=1, short="egg"},
			ozheraclaw = {required=1, short="claw"},
			ozherabeak = {required=1, short="beak"},
			ozheranest = {required=1, short="nest"},
	},
	turtle = {
			turtleshell = {required=1, short="shell"},
			turtlebait = {required=1, short="bait"},
			turtlecollar = {required=1, short="collar"},
			turtletail = {required=1, short="tail"},
			turtlefoot= {required=1, short="foot"},
			turtletongue= {required=1, short="tongue"},
	},
	mongoose = {
			mongoosebait = {required=1, short="bait"},
			mongoosecollar = {required=1, short="collar"},
			mongoosetail = {required=1, short="tail"},
			mongoosepaw = {required=1, short="paw"},
			mongooseclaw = {required=1, short="claw"},
			mongoosefang = {required=1, short="fang"},
	},
	hellcat = {
			hellcatbait = {required=1, short="bait"},
			hellcatcollar = {required=1, short="collar"},
			hellcatclaw = {required=1, short="claw"},
			hellcatfang = {required=1, short="fang"},
			hellcattail = {required=1, short="tail"},
			hellcatpaw = {required=1, short="paw"},
	},
--Conclave
	tophat = {
			tophatlining = {required=1, short="lining"},
			tophatbrim= {required=1, short="brim"},
			tophatthread = {required=1, short="thread"},
			tophatband = {required=1, short="band"},
	},
	hourglass = {
			hourglasstop = {required=1, short="top"},
			hourglassbottom= {required=1, short="bottom"},
			hourglasssand = {required=1, short="sand"},
			hourglassbulb= {required=1, short="bulb"},
	},
	tempestbrooch = {
			broochgem= {required=1, short="gem"},
			broochclasp= {required=1, short="clasp"},
			broochmetal= {required=1, short="metal"},
			broochhook = {required=1, short="hook"},
	},
	elementsprite = {
			spritelegs= {required=1, short="legs"},
			spritearms= {required=1, short="arms"},
			spritetorso= {required=1, short="torso"},
			spritehead= {required=1, short="head"},
	},
	lesservault = {
			vaultdoor= {required=1, short="door"},
			vaulthinge= {required=1, short="hinge"},
			vaulthandle= {required=1, short="handle"},
			vaultgems= {required=1, short="gems"},
	},
	flyingring = {
			ringtop = {required=1, short="top"},
			ringbottom = {required=1, short="bottom"},
			ringinside = {required=1, short="inside"},
			ringoutside = {required=1, short="outside"},
	},
	celerity = {
			armbandtop = {required=1, short="top"},
			armbandbottom = {required=1, short="bottom"},
			armbandinside = {required=1, short="inside"},
			armbandoutside = {required=1, short="outside"},
	},
	buckawns = {
			amuletthread = {required=1, short="thread"},
			amuletchain = {required=1, short="chain"},
			amuletball = {required=1, short="ball"},
			amuletclasp = {required=1, short="clasp"},
	},
	adaptgrimoire = {
			grimoireleather = {required=1, short="leather"},
			grimoirepaper = {required=1, short="paper"},
			grimoiregems = {required=1, short="gems"},
			grimoirelock = {required=1, short="lock"},
	},
	stygianpendant = {
			pendantbase = {required=1, short="base"},
			pendantclasp = {required=1, short="clasp"},
			pendantpearl = {required=1, short="pearl"},
			pendanthook = {required=1, short="hook"},
	},
	grandmagi = {
			robesthread = {required=1, short="thread"},
			robesneedle = {required=1, short="needle"},
			robestrim = {required=1, short="trim"},
			robesfabric = {required=1, short="fabric"},
	},
	atavianwings = {
			wingsthread = {required=1, short="thread"},
			wingsleft = {required=1, short="left"},
			wingsright = {required=1, short="right"},
			wingsfeathers = {required=1, short="feathers"},
	},
--MARKS
	ivorywarhorn = {
			ivoryhornmouthpiece = {required=1, short="mouth"},
			ivoryhornfittings = {required=1, short="fittings"},
			ivoryhornleft = {required=1, short="left"},
			ivoryhornright = {required=1, short="right"},
	},
	ivorymedallion = {
			ivorymedalliondisc = {required=1, short="disc"},
			ivorymedallionclasp = {required=1, short="clasp"},
			ivorymedallionaccent = {required=1, short="accent"},
			ivorymedallionribbon = {required=1, short="ribbon"},
	},
	ivoryspyglass = {
			ivoryspyglasslens = {required=1, short="lens"},
			ivoryspyglasseyepiece = {required=1, short="eye"},
			ivoryspyglassbody = {required=1, short="body"},
			ivoryspyglassstrap = {required=1, short="strap"},
	},
	ivorypennon = {
			ivorypennonsilk = {required=1, short="silk"},
			ivorypennonribbon = {required=1, short="ribbon"},
			ivorypennonthread = {required=1, short="thread"},
			ivorypennondye = {required=1, short="dye"},
	},
	ivoryarmband = {
			ivoryarmbandaccent = {required=1, short="accent"},
			ivoryarmbandouter = {required=1, short="outer"},
			ivoryarmbandinner = {required=1, short="inside"},
			ivoryarmbandclasp = {required=1, short="clasp"},
	},
	ivoryatlantia = {
			ivoryatlantiabody = {required=1, short="body"},
			ivoryatlantialegs = {required=1, short="legs"},
			ivoryatlantiahead = {required=1, short="head"},
			ivoryatlantiaarms = {required=1, short="arms"},
	},
	ivorydummy = {
			ivorydummylimbs = {required=1, short="limbs"},
			ivorydummytorso = {required=1, short="torso"},
			ivorydummyclothing = {required=1, short="clothing"},
			ivorydummyarmour = {required=1, short="armour"},
	},
	ivorytower = {
			ivorytowerbase = {required=1, short="base"},
			ivorytowerlower = {required=1, short="lower"},
			ivorytowerupper = {required=1, short="upper"},
			ivorytowerlacquer = {required=1, short="laquer"},
	},
	ivorybowstring = {
			ivorybowstringcore = {required=1, short="core"},
			ivorybowstringwrapping = {required=1, short="wrap"},
			ivorybowstringeyelet = {required=1, short="eyelet"},
			ivorybowstringenchant = {required=1, short="enchant"},
	},
	quisalisdagger = {
			quisaisdaggerhilt = {required=1, short="hilt"},
			quisalisdaggerblade = {required=1, short="blade"},
			quisalisdaggerpommel = {required=1, short="pommel"},
			quisalisdaggergrip = {required=1, short="grip"},
	},
	quisalisbone = {
			quisalisbonelower = {required=1, short="lower"},
			quisalisboneupper = {required=1, short="upper"},
			quisalisbonerope = {required=1, short="rope"},
			quisalisbonestain = {required=1, short="stain"},
	},
	quisalismedallion = {
			quisalismedallionchain = {required=1, short="chain"},
			quisalismedalliontop = {required=1, short="top"},
			quisalismedallionbottom = {required=1, short="bottom"},
			quisalismedallionclasp = {required=1, short="clasp"},
	},
	quisalislookingglass = {
			quisalisglasscase = {required=1, short="case"},
			quisalisglasslens = {required=1, short="lens"},
			quisalisglassiris = {required=1, short="iris"},
			quisalisglasseyepiece = {required=1, short="eyepiece"},
	},
	quisalisderillin = {
			quisalisderillinhair = {required=1, short="hair"},
			quisalisderillinclothing = {required=1, short="clothing"},
			quisalisderillintorso = {required=1, short="torso"},
			quisalisderillinhead = {required=1, short="head"},
	},
	quisalisdummy = {
			quisalisdummylimbs = {required=1, short="limbs"},
			quisalisdummytorso = {required=1, short="torso"},
			quisalisdummyrobes = {required=1, short="robes"},
			quisalisdummytargets = {required=1, short="targets"},
	},
	quisalistombstone = {
			quisalistombstonetop = {required=1, short="top"},
			quisalistombstonemiddle = {required=1, short="middle"},
			quisalistombstonebase = {required=1, short="base"},
			quisalistombstonescript = {required=1, short="script"},
	},
	quisalisarmband = {
			quisalisarmbandserpent = {required=1, short="insignia"},
			quisalisarmbandeyes = {required=1, short="eyes"},
			quisalisarmbandtop = {required=1, short="top"},
			quisalisarmbandbottom = {required=1, short="bottom"},
	},
	quisalismask = {
			quisalismaskbone = {required=1, short="bone"},
			quisalismaskwire = {required=1, short="wire"},
			quisalismaskteeth = {required=1, short="teeth"},
			quisalismaskrunes = {required=1, short="runes"},
	},
	quisaliscloak = {
			quisaliscloakcloth = {required=1, short="cloth"},
			quisaliscloakembroidery = {required=1, short="embroid"},
			quisaliscloaklining = {required=1, short="lining"},
			quisaliscloakhood = {required=1, short="hood"},
	},
--Seafaring
	cloverbox = {
			cloverboxclovers = {required=1, short="clovers"},
			cloverboxlid = {required=1, short="lid"},
			cloverboxsides = {required=1, short="sides"},
			cloverboxbase = {required=1, short = "base"},
	},
	maelstrom = {
			maelstromarms = {required=1, short="arms"},
			maelstromlegs = {required=1, short="legs"},
			maelstromtorso = {required=1, short="torso"},
			maelstromhead = {required=1, short="head"},
	},
	islandwings = {
			islandwingsleft = {required=1, short="left"},
			islandwingsright = {required=1, short="right"},
			islandwingsthread = {required=1, short="thread"},
			islandwingsstraps = {required=1, short="straps"},
	},
	frostpail = {
			frostpailhandle = {required=1, short="handle"},
			frostpailleft = {required=1, short="left"},
			frostpailright = {required=1, short="right"},
			frostpailbase = {required=1, short="base"},
	},
	neatpail = {
			neatpailhandle = {required=1, short="handle"},
			neatpailleft = {required=1, short="left"},
			neatpailright = {required=1, short="right"},
			neatpailbase = {required=1, short="base"},
	},
	shipchit = {
			shipchittop = {required=1, short="top"},
			shipchitbottom = {required=1, short="bottom"},
			shipchitink = {required=1, short="ink"},
			shipchitseal = {required=1, short="seal"},
	},
	xpplaque = {
			xpplaquemount = {required=1, short="mount"},
			xpplaquefascia = {required=1, short="fascia"},
			xpplaquelacquer = {required=1, short="lacquer"},
			xpplaquelettering = {required=1, short="lettering"},
	},
	monstermap = {
			monstermapink = {required=1, short="ink"},
			monstermapparchment = {required=1, short="parchment"},
			monstermapcompass = {required=1, short="compass"},
			monstermapenchant = {required=1, short="enchant"},
	},
	crossbow = {
			crossbowmount = {required=1, short="mount"},
			crossbowarms = {required=1, short="arms"},
			crossbowstring = {required=1, short="string"},
			crossbowcrank = {required=1, short="crank"},
	},
	glassbottle = {
			glassbottleneck = {required=1, short="neck"},
			glassbottlemiddle = {required=1, short="middle"},
			glassbottlebase = {required=1, short="base"},
			glassbottleenchant = {required=1, short="enchant"},
	},
	seaweedpail = {
			seaweedpailhandle = {required=1, short="handle"},
			seaweedpailleft = {required=1, short="left"},
			seaweedpailright = {required=1, short="right"},
			seaweedpailbase = {required=1, short="base"},
	},
	smokeflare = {
			smokeflareshell = {required=1, short="shell"},
			smokeflarefins = {required=1, short="fins"},
			smokeflarelid = {required=1, short="lid"},
			smokeflarechamber = {required=1, short="chamber"},
	},
--Death
	mortalcoil = {
			coilbinding = {required=1, short="binding"},
			coilbottom = {required=1, short="bottom"},
			coilstrand = {required=1, short="strand"},
			coiltop = {required=1, short="top"},
	},
	vulturetalon = {
			talontip = {required=1, short="tip"},
			talonstem = {required=1, short="stem"},
			talonbase = {required=1, short="base"},
			talonpoison = {required=1, short="poison"},
	},
	deathcandle = {
			candlebase = {required=1, short="base"},
			candleflame = {required=1, short="flame"},
			candlestring = {required=1, short="string"},
			candlewax = {required=1, short="wax"},
	},
	deathdummy = {
			deathdummyarms = {required=1, short="arms"},
			deathdummyhead = {required=1, short="head"},
			deathdummytorso = {required=1, short="torso"},
			deathdummylegs = {required=1, short="legs"},
	},
	gravestone = {
			gravestonebottom = {required=1, short="bottom"},
			gravestoneinscription = {required=1, short="inscription"},
			gravestonelichen = {required=1, short="lichen"},
			gravestonetop = {required=1, short="top"},
	},
	crucible = {
			cruciblebase = {required=1, short="base"},
			cruciblebowl = {required=1, short="bowl"},
			crucibleflame = {required=1, short="flame"},
			cruciblehandle = {required=1, short="handle"},
	},
	deathscall = {
			deathscallcoil = {required=1, short="coil"},
			deathscallhorn = {required=1, short="horn"},
			deathscallmouth = {required=1, short="mouth"},
			deathscalltassels = {required=1, short="tassels"},
	},
	deathcape = {
			capebrocade = {required=1, short="brocade"},
			capeenchantment = {required=1, short="enchantment"},
			capethread = {required=1, short="thread"},
			capevelvet = {required=1, short="velvet"},
	},
--Blackwave
	taper = {
			tapertop = {required=1, short="top"}, 
			taperbottom = {required=1, short="bottom"},
			taperwax = {required=1, short="wax"},
			taperstring = {required=1, short="string"},
	},
	finalityring = {
			signetband = {required=1, short="band"},
			signetbezel = {required=1, short="bezel"},
			signetcarving = {required=1, short="carving"},
			signetmarks = {required=1, short="marks"},
	},
	grievouskeyring = {
			keyringlizard = {required=1, short="lizard"},
			keyringtiger = {required=1, short="tiger"},
			keyringslate = {required=1, short="slate"},
			keyringhoop = {required=1, short="hoop"},
	},
	goblin = {
			goblinlegs = {required=1, short="legs"},
			goblinarms = {required=1, short="arms"},
			goblinhead = {required=1, short="head"},
			goblintorso = {required=1, short="torso"},
	},
	blackspigot = {
			spigottop = {required=1, short="top"},
			spigotbottom = {required=1, short="bottom"},
			spigotstem = {required=1, short="stem"},
			spigottip = {required=1, short="tip"},
	},
	sunlesshope = {
			sunlessband = {required=1, short="band"},
			sunlessstone = {required=1, short="stone"},
			sunlessbinding = {required=1, short="binding"},
			sunlessenchantment = {required=1, short="enchant"},
	},
	blackcirclet = {
			circletfur = {required=1, short="fur"},
			circletblades = {required=1, short="blades"},
			circletband = {required=1, short="band"},
			circletbinding = {required=1, short="binding"},
	},
	jewel = {
			sanguinestone = {required=1, short="stone"},
			sanguineaura = {required=1, short="aura"},
			sanguineteardrop = {required=1, short="tear"},
			taintedblood = {required=1, short="blood"},
	},
	canopic = {
			canopiclid = {required=1, short="lid"},
			canopicfluid = {required=1, short="fluid"},
			canopicbase = {required=1, short="base"},
			canopicpot = {required=1, short="pot"},
	},
	apperceptionstone = {
			crystalshard = {required=1, short="shard"},
			crystalbinding = {required=1, short="binding"},
			crystalportal = {required=1, short="portal"},
			crystalbase = {required=1, short="base"},
	},
	guise = {
			guiseenchantment = {required=1, short="enchant"},
			guisethread = {required=1, short="thread"},
			guisesmile = {required=1, short="smile"},
			guiseleather = {required=1, short="leather"},
	},
	blackgrimoire = {
			grimoiregut = {required=1, short="gut"},
			grimoirescroll = {required=1, short="scroll"},
			grimoirecover = {required=1, short="cover"},
			grimoirebinding = {required=1, short="binding"},
	},
	["suremekh'neina"] = {
			mantleenchant = {required=1, short="enchant"},
			mantleclasp = {required=1, short="clasp"},
			mantlelining = {required=1, short="lining"},
			mantlefabric = {required=1, short="fabric"},
	},
--RACES
	lodestone = {
			lodestonetop = {required=1, short="top"},
			lodestonebase = {required=1, short="base"},
			lodestoneright = {required=1, short="right"},
			lodestoneleft = {required=1, short="left"},
	},
	arachnideye = {
			arachnidlens = {required=1, short="lens"},
			arachnideyeball = {required=1, short="eyeball"},
			arachnidenchantment = {required=1, short="enchant"},
			arachnidcolour = {required=1, short="colour"},
	},
	panpipes = {
			panpipepipes = {required=1, short="pipes"},
			panpipefeathers = {required=1, short="feathers"},
			panpipehair = {required=1, short="hair"},
			panpipeflutes = {required=1, short="flutes"},
	},
	chitin = {
			chitincolour = {required=1, short="colour"},
			chitinname = {required=1, short="name"},
			chitincarving = {required=1, short="carving"},
			chitinfragment = {required=1, short="fragment"},
	},
	rattle = {
			rattlebones = {required=1, short="bones"},
			rattleantlers = {required=1, short="antlers"},
			rattlerunes = {required=1, short="runes"},
			rattlestaff = {required=1, short="staff"},
	},
	whispercloth = {
			clothenchantment = {required=1, short="enchant"},
			clothbinding = {required=1, short="binding"},
			clothblood = {required=1, short="blood"},
			whispersilk = {required=1, short="silk"},
	},
	demolitionsphere = {
			sphereglass = {required=1, short="glass"},
			spherefire = {required=1, short="fire"},
			spherespark = {required=1, short="spark"},
			sphererunes = {required=1, short="runes"},
	},
	sirensong = {
			sirenglass = {required=1, short="glass"},
			sirenvoice = {required=1, short="voice"},
			sirencork = {required=1, short="cork"},
			sirensmoke = {required=1, short="smoke"},
	},
	catapult = {
			catapultframe = {required=1, short="frame"},
			catapultbolts = {required=1, short="bolts"},
			catapultwheel = {required=1, short="wheel"},
			catapultarm = {required=1, short="arm"},
	},
	dalamyrrclaws = {
			clawstraps = {required=1, short="straps"},
			clawbase = {required=1, short="base"},
			clawpoints = {required=1, short="points"},
			clawbarbs = {required=1, short="barbs"},
	},
	frogskin = {
			froghead = {required=1, short="head"},
			frogcord = {required=1, short="cord"},
			frogbody = {required=1, short="body"},
			frogfeet = {required=1, short="feet"},
	},
	mayafigurine = {
			figurinehead = {required=1, short="head"},
			figurinearms = {required=1, short="arms"},
			figurinetorso = {required=1, short="torso"},
			figurinelegs = {required=1, short="legs"},
	},
 -- Forays
  arankeshfeather = {
			arankeshfeatherspine = {required=4, short="spine"},
			arankeshfeatherdown = {required=4, short="down"},
			arankeshfeathercolour = {required=4, short="colouration"},
			arankeshfeatheredge = {required=4, short="edge"},
	},	
	icossemirror = {
			goldmirrorframe = {required=4, short="frame"},
			mirrorglass = {required=4, short="glass"},
			mirrorcurse = {required=4, short="curse"},
			mirrorinscription = {required=4, short="inscription"},
	},
	ogrebroth = {
			brothbowl = {required=4, short="bowl"},
			brothbroth = {required=4, short="broth"},
			brothseasoning = {required=4, short="seasons"},
			brothspice = {required=4, short="spice"},
	},
	boulder = {
			boulderchipping = {required=4, short="chipping"},
			bouldershell = {required=4, short="shell"},
			bouldercore = {required=4, short="core"},
			boulderstone = {required=4, short="stone"},
	},
	margamwheel = {
			margamwheelweeds = {required=2, short="weeds"},
			margamwheelbolts = {required=2, short="bolts"},
			margamwheelwood = {required=2, short="wood"},
			margamwheelcentre = {required=2, short="centre"},
	},
	foraymap = {
			mapfragmenttop = {required=8, short="top"},
			mapfragmentbottom = {required=8, short="bottom"},
			mapfragmentleft = {required=8, short="left"},
			mapfragmentright = {required=8, short="right"},
	},
--Cities
	musicbox = {
			musicboxsong = {required=2, short="song"},
			musicboxmechanism = {required=2, short="mechan"},
			musicboxframe = {required=2, short="frame"},
			musicboxcrank = {required=2, short="crank"},
	},
	biscuit = {
			biscuitbase = {required=1, short="base"},
			biscuitspecial = {required=2, short="spec"},
			biscuitsugar = {required=1, short="sugar"},
			biscuitsalt = {required=1, short="salt"},
	},
	wraithshackles = {
			wraithshacklesmoke = {required=1, short="smoke"},
			wraithshacklechain = {required=1, short="chain"},
			wraithshacklemanacles = {required=2, short="manac"},
			wraithshacklelock = {required=1, short="lock"},
	},
	tumbleweed = {
			tumbleweedroots = {required=1, short="roots"},
			tumbleweedtendrils = {required=1, short="tendril"},
			tumbleweedvines = {required=1, short="vines"},
			tumbleweedstem = {required=1, short="stem"},
	},
	alabasterurn = {
			alabasterurnlid = {required=1, short="lid"},
			alabasterurnpot = {required=1, short="pot"},
			alabasterurninscription = {required=1, short="inscr"},
			alabasterurnash = {required=1, short="ash"},
	},
	celescope = {
			celescopeglobe = {required=2, short="globe"},
			celescopecylinders = {required=2, short="cylin"},
			celescopeeyepiece = {required=2, short="eyep"},
			celescopeingraving = {required=2, short="ingra"},
	},
-- Monks
	monkdummy = {
			monkdummyhead = {required=1, short="head"},
			monkdummyarms = {required=1, short="arms"},
			monkdummytorso = {required=1, short="torso"},
			monkdummylegs = {required=1, short="legs"},
	},
	odysseantongue = {
			tongueflesh = {required=1, short="flesh"},
			tonguecasing = {required=1, short="casing"},
			tonguepolish = {required=1, short="polish"},
			tonguecurse = {required=1, short="curse"},
	},
	monkheadband = {
			monkheadbandthreads = {required=1, short="threads"},
			monkheadbandamethyst = {required=1, short="amethyst"},
			monkheadbandenchantment = {required=1, short="enchant"},
			monkheadbandsupport = {required=1, short="support"},
	},
	talonedring = {
			crimsonsteelband = {required=1, short="band"},
			quartzsetting = {required=1, short="setting"},
			ringsteelclaws = {required=1, short="claw"},
			talonedringbinding = {required=1, short="binding"},
	},
	cranepennon = {
			pennoncloth = {required=1, short="cloth"},
			pennoncranes = {required=1, short="cranes"},
			pennonstaff = {required=1, short="staff"},
			pennonthread = {required=1, short="thread"},
	},
	monkbanner = {
			monkbannerflag = {required=1, short="flag"},
			monkbannerembroidery = {required=1, short="embroidery"},
			monkbannerspear = {required=1, short="spear"},
			monkbannerthread = {required=1, short="thread"},
	},
	ashstaff = {
			ashstaffstave = {required=1, short="stave"},
			ashstaffstrapping = {required=1, short="strap"},
			ashstaffcap = {required=1, short="cap"},
			ashstaffshoe = {required=1, short="shoe"},
	},
	olivebranch = {
			olivewood = {required=1, short="wood"},
			olivebranchshoots = {required=1, short="shoots"},
			oliveleaves = {required=1, short="leaves"},
			olivebranchenchantment = {required=1, short="enchant"},
	},	
-- Elementals
	airelement = {
			airelementalcyclone = {required=1, short="cyclone"},
			airelementalessence = {required=1, short="essence"},
			airelementalbinding = {required=1, short="binding"},
			airelementallightning = {required=1, short="lightning"},
	},
	airbrooch = {
			airbroochclasp = {required=1, short="clasp"},
			airbroochgem = {required=1, short="gem"},
			airbroochsetting = {required=1, short="setting"},
			airbroochenchantment = {required=1, short="enchant"},
	},
	firependant = {
			firependantchain = {required=1, short="chain"},
			firependantflame = {required=1, short="flame"},
			firependantsetting = {required=1, short="setting"},
			firependantjewel = {required=1, short="jewel"},
	},
	jawbone = {
			jawboneteeth = {required=1, short="teeth"},
			jawbonemandibles = {required=1, short="mandibles"},
			jawbonebone = {required=1, short="bone"},
			jawbonehinge = {required=1, short="hinge"},
	},
	earthenshovel = {
			earthshovelwood = {required=1, short="wood"},
			earthshovelblade = {required=1, short="blade"},
			earthshovelbinding = {required=1, short="binding"},
			earthshovelminerals = {required=1, short="minerals"},
	},
	seatears = {
			seatearsphial = {required=1, short="phial"},
			seatearsstopper = {required=1, short="stopper"},
			seatearspaint = {required=1, short="paint"},
			seatearstears = {required=1, short="tears"},
	},
	garashshackle = {
			garashshacklelinks = {required=1, short="links"},
			garashshackleorbs = {required=1, short="orbs"},
			garashshackleenchantment = {required=1, short="enchant"},
			garashshacklechains = {required=1, short="chains"},
	},
	mudbomb = {
			mudbombbinding = {required=1, short="binding"},
			mudbombmud = {required=3, short="mud"},
	},
	searedglyph = {
			searedglyphplaque = {required=1, short="plaque"},
			searedglyphemblem = {required=1, short="emblem"},
			searedglyphtendrils = {required=1, short="tendrils"},
			searedglyphflame = {required=1, short="flame"},
	},
	firetank = {
			firetankframe = {required=1, short="frame"},
			firetankflame = {required=1, short="flame"},
			firetankinsignia = {required=1, short="insignia"},
			firetanklinks = {required=1, short="links"},
	},
	sceptre = {
			sceptrescript = {required=1, short="script"},
			sceptreenchantment = {required=1, short="enchant"},
			sceptreheart = {required=1, short="heart"},
			sceptretusk = {required=1, short="tusk"},
	},
	harness = {
			airharnessstraps = {required=1, short="straps"},
			airharnessglyphs = {required=1, short="glyphs"},
			airharnessenchantment = {required=1, short="enchant"},
			airharnessbuckles = {required=1, short="buckles"},
	},
--Yggdrasil
	dreadpilar = {
			dreadpilarbody = {required=1, short="body"},
			dreadpilarhead = {required=1, short="head"},
			dreadpilarlegs = {required=1, short="legs"},
			dreadpilarplates = {required=1, short="plates"},
	},
	squargon = {
			squargonbody = {required=1, short="body"},
			squargonfangs = {required=1, short="fangs"},
			squargonhead = {required=1, short="head"},
			squargonlegs = {required=1, short="legs"},
	},
	yggdrasiltablet = {
			tabletstylus = {required=1, short="stylus"},
			tablettwine = {required=1, short="twine"},
			tabletwax = {required=1, short="wax"},
			tabletwood = {required=1, short="wood"},
	},		 
	valdblom = {
			valdblomessence = {required=2, short="essence"},
			valdblomleaves = {required=2, short="leaves"},
			valdblomroot = {required=2, short="root"},
			valdblomstem = {required=2, short="stem"},
	},		 
	earthshapingtome = {
			shapingtomeclay = {required=1, short="clay"},
			shapingtomeplates = {required=1, short="plates"},
			shapingtomgranite = {required=1, short="granite"},
			shapingtominsignia = {required=1, short="insignia"},
	},		 
	nexuscube = {
			nexuscubeglass = {required=1, short="glass"},
			nexuscubegold = {required=1, short="gold"},
			nexuscubemote = {required=1, short="mote"},
			nexuscubescript = {required=1, short="script"},
	},		 
	firecrystal = {
			firecrystalenchantment = {required=1, short="enchantment"},
			firecrystalflame = {required=1, short="flame"},
			firecrystalspark = {required=1, short="spark"},
			firecrystalstone = {required=1, short="stone"},
	},		 
	planarmote = {
			moteaura = {required=1, short="aura"},
			motebinding = {required=1, short="binding"},
			moteenchantment = {required=1, short="enchantment"},
			moteflame = {required=1, short="flame"},
	},		 
	goldensnakeskin = {
			goldencolouring = {required=1, short="colouring"},
			goldenenchantment = {required=1, short="enchantment"},
			goldenscales = {required=1, short="scales"},
			goldenskin = {required=1, short="skin"},
	},		 
	yggdrasilbranch = {
			yggdrasilbranchhook = {required=1, short="hook"},
			yggdrasilbranchline = {required=1, short="line"},
			yggdrasilbranchmosaic = {required=1, short="mosiac"},
			yggdrasilbranchwood = {required=1, short="wood"},
	},		 
	criersbell = {
			crierschime = {required=1, short="chime"},
			crierscurse = {required=1, short="curse"},
			criershandle = {required=1, short="handle"},
			criersshell = {required=1, short="shell"},
	},		 
-- Contenders
	contenderspig = {
			pigclay = {required=1, short="clay"},
			pigears = {required=1, short="ears"},
			pigbelly = {required=1, short="belly"},
			pigtail = {required=1, short="tail"},
	},	
	contendersjug = {
			juglip = {required=1, short="lip"},
			jugbase = {required=1, short="base"},
			jugbowl = {required=1, short="bowl"},
			jughandle = {required=1, short="handle"},
	},
	contendersbouquet = {
			bouquetstring = {required=1, short="string"},
			bouquetknot = {required=1, short="knot"},
			bouquetbloom = {required=1, short="bloom"},
			bouquetstem = {required=1, short="stem"},
	},
	contendersfigurine = {
			contenderfigurinehead = {required=1, short="head"},
			contenderfigurinearms = {required=1, short="arms"},
			contenderfigurinelegs = {required=1, short="legs"},
			contenderfigurinebody = {required=1, short="body"},
	},
	contendersglass = {
			glasshandle = {required=1, short="handle"},
			glasspane = {required=1, short="pane"},
			glassfocus = {required=1, short="focus"},
			glassframe = {required=1, short="frame"},
	},
	contendersjournal = {
			journalbinding = {required=1, short="binding"},
			journalpage = {required=1, short="page"},
			journalcover = {required=1, short="cover"},
			journalindex = {required=1, short="index"},
	},
	contendersstud = {
			studgleam = {required=1, short="gleam"},
			studpost = {required=1, short="post"},
			studgem = {required=1, short="gem"},
			studback = {required=1, short="back"},
	},
	contendersribbon = {
			ribbongilding = {required=1, short="gilding"},
			ribbonpin = {required=1, short="pin"},
			ribbonstripe = {required=1, short="stripe"},
			ribbonfold = {required=1, short="fold"},
	},
-- Underworld
	cryptworm = {
			cryptwormhead = {required=1, short="head"},
			cryptwormbody = {required=1, short="body"},
			cryptwormfangs = {required=1, short="fangs"},
			cryptwormbinding = {required=1, short="binding"},
	},
	psychesplinter = {
			psychesplinterchain = {required=1, short="chain"},
			psychesplinterframe = {required=1, short="frame"},
			psychesplinterlength = {required=1, short="length"},
			psychesplintercurse = {required=1, short="curse"},
	},
	sanityskein = {
			sanityskeinthread = {required=1, short="thread"},
			sanityskeincoil = {required=1, short="coil"},
			sanityskeincurse = {required=1, short="curse"},
			sanityskeinbinding = {required=1, short="binding"},
	},
	custodytalisman = {
			custodyleft = {required=1, short="left"},
			custodyright = {required=1, short="right"},
			custodycentre = {required=1, short="centre"},
			custodybinding = {required=1, short="binding"},
	},
	unlifetotem = {
			unlifetotembase = {required=1, short="base"},
			unlifetotemwood = {required=1, short="wood"},
			unlifetotemskull = {required=1, short="skull"},
			unlifetotemtendrils = {required=1, short="tendrils"},
	},
	soulsliver = {
			soulsliverobsidian = {required=1, short="obsidian"},
			soulsliverfog = {required=1, short="fog"},
			soulsliversouls = {required=1, short="souls"},
			soulslivercurse = {required=1, short="curse"},
	},
	cullingblade = {
			cullingbladehilt = {required=1, short="hilt"},
			cullingbladeedge = {required=1, short="edge"},
			cullingblademetal = {required=1, short="metal"},
			cullingbladecurse = {required=1, short="curse"},
	},
	funeralshroud = {
			funeralshroudcloth = {required=1, short="cloth"},
			funeralshroudthread = {required=1, short="thread"},
			funeralshroudbenediction = {required=1, short="benedict"},
			funeralshroudclasp = {required=1, short="clasp"},
	},
--Renegades
	mercenarychalk = {
			mercenarychalkbinding = {required=1, short="binding"},
			mercenarychalkchalk = {required=1, short="chalk"},
			mercenarychalkdust = {required=1, short="dust"},
			mercenarychalkstick = {required=1, short="stick"},
	},
	elementalinjunction = {
			injunctionpaper = {required=1, short="paper"},
			injunctionscript = {required=1, short="script"},
			injunctionseal = {required=1, short="seal"},
			injunctionsignature = {required=1, short="signature"},
	},
	moppet = {
			moppetbuttons = {required=1, short="buttons"},
			moppetcloth = {required=1, short="cloth"},
			moppeteyes = {required=1, short="eyes"},
			moppetthread = {required=1, short="thread"},
	},
	turncoatscoat = {
			turncoatscoatbinding = {required=1, short="binding"},
			turncoatscoatbuttons = {required=1, short="buttons"},
			turncoatscoatcloth = {required=1, short="cloth"},
			turncoatscoatthread = {required=1, short="thread"},
	},
	shadowcloak = {
			shadowcloakclasp = {required=1, short="clasp"},
			shadowcloakcloth = {required=1, short="cloth"},
			shadowcloakcurse = {required=1, short="curse"},
			shadowcloakthread = {required=1, short="thread"},
	},
	betrayersmantle = {
			betrayersmantlecloth = {required=1, short="cloth"},
			betrayersmantlecurse = {required=1, short="curse"},
			betrayersmantlestraps = {required=1, short="straps"},
			betrayersmantlethread = {required=1, short="thread"},
	},
	turncoatsmasque = {
			turncoatsmasquecurse = {required=1, short="curse"},
			turncoatsmasqueetchings = {required=1, short="etchings"},
			turncoatsmasqueeyes = {required=1, short="eyes"},
			turncoatsmasquestone = {required=1, short="stone"},
	},
	sunderedpennon = {
			sunderedpennonbinding = {required=1, short="binding"},
			sunderedpennoncloth = {required=1, short="cloth"},
			sunderedpennonstaff = {required=1, short="staff"},
			sunderedpennonthread= {required=1, short="thread"},
	},
--Invasion
	darkearthfigrine = {
			darkeartharms = {required=1, short="arms"},
			darkearthhead = {required=1, short="head"},
			darkearthlegs = {required=1, short="legs"},
			darkearthtorso = {required=1, short="torso"},
	},
	batteringram = {
			batteringrambolts = {required=1, short="bolts"},
			batteringramgrips = {required=1, short="grips"},
			batteringramram = {required=1, short="ram"},
			batteringramwheels = {required=1, short="wheels"},
	},
	caltrop = {
			caltropball = {required=1, short="ball"},
			caltropbarbs = {required=1, short="barbs"},
			caltropbinding = {required=1, short="binding"},
			caltropspikes = {required=1, short="spikes"},
	},
	cauldron = {
			cauldronbase = {required=1, short="base"},
			cauldronhandle = {required=1, short="handle"},
			cauldronoil = {required=1, short="oil"},
			cauldronpot = {required=1, short="pot"},
	},
	shadowshackle = {
			shadowshackleenchantment = {required=1, short="enchantment"},
			shadowshacklelink = {required=1, short="link"},
			shadowshacklemetal = {required=1, short="metal"},
			shadowshackleshadow = {required=1, short="shadow"},
	},
	hagseye = {
			hagseyeball = {required=1, short="ball"},
			hagseyeenchantment = {required=1, short="enchantment"},
			hagseyefluid = {required=1, short="fluid"},
			hagseyelid= {required=1, short="lid"},
	},
	icebrick = {
			icebinding = {required=1, short="binding"},
			iceenchantment = {required=1, short="enchantment"},
			magicice = {required=1, short="magic"},
			repeatingspell = {required=1, short="spell"},
	},
	scoutingmap = {
			scoutingmapenchantment = {required=1, short="enchantment"},
			scoutingmapicons = {required=1, short="icons"},
			scoutingmapink = {required=1, short="ink"},
			scoutingmapvellum = {required=1, short="vellum"},
	},
-- War
	rottingremains = {
			remainsbones = {required=1, short="bones"},
			remainsflesh = {required=1, short="flesh"},
			remainsmuscles = {required=1, short="muscles"},
			remainsblood = {required=1, short="blood"},
	},
	gildedbit = {
			bitgilding = {required=1, short="gilding"},
			bitbar = {required=1, short="bar"},
			bitchain = {required=1, short="chain"},
			bitpatterns = {required=1, short="patterns"},
	},
	pigeon = {
			pigeonhead = {required=1, short="head"},
			pigeonbody = {required=1, short="body"},
			pigeonlegs = {required=1, short="legs"},
			pigeonwings = {required=1, short="wings"},
	},
	warcloud = {
			warcloudfog = {required=1, short="fog"},
			warcloudstench = {required=1, short="stench"},
			warcloudcurse = {required=1, short="curse"},
			warcloudbinding = {required=1, short="binding"},
	},
	portalhoop = {
			portalhoopsteel = {required=1, short="steel"},
			portalhooplight = {required=1, short="light"},
			portalhoopenchantment = {required=1, short="enchantment"},
			portalhoopbinding = {required=1, short="binding"},
	},
	observantsigil = {
			observantsigilmetal = {required=1, short="metal"},
			observantsigilstar = {required=1, short="star"},
			observantsigileye = {required=1, short="eye"},
			observantsigillatice = {required=1, short="latice"},
	},

  cowculator = {
    cowculatorwood = {required=1, short="wood"},
    cowculatornumbers = {required=1, short="numbers"},
    cowculatorpaint = {required=1, short="paint"},
    cowculatorspectacles = {required=1, short="spectacles"},
  },
  golemgateway = {
    gatewayemblem = {required=1, short="emblem"},
    gatewaygates = {required=1, short="gates"},
    gatewayframe = {required=1, short="frame"},
    gatewaybars = {required=1, short="bars"},
  },
  brainjar = {
    brainjarpot = {required=1, short="pot"},
    brainjarbrains = {required=1, short="brains"},
    brainjarpreserves = {required=1, short="preserves"},
    brainjarlabel = {required=1, short="label"},
  },
  hollowbook = {
    hollowbookcovers = {required=1, short="covers"},
    hollowbookeye = {required=1, short="eye"},
    hollowbookglyphs = {required=1, short="glyphs"},
    hollowbookscream = {required=1, short="scream"},
  },
  faemirror = {
    faemirrorglass = {required=1, short="glass"},
    faemirrorcrystal = {required=1, short="crystal"},
    faemirrorhandle = {required=1, short="handle"},
    faemirrorscript = {required=1, short="script"},
  },
  celestialcoronet = {
    coronetband = {required=1, short="band"},
    coronetangels = {required=1, short="angels"},
    coronetspheres = {required=1, short="spheres"},
    coronetengravings = {required=1, short="engravings"},
  },
  chaosclaw = {
    chaosclawedge = {required=1, short="edge"},
    chaosclawtip = {required=1, short="tip"},
    chaosclawcorruption = {required=1, short="corruption"},
    chaosclawspan = {required=1, short="span"},
  },
  iconstatuette = {
    statuetteglobe = {required=1, short="globe"},
    statuettesigils = {required=1, short="sigil"},
    statuetteshards = {required=1, short="shard"},
    statuetteicon = {required=1, short="icon"},
  },
  kris = {
    krisblade = {required=1, short="blade"},
    krishaft = {required=1, short="haft"},
    krisrunes = {required=1, short="runes"},
    krissteel = {required=1, short="steel"},
  },
  crystalsword = {
    crystalswordhilt = {required=1, short="hilt"},
    crystalswordguard = {required=1, short="guard"},
    crystalswordblade = {required=1, short="blade"},
    crystalswordgem = {required=1, short="gem"},
  },

	gaia = {
    cherryblossomstem = {required=1, short="stem"},
    cherryblossomflower = {required=1, short="flower"},
    cherryblossomstamen = {required=1, short="stamen"},
    cherryblossomscent = {required=1, short="scent"},
  },
	lorielan = {
    filtercrystal = {required=1, short="crystal"},
    filterbronze = {required=1, short="bronze"},
    filterfitting = {required=1, short="fitting"},
    filterpolish = {required=1, short="polish"},
  },
	vulnurana = {
    sachetcloth = {required=1, short="cloth"},
    sachetherbs = {required=1, short="herbs"},
    sachetstring = {required=1, short="string"},
    sachetscent = {required=1, short="scent"},
  }, 
	twilight = {
    houndcarvingeyes = {required=1, short="eyes"},
    houndcarvinglegs = {required=1, short="legs"},
    houndcarvingfangs = {required=1, short="fangs"},
    houndcarvingobsidian = {required=1, short="obsidian"},
  },
	phaestus = {
    finishinghammerhead = {required=1, short="head"},
    finishinghammerrunes = {required=1, short="runes"},
    finishinghammerhandle = {required=1, short="handle"},
    finishinghammergrip = {required=1, short="grip"},
  },
	scarlatti = {
    citolestrings = {required=1, short="strings"},
    citolebody = {required=1, short="body"},
    citolebase = {required=1, short="base"},
    citoletune = {required=1, short="tune"},
  },
	prospero = {
    batteredpanhandle = {required=1, short="handle"},
    batteredpandish = {required=1, short="dish"},
    batteredpangrip = {required=1, short="grip"},
    batteredpanspell = {required=1, short="spell"},
  },
	aegis = {
    declarationpaper = {required=1, short="paper"},
    declarationtext = {required=1, short="text"},
    declarationsignature = {required=1, short="signature"},
    declarationseal = {required=1, short="seal"},
  },
	vastar = {
    vastarwingfeathers = {required=1, short="feathers"},
    vastarwingstraps = {required=1, short="straps"},
    vastarwingspan = {required=1, short="span"},
    vastarwinglightning = {required=1, short="lightning"},
  },
}

talisman.createlookup()
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Talisman</name><packageName /><script>

talisman = talisman or {}

talisman.settings = talisman.settings or {}
talisman.settings.color = "CadetBlue"

talisman.pieces = talisman.pieces or {}
--[[
Old structure
  greendragonheart = {
    ["1"] = 1,
    ["4"] = 1,
    ["2"] = 1
  }
New structure
  greendragonheart = {
    ["B"] = 3,
    ["Q"] = 1
  }
--]]


-- Unknown for when someone transfers one to us, so we can still count it, but dont need to know its total.
talisman.types = {promo="P", refine="R", quest="Q", bashing="B", unknown="U", total="T"}


talisman.help = function ()
	local name
	if gmcp then
		name = gmcp.Char.Status.name:upper()
	else
		name = "SERAGORN"
	end
	cecho("&lt;white&gt;USEAGE:\n")
	cecho("&lt;white&gt;TLIST - &lt;reset&gt;Displays a summary list of all known talisman pieces.\n")
	cecho("&lt;white&gt;TCOMPLETE &lt;talisman&gt;- &lt;reset&gt;Splits out the required pieces and completes the given talisman\n")
	cecho("&lt;reset&gt;      - Example: TCOMPLETE AZATLANKNIFE\n")
	cecho("&lt;white&gt;TTRADE &lt;adventurer&gt; &lt;piece&gt; [&lt;count&gt;]\n")
	cecho("&lt;reset&gt;      - Used to trade &lt;count&gt; (defaults to 1) pieces of &lt;piece&gt; to &lt;adventurer&gt;\n")
	cecho("&lt;reset&gt;      - Example: TTRADE "..name.." bluedragonscale 20\n")
	cecho("&lt;reset&gt;      - Note: aliases only work after talisman pieces has been checked the first time.\n")
	cecho("&lt;reset&gt;      - After this point it should keep an accurate list of pieces automatically.\n")
	cecho("&lt;white&gt;TTRADE SET &lt;adventurer&gt; &lt;setname&gt;\n")
	cecho("&lt;reset&gt;      - Used to trade all the pieces required to complete &lt;set&gt; to &lt;adventurer&gt;\n")
	cecho("&lt;reset&gt;      - Example: TTRADE SET DRAGON "..name.."\n")
	cecho("&lt;white&gt;TTRADE TALISMAN &lt;adventurer&gt; &lt;talismanname&gt;\n")
	cecho("&lt;reset&gt;      - Used to trade all the pieces required to complete a specific &lt;talisman&gt; to &lt;adventurer&gt;\n")
	cecho("&lt;reset&gt;      - Example: TTRADE TALISMAN TRANSOCEANIC "..name.."\n")
	cecho("\n&lt;white&gt;IMPORTANT: No validation is performed on trading complete sets/talismans.\n")
	cecho("&lt;white&gt;This means if you trade an incomplete set you will send some but not all of the pieces.\n")
end

talisman.echo = function (...)
	cecho(string.format("&lt;%s&gt;(Talisman): %s\n", talisman.settings.color, string.format(...)))
end

talisman.deleteLineP = function ()
  if gss then 
    gss.deleteLineP()
  elseif svo then
    svo.deleteLineP()
  end
end

talisman.reset = function ()
	talisman.pieces = {}
end

-- Function to standardize the names because of the 20 char limit.
talisman.getkey = function (longname)
	return talisman.names[longname]
end

-- Functions to translate level to count and visa versa
talisman.counttolevel = function (level)
	if (tonumber(level) or 0) &lt;= 0 then
		return 1
	else
		return (math.log(tonumber(level))/math.log(2))+1
	end
end

talisman.leveltocount = function (level)
	return math.pow(2, (tonumber(level) or 0)-1)
end

-- type checking for when we want to specifically send a type of talisman piece (promo, refined, etc)
talisman.ischecktype = function (type, typeflag)
	if not typeflag then 
		return true
	else
		return typeflag==type
	end	
end

-- Set activity checks (so we dont display a set in the list that we have nothing of)
talisman.setisactive = function (set)
	for i,_ in pairs(talisman.sets[set]) do
		if talisman.talismanisactive(i) then
			return true
		end
	end
	return false
end

talisman.talismanisactive = function (talismanname)
	for k,d in pairs(talisman.info[talismanname]) do
		if talisman.pieces[k] and (tonumber(talisman.pieces[k][talisman.types.total]) or 0)&gt;0 then
			return true
		end
	end
	return false
end




-- Functions to help manage and find our pieces
talisman.getcount = function (piecename, type)
	local count = 0
	local gettype = type or talisman.types.total
	if not talisman.pieces[piecename] then
		return 0
	end
	return talisman.pieces[piecename][gettype] or 0
end

talisman.autosplit = function (piecename, size)
	-- only split pieces &gt; level 1 obviously..
	if (tonumber(size) or 0)&lt;=1 then return end
	send(string.format("talisman split %s %s", piecename, size))
	if (tonumber(size) or 0)&gt;2 then
		-- recursively work our way down.. we just got 2 level (size-1) pieces.. split them
  	talisman.autosplit(piecename, (tonumber(size)-1))
  	talisman.autosplit(piecename, (tonumber(size)-1))
	end
end

-- Function to combine pieces required to get a specific level piece.
talisman.make = function (piecename, level)
	-- note this can fail currently because we cant control the talisman combine type so it cant combine promo with refined, etc.
	if (tonumber(level) or 0) &lt;= 1 then return true end
	if (tonumber(level) or 0) &gt; 2 then
		-- if we need a level 4 piece.. we need 2 level 3 pieces first..
		talisman.make(piecename, (tonumber(level)-1))
    talisman.make(piecename, (tonumber(level)-1))
	end
	-- to make a level 4 piece, we combine 2 level 3 pieces..
	send(string.format("talisman combine %s %s", piecename, tonumber(level)-1))
	return true
end

talisman.add = function (piecename, level, count, type)
	local name = talisman.lookup[piecename:cut(20)]
	local mytype = type or talisman.types.unknown
	if not name then 
		cecho("&lt;red&gt;***")
		return
	end

	if (tonumber(level) or 0) &gt; 1 then
		-- auto split things on the way in..
		for i=1, (tonumber(count) or 1) do
			talisman.autosplit(piecename, tonumber(level))
		end
	end

	talisman.pieces[name] = talisman.pieces[name] or {}
	talisman.pieces[name][mytype] = talisman.pieces[name][mytype] or 0
	talisman.pieces[name][talisman.types.total] = talisman.pieces[name][talisman.types.total] or 0
	
	talisman.pieces[name][mytype] = talisman.pieces[name][mytype] + talisman.leveltocount(level)*(tonumber(count) or 1)
	talisman.pieces[name][talisman.types.total] = talisman.pieces[name][talisman.types.total] + talisman.leveltocount(level)*(tonumber(count) or 1)
end

talisman.remove = function (piecename, level, count, type)
	if not talisman.pieces[piecename] then return end
	if not talisman.pieces[piecename][talisman.types.total] then 
		talisman.echo("Attempt to remove pieces we dont think we have for %s!", piecename)
		return -- we dont know if we have those pieces.. bail
	end
	-- calculate the true quantity we're removing..
	local count = tonumber(talisman.leveltocount((tonumber(level) or 1)) * (tonumber(count) or 1))

  if (tonumber(talisman.pieces[piecename][talisman.types.total]) or 0) &lt;= count then
		-- we dont think we have enough in total, so just remove them all
		talisman.pieces[piecename]={}
		talisman.pieces[piecename][talisman.types.total] = 0
	else
  	-- we think we have enough.. remove from total, if theres any question where they came from, add to unknown
		if table.size(talisman.pieces[piecename])&gt;2 then
			-- we always have a T and P or R item, if we have a T, P AND R (or Q) then it indicates some confusion or doubt..
			local newtotal = talisman.pieces[piecename][talisman.types.total]-count
			talisman.pieces[piecename] = {}
			talisman.pieces[piecename][talisman.types.total] = newtotal
			talisman.pieces[piecename][talisman.types.unknown] = newtotal
		else
			for i,v in pairs(talisman.pieces[piecename]) do
				talisman.pieces[piecename][i] = tonumber(v)-count
			end
		end
	end
end





-- Logic to complete talismans.
talisman.complete = function (talismanname)
	if not talisman.cancomplete(talismanname) then
		talisman.echo(string.format("Cannot complete talisman %s, pieces missing.", talismanname))
		return
	end

	for k,d in pairs(talisman.info[talismanname]) do
		local required = (math.log(d.required)/math.log(2))+1
		if math.floor(required)==required then
  			if talisman.make(k, required) then
	  			talisman.echo(string.format("Error: Could not make level %d of %s, please check talisman pieces to correct stored data.", (tonumber(required) or -1), k))
  			return
  		end
			talisman.remove(k, required, 1)
		else
			-- if required is 3, we cant combine this, so use 3 singles (mudbomb for example)..
			talisman.remove(k, 1, d.required)
		end
	end
	send(string.format("Talisman complete %s", talismanname))
end

talisman.cancomplete = function (talismanname)
	if not talisman.info[talismanname] then
		talisman.echo(string.format("Invalid talisman %s", talismanname))
		return false
	end

	for k,d in pairs(talisman.info[talismanname]) do
		if talisman.getcount(k) &lt; d.required then
			-- dont have required pieces!
			return false
		end
	end
	return true
end





-- Logic for trading talismans
talisman.tradeset = function (who, set, promo)
	if not talisman.sets[set] then
		talisman.echo(string.format("Invalid talisman set %s", set))
		return
	end
	for i,_ in pairs(talisman.sets[set]) do
		talisman.tradetalisman(who, i, promo)
	end
end

talisman.tradetalisman = function (who, talismanname, promo)
	if not talisman.info[talismanname] then
		talisman.echo(string.format("Invalid talisman %s", talismanname))
		return
	end

	for k,d in pairs(talisman.info[talismanname]) do
		if promo then
			talisman.trade(who, k, d.required)
		else
			talisman.trade(who, k, d.required)
		end
	end
end

talisman.typetolong = function (typecode)
	if typecode == talisman.types.promo then
		return "promo"
	elseif typecode == talisman.types.refine then
		return "refine"
	elseif typecode == talisman.types.quest then
		return "quest"
	else
		return ""
	end
end

talisman.trade = function (who, piecename, quantity, type)
	local count = talisman.getcount(piecename)
	if count&lt;quantity then
		talisman.echo(string.format("Only %d available of %s ", count, piecename))
		return
	end
	if count&gt;256 then
		talisman.echo("Trade alias can only handle quantities up to 256, sorry!")
		return
	end
	local required = {}
	local remaining = quantity
	local index = 9
	while index&gt;0 and remaining&gt;0 do
		if remaining&gt;=(2^(index-1)) then
			required[tostring(index)]=true
			remaining=remaining-(2^(index-1))
		end
		index=index-1
	end
	for i,v in pairs(required) do
		if not talisman.make(piecename, tonumber(i)) then
			talisman.echo(string.format("Error: Could not make level %d of %s", tonumber(i), piecename))
			return
		else
			if not price then
				send(string.format("Talisman trade piece %s %d %s to %s for nothing", piecename, tonumber(i), talisman.typetolong(type), who))
			else
				send(string.format("Talisman trade piece %s %d %s to %s for %d", piecename, tonumber(i), talisman.typetolong(type), who))
			end
			talisman.remove(piecename, tonumber(i), 1)
		end
	end
end






-- Display and formatting functions

-- Highlighters to announce our counts when we get new pieces..
talisman.announce = function (piecename, size, type)
	local count = talisman.getcount(piecename, type)
	if size &gt;= 0 then
		count = count + 2^(math.abs(tonumber(size))-1)
	else
		count = count - 2^(math.abs(tonumber(size))-1)
	end
	cecho(string.format("&lt;%s&gt; (Count: %d)", talisman.settings.color, count))
end

talisman.rightpad = function (data, length)
	return string.cut(string.format("%s%s", (data or "?"), string.rep(" ", length)), length)
end

talisman.highlight = function ()
	selectCurrentLine()
	fg("gold")
	resetFormat()
end

talisman.summary = function (setname)
	local talismangrandtotal = 0
	if setname then
		if not talisman.setisactive(setname) then
			talisman.echo(string.format("Set Inactive %s", setname))
			return 
		end
		talisman.displayset(setname)
		return
	end
	for i,v in ipairs(talisman.setorder) do
		talisman.settotal = 0
		talisman.setspare = 0
		talisman.setrequired = 0
		if talisman.setisactive(v) then
			talisman.displayset(v)
			talismangrandtotal = talismangrandtotal + talisman.setcredittotal
		end
	end
	cecho(string.format("&lt;white&gt;Total Value: &lt;red&gt;%d (%d)&lt;white&gt;\n\n", talismangrandtotal,((talismangrandtotal or 0) + (tonumber(gmcp.Char.Status.boundcredits) or 0) + (tonumber(gmcp.Char.Status.unboundcredits) or 0))))
end

talisman.displayset = function (set)
	if not talisman.sets[set] then
		talisman.echo(string.format("Invalid talisman set for output %s", set))
		return
	end

	talisman.settotal = 0
	cechoLink(string.format("&lt;white&gt;%s Set&lt;reset&gt;\n", set:title()), [[printCmdLine("ttrade set ]]..(target or "&lt;person&gt;").." "..set..[[")]], "Click to trade complete set", true)
	cecho(string.format("&lt;white&gt;%s&lt;reset&gt;\n", string.rep("-", string.len(set)+4)))

	talisman.setcredittotal = 0	
	if talisman.setformat[set] and talisman.setformat[set].order then
	-- echo the header..
		for _,v in ipairs(talisman.setformat[set].order) do
			if talisman.talismanisactive(v) then
				talisman.displaysetdetail(set, v, talisman.sets[set][v])
			end
		end
	else
		for i,v in pairs(talisman.sets[set]) do
			if talisman.talismanisactive(i) then
				talisman.displaysetdetail(set, i, v)
			end
		end
	end
	if talisman.setrequired &gt; 0 then
		cecho(string.format("&lt;white&gt;Total: %d of %d common (%d%% plus %d spare) &lt;red&gt;(%s)&lt;white&gt;\n\n", talisman.settotal, talisman.setrequired, math.floor(talisman.settotal*100/talisman.setrequired), talisman.setspare, (talisman.setcredittotal or 0)))
	end
end

talisman.displaysetdetail = function (set, talismanname, talismandata)

	local talismanfull, talismancount
	talisman.talismantotal = 0
	talisman.talismanspare = 0
	talisman.talismanrequired = 0
	cechoLink(string.format("&lt;%s&gt;%s", ((talismandata and talismandata.color) or talisman.settings.color), talisman.rightpad(talismandata.short, talisman.setformat[set].titlewidth)), [[printCmdLine("ttrade talisman ]]..(target or "&lt;person&gt;").." "..talismanname..[[")]], "Click to trade complete talisman", true)
	talismanfull, talismancount = talisman.displaytalisman(talismanname, set, talismandata.order)
	talisman.settotal = talisman.settotal + talisman.talismantotal
	talisman.setspare = talisman.setspare + talisman.talismanspare
	talisman.setrequired = talisman.setrequired + talisman.talismanrequired
	if talisman.talismanrequired-talisman.talismantotal&gt;0 then
		cecho(string.format("&lt;CadetBlue&gt;(%d%%)&lt;reset&gt;", math.floor(talisman.talismantotal*100/talisman.talismanrequired)))
	else
		cecho("&lt;green&gt;(100%)&lt;reset&gt;")
	end
	if talisman.setformat[set].value then
		talisman.credittotal = (talismanfull*talismandata.tradein) + ((talismancount - (talismanfull*4)) * talismandata.redeem)
		talisman.setcredittotal = (talisman.setcredittotal or 0) + (talisman.credittotal or 0)
		cecho(string.format("&lt;red&gt; %s %s %s &lt;white&gt;(%s %s)", talismanfull, talismancount, talisman.credittotal, (talismandata.tradein or 0), (talismandata.redeem or 0)))
	end
	cecho("\n")
end

talisman.displaytalisman = function (talismanname, set, order)
	local temp = 0
	local min = 99
	local count = 0

	if not talisman.info[talismanname] then
		talisman.echo(string.format("Invalid talisman for output %s", talismanname))
		return
	end
	if not order then
		-- unsorted..
		for k,d in pairs(talisman.info[talismanname]) do
			temp = talisman.displayitem(k, d, set)
			if temp &lt; min then
				min = temp
			end
			count = count + temp
		end
	else
		for _,d in ipairs(order) do
			temp = talisman.displayitem(d, talisman.info[talismanname][d], set)
			if temp &lt; min then
				min = temp
			end
			count = count + temp
		end
	end
	return min, count
end

talisman.getdisplaycolor = function (name, count, required)
	if not talisman.pieces[name] then
		return "CadetBlue"
	elseif count &gt;= required then
		if (tonumber(talisman.pieces[name][talisman.types.unknown]) or 0)&gt;0 then
			return "orange_red"
		elseif (tonumber(talisman.pieces[name][talisman.types.refine]) or 0)&gt;0 and (tonumber(talisman.pieces[name][talisman.types.promo]) or 0)&gt;0 then
			return "yellow"
		elseif (tonumber(talisman.pieces[name][talisman.types.refine]) or 0)&gt;0 then
			return "GreenYellow"
		else
			return "green"		
		end
	else
		if (tonumber(talisman.pieces[name][talisman.types.unknown]) or 0)&gt;0 then
			return "red"
		elseif (tonumber(talisman.pieces[name][talisman.types.refine]) or 0)&gt;0 then
			return "medium_orchid"
		else
			return "CadetBlue"
		end
	end		
end

talisman.displayitem = function (name, data, set)
	local count = talisman.getcount(name)
	local color = talisman.getdisplaycolor(name, count, data.required)
	if count&gt;=data.required then
		cechoLink(string.format("&lt;%s&gt;%s", color, talisman.rightpad(string.format("%s(%d)", string.cut(data.short,talisman.setformat[set].cellwidth), count), talisman.setformat[set].cellwidth+5)), [[printCmdLine("ttrade ]]..(target or "&lt;person&gt;").." "..name..[[")]], "Click to trade", true)
		talisman.talismantotal = talisman.talismantotal + data.required -- (dont include spares in our total required)
		talisman.talismanspare = talisman.talismanspare + count - data.required
	else
		cechoLink(string.format("&lt;%s&gt;%s", color, talisman.rightpad(string.format("%s(%d)", string.cut(data.short,talisman.setformat[set].cellwidth), count), talisman.setformat[set].cellwidth+5)), [[printCmdLine("ttrade ]]..(target or "&lt;person&gt;").." "..name..[[")]], "Click to trade", true)
		talisman.talismantotal = talisman.talismantotal + count -- (dont include spares in our total required)
	end
	talisman.talismanrequired = talisman.talismanrequired + data.required
	return math.floor(count/data.required)
end


-- This just helps us deal with the fact that some pieces have a string thats to long (20 char limit on the talisman piece list)..
talisman.createlookup = function ()
	talisman.lookup ={}
	for i,v in pairs(talisman.sets) do
		for k,d in pairs(v) do
			for a,b in ipairs(d.order) do
				talisman.lookup[b:cut(20)] = b
			end
		end
	end
end

talisman.createlookup()

</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Megophrys</name><packageName>Megophrys</packageName><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Available Directions Indicator</name><packageName /><script>DirPad = Geyser.Container:new({
  name = 'DirPad', x=540, y=0, width=150, height=90
})

DirPadLabels = {
  N_Label = Geyser.Label:new({
    name = 'n', x=30, y=0, width=30, height=30,
    fgColor='black',
  }, DirPad),
  NE_Label = Geyser.Label:new({
    name = 'ne', x=60, y=0, width=30, height=30,
    fgColor='black',
  }, DirPad),
  NW_Label = Geyser.Label:new({
    name = 'nw', x=0, y=0, width=30, height=30,
    fgColor='black'
  }, DirPad),
  W_Label = Geyser.Label:new({
    name = 'w', x=0, y=30, width=30, height=30,
    fgColor='black'
  }, DirPad),
  IN_Label = Geyser.Label:new({
    name = 'in', x=30, y=30, width=30, height=30,
    fgColor='black'
  }, DirPad),
  E_Label = Geyser.Label:new({
    name = 'e', x=60, y=30, width=30, height=30,
    fgColor='black'
  }, DirPad),
  SW_Label = Geyser.Label:new({
    name = 'sw', x=0, y=60, width=30, height=30,
    fgColor='black'
  }, DirPad),
  S_Label = Geyser.Label:new({
    name = 's', x=30, y=60, width=30, height=30,
    fgColor='black'
  }, DirPad),
  SE_Label = Geyser.Label:new({
    name = 'se', x=60, y=60, width=30, height=30,
    fgColor='black'
  }, DirPad),
  U_Label = Geyser.Label:new({
    name = 'up', x=90, y=0, width=30, height=30,
    fgColor='black'
  }, DirPad),
  OUT_Label = Geyser.Label:new({
    name = 'out', x=90, y=30, width=30, height=30,
    fgColor='black'
  }, DirPad),
  D_Label = Geyser.Label:new({
    name = 'down', x=90, y=60, width=30, height=30,
    fgColor='black'
  }, DirPad)
}

HighlightDirPad = function()
  for _, dir in pairs({'n', 'ne', 'nw', 'e', 'w', 's', 'se', 'sw', 'in', 'out', 'u', 'd'}) do
    DirPadLabels[dir:upper() ..'_Label']:echo(dir:upper(), 'DimGrey', 'c')
  end
  
  for exit, _ in pairs(gmcp.Room.Info.exits) do
    DirPadLabels[exit:upper() ..'_Label']:echo(exit:upper(), 'white', 'c')
  end
end

registerAnonymousEventHandler('gmcp.Room.Info', HighlightDirPad)
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Megophrys Util</name><packageName /><script>Megophrys.doWhileSelfish = function(func)
  cmd = func()
  send('generosity | '.. cmd ..' | selfishness')
end

Megophrys.dropWhileSelfish = function(item)
  Megophrys.doWhileSelfish(function() return 'drop '.. item end)
end

Megophrys.giveWhileSelfish = function(amt, item, tgt)
  Megophrys.doWhileSelfish(function()
    if item == 'sovereigns' then
      return 'get'.. amt ..' sovereigns from pack'
    end
    if amt then
      return 'give'.. amt ..' '.. item .. ' to ' .. tgt
    else
      return 'give '.. item .. ' to ' .. tgt
    end
  end)
end

Megophrys.offerWhileSelfish = function(corpse)
  Megophrys.doWhileSelfish(function() return 'offer '.. (corpse or 'corpses') end)
end

Megophrys.sellWhileSelfish = function(item, merchant)
  Megophrys.doWhileSelfish(function() return 'sell '.. item ..' to '.. merchant end)
end

Megophrys.highlightPanicRoom = function()
  Megophrys.panicRoomLabel = nil
  local message = '&lt;center&gt;Panic Room: None'
  Megophrys.panicRoomLabel = Geyser.Label:new({
    name='panicRoomLabel',
    x='57.5%', y='2%',
    height='2%', width='14%',
    fgColor=Megophrys.fgColors[Megophrys.killStrat], color='black',
    message=message
  })
  Megophrys.panicRoomLabel:setFontSize(11)

  if not Megophrys.fleeingToRoom then return end
  local roomID = Megophrys.fleeingToRoom

  unHighlightRoom((Megophrys.highlightedPanicRoom or 0))
  Megophrys.highlightedPanicRoom = tonumber(roomID)
  local foundRoomName = getRoomName(Megophrys.highlightedPanicRoom)
  Megophrys.panicRoomLabel:echo('&lt;center&gt;Panic Room: '.. foundRoomName)
  highlightRoom(Megophrys.highlightedPanicRoom, 225, 0, 125, 225, 0, 225, 1, 125, 125)
end

Megophrys.highlightTargetRoom = function(roomName, foundPlayer)
  Megophrys.targetRoomLabel = nil
  local message = '&lt;center&gt;Target Room: None'
  if Megophrys.killStrat == 'denizen' and Megophrys.huntingGround then
    message = '&lt;center&gt;Target Room: '.. Megophrys.huntingGround
  end
  Megophrys.targetRoomLabel = Geyser.Label:new({
    name='targetRoomLabel',
    x='57.5%', y=0,
    height='2%', width='14%',
    fgColor=Megophrys.fgColors[Megophrys.killStrat], color='black',
    message=message
  })
  Megophrys.targetRoomLabel:setFontSize(11)

  if not roomName or not foundPlayer then return end

  for roomID, foundRoomName in pairs(searchRoom(roomName, true, true)) do
    unHighlightRoom((Megophrys.highlightedTargetRoom or 0))
    Megophrys.highlightedTargetRoom = tonumber(roomID)
    local foundTarget = (string.lower(foundPlayer or '') == string.lower(target))
    if foundTarget then
      Megophrys.targetRoom = Megophrys.highlightedTargetRoom
      Megophrys.targetRoomLabel:echo('&lt;center&gt;Target Room: '.. foundRoomName)
    end
    cecho('\n&lt;cyan&gt;Highlighting '.. foundRoomName .. ' ('.. roomID ..')\n')
    highlightRoom(Megophrys.highlightedTargetRoom, 225, 125, 0, 225, 225, 0, 1, 125, 125)
  end
end

Megophrys.hoard = function()
  sendAll(
    'g gold',
    'put sovereigns in pack',
    'inr all'
  )
end

Megophrys.Util = {}
Megophrys.Util.gagLine = function()
  moveCursor(0, getLineCount()) deleteLine()
  tempLineTrigger(1,1,[[if isPrompt() then
    deleteLine()
  end]])
end

Megophrys.Util.hexToRgb = function(hex)
  if not hex:starts('#') then hex = '#'.. hex end
  return {
    r = math.floor(tonumber(string.sub(hex, 2, 3), 16) + 0.5),
    g = math.floor(tonumber(string.sub(hex, 4, 5), 16) + 0.5),
    b = math.floor(tonumber(string.sub(hex, 6, 7), 16) + 0.5),
  }
end

Megophrys.Util.rgbToHex = function(r, g, b)
  local rgbValue = (r * 0x10000) + (g * 0x100) + b
  local hexValue = string.format("%x", rgbValue)
  if #hexValue == 6 then
    return hexValue
  else
    return string.rep('0', 6 - #hexValue) .. hexValue
  end
end

Megophrys.Util._dgradient = function(text, fgColor1, fgColor2, bgColor1, bgColor2)
  if not fgColor1 or not fgColor2 or not bgColor1 or not bgColor2 then
    error("Missing arguments for gradient for text: ".. text)
  end

  local hexToRgb = Megophrys.Util.hexToRgb
  local fgColor1, fgColor2 = hexToRgb(fgColor1), hexToRgb(fgColor2)
  local bgColor1, bgColor2 = hexToRgb(bgColor1), hexToRgb(bgColor2)

  local function smoothGradient(color1, color2, numSteps)
    local gradient = {color1}
    local colorStep = math.floor(((color2 - color1) / numSteps) + 0.5)
    for i=1, numSteps do
      local nextColor = gradient[#gradient] + colorStep
      if nextColor &gt; 255 then nextColor = 255 end
      if nextColor &lt; 0 then nextColor = 0 end
      gradient[#gradient + 1] = nextColor
    end
    return gradient
  end

  local fgReds = smoothGradient(fgColor1.r, fgColor2.r, #text)
  local fgGreens = smoothGradient(fgColor1.g, fgColor2.g, #text)
  local fgBlues = smoothGradient(fgColor1.b, fgColor2.b, #text)

  local bgReds = smoothGradient(bgColor1.r, bgColor2.r, #text)
  local bgGreens = smoothGradient(bgColor1.g, bgColor2.g, #text)
  local bgBlues = smoothGradient(bgColor1.b, bgColor2.g, #text)

  local resultStr = ''
  for i=1, #text do
    resultStr = (resultStr ..'&lt;'.. fgReds[i] ..','.. fgGreens[i] ..','.. fgBlues[i]
                           ..':'.. bgReds[i] ..','.. bgGreens[i] ..','.. bgBlues[i]
                           ..'&gt;'.. string.sub(text, i, i))
  end
  return resultStr
end

Megophrys.Util.hiliteSelection = function(fg_color)
  fg(fg_color)
  deselect()
  resetFormat()
end

Megophrys.Util.randomChoice = function(tbl)
  -- https://stackoverflow.com/a/37468712
  local keyset = {}
  for _ in pairs(tbl) do
    table.insert(keyset, _)
  end
  return tbl[keyset[math.random(#keyset)]]
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Megophrys init</name><packageName /><script>Megophrys = (Megophrys or {})
Megophrys.givingAffs = (Megophrys.givingAffs or {})
Megophrys.targetLimb = (Megophrys.targetLimb or 'left')

Megophrys.fgColors = {
  denizen = 'cyan',
  raid = 'orange',
  los = 'orange',
  alch = 'yellow',
  bonk = 'yellow',
  bstar = 'yellow',
  fiyah = 'yellow',
  pummel = 'yellow',
}


-- adapted from Eryl's original list
Megophrys.prioDefault = {
    -- 1
    {"latched", "anorexia", "aeon", "voyria"},
    -- 2
    {"paralysis", "crushedthroat", "pressure", "daeggerimpale", "prone", "skullfractures"},
    -- 3
    {"pyramides", "grievouswounds", "deadening", "kkractlebrand", "torntendons"},
    -- 4
    {"guilt", "tonguetied", "disloyalty", "disrupted", "wristfractures"},
    -- 5
    {"hypochondria", "itching", "manaleech", "impaled", "crackedribs"},
    -- 6
    {"tenderskin", "brokenleftarm", "hellsight", "bound"},
    -- 7
    {"spiritburn", "mildtrauma", "unweavingspirit", "transfixation"},
    -- 8
    {"whisperingmadness", "heartseed", "tension", "entangled"},
    -- 9
    {"timeloop", "damagedleftleg", "slickness", "webbed"},
    -- 10
    {"peace", "damagedrightleg", "fear"},
    -- 11
    {"unweavingmind", "brokenleftleg", "sleeping"},
    -- 12,
    {"unweavingbody", "brokenrightleg"},
    -- 13
    {"skullfractures", "brokenrightarm"},
    -- 14
    {"scytherus", "mangledrightleg"},
    -- 15
    {"asthma", "damagedhead"},
    -- 16
    {"pyre3", "hypothermia"},
    -- 17
    {"depression", "mangledleftleg"},
    -- 18
    {"shadowmadness", "mangledhead"},
    -- 19
    {"impatience", "calcifiedskull"},
    -- 20
    {"flushings", "concussion"},
    -- 21
    {"weariness", "calcifiedtorso"},
    -- 22
    {"sandfever", "pyre1", "horror", "serioustrauma"},
    -- 23
    {"confusion", "damagedleftarm"},
    -- 24
    {"retribution", "damagedrightarm"},
    -- 25
    {"horror4", "parasite", "lovers", "epilepsy", "pacified", "justice",
    "shyness", "dizziness", "nausea", "lethargy", "haemophilia", "clumsiness",
    "hallucinations", "healthleech", "dementia", "recklessness", "masochism",
    "stupidity", "generosity", "addiction", "paranoia", "agoraphobia",
    "loneliness", "claustrophobia", "vertigo", "hypersomnia", "sensitivity",
    "darkshade", "dissonance", "temperedmelancholic", "temperedcholeric",
    "temperedsanguine", "temperedphlegmatic", "rebbies", "mycalium", "horror5",
    "frozen", "mangledrightarm", "mangledleftarm", "slashedthroat",
    "laceratedthroat", "selarnia", "stuttering", "shivering", "burning",
    "scalded", "dazed"},
    -- 26
    {"blindness", "deafness"}
}

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Megophrys Core Functions</name><packageName /><script>Megophrys.autoAttack = function()
  Megophrys.setGuidance('fight')
  cecho('\n&lt;cyan&gt;Commencing auto-attack with '.. Megophrys.class ..'...\n')
  Megophrys.priorityLabel:echo('&lt;center&gt;Priority: DAMAGE&lt;/center&gt;')
  Megophrys.updateMissionCtrlBar()
  Megophrys[Megophrys.class].nextAttack()
end

Megophrys.autoEscape = function()
  Megophrys.setGuidance('flight')

  if not gmcp.Room or not gmcp.Room.Info or not gmcp.Room.Info.exits then
    Megophrys.stopEscape('No exits detected')
    return
  end

  cecho('\nCommencing auto-flight...\n')
  Megophrys.fleeingToRoom = Megophrys.Util.randomChoice(getAreaRooms(
                              getRoomArea(gmcp.Room.Info.num)
                            ))
  Megophrys.escapeBlocked = false
  Megophrys.escapeDelayed = false

  Megophrys.priorityLabel:echo('&lt;center&gt;Priority: FLEE&lt;/center&gt;')
  Megophrys.updateMissionCtrlBar()
  send('lose '.. target)
  gotoRoom(Megophrys.fleeingToRoom)
end

Megophrys.autoResist = function()
  Megophrys.autoResisting = true
  Megophrys.setGuidance('DieWithHonor')
  Megophrys.priorityLabel:echo('&lt;center&gt;Priority: HEAL&lt;/center&gt;')
  wsys.keepup('shield', true)
  if Megophrys.class == 'Magi' then
    wsys.keepup('reflections', true)
  end
  if Megophrys.class == 'Alchemist' then
    send('educe tin')
  end
end

Megophrys.dgradient = function(text, fgColorTable, bgColorTable)
  if type(fgColorTable) ~= "table" then
    error("Argument #2 expects a table not ".. type(fgColorTable))
  end
  if type(bgColorTable) ~= "table" then
    error("Argument #3 expects a table not ".. type(bgColorTable))
  end

  if #fgColorTable &gt; 1 and #bgColorTable &gt; 1 and #fgColorTable ~= #bgColorTable then
    error("Please use the same number of colors for both foreground "..
          "and background gradients.")
  end

  if #fgColorTable == 1 and #bgColorTable &gt; 1 then
    for i=2, #bgColorTable do
      fgColorTable[i] = fgColorTable[1]
    end
  elseif #bgColorTable == 1 and #fgColorTable &gt; 1 then
    for i=2, #fgColorTable do
      bgColorTable[i] = bgColorTable[1]
    end
  end

  local lenGradient = #fgColorTable
  if lenGradient &gt; #text then
    error("Text provided is too short for this gradient!")
  end

  local _dgradient = Megophrys.Util._dgradient

  if lenGradient &gt; 1 then
    -- switch colors every nth character (rounded to integer b/c no half characters)
    local interval = math.floor((#text / (lenGradient - 1)) + 0.5)
    local resultStr = ''
    for i=1, lenGradient - 1 do
      local chunk = string.sub(text, (interval * (i - 1)) + 1, interval * i)
      resultStr = resultStr .. _dgradient(chunk,
                                          fgColorTable[i],
                                          fgColorTable[i + 1],
                                          bgColorTable[i],
                                          bgColorTable[i + 1])
    end
    return resultStr
  else
    return fgColorTable[1] ..','.. bgColorTable[1].gsub('#', '') .. text
  end
end

Megophrys.eStopAuto = function(message)
  if Megophrys.autoAttacking then
    cecho('\n&lt;red&gt;Emergency stop: No more auto-attacks.\n')
    Megophrys.stopAttack(message or 'Emergency stop lever')
  end
  if Megophrys.autoEscaping then
    Megophrys.stopEscape(message or 'Emergency stop lever')
  end
  if Megophrys.autoResisting then
    Megophrys.stopResist(message or 'Emergency stop lever')
  end
  send('clearqueue all')
  mmp.stop()

  Megophrys.priorityLabel:echo('&lt;center&gt;Priority: IDLE&lt;/center&gt;')
  Megophrys.updateMissionCtrlBar()
end

Megophrys.findTargetsInLine = function(match)
  if Megophrys.killStrat ~= 'raid' then return end
  local firstMatch = true
  if match then
    local line = getCurrentLine()
      for name, _ in pairs(cdb.db) do
        if (name ~= target and line:match('\b'.. name ..'\b') and
                _.city ~= gmcp.Char.Status.city:lower():split(' ')[1]) then
          if firstMatch then
            cecho('\n&lt;cyan&gt;Click2Target: ')
            firstMatch = false
          end
          cechoPopup('&lt;cyan&gt;'.. name ..'  ',
            {
                function() Megophrys.setTarget(name) end,
                function() send('enemy '.. name) end
            }, {
                'Target '.. name,
                'Enemy '.. name
            })
        end
      end
  end
end

Megophrys.goDir = function(direction)
  Megophrys.lastDirTried = direction
  sendAll('clearqueue all', direction)
end

Megophrys.nextLimbPrepAttack = function(onKillConditionAttack,
                                        limbPrepThreshold,
                                        limbUnderPrepThreshold)
  if Megophrys.killPreConditionsMet then
    return {
      targetLimb = Megophrys.targetLimb,
      targetTorso = true
    }
  end

  local otherLimb = ''
  local targetTorso = false
  local limbIsBroken = false
  local limbIsPrepped = false
  local limbIsUnderPrepped = false
  local otherLimbIsBroken = false
  local otherLimbIsPrepped = false
  local otherLlimbIsUnderPrepped = false
  local torsoIsBroken = false
  local torsoIsPrepped = false
  local torsoIsUnderPrepped = false
  local targetWounds = lb[target].hits
  local targetLimb = Megophrys.targetLimb
  local skipTorso = Megophrys.skipTorso
  local dualPrep = Megophrys.dualPrep
  local prepConditionsMet = false

  if limbPrepThreshold then
    limbPrepThreshold = tonumber(limbPrepThreshold)
  else
    limbPrepThreshold = 91
  end

  if limbUnderPrepThreshold then
    limbUnderPrepThreshold = tonumber(limbUnderPrepThreshold)
  else
    limbUnderPrepThreshold = 99   -- disable feature
  end

  if targetLimb then
    local targetLimbDmg = (targetWounds[targetLimb ..' leg'] or 0)
    if targetLimbDmg &gt;= 100 then
      limbIsBroken = true
      cecho('\n&lt;gold&gt;LIMB IS BROKEN!\n')
    elseif targetLimbDmg &gt;= limbPrepThreshold then
      limbIsPrepped = true
      cecho('\n&lt;gold&gt;LIMB IS PREPPED!\n')
    elseif targetLimbDmg &gt;= limbUnderPrepThreshold then
      limbIsUnderPrepped = true
    end

    if targetLimb == 'right' then
      otherLimb = 'left'
    else
      otherLimb = 'right'
    end

    local otherLimbDmg = (targetWounds[otherLimb ..' leg'] or 0)
    if otherLimbDmg &gt;= 100 then
      otherLimbIsBroken = true
      cecho('\n&lt;gold&gt;OTHER LIMB IS BROKEN!\n')
    elseif otherLimbDmg &gt;= limbPrepThreshold then
      otherLimbIsPrepped = true
      cecho('\n&lt;gold&gt;OTHER LIMB IS PREPPED!\n')
    elseif otherLimbDmg &gt;= limbUnderPrepThreshold then
      otherLimbIsUnderPrepped = true
    end
  end

  if not skipTorso then
    local targetTorsoDmg = (targetWounds.torso or 0)
    if targetTorsoDmg &gt;= 100 then
      torsoIsBroken = true
      cecho('\n&lt;gold&gt;TORSO IS BROKEN!\n')
    elseif targetTorsoDmg &gt;= limbPrepThreshold then
      torsoIsPrepped = true
      cecho('\n&lt;gold&gt;TORSO IS PREPPED!\n')
    elseif targetTorsoDmg &gt;= limbUnderPrepThreshold then
      torsoIsUnderPrepped = true
    end
  end

  if limbIsPrepped then
    if dualPrep and not otherLimbIsPrepped then
      -- switch legs
      Megophrys.priorityLabel:echo('&lt;center&gt;Priority: LIMB 2 PREP&lt;/center&gt;')
      targetLimb = otherLimb
    elseif not skipTorso and not torsoIsPrepped then
      -- work on prepping torso once limb is done
      Megophrys.priorityLabel:echo('&lt;center&gt;Priority: TORSO PREP&lt;/center&gt;')
      targetTorso = true
    else
      -- otherwise start breaks / proning
      Megophrys.priorityLabel:echo('&lt;center&gt;Priority: L2 BREAKS&lt;/center&gt;')
      prepConditionsMet = true
      targetTorso = false
    end
  elseif limbIsBroken or Megophrys.limbHasBroken then
    Megophrys.limbHasBroken = true
    Megophrys.killPreConditionsMet = true

    if dualPrep and not otherLimbIsBroken then
      targetLimb = otherLimb
      Megophrys.killPreConditionsMet = false
    elseif not skipTorso and not torsoIsBroken then
      targetTorso = true
      Megophrys.killPreConditionsMet = false
    end

    if Megophrys.killPreConditionsMet and onKillConditionAttack then
      Megophrys.nextMoveButton:echo(tostring(onKillConditionAttack):title(),
                                    Megophrys.fgColors[killStrat], 'c')
    end
  else
    Megophrys.priorityLabel:echo('&lt;center&gt;Priority: LIMB PREP&lt;/center&gt;')
  end

  return {
    targetLimb = targetLimb,
    targetTorso = targetTorso,
    limbIsPrepped = limbIsPrepped,
    limbIsUnderPrepped = limbIsUnderPrepped,
    otherLimbIsPrepped = otherLimbIsPrepped,
    otherLimbIsUnderPrepped = otherLimbIsUnderPrepped,
    torsoIsPrepped = torsoIsPrepped,
    torsoIsUnderPrepped = torsoIsUnderPrepped,
    prepConditionsMet = prepConditionsMet
  }
end

Megophrys.pursue = function()
  Megophrys.priorityLabel:echo('&lt;center&gt;Priority: PURSUIT&lt;/center&gt;')
  if Megophrys.targetRoom then
    Megophrys.setGuidance('rushdown')
    gotoRoom(Megophrys.targetRoom)
    Megophrys.targetRoom = nil
  else
    local findCmd = ''
    if Megophrys.class == 'Magi' then
      findCmd = 'cast scry at '
    else
      findCmd = 'farsee '
    end
    if Megophrys.killStrat == 'raid' and Megophrys.raidLeader then
      send(findCmd .. Megophrys.raidLeader)
      Megophrys.priorityLabel:echo('&lt;center&gt;Priority: IDLE&lt;/center&gt;')
    elseif Megophrys.killStrat == 'denizen' and Megophrys.huntingGround then
      Megophrys.setGuidance('rushdown')
      send('walk to '.. Megophrys.huntingGround)
    else
      send(findCmd .. target)
      Megophrys.priorityLabel:echo('&lt;center&gt;Priority: IDLE&lt;/center&gt;')
    end
  end
  Megophrys.updateMissionCtrlBar()
end

Megophrys.resetCuringPrios = function(theseAffs)
  local cmd = 'curing priority'
  for priority, affList in spairs(Megophrys.prioDefault) do
    for _, aff in spairs(affList) do
      local addAff = true
      if theseAffs and type(theseAffs) == 'table' then
        addAff = false
        for _, selectedAff in pairs(theseAffs) do
          if selectedAff == aff then
            addAff = true
            break
          end
        end
      end
      if addAff then cmd = table.concat({cmd, aff, priority}, ' ') end
    end
    if priority % 10 == 0 and cmd ~= 'curing priority' then
      send(cmd)
      cmd = 'curing priority'
    end
  end
  if cmd ~= 'curing priority' then
    send(cmd)
  end
end

Megophrys.resetTargetWounds = function()
  cecho('\t&lt;cyan&gt;Resetting target wounds...\n')
  Megophrys.targetHits = 0
  lb.resetAll(target)
  Megophrys.limbHasBroken = false
  Megophrys.updatePrepGauges()
end

Megophrys.setEnemies = function(enemyList)
  Megophrys.enemies = {}
  disableTrigger('reject_forced_unenemy_all')
  send('unenemy all')
  for enemy in string.gmatch(enemyList, '[^, ]+') do
    if enemy ~= 'and' then
      Megophrys.enemies[#Megophrys.enemies + 1] = string.lower(enemy)
    end
  end
  send('enemy '.. table.concat(Megophrys.enemies, ' | enemy '))
  tempTimer(0.25, function()
    enableTrigger('reject_forced_unenemy_all')
  end)
end

Megophrys.setMode = function(mode)
  Megophrys.killStrat = string.lower(mode)
  Megophrys.modeButton:echo(string.title(Megophrys.killStrat),
                            Megophrys.fgColors[Megophrys.killStrat], 'c')
  if Megophrys.killStrat == 'denizen' then
    cecho('\n&lt;cyan&gt;Hunt mode activated as '.. Megophrys.class ..'!')

    wsys.unkeepup('mass', true)
    wsys.unkeepup('rebounding', true)
  elseif Megophrys.killStrat == 'raid' then
    cecho('\n&lt;cyan&gt;Raid mode activated as '.. Megophrys.class ..'!')

    if Megophrys.raidLeader then
      cecho('\n&lt;cyan&gt;Raid leader set to: '.. Megophrys.raidLeader ..'\n')
    end

    wsys.keepup('mass', true)
    wsys.keepup('rebounding', true)
  elseif Megophrys.killStrat == 'los' then
    cecho('\n&lt;cyan&gt;LoS mode activated as '.. Megophrys.class ..'!')

    if Megophrys.LOSDirection then
      cecho('\n&lt;cyan&gt;LoS direction set to: '.. Megophrys.LOSDirection ..'\n')
    end

    wsys.keepup('mass', true)
    wsys.keepup('rebounding', true)
  else  -- some pvp mode
    wsys.keepup('mass', true)
    wsys.keepup('rebounding', true)
  end

  Megophrys.priorityLabel = nil
  Megophrys.priorityLabel = Geyser.Label:new({
    name='priorityLabel',
    x='36%', y=0,
    width='14%', height='2%',
    fgColor=Megophrys.fgColors[Megophrys.killStrat], color='black',
    message='&lt;center&gt;Priority: IDLE&lt;/center&gt;'
  })
  Megophrys.priorityLabel:setFontSize(11)
  Megophrys.setTarget('none')
  Megophrys.highlightTargetRoom()
  Megophrys[Megophrys.class].setMode()
end

Megophrys.setGuidance = function(mode)
  Megophrys.eStopAuto('Mode switch')

  mode = string.lower(mode or '')
  if mode == 'fight' then
    Megophrys.autoAttacking = true
  elseif mode == 'flight' then
    Megophrys.autoEscaping = true
  elseif mode == 'diewithhonor' then
    Megophrys.autoResisting = true
  elseif mode == 'rushdown' then
    Megophrys.inPursuit = true
  elseif mode ~= 'idle' then
    cecho('\n&lt;orange&gt;Unknown mode: "'.. mode ..'"\n')
  end
end

Megophrys.setOpponentClass = function(cls)
  if Megophrys.killStrat == 'raid' or Megophrys.riposteUp then return end
  Megophrys.opponentClass = string.lower(tostring(cls))
end

Megophrys.setTarget = function(t)
  if t == 'none' then target = 'none' else
    target = string.title(string.lower(tostring(t)))
  end
  send('st '.. target)
  cecho('\n&lt;cyan&gt;Target changed to '.. target ..'.')
  Megophrys.resetTargetWounds()

  if target ~= 'none' and Megophrys.killStrat ~= 'raid' then
    send('curing priority reset')
  end

  if Megophrys.killStrat ~= 'denizen' and target ~= 'none' then
    ak.oresetparse()
    hideWindow('aff_display')
    if Megophrys.class == 'Magi' then
      sendAll('unally '.. target, 'enemy '.. target)
    end
  end

  -- set temp trigger to highlight the target string
  if hilite_trigger_id then killTrigger(hilite_trigger_id) end
  if hilite_trigger_id2 then killTrigger(hilite_trigger_id2) end

  hilite_target_func = function(needle)
    idx = 1
    done = false
    while not done do
      done = true
      lpos = selectString(needle, idx)
      if lpos ~= -1 then 
        Megophrys.Util.hiliteSelection('OrangeRed')
        done = false
      end
      idx = idx + 1
    end
  end

  if target ~= 'none' then
    hilite_trigger_id = tempTrigger(target:lower(), function()
        hilite_target_func(target:lower())
    end)
    hilite_trigger_id2 = tempTrigger(target, function()
        hilite_target_func(target)
    end)
    send('tunnelvision on '.. target)
  else
    send('tunnelvision off')
  end

  Megophrys.targetLabel = nil
  Megophrys.targetLabel = Geyser.Label:new({
    name='targetLabel',
    x='36%', y='2%',
    width='14%', height='2%',
    fgColor=Megophrys.fgColors[Megophrys.killStrat], color='black',
    message='&lt;center&gt;Target: '.. target ..'&lt;/center&gt;'
  })
  Megophrys.targetLabel:setFontSize(11)
end

Megophrys.shout = function(message, color)
  if not color then color = 'red' end
  local remaining_len = (78 - message:len()) / 2
  local top_line = '&#9556;'.. string.rep('&#9552;', 78) ..'&#9559;'
  local bottom_line = '&#9562;'.. string.rep('&#9552;', 78) ..'&#9565;'
  local left_side = '&#9553;'.. string.rep(' ', remaining_len)
  local right_side = string.rep(' ', remaining_len) ..'&#9553;'
  if message:len() % 2 == 1 then
    right_side = ' '.. right_side
  end

  cecho('\n&lt;'.. color ..'&gt;'.. top_line)
  cecho('\n&lt;'.. color ..'&gt;'.. left_side .. message:upper() .. right_side)
  cecho('\n&lt;'.. color ..'&gt;'.. left_side .. message:upper() .. right_side)
  cecho('\n&lt;'.. color ..'&gt;'.. left_side .. message:upper() .. right_side)
  cecho('\n&lt;'.. color ..'&gt;'.. bottom_line)
end

Megophrys.stopAttack = function(reason)
  if type(reason) == 'table' then reason = 'Clicked STOP' end
  cecho('\n&lt;cyan&gt;'.. reason ..'. Disabling auto-attack.\n')
  if Megophrys.autoAttackTimerId then
    killTimer(Megophrys.autoAttackTimerId)
  end
  Megophrys.autoAttacking = false
  send('diag')
  Megophrys.priorityLabel:echo('&lt;center&gt;Priority: IDLE&lt;/center&gt;')
  Megophrys.updateMissionCtrlBar()
end

Megophrys.stopEscape = function(reason)
  if type(reason) == 'table' then reason = 'Clicked STOP' end
  cecho('\n&lt;red&gt;'.. reason ..'. Disabling auto-flight.\n')
  Megophrys.autoEscaping = false
  send('diag')
  Megophrys.priorityLabel:echo('&lt;center&gt;Priority: IDLE&lt;/center&gt;')
  Megophrys.updateMissionCtrlBar()
end

Megophrys.stopResist = function(reason)
  if type(reason) == 'table' then reason = 'Clicked STOP' end
  cecho('\n&lt;red&gt;'.. tostring(reason) ..'. Disabling auto-resist.\n')
  Megophrys.autoResisting = false
  wsys.unkeepup('shield', true)
  if Megophrys.class == 'Magi' then
    wsys.unkeepup('reflections', true)
  end
  send('diag')
  Megophrys.priorityLabel:echo('&lt;center&gt;Priority: IDLE&lt;/center&gt;')
  Megophrys.updateMissionCtrlBar()
end

Megophrys.toggleDualPrep = function()
  Megophrys.dualPrep = not Megophrys.dualPrep

  if Megophrys.dualPrep then
    cecho('\n&lt;cyan&gt;Toggled to dual-limb prep!\n')
  else
    cecho('\n&lt;cyan&gt;Toggled to single-limb prep!\n')
  end

  Megophrys.updatePrepGauges()
end

Megophrys.toggleLimbsPrepped = function()
  local targetLimbSet = (Megophrys.targetLimbSet or 'leg')

  if targetLimbSet == 'leg' then
    targetLimbSet = 'arm'
    cecho('\n&lt;cyan&gt;Toggled to prepping arms!\n')
  else
    targetLimbSet = 'leg'
    cecho('\n&lt;cyan&gt;Toggled to prepping legs!\n')
  end

  Megophrys.targetLimbSet = targetLimbSet
  Megophrys.updatePrepGauges()
end

Megophrys.toggleSkipTorso = function()
  Megophrys.skipTorso = not Megophrys.skipTorso

  if Megophrys.class == 'Magi' then
    if Megophrys.skipTorso then
      cecho('\n&lt;cyan&gt;Skipping torso! (Only prepping leg(s).)\n')
    else
      cecho('\n&lt;cyan&gt;Prepping torso as well as leg(s).\n')
    end
  else
    if Megophrys.skipTorso then
      cecho('\n&lt;cyan&gt;Swapping gauge TORSO to HEAD.\n')
    else
      cecho('\n&lt;cyan&gt;Swapping gauge HEAD to TORSO.\n')
    end
  end

  Megophrys.updatePrepGauges()
end

Megophrys.toggleTargetLimb = function()
  if Megophrys.targetLimb == 'right' then
    Megophrys.targetLimb = 'left'
  else
    Megophrys.targetLimb = 'right'
  end
  Megophrys.targetLimbSet = Megophrys.targetLimbSet or 'leg'
  cecho('\n&lt;cyan&gt;Targetting '.. Megophrys.targetLimb ..' '.. Megophrys.targetLimbSet ..'.\n')
  Megophrys.updatePrepGauges()
end

Megophrys.toggleOne = nil
Megophrys.toggleTwo = Megophrys.toggleDualPrep
Megophrys.toggleThree = Megophrys.toggleTargetLimb
Megophrys.toggleFour = Megophrys.toggleSkipTorso
Megophrys.toggleFive = Megophrys.toggleLimbsPrepped

Megophrys.tumbleRandom = function()
  local stopTrying = false
  local lastDir = nil
  for dir, roomID in pairs(gmcp.Room.Info.exits) do
    if math.random(1, 2) % 2 == 0 then
      send('tumble '.. dir)
      stopTrying = true
      break
    end
    lastDir = dir
  end
  if not stopTrying then send('tumble '.. lastDir) end
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Megophrys Hunting</name><packageName /><script>Megophrys.targetPriority = {
  anaconda = 1,
  aphid = 1,
  bass = 1,
  bat = 1,
  crocodile = 1,
  drunk = 1,
  eel = 1,
  flies = 1,
  lion = 1,
  man = 1,
  moccasin = 1,
  mistress = 1,
  muskrat = 1,
  ohmut = 1,
  owl = 1,
  oyster = 1,
  scorpion = 1,
  selkie = 1,
  squid = 1,
  stingray = 1,
  vulture = 1,
  weasel = 1,
  zombie = 1,
  blacksmith = 2,
  buckawn = 2,
  cook = 2,
  fairy = 2,
  firetender = 2,
  ghaser = 2,
  gillib = 2,
  gour = 2,
  guard = 2,
  grela = 2,
  hydra = 2,
  kelpie = 2,
  kurgo = 2,
  lynx = 2,
  orc = 2,
  rakrr = 2,
  shark = 2,
  slugbeast = 2,
  snake = 2,
  toogar = 2,
  trag = 2,
  turga = 2,
  weaponsmith = 2,
  xabat = 2,
  aldroga = 3,
  burgam = 3,
  ghoul = 3,
  grizzly = 3,
  hobgoblin = 3,
  huntress = 3,
  leesha = 3,
  mage = 3,
  noble = 3,
  ogre = 3,
  rurnog = 3,
  soldier = 3,
  warrior = 3,
  witchdoctor = 3,
  captain = 4,
  dynas = 4,
  knight = 4,
  lady = 4,
  lord = 4,
  sentry = 4,
  sergeant = 4,
  ulvna = 4,
  vampire = 4,
  vewig = 4
}

Megophrys.targetPriority["tap'choa"] = 4
Megophrys.targetPriority["log'obi"] = 4
Megophrys.targetPriority["ver'osi"] = 4

Megophrys.autoSelectHuntingTarget = function()
  if Megophrys.killStrat == 'denizen' then
    enableTrigger('Megophrys_autotarget_IH')
    Megophrys.potentialTargets = {}
    send('info here')

    tempTimer(0.5, function()
      disableTrigger('Megophrys_autotarget_IH')
      local highestPrioSeen = 0
      local finalTarget = nil
      local potentialTargets = Megophrys.potentialTargets
      local targetPriority = Megophrys.targetPriority
      for _, tgt in pairs(potentialTargets) do
        local simpleTgt = tgt:gsub('%d', '')
        if (targetPriority[simpleTgt] or 0) &gt; highestPrioSeen then
          highestPrioSeen = targetPriority[simpleTgt]
          finalTarget = simpleTgt
        end
      end
      if finalTarget then
        Megophrys.setTarget(finalTarget)
        Megophrys.autoAttack()
      end
    end)
  end
end

Megophrys.autoSelectHuntingTargetLine = function(matches)
  if matches[2] == 'hippogriff' and (matches[3] == '552688' or
                                     matches[3] == '506577') then
    -- mount, pass
  elseif matches[2] == 'golem' then
    -- golem, pass
  else
    if (gmcp.Room.Info.area == 'the village of Qurnok' or
        gmcp.Room.Info.area == 'Forest Watch' or
        gmcp.Room.Info.area == 'the Azdun Dungeon' or
        gmcp.Room.Info.area == 'the Creville Asylum' or
        gmcp.Room.Info.area == 'the Barony of Dun Valley' or
        gmcp.Room.Info.area == 'Quartz Peak' or
        gmcp.Room.Info.area == 'the ruins of Phereklos' or
        gmcp.Room.Info.area == 'the Mhojave Desert' or
        gmcp.Room.Info.area == 'Tir Murann' or
        gmcp.Room.Info.area == 'the Peshwar Delta' or
        gmcp.Room.Info.area == 'the village of Tasur\'ke' or
        gmcp.Room.Info.area == 'the Isle of New Hope' or
        gmcp.Room.Info.area == 'the Southern Vashnar Mountains' or
        gmcp.Room.Info.area == 'Annwyn') then
      if (matches[2] ~= 'toad' and
          matches[4] ~= 'a buckawn youth' and
          matches[4] ~= 'a juvenile orc' and
          matches[4] ~= 'an adolescent ogre' and
          matches[4] ~= 'a phantom grizzly bear' and
          matches[4] ~= 'a miniature snowy owl') then
        Megophrys.potentialTargets[#Megophrys.potentialTargets + 1] = matches[2]..matches[3]
      end
    end
  end
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Megophrys UI Setup</name><packageName /><script>Megophrys.makeClassToolbars = function()
  setBorderRight(768)
  setBorderTop(120)
  setBorderBottom(420)

  Megophrys.modeToolbar = Geyser.Container:new({
    name='mode_switches',
    x=0, y=0, width=270, height=60
  })

  if Megophrys.magiToolbar then
    Megophrys.magiToolbar:hide()
  end

  if Megophrys.psionToolbar then
    Megophrys.psionToolbar:hide()
  end

  if Megophrys.bmToolbar then
    Megophrys.bmToolbar:hide()
  end

  if Megophrys.alchToolbar then
    Megophrys.alchToolbar:hide()
  end

  if Megophrys.aposToolbar then
    Megophrys.aposToolbar:hide()
  end

  Megophrys.modeLabel = Geyser.Label:new({
    name='mode_label',
    x=0, y=0, width=100, height=20,
    message='AI Mode:'
  }, Megophrys.modeToolbar)
  Megophrys.modeLabel:setFontSize(11)
  Megophrys.modeButton = Geyser.Label:new({
    name='current_mode',
    x=100, y=0, width=170, height=20,
  }, Megophrys.modeToolbar)
  Megophrys.modeButton:setFontSize(11)

  Megophrys.nextMoveLabel = Geyser.Label:new({
    name='next_move_label',
    x=0, y=20, width=100, height=20,
    message='Next move:'
  }, Megophrys.modeToolbar)
  Megophrys.nextMoveLabel:setFontSize(11)
  Megophrys.nextMoveButton = Geyser.Label:new({
    name='next_move',
    x=100, y=20, width=170, height=20,
  }, Megophrys.modeToolbar)
  Megophrys.nextMoveButton:setFontSize(11)

  Megophrys.specialMoveLabel = Geyser.Label:new({
    name='special_label',
    x=0, y=40, width=100, height=20,
    message='Special:'
  }, Megophrys.modeToolbar)
  Megophrys.specialMoveLabel:setFontSize(11)
  Megophrys.specialMoveButton = Geyser.Label:new({
    name='special_move',
    x=100, y=40, width=170, height=20,
  }, Megophrys.modeToolbar)
  Megophrys.specialMoveButton:setFontSize(11)

  Megophrys.calendarLabel = Geyser.Label:new({
    name='calendar_label',
    x=0, y=60, width=540, height=40,
    fgColor='CornflowerBlue',
    message='Loading...'
  })
  Megophrys.calendarLabel:setFontSize(11)

  if Megophrys.targetHpGauge then Megophrys.targetHpGauge:hide() end
  if Megophrys.targetMpGauge then Megophrys.targetMpGauge:hide() end
end

Megophrys.showTime = function()
  if not Megophrys.calendarLabel then return end
  local tl = gmcp.IRE.Time.List
  if not tl then return end

  for key, _ in pairs(tl) do
    local updated = gmcp.IRE.Time.Update[key]
    if updated then tl[key] = updated end
  end

  local d = ''
  if tl.day == "1" then
    d = "1st"
  elseif tl.day == "2" then
    d = "2nd"
  elseif tl.day == "3" then
    d = "3rd"
  elseif tl.day == "21" then
    d = "21st"
  elseif tl.day == "22" then
    d = "22nd"
  elseif tl.day == "23" then
    d = "23rd"
  elseif tl.day == "31" then
    d = "31st"
  else
    d = tl.day .."th"
  end

  local seasons = {
    "mid-winter",
    "late winter",
    "early spring",
    "mid-spring",
    "late spring",
    "early summer",
    "mid-summer",
    "late summer",
    "early autumn",
    "mid-autumn",
    "late autumn",
    "early winter",
  }

  local timeStr = (d ..' '.. tl.month ..', '.. tl.year ..
                   ' ('.. seasons[tonumber(tl.mon)] ..', '.. tl.moonphase ..
                   ')&lt;br&gt;'.. tl.time)
  Megophrys.calendarLabel:echo(timeStr)
end

Megophrys.updateBars = function()
  if not Megophrys.hpGauge then
    Megophrys.hpGauge = Geyser.Gauge:new({
      name='hpGauge',
      x='-520px', y=0,
      width='520px', height='3.25%'
    })
  end
  Megophrys.hpGauge:setFontSize(12)
  if not Megophrys.mpGauge then
    Megophrys.mpGauge = Geyser.Gauge:new({
      name='mpGauge',
      x='-520px', y='3.25%',
      width='520px', height='3.25%'
    })
  end
  if not Megophrys.affPrGauge then
    Megophrys.affPrGauge = Geyser.Gauge:new({
      name='affPrGauge',
      x='-520px', y='6.5%',
      width='520px', height='3.25%'
    })
  end
  Megophrys.mpGauge:setFontSize(12)
  if not Megophrys.tgtAffTable then
    Megophrys.tgtAffTable = Geyser.Label:new({
      name='tgtAffTable',
      x='-765px', y='13.5%',
      width='150px', height='420px',
      fgColor='white', color='black'
    })
    Megophrys.tgtAffTable:setFontSize(12)
  end
  if not Megophrys.whoHereTable then
    Megophrys.whoHereTable = Geyser.Label:new({
      name='whoHereTable',
      x='-760px', y='800px',
      width='752px', height='72px',
      fgColor='white', color='black'
    })
    Megophrys.whoHereTable:setFontSize(12)
  end

  -- literally from https://wiki.mudlet.org/w/manual:geyser#Styling_a_gauge
  Megophrys.hpGauge.front:setStyleSheet([[background-color: QLinearGradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #f04141, stop: 0.1 #ef2929, stop: 0.49 #cc0000, stop: 0.5 #a40000, stop: 1 #cc0000);
    border-top: 1px black solid;
    border-left: 1px black solid;
    border-bottom: 1px black solid;
    border-radius: 7;
    padding: 3px;]])
  Megophrys.hpGauge.back:setStyleSheet([[background-color: QLinearGradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #bd3333, stop: 0.1 #bd2020, stop: 0.49 #990000, stop: 0.5 #700000, stop: 1 #990000);
    border-width: 1px;
    border-color: black;
    border-style: solid;
    border-radius: 7;
    padding: 3px;]])

  Megophrys.mpGauge.front:setStyleSheet([[background-color: QLinearGradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #98f041, stop: 0.1 #8cf029, stop: 0.49 #66cc00, stop: 0.5 #52a300, stop: 1 #66cc00);
    border-top: 1px black solid;
    border-left: 1px black solid;
    border-bottom: 1px black solid;
    border-radius: 7;
    padding: 3px;]])
  Megophrys.mpGauge.back:setStyleSheet([[background-color: QLinearGradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #78bd33, stop: 0.1 #6ebd20, stop: 0.49 #4c9900, stop: 0.5 #387000, stop: 1 #4c9900);
    border-width: 1px;
    border-color: black;
    border-style: solid;
    border-radius: 7;
    padding: 3px;]])

  Megophrys.affPrGauge.front:setStyleSheet([[background-color: QLinearGradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #4141f0, stop: 0.1 #2929ef, stop: 0.49 #0000cc, stop: 0.5 #0000a4, stop: 1 #0000cc);
    border-top: 1px black solid;
    border-left: 1px black solid;
    border-bottom: 1px black solid;
    border-radius: 7;
    padding: 3px;]])
  Megophrys.affPrGauge.back:setStyleSheet([[background-color: QLinearGradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #3333bd, stop: 0.1 #2020bd, stop: 0.49 #000099, stop: 0.5 #000070, stop: 1 #000099);
    border-width: 1px;
    border-color: black;
    border-style: solid;
    border-radius: 7;
    padding: 3px;]])

  local fmtPctLabel = function(portion, maxAmt)
    return ('&lt;center&gt;'..
            tostring(math.floor(((portion / maxAmt) * 100) + 0.5))..
            '%&lt;/center&gt;')
  end

  local currHealth = tonumber(gmcp.Char.Vitals.hp)
  local currMana = tonumber(gmcp.Char.Vitals.mp)
  local maxhp = tonumber(gmcp.Char.Vitals.maxhp)
  local maxmp = tonumber(gmcp.Char.Vitals.maxmp)
  local healthPct = fmtPctLabel(currHealth, maxhp)
  local manaPct = fmtPctLabel(currMana, maxmp)
  Megophrys.hpGauge:setValue(currHealth, maxhp, healthPct)
  Megophrys.mpGauge:setValue(currMana, maxmp, manaPct)

  local affPressure = 0
  for lockAff in pairs({'paralysis', 'anorexia', 'asthma', 'impatience', 'slickness'}) do
    if wsys.aff[lockAff] then
      affPressure = affPressure + 1
    end
  end

  local affPressureDesc = {
    [0] = '',
    [1] = '*',
    [2] = '* *',
    [3] = 'X X X',
    [4] = '!! !! !! !!',
    [5] = '*** DANGER ***',
  }
  Megophrys.affPrGauge:setValue(affPressure, 5, affPressureDesc[affPressure])

  local tgtAffTable = '&lt;b&gt;Tgt Affs:&lt;/b&gt;&lt;ul&gt;'
  local addToTgtAffTable = function(tgtAffTable, affList)
    for _, aff in pairs(affList) do
      local entry = ''
      if tarAff(aff) then
        entry = '&lt;b&gt;'.. aff ..'&lt;/b&gt;'
      else
        entry = '&lt;i&gt;&lt;s&gt;'.. aff ..'&lt;/s&gt;&lt;/i&gt;'
      end
      tgtAffTable = (tgtAffTable ..'&lt;li&gt;'.. entry ..'&lt;/li&gt;')
    end
    tgtAffTable = (tgtAffTable ..'&lt;li&gt;&amp;nbsp;&lt;/li&gt;')
    return tgtAffTable
  end

  local trueLockAffs = {
    "paralysis",
    "anorexia",
    "asthma",
    "impatience",
    "slickness",
  }
  if Megophrys.class == 'Psion' then
    trueLockAffs[#trueLockAffs + 1] = "bloodfire"
  end
  tgtAffTable = addToTgtAffTable(tgtAffTable, trueLockAffs)

  if Megophrys.class == 'Psion' then
    local psionAffs = {
      "unweavingmind",
      "unweavingbody",
      "unweavingspirit",
    }
    tgtAffTable = addToTgtAffTable(tgtAffTable, psionAffs)
  end

  local otherAffs = {
    "haemophilia",
    "epilepsy",
    "dizziness",
    "nausea",
    "stupidity",
    "clumsiness",
    "weariness",
  }
  tgtAffTable = addToTgtAffTable(tgtAffTable, otherAffs)

  tgtAffTable = tgtAffTable ..'&lt;li&gt;bleed: '.. (ak.bleeding or 0) ..'&lt;/li&gt;&lt;/ul&gt;&lt;/center&gt;'
  Megophrys.tgtAffTable:echo(tgtAffTable)
end

Megophrys.updateMissionCtrlBar = function()
  Megophrys.atkBtn = nil
  Megophrys.fleeBtn = nil
  Megophrys.chaseBtn = nil
  Megophrys.stopBtn = nil

  local doin_stuff = false

  Megophrys.atkBtn = Geyser.Label:new({
    name="attackButton",
    x="35%", y="6%",
    width="7.5%", height="7.5%",
    fgColor="white",
    message="&lt;center&gt;ATTACK&lt;/center&gt;"
  })
  Megophrys.atkBtn:setFontSize(18)
  if Megophrys.autoAttacking then
    doin_stuff = true
    Megophrys.atkBtn:setStyleSheet([[
      background-color: firebrick;
      border-radius: 12px;
      border: 4px inset crimson;
      font-weight: bold;
    ]])
  else
    Megophrys.atkBtn:setStyleSheet([[
      background-color: crimson;
      border-radius: 12px;
      border: 4px outset firebrick;
      font-weight: bold;
    ]])
  end
  Megophrys.atkBtn:setClickCallback("Megophrys.autoAttack")

  Megophrys.fleeBtn = Geyser.Label:new({
    name="fleeButton",
    x="42.5%", y="6%",
    width="7.5%", height="7.5%",
    fgColor="white",
    message="&lt;center&gt;FLEE&lt;/center&gt;"
  })
  Megophrys.fleeBtn:setFontSize(18)
  if Megophrys.autoEscaping then
    doin_stuff = true
    Megophrys.fleeBtn:setStyleSheet([[
      background-color: darkorange;
      border-radius: 12px;
      border: 4px inset orange;
      font-weight: bold;
    ]])
  else
    Megophrys.fleeBtn:setStyleSheet([[
      background-color: goldenrod;
      border-radius: 12px;
      border: 4px outset darkgoldenrod;
      font-weight: bold;
    ]])
  end
  Megophrys.fleeBtn:setClickCallback("Megophrys.autoEscape", 1)

  Megophrys.chaseBtn = Geyser.Label:new({
    name="chaseButton",
    x="50%", y="6%",
    width="7.5%", height="7.5%",
    fgColor="white",
    message="&lt;center&gt;PURSUE&lt;/center&gt;"
  })
  Megophrys.chaseBtn:setFontSize(18)
  if Megophrys.inPursuit then
    doin_stuff = true
    Megophrys.chaseBtn:setStyleSheet([[
      background-color: darkgreen;
      border-radius: 12px;
      border: 4px inset forestgreen;
      font-weight: bold;
    ]])
  else
    Megophrys.chaseBtn:setStyleSheet([[
      background-color: green;
      border-radius: 12px;
      border: 4px outset darkgreen;
      font-weight: bold;
    ]])
  end
  Megophrys.chaseBtn:setClickCallback("Megophrys.pursue")

  Megophrys.resistBtn = Geyser.Label:new({
    name="resistButton",
    x="57.5%", y="6%",
    width="7.5%", height="7.5%",
    fgColor="white",
    message="&lt;center&gt;RESIST&lt;/center&gt;"
  })
  Megophrys.resistBtn:setFontSize(18)
  if Megophrys.autoResisting then
    doin_stuff = true
    Megophrys.resistBtn:setStyleSheet([[
      background-color: midnightblue;
      border-radius: 12px;
      border: 4px inset navy;
      font-weight: bold;
    ]])
  else
    Megophrys.resistBtn:setStyleSheet([[
      background-color: mediumblue;
      border-radius: 12px;
      border: 4px outset navy;
      font-weight: bold;
    ]])
  end
  Megophrys.resistBtn:setClickCallback("Megophrys.autoResist")

  Megophrys.stopBtn = Geyser.Label:new({
    name="stopButton",
    x="65%", y="6%",
    width="7.5%", height="7.5%",
    fgColor="white",
    message="&lt;center&gt;STOP&lt;/center&gt;"
  })
  Megophrys.stopBtn:setFontSize(18)
  if doin_stuff then
    Megophrys.stopBtn:setStyleSheet([[
      background-color: #444;
      border-radius: 12px;
      border: 4px outset #333;
      font-weight: bold;
    ]])
  else
    Megophrys.stopBtn:setStyleSheet([[
      background-color: #222;
      border-radius: 12px;
      border: 4px inset #333;
      font-weight: bold;
    ]])
  end
  Megophrys.stopBtn:setClickCallback("Megophrys.eStopAuto")

  Megophrys.highlightPanicRoom()
end

Megophrys.updatePrepGauges = function()
  if not Megophrys.topGauge then
    Megophrys.topGauge = Geyser.Gauge:new({
      name='topGauge',
      x='50%', y=0,
      width='7.5%', height='2%'
    })
  end
  Megophrys.topGauge:setFontSize(11)
  if not Megophrys.middleGauge then
    Megophrys.middleGauge = Geyser.Gauge:new({
      name='middleGauge',
      x='50%', y='2%',
      width='7.5%', height='2%'
    })
  end
  Megophrys.middleGauge:setFontSize(11)
  if not Megophrys.bottomGauge then
    Megophrys.bottomGauge = Geyser.Gauge:new({
      name='bottomGauge',
      x='50%', y='4%',
      width='7.5%', height='2%'
    })
  end
  Megophrys.bottomGauge:setFontSize(11)
  local targetLimb = (Megophrys.targetLimb or 'left')
  local targetLimbSet = (Megophrys.targetLimbSet or 'leg')
  local otherLimb = ''

  if targetLimb == 'right' then
    otherLimb = 'left'
  else
    otherLimb = 'right'
  end

  local topLabel = targetLimb:upper() ..' '.. targetLimbSet:upper()
  local middleLabel = 'NONE'
  local bottomLabel = ''
  local targetLimbWounds = 0
  local otherLimbWounds = 0
  local targetOtherWounds = 0

  if Megophrys.skipTorso then
    if Megophrys.class == 'Magi' then
      bottomLabel = 'TORSO*'
    else
      bottomLabel = 'HEAD'
    end
  else
    bottomLabel = 'TORSO'
  end

  if lb[target] then
    targetLimbWounds = lb[target].hits[targetLimb ..' '.. targetLimbSet]
    otherLimbWounds = lb[target].hits[otherLimb ..' '.. targetLimbSet]
    if Megophrys.class == 'Psion' then
      targetOtherWounds = lb[target].hits.head
    else
      targetOtherWounds = lb[target].hits.torso
    end
  end
  if Megophrys.dualPrep then
    middleLabel = otherLimb:upper() ..' '.. targetLimbSet:upper()
  end
  Megophrys.topGauge:setValue(targetLimbWounds, 100, '&lt;center&gt;'.. topLabel ..'&lt;/center&gt;')
  Megophrys.middleGauge:setValue(otherLimbWounds, 100, '&lt;center&gt;'.. middleLabel ..'&lt;/center&gt;')
  Megophrys.bottomGauge:setValue(targetOtherWounds, 100, '&lt;center&gt;'.. bottomLabel ..'&lt;/center&gt;')
end

Megophrys.updateWhatHere = function()
  if gmcp.Char.Items.List.location ~= 'room' then return end
  local win = "Info Here"
  openUserWindow(win, true, false, "f")
  setWindowWrap(win, 80)
  setFontSize(win, 12)
  clearWindow(win)

  local infoHere = gmcp.Char.Items.List.items
  if gmcp.Char.Items.Add.location == 'room' then
    local found = false
    for _, item in pairs(infoHere) do
      if item.id == gmcp.Char.Items.Add.item.id then
        found = true
        break
      end
    end
    if not found then
      infoHere[#infoHere + 1] = gmcp.Char.Items.Add.item
    end
  end
  if gmcp.Char.Items.Remove.location == 'room' then
    for index, item in pairs(infoHere) do
      if gmcp.Char.Items.Remove.item.id == item.id then
        table.remove(infoHere, index)
        break
      end
    end
  end
  if (gmcp.Char.Items.Update and
      gmcp.Char.Items.Update.location == 'room') then
    for index, item in pairs(infoHere) do
      if gmcp.Char.Items.Update.item.id == item.id then
        infoHere[index] = item
        break
      end
    end
  end

  local guardCount = 0
  for _, item in pairs(infoHere) do
    local charName = (gmcp.Char and gmcp.Char.Name.name) or ''
    local color = ''
    local isMob = (item.attrib or ''):starts('m')
    local isLoyal = (item.name or ''):ends(charName) or (
                        (item.name or ''):ends('hippogriff') and
                        (item.id == '506577' or item.id == '552688'))
    local isHomeGuard = ((item.icon or '') == 'guard' and
                         gmcp.Room.Info.area == 'Mhaldor')

    if isLoyal then
      if item.name == 'a diminutive homunculus resembling '.. charName then
        Megophrys.homunculus = item.id
      end
      color = '&lt;tomato&gt;'
    elseif item.icon == 'guard' then
      guardCount = guardCount + 1
      color = '&lt;PaleTurquoise&gt;'
    elseif item.icon == 'container' or item.icon == 'magical' or item.icon == 'profile' then
      color = '&lt;goldenrod&gt;'
    elseif item.icon == 'rune' then
      color = '&lt;SteelBlue&gt;'
    elseif isMob then
      color = '&lt;orchid&gt;'
    end
    cechoLink(win, color .. item.name,
              function() send('p '.. item.id) end, tostring(item.id), true)
    if isMob and not isLoyal and not isHomeGuard then
      cechoLink(win, '\n(set target)\n', function() Megophrys.setTarget(item.id) end,
                'Target '.. tostring(item.id), true)
    else
      echo(win, '\n')
    end
  end

  cecho(win, '\n&lt;PaleTurquoise&gt;Number of guards: '.. tostring(guardCount))
  cecho(win, '\nNumber of objects: '.. tostring(#gmcp.Char.Items.List.items))
end

Megophrys.updateWhoHere = function()
  if not Megophrys.whoHereTable then return end
  local whoHereTable = '&lt;b&gt;Players Here:&lt;/b&gt; '
  for _, player in spairs(gmcp.Room.Players) do
    whoHereTable = whoHereTable .. player.name
    if _ ~= #gmcp.Room.Players then
      whoHereTable = whoHereTable ..', '
    end
    if _ % 7 == 0 then
      whoHereTable = whoHereTable ..'&lt;br&gt;'
    end
  end
  Megophrys.whoHereTable:echo(whoHereTable)
end

Megophrys.updateWhosOnline = function(_, url, online)
  local win = "Who's Online (Achaea)"
  openUserWindow(win, true, false, "f")
  setWindowWrap(win, 80)
  setFontSize(win, 16)
  clearWindow(win)

  Megophrys.playerFullnames = {}
  Megophrys.playersOnline = {}
  local players = {}
  for _, player in spairs(yajl.to_value(online).characters) do
    local city = 'unknown'
    if cdb.db and cdb.db[player.name] and cdb.db[player.name].city then
      city = cdb.db[player.name].city
      Megophrys.playerFullnames[player.name] = cdb.db[player.name].fullname
    else
      Megophrys.playerFullnames[player.name] = player.name
    end
    if not players[city] then players[city] = {} end
    players[city][#players[city] + 1] = player.name
    Megophrys.playersOnline[#Megophrys.playersOnline + 1] = player.name
  end

  for _, city in spairs({'targossas', 'ashtan', 'mhaldor', 'eleusis',
                         'cyrene', 'hashan', '(none)', 'unknown'}) do
    local color = 'DeepSkyBlue'
    if city == 'tent' then color = 'khaki' end
    if cdb.styles[city] then color = cdb.styles[city].color end
    local cityTitle = city:title()
    if city == '(none)' then cityTitle = 'Rogue' end
    if city == 'unknown' then cityTitle = 'Anonz' end
    cechoLink(win, '&lt;'.. color ..'&gt;'.. cityTitle,
              function() send('qw '.. city) end,
              table.concat(players[city] or {}, ', '), true)
    cecho(win, ' ('.. tostring(#(players[city] or {})) ..')')
    if (city == 'targossas' or city == 'ashtan'
            or city == 'mhaldor' or city == 'eleusis') then
      cecho(win, '\n')
      table.sort(players[city] or {})
      for _, name in spairs(players[city] or {}) do
        if cdb.db[name] and tonumber(cdb.db[name].level) &gt; 69 then
          cechoLink(win, '&lt;'.. color ..'&gt;'.. name ..' ',
                    function() expandAlias('wi '.. name) end,
                    Megophrys.playerFullnames[name], true)
        end
      end
      cecho(win, '\n\n')
    else
      cecho(win, ' ')
    end
  end
  if #(players.unknown or {}) &gt; 0 then expandAlias('qwg') end
  cecho(win, tostring(#Megophrys.playersOnline) ..' Total.')
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Megophrys Events</name><packageName /><script>Megophrys.onDisconnect = function()
  disableTrigger('Update Power Bars')
end

Megophrys.onConnect = function()
  sendGMCP([[Core.Supports.Add ["IRE.Time 1"] ]])
  registerAnonymousEventHandler('gmcp.Char.Items.List', 'Megophrys.updateWhatHere')
  registerAnonymousEventHandler('gmcp.Char.Items.Add', 'Megophrys.updateWhatHere')
  registerAnonymousEventHandler('gmcp.Char.Items.Remove', 'Megophrys.updateWhatHere')
  registerAnonymousEventHandler('gmcp.Char.Items.Update', 'Megophrys.updateWhatHere')
  registerAnonymousEventHandler('gmcp.Room.Players', 'Megophrys.updateWhoHere')
  registerAnonymousEventHandler('gmcp.Room.AddPlayer', 'Megophrys.updateWhoHere')
  registerAnonymousEventHandler('gmcp.Room.RemovePlayer', 'Megophrys.updateWhoHere')
  registerAnonymousEventHandler('gmcp.IRE.Time.Update', 'Megophrys.showTime')
  registerAnonymousEventHandler('sysGetHttpDone', 'Megophrys.updateWhosOnline')
  wsys.unkeepup('shield')
  wsys.unkeepup('reflections')
  wsys.setSettings('automount', 'on')
  mmp.settings:setOption('gallop', true)
  mmp.settings:setOption('dash', false)
  Megophrys.class = gmcp.Char.Status.class
  Megophrys.makeClassToolbars()
  supportedClass = Megophrys[Megophrys.class]
  if supportedClass then
    supportedClass.onConnect()
    supportedClass.makeClassToolbars()
  end
  Megophrys.setMode('denizen')
  Megophrys.resetCuringPrios()
  enableTrigger('Update Power Bars')
  cecho('\n&lt;cyan&gt;Megophrys v1.1 initialised. Enjoy :)\n')
end

Megophrys.endSpeedwalk = function()
  local endingPursuit = Megophrys.inPursuit
  Megophrys.inPursuit = false
  Megophrys.priorityLabel:echo('&lt;center&gt;Priority: IDLE&lt;/center&gt;')
  if Megophrys.class == 'Magi' then
    sendAll('land', 'golem return')
  end
  if Megophrys.killStrat == 'raid' and Megophrys.raidLeader then
    send('fol '.. Megophrys.raidLeader)
  elseif Megophrys.killStrat == 'bonk' then
    if endingPursuit then send('psi transcend') end
  elseif Megophrys.killStrat == 'pummel' then
    if endingPursuit then send('embed focus') end
    if Megophrys.autoEscaping then
      if Megophrys.opponentClass and Megophrys.opponentClass == 'airlord' then
        Megophrys.autoResist()
      else
        send('cast aerial')
      end
    else
      send('fol '.. target)
      Megophrys.autoAttack()
    end
  end
  if Megophrys.autoEscaping then
    Megophrys.stopEscape('Safe')
  end
end
registerAnonymousEventHandler('mmapper arrived', 'Megophrys.endSpeedwalk')

Megophrys.flyingBlocked = function()
  if Megophrys.autoEscaping and Megophrys.class == 'Magi' then
    Megophrys.stopEscape('Can\'t fly -- trying barrier')
    Megophrys.autoResist()
  end
end

Megophrys.flyingSuccess = function()
  if Megophrys.autoEscaping then
    Megophrys.stopEscape('Flying (done)')
    Megophrys.autoResist()
  end
end

Megophrys.gainedBalance = function()
  if gmcp.Char.Vitals.bal ~= "1" then return end
  if Megophrys.autoAttacking then
    Megophrys[Megophrys.class].nextAttack()
  end
end

Megophrys.gainedEQ = function()
  if gmcp.Char.Vitals.eq ~= "1" then return end
  if Megophrys.autoAttacking then
    Megophrys[Megophrys.class].nextAttack()
  end
end

Megophrys.hitWall = function()
  if speedWalkDir[1] then
    sendAll('mj '.. speedWalkDir[1], 'leap '.. speedWalkDir[1])
  elseif Megophrys.lastDirTried then
    sendAll('mj '.. Megophrys.lastDirTried, 'leap '.. Megophrys.lastDirTried)
  end
end

Megophrys.hitParry = function()
  cecho('\n&lt;cyan&gt;TARGETED STRIKE PARRIED!\n')
  if matches[2] == target and Megophrys.autoAttacking and not Megophrys.targetTorso then
    Megophrys.toggleTargetLimb()
    cecho('\n&lt;cyan&gt;Switching to '.. Megophrys.targetLimb ..' leg due to parry.')
  end
end

Megophrys.hitRebounding = function()
  if Megophrys.class == 'Magi' then
    Megophrys.Magi.element = 'air'
    cecho('\n&lt;cyan&gt;Switching to air for rebounding\n')
  end
  cecho('\n&lt;cyan&gt;STOP HITTING YOURSELF STOP HITTING YOURSELF\n')
end

Megophrys.hitShield = function()
  if not Megophrys.autoAttacking or Megophrys.killStrat ~= 'denizen' then
    return
  end

  brage_dshield = {
    Alchemist='throw caustic at ',
    Blademaster='shin shatter ',
    Magi='cast disintegrate on ',
    Psion='weave pulverise ',
  }

  if brage_dshield[Megophrys.class] then
    send(brage_dshield[Megophrys.class] .. target)
  end
end

Megophrys.underPressure = function()
  if Megophrys.autoEscaping then
    Megophrys.stopEscape('Blocked by pressure')
    Megophrys.autoResist()
  end
end

</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Classes</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Psion</name><packageName /><script>Megophrys.Psion = (Megophrys.Psion or {})
local Psion = Megophrys.Psion

Megophrys.Psion.onConnect = function()
  sendAll(
    'unwield all',
    'remove armour',
    'put armour in pack370332',
    'wield shield268649 right'
  )
end

Megophrys.Psion.setMode = function()
  local Psion = Megophrys.Psion
  local killStrat = Megophrys.killStrat

  if killStrat == 'denizen' then
    Megophrys.Psion.setWeavePrep('clumsiness')
    Megophrys.nextMoveButton:echo('BONK!', Megophrys.fgColors[killStrat], 'c')
  elseif killStrat == 'los' then
    Megophrys.nextMoveButton:echo('Destruction', Megophrys.fgColors[killStrat], 'c')
  else
    Megophrys.Psion.setWeavePrep('paralysis')
    Megophrys.nextMoveButton:echo('&lt;i&gt;*SLAP*&lt;/i&gt;', Megophrys.fgColors[killStrat], 'c')
  end

  if killStrat == 'los' then
    Megophrys.psionToolbar:hide()
  else
    Megophrys.psionToolbar:show()
  end

  Megophrys.specialMoveButton:echo(
    'Wavesurge (ESC)',
    Megophrys.fgColors[killStrat],
    'c'
  )
end

Megophrys.Psion.doSpecial = function() send('enact wavesurge') end

Megophrys.Psion.makeClassToolbars = function()
  Megophrys.psionToolbar = Geyser.Container:new({
    name='psion_toolbar',
    x=270, y=0, width=270, height=60
  })

  Psion.wpLabel = Geyser.Label:new({
    name='wp_label',
    x=0, y=0, width=100, height=20,
    message='Prepared:'
  }, Megophrys.psionToolbar)
  Psion.wpLabel:setFontSize(11)
  Psion.weavePrepButton = Geyser.Label:new({
    name='weave_prep_button',
    x=100, y=0, width=170, height=20,
  }, Megophrys.psionToolbar)
  Psion.weavePrepButton:setFontSize(11)

  Psion.nextPsiMoveLabel = Geyser.Label:new({
    name='next_psi_move_label',
    x=0, y=20, width=100, height=20,
    message='Bonus atk:'
  }, Megophrys.psionToolbar)
  Psion.nextPsiMoveLabel:setFontSize(11)
  Psion.nextPsiMoveButton = Geyser.Label:new({
    name='next_psi_move',
    x=100, y=20, width=170, height=20,
  }, Megophrys.psionToolbar)
  Psion.nextPsiMoveButton:setFontSize(11)

  Psion.setMode('denizen')
  Megophrys.updatePrepGauges()
end

Megophrys.Psion.setWeavePrep = function(prep)
  local weavePrepMap = {
    paralysis = 'disruption',
    haemophilia = 'laceration',
    clumsiness = 'dazzle',
    epilepsy = 'rattle',
    asthma = 'vapours'
  }

  Megophrys.Psion.weavePrep = weavePrepMap[prep:lower()]
  if Megophrys.Psion.weavePrep then
    cecho(('\n&lt;cyan&gt;Set weave prep to '.. Megophrys.Psion.weavePrep
           ..' ('.. prep ..')\n'))
    Megophrys.givingAffs = {prep}
    Megophrys.Psion.weavePrepButton:echo(prep:lower():title(),
                                   Megophrys.fgColors[Megophrys.killStrat],
                                   'c')
  end
end

Megophrys.Psion.nextAttack = function()
  local Psion = Megophrys.Psion
  local chanceToMouthOff = 0
  local imSoClever = ''
  local killStrat = Megophrys.killStrat
  local nextWeave = 'overhand &amp;tar'
  local nextPsi = ''
  local setNextAttack = 'setalias nextAttack '
  local targetAffs = affstrack.score
  local targetHits = Megophrys.targetHits or 0
  local targetLimbSet = (Megophrys.targetLimbSet or 'leg')
  local uiColor = Megophrys.fgColors[killStrat]

  local unweavingBody = (ak.psion.unweaving.body or 0)
  local unweavingMind = (ak.psion.unweaving.mind or 0)
  local unweavingSpirit = (ak.psion.unweaving.spirit or 0)

  local tarAff = affstrack.score

  if not wsys.aff.stupidity then
    setNextAttack = setNextAttack .. 'stand / '
  end

  if killStrat == 'denizen' then
    setNextAttack = (setNextAttack .. 'weave whirlwind &amp;tar / '..
                                      'weave barbedblade &amp;tar / ')
  elseif killStrat == 'los' then
    if Psion.clarityUp then
      send('enact clarity')
    else
      send('enact destruction '.. target ..' '.. Megophrys.LOSDirection)
    end
  else
    if ak.defs.shield then
      Megophrys.nextMoveButton:echo('Cleave Shield', Megophrys.fgColors[killStrat], 'c')
      nextWeave = 'cleave &amp;tar'
    else
      if tarAff["paralysis"] &lt; 90 then
        Megophrys.Psion.setWeavePrep('paralysis')
      elseif not tarAff["asthma"] &lt; 60 then
        Megophrys.Psion.setWeavePrep('asthma')
      elseif tarAff["clumsiness"] &lt; 40 then
        Megophrys.Psion.setWeavePrep('clumsiness')
      else
        Megophrys.Psion.setWeavePrep('haemophilia')
      end

      local targetManaPct = (ak.currentmana or 0) / (ak.maxmana or 1)
      if targetManaPct &lt;= 0.3 then
        nextPsi = 'excise'
        nextWeave = 'deathblow &amp;tar'
        imSoClever = 'say You cannot resist!'
        chanceToMouthOff = 1
      elseif ((unweavingBody &gt; 3 and unweavingMind &gt; 3) or
              (unweavingBody &gt; 3 and unweavingSpirit &gt; 3) or
              (unweavingMind &gt; 3 and unweavingSpirit &gt; 3)) then
        nextPsi = 'deconstruct'
        nextWeave = 'deathblow &amp;tar'
        imSoClever = 'say Another enemy unmade. Hah!'
        chanceToMouthOff = 1
      elseif unweavingBody &gt; 4 and unweavingMind &lt; 1 then
        nextWeave = 'invert &amp;tar body spirit'
        imSoClever = ''
        chanceToMouthOff = 0
      elseif unweavingMind &gt; 4 and unweavingBody &lt; 1 then
        nextWeave = 'invert &amp;tar mind spirit'
        imSoClever = ''
        chanceToMouthOff = 0
      elseif unweavingSpirit &gt; 4 then
        nextWeave = 'flurry &amp;tar'
        imSoClever = 'say *forcefully Die, heretic!'
        chanceToMouthOff = 0.2
      elseif targetHits % 2 == 0 then
        if tarAff["unweavingbody"] &lt; 80 then
          nextWeave = 'unweave &amp;tar body'
          table.insert(Megophrys.givingAffs, 'unweavingbody')
        elseif tarAff["unweavingmind"] &lt; 80 then
          nextWeave = 'unweave &amp;tar mind'
          table.insert(Megophrys.givingAffs, 'unweavingmind')
        else
          if targetLimbSet == 'leg' then
            nextWeave = 'hamstring &amp;tar'
            imSoClever = 'warcry'
            chanceToMouthOff = 0.1
            table.insert(Megophrys.givingAffs, 'hamstring')
          else
            nextWeave = 'sever &amp;tar'
            imSoClever = 'warcry'
            chanceToMouthOff = 0.1
            table.insert(Megophrys.givingAffs, 'clumsiness')
          end
        end
      elseif tarAff["impatience"] &lt; 70 then
        chanceToMouthOff = 0.4
        if tarAff["prone"] == 100 or lb[target].hits.head &gt; 100 then
          nextWeave = 'overhand &amp;tar'
          imSoClever = 'say BONK!!'
          table.insert(Megophrys.givingAffs, 'impatience')
        else
          nextWeave = 'backhand &amp;tar'
          imSoClever = 'say SLAP!!'
          table.insert(Megophrys.givingAffs, 'stupidity')
          table.insert(Megophrys.givingAffs, 'dizziness')
        end
      elseif tarAff["impatience"] &gt; 69 and tarAff["bloodfire"] &gt; 80 then
        nextWeave = 'exsanguinate &amp;tar'
        imSoClever = 'say *forcefully Die, heretic!'
        chanceToMouthOff = 0.2
        table.insert(Megophrys.givingAffs, 'nausea')
        if (ak.bleeding or 0) &gt; 150 then
          table.insert(Megophrys.givingAffs, 'anorexia')
        end
      elseif (tarAff["impatience"] &gt; 69 and tarAff["bloodfire"] &gt; 80 and 
                tarAff["anorexia"] &gt; 69) then
        if tarAff["unweavingbody"] &lt; 80 then
          nextWeave = 'unweave &amp;tar body'
          table.insert(Megophrys.givingAffs, 'unweavingbody')
        elseif tarAff["unweavingmind"] &lt; 80 then
          nextWeave = 'unweave &amp;tar mind'
          table.insert(Megophrys.givingAffs, 'unweavingmind')
        else
          nextWeave = 'deathblow &amp;tar'
          if not Megophrys.givingAffs:contains('asthma') then
            table.insert(Megophrys.givingAffs, 'asthma')
          end
        end
        imSoClever = ''
        chanceToMouthOff = 0
      else
        nextWeave = 'deathblow &amp;tar'
        imSoClever = 'warcry'
        chanceToMouthOff = 0.1
        if not Megophrys.givingAffs:contains('asthma') then
          table.insert(Megophrys.givingAffs, 'asthma')
        end
      end
    end
  end

  if tonumber(ak.psion.transcend or 0) &gt; 99 then
    if killStrat == 'denizen' then
      nextPsi = 'shatter'
    else
      if (ak.bleeding or 0) &gt; 150 then
        nextPsi = 'combustion'
        table.insert(Megophrys.givingAffs, 'bloodfire')
      elseif tarAff["mindravaged"] &gt; 80 and (
            tarAff["impatience"] &gt; 80 and tarAff["stupidity"] &gt; 80 and (
                tarAff["dizziness"] &gt; 80 or tarAff["unweavingmind"] &gt; 80
            )) then
        nextPsi = 'blast'
        table.insert(Megophrys.givingAffs, 'mindravaged')
      else
        if targetHits % 2 == 1 then
          nextPsi = 'muddle'
        else
          nextPsi = 'shatter'
        end
      end
    end
  end

  if nextPsi ~= '' then
    setNextAttack = setNextAttack ..'psi '.. nextPsi ..' &amp;tar / '
  end
  if Psion.weavePrep ~= '' then
    setNextAttack = setNextAttack ..'weave prepare '.. Psion.weavePrep ..' / '
  end

  setNextAttack = setNextAttack ..'weave '.. nextWeave ..' / '

  if killStrat ~= 'denizen' then
    setNextAttack = setNextAttack ..'contemplate &amp;tar / '
    if not Psion.lightBindUp then
      setNextAttack = setNextAttack ..'enact lightbind &amp;tar'
    end
  end

  Psion.nextPsiMoveButton:echo(nextPsi or '', uiColor, 'c')

  if imSoClever ~= '' and math.random() &lt; chanceToMouthOff then
    setNextAttack = setNextAttack ..' / '.. imSoClever
  end

  sendAll(setNextAttack, 'queue addclear eqbal nextAttack')
  if not ak.defs.shield then
    Megophrys.targetHits = targetHits + 1
  end

  if killStrat ~= 'denizen' then
    if #Megophrys.givingAffs == 1 then
      send('pt '.. Megophrys.givingAffs[1] ..' on '.. target)
    elseif #Megophrys.givingAffs == 2 then
      send('pt '.. Megophrys.givingAffs[1] ..' and '.. Megophrys.givingAffs[2] ..
           ' on '.. target)
    elseif #Megophrys.givingAffs == 3 then
      send('pt '.. Megophrys.givingAffs[1] ..', '.. Megophrys.givingAffs[2] ..
           ' and '.. Megophrys.givingAffs[3] ..' on '.. target)
    end
  end
end

</script><eventHandlerList /></Script><Script isActive="no" isFolder="no"><name>Magi</name><packageName /><script>Megophrys.Magi = (Megophrys.Magi or {})
local Magi = Megophrys.Magi
Magi.element = (Magi.element or 'air')
Magi.skipTransfix = (Magi.skipTransfix or false)
Magi.targetTransfixed = (Magi.targetTransfixed or false)

Magi.staffCasts = {
  earth = 'dissolution',
  fire = 'scintilla',
  air = 'lightning',
  water = 'horripilation',
}

Megophrys.Magi.onConnect = function()
  sendAll('simultaneity', 'bind all', 'fortify all')
  sendAll(
    'unwield all',
    'remove armour',
    'put armour in pack370332',
    'get staff217211 from pack370332',
    'wield staff217221 left',
    'wield shield268649 right'
  )
end

Megophrys.Magi.makeClassToolbars = function()
  Megophrys.magiToolbar = Geyser.Container:new({
    name='magi_toolbar',
    x=270, y=0, width=270, height=60
  })

  Magi.elemLabel = Geyser.Label:new({
    name='elem_label',
    x=0, y=0, width=100, height=20,
    message='Element:'
  }, Megophrys.magiToolbar)
  Magi.elemLabel:setFontSize(11)
  Magi.earthButton = Geyser.Label:new({
    name='earth_button',
    x=100, y=0, width=42, height=20,
  }, Megophrys.magiToolbar)
  Magi.earthButton:setFontSize(11)
  Magi.fireButton = Geyser.Label:new({
    name='fire_button',
    x=142, y=0, width=42, height=20,
  }, Megophrys.magiToolbar)
  Magi.fireButton:setFontSize(11)
  Magi.airButton = Geyser.Label:new({
    name='air_button',
    x=184, y=0, width=42, height=20,
  }, Megophrys.magiToolbar)
  Magi.airButton:setFontSize(11)
  Magi.waterButton = Geyser.Label:new({
    name='water_button',
    x=226, y=0, width=42, height=20,
  }, Megophrys.magiToolbar)
  Magi.waterButton:setFontSize(11)

  Magi.nextGolemMoveLabel = Geyser.Label:new({
    name='next_golem_move_label',
    x=0, y=20, width=100, height=20,
    message='Golem will:'
  }, Megophrys.magiToolbar)
  Magi.nextGolemMoveLabel:setFontSize(11)
  Magi.nextGolemMoveButton = Geyser.Label:new({
    name='next_golem_move',
    x=100, y=20, width=170, height=20,
  }, Megophrys.magiToolbar)
  Magi.nextGolemMoveButton:setFontSize(11)

  Magi.golemSmashLabel = Geyser.Label:new({
    name='golem_smash_label',
    x=0, y=40, width=100, height=20,
    message='Smashing:'
  }, Megophrys.magiToolbar)
  Magi.golemSmashLabel:setFontSize(11)
  Magi.golemSmashButton = Geyser.Label:new({
    name='golem_smash_move',
    x=100, y=40, width=170, height=20,
  }, Megophrys.magiToolbar)
  Magi.golemSmashButton:setFontSize(11)
end

Megophrys.Magi.setMode = function()
  local Magi = Megophrys.Magi
  local killStrat = Megophrys.killStrat

  Megophrys.specialMoveButton:echo(
    'Embed Focus',
    Megophrys.fgColors[killStrat],
    'c'
  )

  if killStrat == 'denizen' then
    Megophrys.nextMoveButton:echo('Staffcast', Megophrys.fgColors[killStrat], 'c')
    Magi.nextGolemMoveButton:echo('Squeeze', Megophrys.fgColors[killStrat], 'c')
    Magi.golemSmashButton:echo('N/A', 'grey', 'c')
    Magi.setElement('air')
    Magi.followUp = 'golem squeeze &amp;tar'
    cecho('\n&lt;cyan&gt;Auto-attacks will be staffcasts'..
          '\nElement: '.. Magi.element ..
          '\nFollow up: '.. Magi.followUp ..
          '\nTarget is: '.. target ..'\n')
  elseif killStrat == 'raid' then
    Magi.setElement('earth')
    if Magi.skipTransfix then
      Megophrys.nextMoveButton:echo('Staffcast', Megophrys.fgColors[killStrat], 'c')
    else
      Megophrys.nextMoveButton:echo('Transfix', Megophrys.fgColors[killStrat], 'c')
    end
    Magi.nextGolemMoveButton:echo('Timeflux', Megophrys.fgColors[killStrat], 'c')
    Magi.followUp = 'golem timeflux &amp;tar'
    cecho('\n&lt;cyan&gt;Auto-attacks will be staffcasts'..
          '\nElement: '.. Magi.element ..
          '\nFollow up: '.. Magi.followUp ..
          '\nTarget is: '.. target ..'\n')
  elseif killStrat == 'pummel' then
    Megophrys.nextMoveButton:echo('Staffstrike', Megophrys.fgColors[killStrat], 'c')
    Magi.nextGolemMoveButton:echo('Timeflux', Megophrys.fgColors[killStrat], 'c')
    cecho('\n&lt;cyan&gt;Magi PvP (Ice) mode activated!')

    Megophrys.targetTorso = false
    Megophrys.resetTargetWounds()
    Magi.setElement('air', 'first strike')
    Magi.followUp = 'golem timeflux &amp;tar'

    cecho('\n&lt;cyan&gt;Auto-attacks will be staffstrikes'..
          '\nElement: '.. Magi.element ..
          '\nFollow up: '.. Magi.followUp ..
          '\nTarget is: '.. target ..
          '\n  on limb: '.. Megophrys.targetLimb)
  elseif killStrat == 'fiyah' then
    Megophrys.nextMoveButton:echo('Staffstrike', Megophrys.fgColors[killStrat], 'c')
    Magi.nextGolemMoveButton:echo('Timeflux', Megophrys.fgColors[killStrat], 'c')
    cecho('\n&lt;cyan&gt;Magi PvP (Fire) mode activated!')

    Megophrys.targetTorso = false
    Megophrys.resetTargetWounds()
    Magi.setElement('air', 'first strike')
    Magi.followUp = 'golem timeflux '.. target

    cecho('\n&lt;cyan&gt;Auto-attacks will be staffstrikes'..
          '\nElement: '.. Magi.element ..
          '\nFollow up: '.. Magi.followUp ..
          '\nTarget is: '.. target ..
          '\n  on limb: '.. Megophrys.targetLimb)
    sendAll('setalias nextAction cast efreeti', 'queue addclear eqbal nextAction')
  end

  if killStrat ~= 'denizen' then Magi.setGolemStrat() end
end

Megophrys.Magi.subMode = function(n)
  if n == 1 then
    Magi.setElement('earth')
  elseif n == 2 then
    Magi.setElement('fire')
  elseif n == 3 then
    Magi.setElement('air')
  elseif n == 4 then
    Magi.setElement('water')
  else
    error('Bad sub mode: '.. n ..'!')
  end
end

Megophrys.Magi.doSpecial = function() send('embed focus') end

Megophrys.Magi.toggleOne = Magi.toggleSkipTransfix
Megophrys.Magi.toggleFive = Magi.toggleGolemSmashTarget

Megophrys.Magi.nextAttack = function()
  local Magi = Megophrys.Magi
  local killStrat = Megophrys.killStrat
  local staffCasts = Magi.staffCasts
  local setNextAttack = 'setalias nextAttack '
  if not wsys.aff.stupidity then
    setNextAttack = setNextAttack .. 'stand / '
  end

  local staffSpell = staffCasts[Magi.element]
  if killStrat == 'denizen' then
    Megophrys.nextMoveButton:echo('Staffcast', Megophrys.fgColors[killStrat], 'c')
    sendAll((setNextAttack ..'cast dilation at &amp;tar / staffcast '.. staffSpell 
             ..' at &amp;tar / golem squeeze &amp;tar'),
            'queue addclear eqbal nextAttack')
  else
    Magi.setGolemStrat()
    local tarAff = affstrack.score

    if killStrat == 'raid' then
      if not Megophrys.Magi.targetTransfixed then
        Megophrys.nextMoveButton:echo('Transfix', Megophrys.fgColors[killStrat], 'c')
        sendAll(setNextAttack ..'cast transfix at &amp;tar',
                'queue addclear eqbal nextAttack')
      elseif (Megophrys.targetHits or 0) % 4 == 0 then
        Megophrys.targetHits = 1
        Megophrys.Magi.targetTransfixed = false
        Megophrys.nextMoveButton:echo('Transfix', Megophrys.fgColors[killStrat], 'c')
        sendAll(setNextAttack ..'cast transfix at &amp;tar',
                'queue addclear eqbal nextAttack')
      else
        Megophrys.nextMoveButton:echo('Staffcast', Megophrys.fgColors[killStrat], 'c')
        sendAll(setNextAttack ..'staffcast '.. staffSpell ..' at &amp;tar',
                'queue addclear eqbal nextAttack')
      end
      Megophrys.targetHits = Megophrys.targetHits + 1
    else
      local prepStatus = Megophrys.nextLimbPrepAttack('deepfreeze', 91, 84)
      local targetLimb = prepStatus.targetLimb
      local targetTorso = prepStatus.targetTorso
      local cmd = 'staffstrike &amp;tar with '.. Magi.element
      Megophrys.nextMoveButton:echo('Staffstrike', Megophrys.fgColors[killStrat], 'c')

      local airBendForRebound = (
          ak.defs.rebounding or
          (Megophrys.targetHits == 0)  -- first hit in case of rebounding
      )
      local airBendForUnderPrep = (
          (targetTorso and prepStatus.torsoIsUnderPrepped) or
          (not targetTorso and (prepStatus.limbIsUnderPrepped or
                                prepStatus.otherLimbIsUnderPrepped))
      )
      if airBendForRebound then
        Magi.setElement('air', 'rebounding')
      elseif airBendForUnderPrep then
        Magi.setElement('air', 'underprep')
      else
        Magi.setElement('earth', 'limb prep')
      end

      if prepStatus.limbIsPrepped then
        if ak.defs.rebounding then
          Magi.setElement('air', 'rebounding')
        else
          Magi.setElement('earth', 'limb prep')
        end
      elseif prepStatus.prepConditionsMet then
        if killStrat == 'fiyah' then
          Megophrys.nextMoveButton:echo('Dehydrate', Megophrys.fgColors[killStrat], 'c')
          Magi.followUp = 'golem dehydrate '.. target
          Megophrys.targetHits = 0
        end
        Magi.setElement('air', 'proning')
      elseif Megophrys.killPreConditionsMet then
        if tarAff["prone"] == 100 then
          if killStrat == 'pummel' then
            Magi.setElement('water', 'freezing')
          elseif killStrat == 'fiyah' then
            Magi.setElement('fire', 'burning')
          end
        else
          Magi.setElement('air', 'proning')
        end
      end

      if killStrat == 'pummel' then
        if Megophrys.killPreConditionsMet and tarAff["shivering"] &lt; 80 then
          sendAll('clearqueue all', 'cast deepfreeze')
          Megophrys.killPreConditionsMet = false
          Megophrys.nextMoveButton:echo('Hypothermia', Megophrys.fgColors[killStrat], 'c')
          return
        elseif tarAff["shivering"] &gt; 80 then
          -- kill condition met: pummel to death
          Megophrys.priorityLabel:echo('&lt;center&gt;Priority: PUMMEL&lt;/center&gt;')
          Magi.setElement('water', 'freezing')
          cmd = 'staffstrike &amp;tar with '.. Magi.element
          if tarAff["frozen"] &lt; 80 then
            Magi.followUp = 'golem hypothermia &amp;tar'
          else
            Magi.followUp = 'golem pummel &amp;tar'
          end
          Megophrys.nextMoveButton:echo('Pummel', Megophrys.fgColors[killStrat], 'c')
          targetTorso = true
        end
      elseif killStrat == 'fiyah' then
        if tarAff["dehydrated"] &gt; 80 then
          Megophrys.priorityLabel:echo('&lt;center&gt;Priority: DESTROY&lt;/center&gt;')
          Magi.setElement('fire', 'burning')
          cmd = 'staffstrike &amp;tar with '.. Magi.element
          if (Megophrys.targetHits or 0) % 3 == 0 then
            Megophrys.nextMoveButton:echo('Conflagrate', Megophrys.fgColors[killStrat], 'c')
            Magi.followUp = 'golem destroy &amp;tar'
          elseif (Megophrys.targetHits or 0) % 3 == 1 then
            Megophrys.nextMoveButton:echo('Heat / Scorch', Megophrys.fgColors[killStrat], 'c')
            Magi.followUp = 'golem conflagrate &amp;tar'
          else
            Megophrys.nextMoveButton:echo('Try Destroy', Megophrys.fgColors[killStrat], 'c')
            Magi.followUp = 'golem destabilise heat / golem scorch &amp;tar'
          end
          targetTorso = true
        end
      end

      if killStrat == 'pummel' or killStrat == 'fiyah' then
        if targetLimb and not targetTorso then
          cmd = cmd .. ' ' .. targetLimb .. ' leg'
        else
          cmd = cmd .. ' torso'
        end
        sendAll(
          setNextAttack .. cmd .. '/' .. Magi.followUp,
          'queue addclear eqbal nextAttack'
        )
        Megophrys.targetHits = Megophrys.targetHits + 1
      end
    end
  end
end

Magi.resetElementButtonStyles = function()
  Magi.earthButton:echo('Ea', 'white', 'c')
  Magi.fireButton:echo('Fi', 'white', 'c')
  Magi.airButton:echo('Ai', 'white', 'c')
  Magi.waterButton:echo('Wa', 'white', 'c')
end

Magi.setElement = function(element, reason)
  local elem = tostring(element):lower()

  if elem == 'earth' then
    button = Magi.earthButton
  elseif elem == 'fire' then
    button = Magi.fireButton
  elseif elem == 'air' then
    button = Magi.airButton
  elseif elem == 'water' then
    button = Magi.waterButton
  else
    cecho('\n&lt;red&gt;Unknown element: '.. elem ..' (ignored)\n')
  end

  Magi.element = elem
  Magi.resetElementButtonStyles()
  button:echo(string.title(string.sub(elem, 1, 2)), Megophrys.fgColors[Megophrys.killStrat], 'c')

  if reason then
    cecho('\n&lt;cyan&gt;Element set to: '.. Magi.element ..' ('.. reason ..')\n')
  else
    cecho('\n&lt;cyan&gt;Element set to: '.. Magi.element ..'\n')
  end
end

Magi.setGolemStrat = function()
  Magi.golemSmashTarget = 'arms'
  Magi.golemSmashButton:echo('Arms', Megophrys.fgColors[Megophrys.killStrat], 'c')
  if tarAff["timeflux"] &gt; 80 then
    if Megophrys.killStrat == 'fiyah' then
      if Magi.infernoDown then
        Magi.followUp = 'golem inferno'
      else
        Magi.followUp = 'golem scorch '.. target
      end
      Magi.nextGolemMoveButton:echo('Scorch', Megophrys.fgColors[killStrat], 'c')
    else
      Magi.nextGolemMoveButton:echo('Smash', Megophrys.fgColors[killStrat], 'c')
      Magi.followUp = 'golem smash '.. target .. ' '.. Magi.golemSmashTarget
    end
  else
    Magi.nextGolemMoveButton:echo('Timeflux', Megophrys.fgColors[killStrat], 'c')
    Magi.followUp = 'golem timeflux '.. target
  end
end

Magi.lostInferno = function()
  Magi.infernoDown = true
  Magi.nextGolemMoveButton:echo('Inferno', Megophrys.fgColors[Megophrys.killStrat], 'c')
end

Magi.targetIsTransfixed = function()
  Magi.targetTransfixed = true
  Magi.nextMoveButton:echo('Staffcast', Megophrys.fgColors[Megophrys.killStrat], 'c')
end

Magi.targetLostTimeflux = function()
  Magi.nextGolemMoveButton:echo('Timeflux', Megophrys.fgColors[Megophrys.killStrat], 'c')
end

Magi.toggleGolemSmashTarget = function()
  local killStrat = Megophrys.killStrat
  if Magi.golemSmashTarget and Magi.golemSmashTarget == 'arms' then
    cecho('\n&lt;cyan&gt;Golem will smash legs!\n')
    Magi.golemSmashButton:echo('Legs', Megophrys.fgColors[killStrat], 'c')
    Magi.golemSmashTarget = 'legs'
  else
    cecho('\n&lt;cyan&gt;Golem will smash arms!\n')
    Magi.golemSmashButton:echo('Arms', Megophrys.fgColors[killStrat], 'c')
    Magi.golemSmashTarget = 'arms'
  end
end

Magi.toggleSkipTransfix = function()
  local killStrat = Megophrys.killStrat
  Magi.skipTransfix = not Magi.skipTransfix

  if Megophrys.killStrat == 'raid' then
    if Magi.skipTransfix then
      Megophrys.nextMoveButton:echo('Staffcast', Megophrys.fgColors[killStrat], 'c')
    else
      Megophrys.nextMoveButton:echo('Transfix', Megophrys.fgColors[killStrat], 'c')
    end
  end

  if Magi.skipTransfix then
    cecho('\n&lt;cyan&gt;Skipping transfix! (Only doing damage.)\n')
  else
    cecho('\n&lt;cyan&gt;Adding transfix to raid rotation.\n')
  end
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Apostate</name><packageName /><script>Megophrys.Apostate = (Megophrys.Apostate or {})
local Apostate = Megophrys.Apostate

Apostate.doSpecial = function() send('demon corrupt &amp;tar') end

Megophrys.Apostate.makeClassToolbars = function()
  Megophrys.aposToolbar = Geyser.Container:new({
    name='apos_toolbar',
    x=270, y=0, width=270, height=60
  })

  Apostate.summonLabel = Geyser.Label:new({
    name='summon_label',
    x=0, y=0, width=100, height=20,
    message='Summon:'
  }, Megophrys.aposToolbar)
  Apostate.summonLabel:setFontSize(11)
  Apostate.summonButton = Geyser.Label:new({
    name='summon',
    x=100, y=20, width=170, height=20,
  }, Megophrys.aposToolbar)
  Apostate.summonButton:setFontSize(11)

  Apostate.nextEyesLabel = Geyser.Label:new({
    name='next_eyes_label',
    x=0, y=20, width=100, height=20,
    message='Next stare: '
  }, Megophrys.aposToolbar)
  Apostate.nextEyesLabel:setFontSize(11)
  Apostate.nextEyesButton = Geyser.Label:new({
    name='next_eyes',
    x=100, y=20, width=170, height=20,
  }, Megophrys.aposToolbar)
  Apostate.nextEyesButton:setFontSize(11)

  Apostate.setMode('denizen')
  Megophrys.updatePrepGauges()
end

Megophrys.Apostate.onConnect = function()
  sendAll(
    'unwield all',
    'remove armour',
    'put armour in pack370332'
  )
  tempTimer(3, Megophrys.Apostate.gearUp)
end

Megophrys.Apostate.gearUp = function()
  send('wield shield268649 right')
end

Megophrys.Apostate.nextAttack = function()
  local Apostate = Megophrys.Apostate
  local chanceToMouthOff = 0
  local imSoClever = ''
  local killStrat = Megophrys.killStrat
  local targetAffs = affstrack.score
  local targetHits = Megophrys.targetHits or 0
  local uiColor = Megophrys.fgColors[killStrat]

  local tarAff = affstrack.score

  local setNextAttack = 'setalias nextAttack '
  if killStrat ~= 'denizen' then
    setNextAttack = setNextAttack .. 'order fiend attack &amp;tar / contemplate &amp;tar / '
  end
  if not wsys.aff.stupidity then
    setNextAttack = setNextAttack .. 'stand / '
  end

  local firstAff = nil
  local secondAff = nil
  if killStrat == 'denizen' then
    setNextAttack = (setNextAttack .. 'stare &amp;tar convulsions / '..
                                      'daegger burrow &amp;tar / '..
                                      'decay &amp;tar / ')
    Megophrys.nextMoveButton:echo('IDK', Megophrys.fgColors[killStrat], 'c')
  else
    local chooseAff = function(ignoreAff)
      local affPrios = {
        paralysis = 'sicken',         -- eat bloodroot
        impatience = 'impatience',    -- eat goldenseal
        asthma = 'asthma',            -- eat kelp
        manaleech = 'sicken',         -- smoke valerian
        clumsiness = 'clumsy',        -- eat kelp
        sensitivity = 'sensitivity',  -- eat kelp
        slickness = 'sicken',         -- smoke valerian, eat bloodroot
        nausea = 'vomiting',          -- eat ginseng
        anorexia = 'anorexia',        -- apply epidermal
        haemophilia = 'bleed',        -- eat ginseng
        recklessness = 'reckless',    -- eat lobelia, focus
        stupidity = 'stupid',         -- eat goldenseal
        weariness = 'weariness',      -- eat kelp
      }
      for aff, humour in pairs(affPrios) do
        if ignoreAff ~= aff and tarAff[aff] &lt; 80 then return aff end
      end
    end

    if ak.defs.curseward then
      firstAff = 'breach'
      secondAff = ''
    else
      firstAff = chooseAff()
      secondAff = chooseAff(firstAff)
    end

    imSoClever = 'warcry'
    chanceToMouthOff = 0.1
  end

  local targetIsLocked = (
    tarAff["paralysis"] &gt; 80 and tarAff["anorexia"] &gt; 80 and tarAff["asthma"] &gt; 80 and
    tarAff["slickness"] &gt; 80 and tarAff["impatience"] &gt; 80
  )

  if targetIsLocked then
    firstAff = 'plague'
    secondAff = 'sicken'
  end

  local targetManaPct = (ak.currentmana or 0) / (ak.maxmana or 1)
  if targetManaPct &lt;= 0.5 then
    setNextAttack = setNextAttack ..' / demon catharsis &amp;tar'
    imSoClever = 'Liberated! Your soul is liberated!'
    chanceToMouthOff = 0.85
  else
    table.insert(Megophrys.givingAffs, firstAff)
    if firstAff then
      if not secondAff then
        setNextAttack = setNextAttack ..' / stare &amp;tar '.. firstAff
      else
        setNextAttack = (setNextAttack ..' / deadeyes &amp;tar '..
                         firstAff ..' '.. secondAff)
        table.insert(Megophrys.givingAffs, secondAff)
      end
      Apostate.nextEyesButton:echo(firstAff ..' '.. secondAff, uiColor, 'c')
    end
  end

  if wsys.aff.prone then
    send('stand')
  else
    if imSoClever ~= '' and math.random() &lt; chanceToMouthOff then
      setNextAttack = setNextAttack ..' / '.. imSoClever
    end
  end

  sendAll(setNextAttack, 'queue addclear eqbal nextAttack')
  if not ak.defs.shield then
    Megophrys.targetHits = targetHits + 1
  end

  if killStrat ~= 'denizen' then
    if #Megophrys.givingAffs == 1 then
      send('pt '.. Megophrys.givingAffs[1] ..' on '.. target)
    elseif #Megophrys.givingAffs == 2 then
      send('pt '.. Megophrys.givingAffs[1] ..' and '.. Megophrys.givingAffs[2] ..
           ' on '.. target)
    elseif #Megophrys.givingAffs == 3 then
      send('pt '.. Megophrys.givingAffs[1] ..', '.. Megophrys.givingAffs[2] ..
           ' and '.. Megophrys.givingAffs[3] ..' on '.. target)
    end
  end
end

Megophrys.Apostate.setMode = function()
  local Apostate = Megophrys.Apostate
  local killStrat = Megophrys.killStrat

  Apostate.resetHumourButtonStyles()

  if killStrat == 'denizen' then
    Megophrys.nextMoveButton:echo('IDK', Megophrys.fgColors[killStrat], 'c')
  else
    Megophrys.nextMoveButton:echo('Deadeyes', Megophrys.fgColors[killStrat], 'c')
  end

  Megophrys.specialMoveButton:echo(
    'Demon Corrupt',
    Megophrys.fgColors[killStrat],
    'c'
  )
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Blademaster</name><packageName /><script>Megophrys.Blademaster = (Megophrys.Blademaster or {})
local Blademaster = Megophrys.Blademaster

Blademaster.stances = {
  earth = 'Doya',
  fire = 'Arash',
  air = 'Thyr',
  water = 'Mir',
  void = 'Sanya',
}

Blademaster.doSpecial = function() send('leap high') end

Megophrys.Blademaster.makeClassToolbars = function()
  Megophrys.bmToolbar = Geyser.Container:new({
    name='bm_toolbar',
    x=270, y=0, width=270, height=60
  })

  Blademaster.stanceLabel = Geyser.Label:new({
    name='stance_label',
    x=0, y=0, width=100, height=20,
    message='Stance:'
  }, Megophrys.bmToolbar)
  Blademaster.stanceLabel:setFontSize(11)
  Blademaster.earthButton = Geyser.Label:new({
    name='earth_button',
    x=100, y=0, width=34, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.earthButton:setFontSize(11)
  Blademaster.fireButton = Geyser.Label:new({
    name='fire_button',
    x=134, y=0, width=34, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.fireButton:setFontSize(11)
  Blademaster.airButton = Geyser.Label:new({
    name='air_button',
    x=168, y=0, width=34, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.airButton:setFontSize(11)
  Blademaster.waterButton = Geyser.Label:new({
    name='water_button',
    x=202, y=0, width=34, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.waterButton:setFontSize(11)
  Blademaster.voidButton = Geyser.Label:new({
    name='void_button',
    x=236, y=0, width=34, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.voidButton:setFontSize(11)

  Blademaster.nextStrikeLabel = Geyser.Label:new({
    name='next_strike_label',
    x=0, y=20, width=100, height=20,
    message='Strike:'
  }, Megophrys.bmToolbar)
  Blademaster.nextStrikeLabel:setFontSize(11)
  Blademaster.nextStrikeButton = Geyser.Label:new({
    name='next_strike_',
    x=100, y=20, width=170, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.nextStrikeButton:setFontSize(11)

  Blademaster.infuseElemLabel = Geyser.Label:new({
    name='infuse_elem_label',
    x=0, y=40, width=100, height=20,
    message='Infuse:'
  }, Megophrys.bmToolbar)
  Blademaster.infuseElemLabel:setFontSize(11)
  Blademaster.infuseEarthButton = Geyser.Label:new({
    name='infuse_earth_button',
    x=100, y=40, width=34, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.infuseEarthButton:setFontSize(11)
  Blademaster.infuseFireButton = Geyser.Label:new({
    name='infuse_fire_button',
    x=134, y=40, width=34, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.infuseFireButton:setFontSize(11)
  Blademaster.infuseAirButton = Geyser.Label:new({
    name='infuse_air_button',
    x=168, y=40, width=34, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.infuseAirButton:setFontSize(11)
  Blademaster.infuseWaterButton = Geyser.Label:new({
    name='infuse_water_button',
    x=202, y=40, width=34, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.infuseWaterButton:setFontSize(11)
  Blademaster.infuseVoidButton = Geyser.Label:new({
    name='infuse_void_button',
    x=236, y=40, width=34, height=20,
  }, Megophrys.bmToolbar)
  Blademaster.infuseVoidButton:setFontSize(11)
end

Megophrys.Blademaster.onConnect = function()
  wsys.setSettings('automount', 'off')
  mmp.settings:setOption('gallop', false)
  mmp.settings:setOption('dash', true)
  sendAll(
    'unwield all',
    'remove armour',
    'put armour in pack370332',
    'get scalemail from pack370332'
  )
  tempTimer(3, Megophrys.Blademaster.gearUp)
end

Megophrys.Blademaster.gearUp = function()
  send('wear scalemail')
end

Megophrys.Blademaster.setNextStrike = function(strikeTarget)
  Blademaster.nextStrike = tostring(strikeTarget):lower()
  Blademaster.nextStrikeButton:echo(' '.. Blademaster.nextStrike:title())
end

Megophrys.Blademaster.nextAttack = function()
  local killStrat = Megophrys.killStrat
  local setNextAttack = 'setalias nextAttack '
  local infuseElem = Blademaster.infuseElem
  local nextSlash = nil
  local tarAff = affstrack.score

  if not wsys.aff.stupidity then
    setNextAttack = setNextAttack .. 'stand / '
  end

  if infuseElem == 'water' then
    infuseElem = 'ice'
  elseif infuseElem == 'air' then
    infuseElem = 'lightning'
  end

  if killStrat ~= 'denizen' and infuseElem then
    setNextAttack = setNextAttack ..'infuse '.. infuseElem .. ' / '
  end

  if killStrat == 'denizen' then
    setNextAttack = setNextAttack .. 'leapstrike &amp;tar / spinslash &amp;tar / '
    nextSlash = 'drawslash'
  elseif killStrat == 'raid' then
    nextSlash = 'balanceslash'
  else
    local prepStatus = Megophrys.nextLimbPrepAttack('impale', 65)
    local targetLimb = prepStatus.targetLimb
    local targetTorso = prepStatus.targetTorso
    local targetSide = nil
    Megophrys.nextMoveButton:echo('Staffstrike', Megophrys.fgColors[killStrat], 'c')

    if Megophrys.killPreConditionsMet and tarAff["impaled"] &lt; 80 then
      sendAll('clearqueue all', 'impale '.. target)
      Megophrys.killPreConditionsMet = false
      Megophrys.nextMoveButton:echo('Impslash', Megophrys.fgColors[killStrat], 'c')
      return
    elseif Blademaster.targetImpaled then
      -- kill condition met: twist until brokenstar
      Megophrys.priorityLabel:echo('&lt;center&gt;Priority: BLADETWIST&lt;/center&gt;')
      Megophrys.nextMoveButton:echo('Bladetwist', Megophrys.fgColors[killStrat], 'c')
      if (ak.bleeding or 0) &gt; 699 then
        sendAll('clearqueue all', 'brokenstar '.. target)
      elseif tarAff["impaleslash"] &lt; 80 then
        sendAll('clearqueue all', 'impaleslash')
      else
        sendAll('clearqueue all', 'bladetwist')
      end
    else
      nextSlash = (Megophrys.targetLimbSet or 'leg'):lower() ..'slash'
      targetSide = targetLimb
    end

  end

  if killStrat ~= 'denizen' then
    if prepStatus.prepConditionsMet then
      Blademaster.setNextStrike('knee')
    elseif (targetAffs.hamstring or 0) &lt; 90 then
      Blademaster.setNextStrike('hamstring')
    elseif (targetAffs.paralyzed or 0) &lt; 90 then
      Blademaster.setNextStrike('neck')
    else
      Blademaster.setNextStrike('sternum')
    end
  end

  if nextSlash then
    Megophrys.nextMoveButton:echo(nextSlash:title(), Megophrys.fgColors[killStrat], 'c')
    setNextAttack = setNextAttack .. nextSlash ..' &amp;tar'
    if targetSide then
      setNextAttack = setNextAttack .. targetSide
    end
  end

  if Blademaster.nextStrike then
    setNextAttack = setNextAttack ..' / strike &amp;tar '.. Blademaster.nextStrike
  end

  sendAll(setNextAttack, 'queue addclear eqbal nextAttack')
end

Blademaster.resetElementButtonStyles = function()
  Blademaster.earthButton:echo('Ea', 'white', 'c')
  Blademaster.fireButton:echo('Fi', 'white', 'c')
  Blademaster.airButton:echo('Ai', 'white', 'c')
  Blademaster.waterButton:echo('Wa', 'white', 'c')
  Blademaster.voidButton:echo('Vo', 'white', 'c')
end

Blademaster.resetInfuseElementButtonStyles = function()
  Blademaster.infuseEarthButton:echo('Ea', 'white', 'c')
  Blademaster.infuseFireButton:echo('Fi', 'white', 'c')
  Blademaster.infuseAirButton:echo('Ai', 'white', 'c')
  Blademaster.infuseWaterButton:echo('Wa', 'white', 'c')
  Blademaster.infuseVoidButton:echo('Vo', 'white', 'c')
end

Blademaster.setElement = function(element, reason, infuse)
  local elem = tostring(element):lower()
  if not elem then return end
  local elem_for = nil

  local getButtonByElement = function(elem, infuseVersion)
    if not elem then return end
    local button = nil
    local ibutton = nil
    if elem == 'earth' then
      button = Blademaster.earthButton
      ibutton = Blademaster.infuseEarthButton
    elseif elem == 'fire' then
      button = Blademaster.fireButton
      ibutton = Blademaster.infuseFireButton
    elseif elem == 'air' then
      button = Blademaster.airButton
      ibutton = Blademaster.infuseAirButton
    elseif elem == 'water' then
      button = Blademaster.waterButton
      ibutton = Blademaster.infuseWaterButton
    elseif elem == 'void' then
      button = Blademaster.voidButton
      ibutton = Blademaster.infuseVoidButton
    else
      cecho('\n&lt;red&gt;Unknown element: '.. elem ..' (ignored)\n')
    end

    if infuseVersion then
      return ibutton
    else
      return button
    end
  end

  if infuse then
    Blademaster.infuseElem = elem
    elem_for = 'infuse'
  else
    Blademaster.element = elem
    elem_for = 'stance'
    send(Blademaster.stances[Blademaster.element])
  end

  local button = getButtonByElement(Blademaster.element, false)
  local ibutton = getButtonByElement(Blademaster.infuseElem, true)
  Blademaster.resetElementButtonStyles()
  Blademaster.resetInfuseElementButtonStyles()
  if ibutton then
    ibutton:echo(string.title(string.sub(Blademaster.infuseElem, 1, 2)),
                 Megophrys.fgColors[Megophrys.killStrat], 'c')
  end
  if button then
    button:echo(string.title(string.sub(Blademaster.element, 1, 2)),
                Megophrys.fgColors[Megophrys.killStrat], 'c')
  end

  if reason then
    cecho('\n&lt;cyan&gt;Element for '.. elem_for ..' set to: '.. elem ..' ('.. reason ..')\n')
  else
    cecho('\n&lt;cyan&gt;Element for '.. elem_for ..' set to: '.. elem ..'\n')
  end
end

Megophrys.Blademaster.setMode = function()
  local killStrat = Megophrys.killStrat

  Megophrys.specialMoveButton:echo(
    'Leap High',
    Megophrys.fgColors[killStrat],
    'c'
  )

  if killStrat == 'denizen' then
    Megophrys.nextMoveButton:echo('Drawslash', Megophrys.fgColors[killStrat], 'c')
    Blademaster.setElement('fire')
    Blademaster.setElement('fire', nil, true)
    cecho('\n&lt;cyan&gt;Auto-attacks will be drawslashes'..
          '\nElement: '.. Blademaster.element ..
          '\nInfusing: '.. Blademaster.infuseElem ..
          '\nTarget is: '.. target ..'\n')
  elseif killStrat == 'raid' then
    Megophrys.nextMoveButton:echo('Balanceslash', Megophrys.fgColors[killStrat], 'c')
    Blademaster.setElement('void')
    Blademaster.setElement('void', nil, true)
    Blademaster.setNextStrike('hamstring')
    cecho('\n&lt;cyan&gt;Auto-attacks will be balanceslashes'..
          '\nElement: '.. Blademaster.element ..
          '\nInfusing: '.. Blademaster.infuseElem ..
          '\nTarget is: '.. target ..'\n')
  elseif killStrat == 'bstar' then
    Megophrys.nextMoveButton:echo('Limbslash', Megophrys.fgColors[killStrat], 'c')
    cecho('\n&lt;cyan&gt;BM PvP (Brokenstar) mode activated!')

    Megophrys.targetTorso = false
    Megophrys.resetTargetWounds()
    Blademaster.setElement('void')
    Blademaster.setElement('void', nil, true)
    Blademaster.setNextStrike('hamstring')

    cecho('\n&lt;cyan&gt;Auto-attacks will be limbslashes'..
          '\nElement: '.. Blademaster.element ..
          '\nInfusing: '.. Blademaster.infuseElem ..
          '\nTarget is: '.. target ..
          '\n  on limb: '.. Megophrys.targetLimb)
  end
end

Megophrys.Blademaster.subMode = function(n, altMode)
  if n == 1 then
    Blademaster.setElement('earth', nil, altMode)
  elseif n == 2 then
    Blademaster.setElement('fire', nil, altMode)
  elseif n == 3 then
    Blademaster.setElement('air', nil, altMode)
  elseif n == 4 then
    Blademaster.setElement('water', nil, altMode)
  else
    error('Bad sub mode: '.. n ..'!')
  end
end

Megophrys.Blademaster.toggleOne = function(altMode)
  Blademaster.setElement('void', nil, altMode)
end
Megophrys.Blademaster.toggleOneLabel = 'Set primary element to VOID'

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Alchemist</name><packageName /><script>Megophrys.Alchemist = (Megophrys.Alchemist or {})
local Alchemist = Megophrys.Alchemist
Alchemist.overdraw = false

Alchemist.doSpecial = function() send('educe tin') end

Megophrys.Alchemist.makeClassToolbars = function()
  Megophrys.alchToolbar = Geyser.Container:new({
    name='alch_toolbar',
    x=270, y=0, width=270, height=60
  })

  Alchemist.humourLabel = Geyser.Label:new({
    name='humour_label',
    x=0, y=0, width=100, height=20,
    message='Humour:'
  }, Megophrys.alchToolbar)
  Alchemist.humourLabel:setFontSize(11)
  Alchemist.melancholicButton = Geyser.Label:new({
    name='melancholic_button',
    x=100, y=0, width=42, height=20,
  }, Megophrys.alchToolbar)
  Alchemist.melancholicButton:setFontSize(11)
  Alchemist.cholericButton = Geyser.Label:new({
    name='choleric_button',
    x=142, y=0, width=42, height=20,
  }, Megophrys.alchToolbar)
  Alchemist.cholericButton:setFontSize(11)
  Alchemist.sanguineButton = Geyser.Label:new({
    name='sanguine_button',
    x=184, y=0, width=42, height=20,
  }, Megophrys.alchToolbar)
  Alchemist.sanguineButton:setFontSize(11)
  Alchemist.phlegmaticButton = Geyser.Label:new({
    name='phlegmatic_button',
    x=226, y=0, width=42, height=20,
  }, Megophrys.alchToolbar)
  Alchemist.phlegmaticButton:setFontSize(11)

  Alchemist.nextWrackLabel = Geyser.Label:new({
    name='next_wrack_label',
    x=0, y=20, width=100, height=20,
    message='Next wrack: '
  }, Megophrys.alchToolbar)
  Alchemist.nextWrackLabel:setFontSize(11)
  Alchemist.nextWrackButton = Geyser.Label:new({
    name='next_wrack',
    x=100, y=20, width=170, height=20,
  }, Megophrys.alchToolbar)
  Alchemist.nextWrackButton:setFontSize(11)

  Alchemist.setMode('denizen')
  Megophrys.updatePrepGauges()
end

Megophrys.Alchemist.onConnect = function()
  sendAll(
    'unwield all',
    'remove armour',
    'put armour in pack370332',
    'get ringmail from pack370332'
  )
  tempTimer(3, Megophrys.Alchemist.gearUp)
end

Megophrys.Alchemist.gearUp = function()
  sendAll(
    'wield shield268649 right',
    'wear ringmail',
    'wear robes'
  )
end

Megophrys.Alchemist.nextAttack = function()
  local Alchemist = Megophrys.Alchemist
  local chanceToMouthOff = 0
  local imSoClever = ''
  local killStrat = Megophrys.killStrat
  local nextEduce = ''
  local nextTemper = ''
  local nextWrack = ''
  local targetAffs = affstrack.score
  local targetHits = Megophrys.targetHits or 0
  local uiColor = Megophrys.fgColors[killStrat]

  local tarAff = affstrack.score
  local targetHumour = {}
  targetHumour.sanguine = (ak.alchemist.humour.sanguine or 0)
  targetHumour.melancholic = (ak.alchemist.humour.melancholic or 0)
  targetHumour.choleric = (ak.alchemist.humour.choleric or 0)
  targetHumour.phlegmatic = (ak.alchemist.humour.phlegmatic or 0)

  local preAlias = 'setalias nextAttack '
  if killStrat ~= 'denizen' then
    preAlias = preAlias .. 'homunculus attack &amp;tar / evaluate &amp;tar / '
  end
  if not wsys.aff.stupidity then
    preAlias = preAlias .. 'stand / '
  end

  local firstAff = nil
  local secondAff = nil
  if killStrat == 'denizen' then
    preAlias = preAlias .. 'throw miasma at &amp;tar / educe magnesium &amp;tar / '
    nextEduce = 'iron'
  elseif killStrat == 'los' then
    local LOSCommand = 'throw'
    if Megophrys.targetHits % 3 == 0 then
      LOSCommand = LOSCommand ..' devitalisation '
    elseif Megophrys.targetHits % 2 == 0 then
      LOSCommand = LOSCommand ..' incendiary '
    else
      LOSCommand = LOSCommand ..' intoxicant '
    end
    send(LOSCommand .. Megophrys.LOSDirection)
  else
    if ak.defs.shield then
      Megophrys.nextMoveButton:echo('Educe Copper', Megophrys.fgColors[killStrat], 'c')
      nextEduce = 'copper'
    else
      local targetManaPct = (ak.currentmana or 0) / (ak.maxmana or 1)
      local targetHealthPct = (ak.currenthealth or 0) / (ak.maxhealth or 1)
      if targetManaPct &lt;= 0.6 and (targetHealthPct &lt;= 0.6 or 
                                   (targetHealthPct &lt;= 0.66 and targetHumour.choleric &gt; 2) or
                                   (targetHealthPct &lt;= 0.72 and targetHumour.choleric &gt; 4)) then
        nextTemper = 'inundate &amp;tar choleric'
        nextWrack = 'aurify &amp;tar'
      else
        if targetHumour.sanguine &lt; 1 then
          Alchemist.setHumour('sanguine')
        elseif targetHumour.melancholic &lt; 1 then
          Alchemist.setHumour('melancholic')
        elseif targetHumour.phlegmatic &lt; 1 then
          Alchemist.setHumour('phlegmatic')
        elseif targetHumour.choleric &lt; 1 then
          Alchemist.setHumour('choleric')
        elseif targetHumour.melancholic &lt; 2 then
          Alchemist.setHumour('melancholic')
        else
          Alchemist.setHumour('choleric')
        end

        local chooseAff = function(ignoreAff)
          local affPrios = {
            paralysis = 'sanguine',       -- eat bloodroot
            impatience = 'melancholic',   -- eat goldenseal
            asthma = 'phlegmatic',        -- eat kelp
            clumsiness = 'phlegmatic',    -- eat kelp
            sensitivity = 'choleric',     -- eat kelp
            slickness = 'choleric',       -- smoke valerian, eat bloodroot
            nausea = 'choleric',          -- eat ginseng
            anorexia = 'melancholic',     -- apply epidermal
            haemophilia = 'sanguine',     -- eat ginseng
            recklessness = 'sanguine',    -- eat lobelia, focus
            stupidity = 'melancholic',    -- eat goldenseal
            weariness = 'phlegmatic',     -- eat kelp
          }
          for aff, humour in pairs(affPrios) do
            if (ignoreAff ~= aff and
                targetHumour[humour] &gt; 0 and tarAff[aff] &lt; 80) then
              return aff
            end
          end
        end

        firstAff = chooseAff()
        secondAff = chooseAff(firstAff)

        imSoClever = 'warcry'
        chanceToMouthOff = 0.1
      end
    end
  end

  local setNextAttack = preAlias
  if nextEduce then
    setNextAttack = setNextAttack ..'educe '.. nextEduce .. ' &amp;tar / '
    secondAff = ''
  end

  local targetIsLocked = (
    tarAff["paralysis"] &gt; 80 and tarAff["anorexia"] &gt; 80 and tarAff["asthma"] &gt; 80 and
    tarAff["slickness"] &gt; 80 and tarAff["impatience"] &gt; 80
  )

  if targetIsLocked then
    sendAll('wield toxin', 'throw toxin at ground')
  else
    setNextAttack = setNextAttack .. (nextTemper or
                                      'temper &amp;tar '.. Alchemist.humour)
    table.insert(Megophrys.givingAffs, firstAff)
    if firstAff then
      if not secondAff then
        setNextAttack = setNextAttack ..' / wrack &amp;tar '.. firstAff
      else
        setNextAttack = (setNextAttack ..' / truewrack &amp;tar '..
                         firstAff ..' '.. secondAff)
        table.insert(Megophrys.givingAffs, secondAff)
      end
      Alchemist.nextWrackButton:echo(firstAff ..' '.. secondAff, uiColor, 'c')
    end

    if wsys.aff.prone then
      send('stand')
    else
      if imSoClever ~= '' and math.random() &lt; chanceToMouthOff then
        setNextAttack = setNextAttack ..' / '.. imSoClever
      end
    end

    sendAll(setNextAttack, 'queue addclear eqbal nextAttack')
    if not ak.defs.shield then
      Megophrys.targetHits = targetHits + 1
    end
  end

  if killStrat ~= 'denizen' then
    if #Megophrys.givingAffs == 1 then
      send('pt '.. Megophrys.givingAffs[1] ..' on '.. target)
    elseif #Megophrys.givingAffs == 2 then
      send('pt '.. Megophrys.givingAffs[1] ..' and '.. Megophrys.givingAffs[2] ..
           ' on '.. target)
    elseif #Megophrys.givingAffs == 3 then
      send('pt '.. Megophrys.givingAffs[1] ..', '.. Megophrys.givingAffs[2] ..
           ' and '.. Megophrys.givingAffs[3] ..' on '.. target)
    end
  end
end

Alchemist.resetHumourButtonStyles = function()
  Alchemist.melancholicButton:echo('Me', 'white', 'c')
  Alchemist.cholericButton:echo('Ch', 'white', 'c')
  Alchemist.sanguineButton:echo('Sa', 'white', 'c')
  Alchemist.phlegmaticButton:echo('Ph', 'white', 'c')
end

Alchemist.setHumour = function(humour, reason)
  local elem = tostring(humour):lower()

  if elem == 'melancholic' then
    button = Alchemist.melancholicButton
  elseif elem == 'choleric' then
    button = Alchemist.cholericButton
  elseif elem == 'sanguine' then
    button = Alchemist.sanguineButton
  elseif elem == 'phlegmatic' then
    button = Alchemist.phlegmaticButton
  else
    cecho('\n&lt;red&gt;Unknown humour: '.. elem ..' (ignored)\n')
  end

  Alchemist.humour = elem
  Alchemist.resetHumourButtonStyles()
  button:echo(string.title(string.sub(elem, 1, 2)), Megophrys.fgColors[Megophrys.killStrat], 'c')

  if reason then
    cecho('\n&lt;cyan&gt;Humour set to: '.. Alchemist.humour ..' ('.. reason ..')\n')
  else
    cecho('\n&lt;cyan&gt;Humour set to: '.. Alchemist.humour ..'\n')
  end
end

Megophrys.Alchemist.setMode = function()
  local Alchemist = Megophrys.Alchemist
  local killStrat = Megophrys.killStrat

  Alchemist.resetHumourButtonStyles()

  if killStrat == 'denizen' then
    Megophrys.nextMoveButton:echo('Educe Iron', Megophrys.fgColors[killStrat], 'c')
  elseif killStrat == 'los' then
    Megophrys.nextMoveButton:echo('Nocturne', Megophrys.fgColors[killStrat], 'c')
  else
    Megophrys.Alchemist.setHumour('sanguine')
    Megophrys.nextMoveButton:echo('Wrack', Megophrys.fgColors[killStrat], 'c')
  end

  if killStrat == 'los' then
    Megophrys.alchToolbar:hide()
  else
    Megophrys.alchToolbar:show()
  end

  Megophrys.specialMoveButton:echo(
    'Educe Tin',
    Megophrys.fgColors[killStrat],
    'c'
  )
end

Megophrys.Alchemist.subMode = function(n)
  if n == 1 then
    Alchemist.setElement('melancholic')
  elseif n == 2 then
    Alchemist.setElement('choleric')
  elseif n == 3 then
    Alchemist.setElement('sanguine')
  elseif n == 4 then
    Alchemist.setElement('phlegmatic')
  else
    error('Bad sub mode: '.. n ..'!')
  end
end

Megophrys.Alchemist.toggleOne = function(altMode)
  if Alchemist.overdraw then
    Alchemist.overdraw = false
    cecho('\n&lt;cyan&gt;No longer overdrawing.\n')
  else
    Alchemist.overdraw = true
    cecho('\n&lt;cyan&gt;Overdrawing enabled!\n')
  end
end

</script><eventHandlerList /></Script><Script isActive="no" isFolder="no"><name>Serpent</name><packageName /><script>Megophrys.Serpent = (Megophrys.Serpent or {})

Megophrys.Serpent.onConnect = function()
  -- pass
end

Megophrys.Serpent.setMode = function()
  local Serpent = Megophrys.Serpent
  local killStrat = Megophrys.killStrat

  if killStrat == 'denizen' then
    Megophrys.nextMoveButton:echo('Garrote', Megophrys.fgColors[killStrat], 'c')
  end
end

Megophrys.Serpent.nextAttack = function()
  local Serpent = Megophrys.Serpent
  local killStrat = Megophrys.killStrat
  local setNextAttack = 'setalias nextAttack stand / wield whip / '

  if killStrat == 'denizen' then
    Megophrys.nextMoveButton:echo('Garrote', Megophrys.fgColors[killStrat], 'c')
    sendAll(setNextAttack ..'thrash &amp;tar / garrote &amp;tar',
            'queue addclear eqbal nextAttack')
  end
end

</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>WunderSys Foundation</name><packageName>WunderSys Foundation</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>WunderSys Foundation</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>State Tracking</name><packageName /><script>-- Does not include mounted. Need to track that separately
-- For affs, need to track counts for 2h and alchemist separately</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Char Stats</name><packageName /><script>wsysf.vitals = wsysf.vitals or {}
wsysf.stats = wsysf.stats or {}
wsysf.char_stat_tracking = wsysf.char_stat_tracking or {}

local vitals = {
	"wp", "eq", "ep", "maxhp", "hp", "nl", "maxpep", "maxpwp", "mp", "maxwp", "bal"
}
-- 

function wsysf.char_stat_tracking.vitals()
	wsysf.core.debug.display( 10, gmcp.Char.Vitals, "Vitals" )
	
	-- Vitals (excluding charstats)
	local new_vitals = {}
	wsysf.vitals.prev = nil
	new_vitals.prev = wsysf.vitals
	
	for _,v in ipairs( vitals ) do
		if gmcp.Char.Vitals[v] then
			new_vitals[v] = tonumber( gmcp.Char.Vitals[v] )
		end
	end
	
	wsysf.vitals = new_vitals
	
	-- Charstats parsing 
	local new_stats = {}
	wsysf.stats.prev = nil
	new_stats.prev = wsysf.stats
	
	for _,v in ipairs( gmcp.Char.Vitals.charstats ) do
    local key,value = v:match("(%w+): (.+)")
		if key and value then
			if value:sub(-1) == "%" then value = value:sub(1,-2) end
			if tonumber(value) then value = tonumber(value) end
			new_stats[key:lower()] = value
		end
  end
	
	wsysf.stats = new_stats
	
	wsysf.core.debug.display( 9, wsysf.vitals, "Vitals" )
	wsysf.core.debug.display( 9, wsysf.stats, "Stats" )
	wsysf.core.debug.print(7, "Got Vitals")
	
end

if wsysf.char_stat_tracking.id then killAnonymousEventHandler( wsysf.char_stat_tracking.id ) end
-- EVENT HANDLERS
wsysf.char_stat_tracking.id = registerAnonymousEventHandler("gmcp.Char.Vitals", "wsysf.char_stat_tracking.vitals")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Def Tracking</name><packageName /><script>wsysf.def_tracking = wsysf.def_tracking or { ids = {} }

wsysf.defs = wsysf.defs or {}

-- Translate "parrying (head)" to parrying,head
local function get_defs_value( name )

	def,value = name:match("(%w+) %((.+)%)")
	if def then
		return def,value
	end
	
	return name,true
end

function wsysf_test()
	def,value = get_defs_value( "parrying (right leg)" )
	
	echo("\ndef="..def.."\nvalue="..tostring(value))
	
	def,value = get_defs_value( "tekurastance" )
	
	echo("\ndef="..def.."\nvalue="..tostring(value))
end

-- Largely taken from MMP Defense tracking
function wsysf.def_tracking.add()
  local def,value = get_defs_value( gmcp.Char.Defences.Add.name )
	
	wsysf.core.debug.display( 10, gmcp.Char.Defences.Add, "Def Added" )
	
  if wsysf.defs[def] ~= value then
    wsysf.defs[def] = value
		wsysf.core.debug.print( 5, "Def: "..def.."="..tostring(value) )
		
    raiseEvent("wsysf got def", def)
  end
end
	
function wsysf.def_tracking.remove()
	wsysf.core.debug.display( 10, gmcp.Char.Defences.Remove, "Defs Removed" )

  for _, def in ipairs(gmcp.Char.Defences.Remove) do
    wsysf.defs[def] = nil
    raiseEvent("wsysf lost def", def)
  end
end
	
function wsysf.def_tracking.list()
  local newDefs = {}
  local addedDefs, lostDefs = {}, {}
	
	wsysf.core.debug.display( 10, gmcp.Char.Defences.List, "Def List" )
	
  for _, v in ipairs(gmcp.Char.Defences.List) do
		local def,value = get_defs_value( v.name )
    newDefs[def] = value
    if wsysf.defs[def] ~= value then
      addedDefs[#addedDefs + 1] = def
    end
  end
  for def in pairs(wsysf.defs) do
    if not newDefs[def] then
      lostDefs[#lostDefs + 1] = def
    end
  end
  wsysf.defs = newDefs
  for _, def in pairs(lostDefs) do
    raiseEvent("wsysf lost def", def)
  end
  for _, def in ipairs(addedDefs) do
    raiseEvent("wsysf got def", def)
  end
end
	
for _,id in pairs(wsysf.def_tracking.ids) do
	killAnonymousEventHandler( id )
end

-- EVENT HANDLERS
wsysf.def_tracking.ids.add =
	registerAnonymousEventHandler("gmcp.Char.Defences.Add", "wsysf.def_tracking.add")
wsysf.def_tracking.ids.remove =
	registerAnonymousEventHandler("gmcp.Char.Defences.Remove", "wsysf.def_tracking.remove")
wsysf.def_tracking.ids.list =
	registerAnonymousEventHandler("gmcp.Char.Defences.List", "wsysf.def_tracking.list")

</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Aff Tracking</name><packageName /><script>wsysf.aff_tracking = wsysf.aff_tracking or { ids = {} }
wsysf.aff_tracking.diagnose_lines = wsysf.aff_tracking.diagnose_lines or {}

wsysf.affs = wsysf.affs or {}

wsysf.aff_tracking.new = {} -- These are the affs that were added since the previous prompt
wsysf.aff_tracking.lost = {} -- These are the affs that were removed since the previous prompt
wsysf.aff_tracking.trigger_ids = {}

local stackables = {
	-- Alchemist Tempers cap at 8
	temperedcholeric = { max = 8 },
	temperedmelancholic = { max = 8 },
	temperedphlegmatic = { max = 8 }, 
	temperedsanguine = { max = 8 },
	
	-- Unweave stackables cap at 5
	unweavingbody = { max = 5 },
	unweavingmind = { max = 5 },
	unweavingspirit = { max = 5 },
	
	-- 2h fractures are uncapped, but cure double if at or above 6
	torntendons = { doublecure_at = 6, max = 7 },
	wristfractures = { doublecure_at = 6, max = 7 },
	skullfractures = { doublecure_at = 6, max = 7 },
	crackedribs = { doublecure_at = 6, max = 7 },
}

--setmetatable(wsysf.affs, aff_mt)

--- wsysf.affv = "aff value". If the aff is valid, then returns it as a number
-- if the specified aff is not valid, then returns 0, rather than false
-- This means: if wsysf.affv.whatever then ... will always pass
-- But it also allows kelp = wsysf.affv.asthma + wsysf.affv.weariness + ... etc
-- to be valid, without needing to convert them all to numbers
wsysf.affv = setmetatable({}, {
	__index = function(t,k)
		local value = wsysf.affs[k]

		if not value then 
			return 0
		elseif value == true then 
			return 1 
		else 
			return tonumber(value) or value 
		end
	end,
})

-- Translate "wristfractures (1)" to wristfractures,1
local function get_affs_value( name )
	aff,value = name:match("(%w+) %((.+)%)")
	if aff then
		return aff,tonumber(value) or value,true
	end
	
	return name,1,false
end

--- Track affs that have been gained or lost until the next prompt
function wsysf.aff_tracking.on_prompt()
	wsysf.aff_tracking.on_prompt_id = nil
	wsysf.core.debug.display( 9, wsysf.aff_tracking.new, "Affs gained on prompt" )
	wsysf.core.debug.display( 9, wsysf.aff_tracking.lost, "Affs lost on prompt" )
	wsysf.aff_tracking.new = {}
	wsysf.aff_tracking.lost = {}
	
	for _,id in ipairs(wsysf.aff_tracking.trigger_ids) do
		killTrigger( id )
	end
	wsysf.aff_tracking.trigger_ids = {}
end

function wsysf.aff_tracking.set_aff_value( aff, value )
	if value == true then value = 1 end -- Convert "true" to 1
	
	if wsysf.affs[aff] ~= value then
		wsysf.aff_tracking.new[aff] = value
		if not wsysf.aff_tracking.on_prompt_id then wsysf.aff_tracking.on_prompt_id = tempPromptTrigger( wsysf.aff_tracking.on_prompt, 1 ) end
		
		wsysf.affs[aff] = value
		
		wsysf.core.debug.print( 5, "Aff: "..aff.."="..tostring(value) )
		
    raiseEvent("wsysf got aff", aff)
	end
end

function wsysf.aff_tracking.add()
  local aff,value = get_affs_value( gmcp.Char.Afflictions.Add.name )
	
	wsysf.core.debug.display( 7, gmcp.Char.Afflictions.Add, "Aff Added" )
	
	-- Track affs that have been added, and clear them on the next prompt
	-- This will let us perform special handling on triggers if needed
	wsysf.aff_tracking.new[aff] = value
	if not wsysf.aff_tracking.on_prompt_id then wsysf.aff_tracking.on_prompt_id = tempPromptTrigger( wsysf.aff_tracking.on_prompt, 1 ) end
	
  wsysf.aff_tracking.set_aff_value( aff, value )
end
	
function wsysf.aff_tracking.remove()
	wsysf.core.debug.display( 7, gmcp.Char.Afflictions.Remove, "affs Removed" )

  for _, v in ipairs(gmcp.Char.Afflictions.Remove) do
		local aff,value = get_affs_value( v )
		
		-- Track affs that have been lost, and clear them on the next prompt
		wsysf.aff_tracking.lost[ aff ] = wsysf.affs[aff] or value
		if not wsysf.aff_tracking.on_prompt_id then wsysf.aff_tracking.on_prompt_id = tempPromptTrigger( wsysf.aff_tracking.on_prompt, 1 ) end
		
		if type(value) == "number" and value &gt; 1 then
			-- When stackable affs are reduced, you get removed "aff (#)" where # is the previous number of stacks. 
			-- Assume we removed one stack, except for special cases
			if stackables[aff] and stackables[aff].doublecure_at and value &gt;= stackables[aff].doublecure_at then
				value = value - 1
			end
			value = value - 1
			
		else
			value = nil
		end
		
  	wsysf.affs[aff] = value or nil
		wsysf.core.debug.print( 5, "Aff: "..aff.."="..tostring(wsysf.affs[aff]) )
  	raiseEvent("wsysf lost aff", aff)
  end
end
	
function wsysf.aff_tracking.list()
  local newaffs = {}
  local addedaffs, lostaffs = {}, {}
	
	wsysf.core.debug.display( 7, gmcp.Char.Afflictions.List, "Aff List" )
	
  for _, v in ipairs(gmcp.Char.Afflictions.List) do
		local aff,value,has_value = get_affs_value( v.name )
		
		-- For stackable affs, the list just gives "aff", no (#). Should keep the old number if we have it
    newaffs[aff] = value
    if wsysf.affs[aff] ~= value then
      
			if type(wsysf.affs[aff]) == "number" and wsysf.affs[aff] &gt; 0 and not has_value then
				newaffs[aff] = wsysf.affs[aff]
			else
				addedaffs[#addedaffs + 1] = aff
			end
    end
		
		-- Check for custom diagnose lines if we don't get stack info from gmcp
		if wsysf.aff_tracking.diagnose_lines[aff] then
			local trigger_id = tempRegexTrigger( wsysf.aff_tracking.diagnose_lines[aff].regex_line, wsysf.aff_tracking.diagnose_lines[aff].func, 1 )
			
			echo("Added trigger for "..aff.." "..trigger_id )
			
			table.insert(wsysf.aff_tracking.trigger_ids, trigger_id) 
		end
  end
  for aff in pairs(wsysf.affs) do
    if not newaffs[aff] then
      lostaffs[#lostaffs + 1] = aff
    end
  end
  wsysf.affs = newaffs
  for _, aff in pairs(lostaffs) do
    raiseEvent("wsysf lost aff", aff)
  end
  for _, aff in ipairs(addedaffs) do
    raiseEvent("wsysf got aff", aff)
  end
end
	
for _,id in pairs(wsysf.aff_tracking.ids) do
	killAnonymousEventHandler( id )
end

-- EVENT HANDLERS
wsysf.aff_tracking.ids.add =
	registerAnonymousEventHandler("gmcp.Char.Afflictions.Add", "wsysf.aff_tracking.add")
wsysf.aff_tracking.ids.remove =
	registerAnonymousEventHandler("gmcp.Char.Afflictions.Remove", "wsysf.aff_tracking.remove")
wsysf.aff_tracking.ids.list =
	registerAnonymousEventHandler("gmcp.Char.Afflictions.List", "wsysf.aff_tracking.list")
	
	
-- If value is a number, it stays a number. If value is true, return 1. Otherwise 0
local get_aff_count = function( value )
	if not value then
		return 0
	else
		return value and tonumber(value) or 1
	end
end
	
function wsysf.aff_tracking.stack_up( aff, count )
	if wsysf.affs[aff] then
	-- Assume we only get these messages if we already know about them
		
		count = count or 1
		-- If we just gained this, the count may not match what we expect.
		-- E.g. gaining tenonds gives torntendons (1), even if focused precision
		count = count - get_aff_count( wsysf.aff_tracking.new[aff] )
		
		if count &gt; 0 then
			local new_count = wsysf.affs[aff] + count
			
			-- Some stackable affs have a hard upper limit.
			if stackables[aff] and stackables[aff].max and new_count &gt; stackables[aff].max then
				new_count = stackables[aff].max
			end	
			
			wsysf.affs[aff] = new_count
			-- Add count to the aff count, with an optional max limit
  		wsysf.core.debug.print(5, aff.."="..wsysf.affs[aff] )
  		
  		raiseEvent( "wsysf got aff", aff )
		end
	end
end

function wsysf.aff_tracking.stack_down( aff, count )
	if wsysf.affs[aff] then
	-- Assume we only get these messages if we already know about them
		
		count = count or 1

		-- We shouldn't be using stack down with gmcp, should we?
		if wsysf.aff_tracking.lost[aff] then
			cecho("&lt;red&gt;Wsysf: stack_down( "..aff.." ) but gmcp lost it?")
			wsysf.core.debug.print(1, "stack_down( "..aff.." ) but gmcp lost it?")
		elseif wsysf.affv[aff] &gt; 1 then
			wsysf.affs[aff] = wsysf.affv[aff] - count
			
			wsysf.core.debug.print(5, aff.."="..wsysf.affs[aff] )
			raiseEvent( "wsysf lost aff", aff )
		else
			wsysf.core.debug.print(2, "stack_down( "..aff.." ) at 1 stack?: "..tostring(wsysf.affs[aff]))
		end
	end
end
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Custom Diagnose Lines</name><packageName /><script>-------------------------------------------------
-- Custom Diagnose Lines
--
-- We get a gmcp aff List event before every
-- diagnose, before the prompt comes through.
-- Add custom lines here for things that don't give
-- the correct value through gmcp
-------------------------------------------------

wsysf.aff_tracking.diagnose_lines = wsysf.aff_tracking.diagnose_lines or {}

local humour_diagnose = function()
	local aff = "tempered"..matches[2]
	local new_count = tonumber(matches[3])
	
	wsysf.aff_tracking.set_aff_value( aff, new_count )
end

wsysf.aff_tracking.diagnose_lines.temperedcholeric = {
	regex_line = "^your (choleric) humour has been tempered a total of (\\d+) times\.$",
	func = humour_diagnose,
}
wsysf.aff_tracking.diagnose_lines.temperedmelancholic = {
	regex_line = "^your (melancholic) humour has been tempered a total of (\\d+) times\.$",
	func = humour_diagnose,
}
wsysf.aff_tracking.diagnose_lines.temperedphlegmatic = {
	regex_line = "^your (phlegmatic) humour has been tempered a total of (\\d+) times\.$",
	func = humour_diagnose,
}
wsysf.aff_tracking.diagnose_lines.temperedsanguine = {
	regex_line = "^your (sanguine) humour has been tempered a total of (\\d+) times\.$",
	func = humour_diagnose,
}
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Psion Affs</name><packageName /><script>wsysf.aff_tracking.psion = {}
local psion = {}

wsysf.aff_tracking.psion.invert = function()
	local unweaves = { "unweavingspirit", "unweavingbody", "unweavingmind" }
	local from_weave = false
	local to_weave = false
	
	-- TODO: Really, this swaps the values. Does this work if you have some of both already?
	-- How do we know which are swapped?	
	for _,unw in ipairs( unweaves ) do
		if wsysf.aff_tracking.lost[unw] then
			from_weave = unw
		elseif wsysf.aff_tracking.new[unw] then
			to_weave = unw
		end
	end
	if from_weave and to_weave then
		wsysf.aff_tracking.set_aff_value( to_weave, wsysf.aff_tracking.lost[from_weave] )

		wsysf.core.debug.print( 5, "Unweave converted ".. from_weave .." to "..to_weave .. " value=".. wsysf.affs[to_weave] )
	end
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>2H Weaponmastery</name><packageName /><script>wsysf.aff_tracking.twoh = wsysf.aff_tracking.twoh or {}
wsysf.aff_tracking.twoh.precision = {}


wsysf.aff_tracking.twoh.focus_prec = function( person )
	if wsysf.aff_tracking.twoh.precision[person] then
		killTimer( wsysf.aff_tracking.twoh.precision[person] )
	end
	wsysf.aff_tracking.twoh.precision[person] = tempTimer( 2, function()
		wsysf.aff_tracking.twoh.precision[person] = nil
	end)
end

wsysf.aff_tracking.twoh.fractureup = function( aff )
	local person = wsysf.aff_tracking.twoh.current_person
	local count = 1
	
	if wsysf.aff_tracking.twoh.precision[ person ] then
		-- If the current person had focused precision, increase by 2
		count = 2
		killTimer( wsysf.aff_tracking.twoh.precision[ person ] )
		wsysf.aff_tracking.twoh.precision[ person ] = nil
		wsysf.aff_tracking.twoh.current_person = nil
	end
	
	wsysf.aff_tracking.stack_up( aff, count )
end
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Core</name><packageName /><script>wsysf = wsysf or {}
wsysf.core = wsysf.core or {}

-- TODO: Probably should move these someplace else

function wsysf.core.report(message)
	cecho("\n&lt;lime_green&gt;[&lt;DarkTurquoise&gt;WunderSys2&lt;lime_green&gt;]: &lt;snow&gt;" .. message)
end</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Debug</name><packageName /><script>wsysf.core.debug = wsysf.core.debug or {}
wsysf.core.debug.level = 2	 -- 1 = ERROR, 2 = WARN, 3 = INFO, 4 = DEBUG, 5-10 = Verbose
-- TODO lower debug level before release. Probably to 1 or 2 by default

local levels = {
	[1] = { color = "red", name = "ERROR" },
	[2] = { color = "OrangeRed", name = "WARNING" },
	[3] = { color = "gold", name = "INFO" },
	[4] = { color = "PaleGoldenrod", name = "DEBUG" },
	default = { color = "light_grey", name = "VERBOSE" },
}

function wsysf.core.debug.print( level, str )
	if wsysf.core.debug.level &gt;= level then
		local border = "lime_green"
		local level_t = levels[level] or levels.default
		local color = level_t.color
		
		cecho( string.format("\n&lt;%s&gt;[&lt;%s&gt;%s&lt;%s&gt;](&lt;%s&gt;%d&lt;%s&gt;): &lt;%s&gt;%s", 
					border, color, level_t.name, border, color, level, border, color, str ) )
	end
end

function wsysf.core.debug.display( level, t, str )
	if wsysf.core.debug.level &gt;= level then
		wsysf.core.debug.print( level, ( str or "" ) .. "\n" )
		display( t )
	end
end
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>AK Opponent Tracking</name><packageName>AK Opponent Tracking</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>AK Opponent Tracking</name><packageName /><script>--ak config

ak = ak or {}
ak.cure = ak.cure or {}
ak.errorallowance = ak.errorallowance or 34
ak.manapercent = ak.manapercent or 100
ak.healthpercent = ak.healthpercent or 100
ak.currentmana = ak.currentmana or 5000
ak.maxmana = ak.maxmana or 5000
ak.currenthealth = ak.currenthealth or 5000
ak.maxhealth = ak.maxhealth or 5000
ak.bleeding = ak.bleeding or 0
ak.eatsbetweenaffs = 0

ak.aliases = ak.aliases or {}
ak.aliases.lastsend = ak.aliases.lastsend or {}
ak.queue = ak.queue or {}
ak.queue.eqbal = ak.queue.eqbal or {}
ak.queue.sent = {}

ak.pervasion = ak.pervasion or {}
ak.pervasion.initialbleed = false
ak.duress = ak.duress or {}
ak.ignition = ak.ignition or {}
ak.serpent = ak.serpent or {}
ak.dragon = ak.dragon or {}
ak.firelord = ak.firelord or {}
ak.firelord.spark = ak.firelord.spark or 0
ak.priest = ak.priest or {}
ak.shaman = ak.shaman or {}
ak.knight = ak.knight or {}
ak.monk = ak.monk or {}
ak.jester = ak.jester or {}
ak.occie = ak.occie or {}
ak.alchemist = ak.alchemist or {}
ak.bard = ak.bard or {}
ak.magi = ak.magi or {}
ak.sentinel = ak.sentinel or {}
ak.depthswalker = ak.depthswalker or {}
ak.SnB = ak.SnB or {}
ak.dwc = ak.dwc or {}
ak.dwb = ak.dwb or {}
ak.bm = ak.bm or {}
ak.sylvan = ak.sylvan or {}
ak.shaman.coagulation = true
ak.shaman.bloodlet = true
ak.shaman.relapse = true
ak.jinxcount = ak.jinxcount or 0
ak.timers = ak.timers or {}
ak.occie = ak.occie or {}
ak.occie.aura = ak.occie.aura or {}
ak.occie.aura.physical = ak.occie.aura.physical or 0
ak.occie.aura.mental = ak.occie.aura.mental or 0
ak.occie.aura.unknownparse = ak.occie.aura.unknownparse or {}
ak.apostate = ak.apostate or {}
ak.shikudo = ak.shikudo or {}
ak.psion = ak.psion or {}
ak.psion.unweaving = ak.psion.unweaving or {}
ak.psion.unweaving.mind = ak.psion.unweaving.mind or 0
ak.psion.unweaving.body = ak.psion.unweaving.body or 0
ak.psion.unweaving.spirit = ak.psion.unweaving.spirit or 0
ak.mounted = false
ak.kata = ak.kata or 0
ak.twoh = ak.twoh or {}
ak.twoh.skull = 0
ak.twoh.ribs = 0
ak.twoh.tendons = 0
ak.twoh.wrist = 0
ak.twoh.modifier = 1
ak.twoh.salveconversion = {
   ["arms"] = "wrist",
   ["legs"] = "tendons",
   ["head"] = "skull",
   ["torso"] = "ribs",
}
ak.track = ak.track or {}
ak.slickfucks = ak.slickfucks or {}
ak.burstfucks = ak.burstfucks or {}
ak.alchemist = ak.alchemist or {}
ak.alchemist.humour = ak.alchemist.humour or {}
ak.alchemist.humour.sanguine = 0
ak.alchemist.humour.choleric = 0
ak.alchemist.humour.melancholic = 0
ak.alchemist.humour.phlegmatic = 0
ak.magi = ak.magi or {}
ak.magi.vibes = ak.magi.vibes or {
   ["Alarm"] = 0,
   ["Grounding"] = 0,
   ["Heat"] = 0,
   ["Creeps"] = 0,
   ["Dissipate"] = 0,
   ["Revelation"] = 0,
   ["Gravity"] = 0,
   ["Silence"] = 0,
   ["Harmony"] = 0,
   ["Energise"] = 0,
   ["Palpitation"] = 0,
   ["Adduction"] = 0,
   ["Stridulation"] = 0,
   ["Forest"] = 0,
   ["Tremors"] = 0,
   ["Disorientation"] = 0,
   ["Dissonance"] = 0,
   ["Oscillate"] = 0,
   ["Lullaby"] = 0,  
   ["Plague"] = 0, 
   ["Reverberation"] = 0,
}
ak.balancemodifier = ak.balancemodifier or "nimble"
ak.kata = ak.kata or 0
ak.bals = {}
ak.bals.salve = true
ak.bals.focus = true
ak.defs = ak.defs or {}
ak.defs.mass = false
ak.defs.shield = false
ak.defs.rebounding = false
affstrack = {
        venoms = {
                ["xentio"]     = "clumsiness",
                ["eurypteria"] = "recklessness",
                ["kalmia"]     = "asthma",
                ["delphinium"] = "sleep",
                ["digitalis"]  = "shyness",
                ["darkshade"]  = "darkshade",
                ["curare"]     = "paralysis",
                ["epteth"]     = "crippledarm",
                ["prefarar"]   = "sensitivity",
                ["monkshood"]  = "disloyalty",
                ["euphorbia"]  = "nausea",
                ["colocasia"]  = "deafblind",
                ["vernalius"]  = "weariness",
                ["epseth"]     = "crippledleg",
                ["larkspur"]   = "dizziness",
                ["slike"]      = "anorexia",
                ["notechis"]   = "haemophilia",
                ["vardrax"]    = "addiction",
                ["aconite"]    = "stupidity",
                ["selarnia"]   = "selarnia",
                ["gecko"]      = "slickness",
                ["scytherus"]  = "scytherus",
                ["voyria"]     = "voyria",
                ["pothealthleech"]= "healthleech",
                ["potloneliness"] = "loneliness",
                ["potepilepsy"]   = "epilepsy"
        },
 
        applied = {
                ["body"]  = {"anorexia","frozen","aflame","selarnia"},
                ["skin"]  = {"anorexia", "crippledarm", "crippledleg","frozen","selarnia"},
                ["torso"] = {"anorexia", "torso", "aflame", "hypothermia","selarnia"},
                ["head"]  = {"stuttering","head","crushedthroat"},
                ["arms"]  = {"crippledarm", "rightarm", "leftarm"},
                ["legs"]  = {"crippledleg","rightleg","leftleg"},
                ["ears"]  = {"scalded","head"}
        }, 
        eaten = {
                ["piece of kelp"]    = {"asthma", "clumsiness", "hypochondria", "sensitivity", "weariness", "healthleech", "parasite"},
                ["aurum flake"]      = {"asthma", "clumsiness", "hypochondria", "sensitivity", "weariness", "healthleech", "parasite"},
                ["lobelia seed"]     = {"tenderskin", "spiritburn", "agoraphobia", "claustrophobia", "loneliness", "masochism", "recklessness", "vertigo", "spiritdisrupt", "airdisrupt", "earthdisrupt", "firedisrupt", "waterdisrupt"},
                ["argentum flake"]   = {"tenderskin", "spiritburn", "agoraphobia", "claustrophobia", "loneliness", "masochism", "recklessness", "vertigo", "spiritdisrupt", "airdisrupt", "earthdisrupt", "firedisrupt", "waterdisrupt"},
                ["prickly ash bark"] = {"confusion", "dementia", "hallucinations", "hypersomnia", "paranoia"},
                ["stannum flake"]    = {"confusion", "dementia", "hallucinations", "hypersomnia", "paranoia"},
                ["bellwort flower"]  = {"retribution","timeloop","generosity", "pacifism","justice","lovers"},
                ["cuprum flake"]     = {"retribution","timeloop","generosity", "pacifism","justice","lovers"},
                ["bayberry bark"]    = {"blind"},
                ["arsenic pellet"]   = {"blind"},
                ["hawthorn berry"]   = {"deaf"},
                ["calamine crystal"] = {"deaf"},
                ["goldenseal root"]  = {"dizziness", "epilepsy", "impatience", "shyness", "stupidity", "depression", "shadowmadness"},
                ["plumbum flake"]    = {"dizziness", "epilepsy", "impatience", "shyness", "stupidity", "depression", "shadowmadness"},
                ["bloodroot leaf"]   = {"paralysis", "slickness"},
                ["magnesium chip"]   = {"paralysis", "slickness"},
                ["ginseng root"]     = {"addiction", "darkshade", "haemophilia", "lethargy", "nausea", "scytherus"},
                ["ferrum flake"]     = {"addiction", "darkshade", "haemophilia", "lethargy", "nausea", "scytherus"},
                ["rage"]             = {"timeloop","generosity", "pacifism","justice"},
                ["prickly pear"]     = {"pressure"},
								["calcite mote"]     = {"pressure"},
        },

        focused = {
								"stuttering",
                "lovers",
                "agoraphobia",
                "anorexia",
                "claustrophobia",
                "confusion",
                "dizziness",
                "epilepsy",
                "generosity",
                "loneliness",
                "masochism",
                "pacifism",
                "recklessness",
                "shyness",
                "stupidity",
                "vertigo",
                "airdisrupt",
                "firedisrupt",
                "waterdisrupt",
                "paranoia",
                "dementia",
                "hallucinations",            
        },

        treed = {
								"crushedthroat",
								"stuttering",
                "aeon",
                "healthleech",
                "haemophilia",
                "clumsiness",
                "aflame",
                "paranoia",
                "vertigo",
                "agoraphobia",
                "dizziness",
                "claustrophobia",
                "recklessness",
                "epilepsy",
                "addiction",
                "stupidity",
                "scytherus",
                "slickness",
                "generosity",
                "justice",
                "pacifism",
                "confusion",
                "voyria",
                "weariness",
                "hallucinations",
                "confusion",
                "disloyalty",
                "lethargy",
                "shyness",
                "sensitivity",
                "asthma",
                "crippledarm",
                "crippledleg",
                "darkshade",
                "impatience",
                "anorexia",
                "loneliness",
                "hypochondria", 
                "selarnia",
                "leftleg",
                "leftarm",
                "rightleg",
                "rightarm",
                "frozen",
                "airdisrupt",
                "earthdisrupt",
                "firedisrupt",
                "spiritdisrupt",
                "waterdisrupt",
                "hellsight",
                "nausea",
                "lovers",
                "parasite",
                "retribution",
                "depression",
                "shadowmadness",
								"timeloop",
								"manaleech",
								"tension",
								"unweavingspirit",
								"unweavingmind",
								"unweavingbody",
                "tenderskin", 
                "spiritburn", 
        },
 
        restored = {
                "crippledarm",
                "crippledleg",
                "rightleg",
                "leftleg",
                "rightarm",
                "leftarm",              
        },
 
        smoked = {
                "deadening",
                "disloyalty",
                "slickness",
                "manaleech",
                "aeon",
                "hellsight",
								"tension",
								"unweavingspirit",
        },

        score = {
                ["addiction"]      = 0,
                ["aeon"]           = 0,
                ["agoraphobia"]    = 0,
                ["anorexia"]       = 0,
                ["aflame"]         = 0,
                ["amnesia"]        = 0,
                ["armexpend"]      = 0,
                ["airfist"]        = 0,
                ["asthma"]         = 0,
                ["bitten"]         = 0,
                ["blind"]          = 0,
                ["blackout"]       = 0,
								["bloodfire"]      = 0,
                ["blisters"]       = 0,
                ["bound"]          = 0,
                ["brand"]          = 0,
                ["claustrophobia"] = 0,
                ["clumsiness"]     = 0,
                ["conflagrate"]    = 0,
                ["confusion"]      = 0,
								["corruption"]     = 0,
                ["crippledarm"]    = 0,
                ["crippledleg"]    = 0,
                ["crushedthroat"]  = 0,
                ["darkshade"]      = 0,
                ["deadening"]      = 0,
                ["deaf"]           = 0,
                ["dementia"]       = 0,
                ["depression"]     = 0,
                ["dehydrate"]      = 0,
                ["disloyalty"]     = 0,
                ["disrupt"]        = 0,
                ["dizziness"]      = 0,
                ["enlighten"]      = 0,
                ["epilepsy"]       = 0,
                ["frozen"]         = 0,
                ["generosity"]     = 0,
                ["guilt"]          = 0,
                ["haemophilia"]    = 0,
                ["hallucinations"] = 0,
                ["hamstring"]      = 0,
                ["hierophant"]     = 0,
                ["healthleech"]    = 0,
                ["hellsight"]      = 0,
                ["hypersomnia"]    = 0,
                ["hypochondria"]   = 0,
                ["hypothermia"]    = 0,
                ["impaleslash"]    = 0,
                ["impatience"]     = 0,
                ["inquisition"]    = 0,
                ["insomnia"]       = 0,
                ["justice"]        = 0,
                ["kola"]           = 0,
                ["latched"]        = 0,
                ["lethargy"]       = 0,
                ["lovers"]         = 0,
                ["loneliness"]     = 0,
                ["masochism"]      = 0,
                ["manaleech"]      = 0,
                ["mindclamp"]      = 0,
								["mindravaged"]    = 0,
                ["nausea"]         = 0,
                ["pacifism"]       = 0,
                ["paralysis"]      = 0,
                ["parasite"]       = 0,
                ["paranoia"]       = 0,
                ["petrified"]      = 0,
                ["prone"]          = 0,
								["preempt"]        = 0,
                ["recklessness"]   = 0,
                ["retribution"]    = 0,
                ["rixil"]          = 0,
                ["scalded"]        = 0,
                ["scytherus"]      = 0,
                ["selarnia"]       = 0,
                ["sensitivity"]    = 0,
                ["shadowmadness"]  = 0,
                ["shyness"]        = 0,
                ["slime"]          = 0,
                ["slickness"]      = 0,
                ["tempslickness"]  = 0,
                ["sleep"]          = 0,
                ["spiritburn"]     = 0,
                ["stupidity"]      = 0,
								["stuttering"]     = 0,
                ["surge"]          = 0,
                ["transfixed"]     = 0,
                ["tenderskin"]     = 0,
                ["timeflux"]       = 0,
                ["timeloop"]       = 0,
                ["trussed"]        = 0,
                ["unconscious"]     = 0,
                ["weariness"]      = 0,
                ["wrenchhead"]     = 0,
                ["wrenchtorso"]     = 0,
                ["whisperingmadness"] = 0,
                ["worm"]           = 0,
                ["vertigo"]        = 0,
                ["vitiate"]        = 0,
                ["voidfist"]       = 0,
                ["voyria"]         = 0,
                ["airdisrupt"]     = 0,
                ["earthdisrupt"]   = 0,
                
                ["trussed"]        = 0,
                ["unconscious"]    = 0,    
                ["firedisrupt"]    = 0,
                ["spiritdisrupt"]  = 0,
                ["waterdisrupt"]   = 0,
                ["rightleg"]       = 0,
                ["leftleg"]       = 0,
                ["rightarm"]       = 0,
                ["leftarm"]       = 0,
                ["head"]       = 0,
                ["torso"]       = 0,
								["tension"]     = 0,
								["pressure"]    = 0,
								["unweavingbody"] = 0,
								["unweavingmind"] = 0,
								["unweavingspirit"] = 0,
        },
 
        cureall = {
								"crushedthroat",
								"stuttering",
                "addiction",
                "aflame",
                "agoraphobia",
                "anorexia",
                "asthma",
                "claustrophobia",
                "clumsiness",
                "confusion",
                "crippledarm",
                "crippledleg",   
                "darkshade",     
                "deadening",                
                "dementia",      
                "disloyalty",     
                "disrupt",       
                "dizziness",      
                "epilepsy",     
                "generosity",     
                "haemophilia",    
                "hallucinations", 
                "healthleech",
                "hellsight",
                "hypersomnia",    
                "hypochondria",   
                "impatience",     
                "lethargy",       
                "loneliness", 
                "lovers",
                "manaleech",    
                "masochism",  
                "nausea",    
                "pacifism",       
                "paralysis",      
                "paranoia",       
                "recklessness",   
                "scytherus",    
                "selarnia",    
                "sensitivity",   
                "shyness",      
                "slickness",    
                "stupidity",     
                "weariness",     
                "vertigo",        
                "voyria",
								"tension",
								"pressure",
								"unweavingbody", 
								"unweavingmind", 
								"unweavingspirit",
                },
}
affstrack.hypo = {
   [1] = "nausea",
   [2] = "addiction",
   [3] = "lethargy",
}
affstrack.crushedpots = {
   ["piece of kelp"]   = "pothealthleech",
   ["bellwort flower"] = "vernalius",
   ["valerian leaf"]   = "gecko",
   ["lobelia seed"]    = "potloneliness",
   ["piece of slippery elm"] = "larkspur",
   ["kola nut"]        = "delphinium",
   ["goldenseal root"] = "potepilepsy",
   ["hawthorn berry"]  = "prefarar",
}

affstrack.physicallist = {"asthma","sensitivity","healthleech","haemophilia","clumsiness","darkshade","slickness","paralysis"}
affstrack.mentallist = {"addiction","dementia","stupidity","confusion","hypersomnia","paranoia","hallucinations","impatience","recklessness","masochism","agoraphobia","loneliness","lovers"}
affstrack.whisperlist = {"addiction","dementia","stupidity","confusion","hypersomnia","paranoia","hallucinations","impatience","recklessness","masochism","agoraphobia","loneliness","lovers"}
affstrack.enlightenlist = {"whisperingmadness","vertigo","dementia","stupidity","confusion","hypersomnia","paranoia","hallucinations","impatience","recklessness","masochism","agoraphobia","loneliness","lovers","dizziness","anorexia","hypochondria","claustrophobia"}
affstrack.smokelist = {"manaleech","deadening","disloyalty"}
affstrack.enlightenscore = 0
affstrack.accentatoscore = 0
affstrack.ginsengscore = 0
affstrack.pyradiusscore = 0
affstrack.goldenscore = 0
affstrack.kelpscore = 0
affstrack.mentalscore = 0
affstrack.totalaffs = 0
affstrack.impale = false
ak.randomaffs = 0
cecho("\n&lt;LimeGreen&gt;[&lt;DodgerBlue&gt;AK&lt;LimeGreen&gt;]: &lt;snow&gt;Loaded Module: AK Opponent Tracking!!")</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Soft Reset</name><packageName /><script>function ak.softreset()
  ak.tza = false
	ak.shaman.Relapseaff = "none"
  ak.shaman.coagulation = true
  ak.shaman.bloodlet = true
	ak.shaman.GetFashions = false
	ak.pervasion.hitcount = 0
	ak.pervasion.initialbleed = false
	ak.bleeding = 0
  ak.shaman.relapse = true
	cecho("&lt;cyan&gt; \nINITATED A SOFT OPPONENT AFFLICTON RESET, DID NOT RESET ANY BALANCES!!")
	cecho("&lt;yellow&gt; \nINITATED A SOFT OPPONENT AFFLICTON RESET, DID NOT RESET ANY BALANCES!!")
	cecho("&lt;cyan&gt; \nINITATED A SOFT OPPONENT AFFLICTON RESET, DID NOT RESET ANY BALANCES!!")
	cecho("&lt;yellow&gt; \nINITATED A SOFT OPPONENT AFFLICTON RESET, DID NOT RESET ANY BALANCES!!\n\n")
	disableTrigger("Swiftstring")
	disableTimer("Hypochondria Timer")
	ak.resetbacktrack()
	targetlyred = 0
	applycure = {}
	ak.bals.salve = true
	ak.bals.focus = true
	if ak.tendonTimer then killTimer(ak.tendonTimer) end
	if ak.skullTimer then killTimer(ak.skullTimer) end
	if ak.wristTimer then killTimer(ak.wristTimer) end
	if ak.ribTimer then killTimer(ak.ribTimer) end
	if ak.timers.salvebackup then killTimer(ak.timers.salvebackup) end
	local wasdehydrated = false
	local wastimefluxed = false
	local hieroup = false
	local rixilup = false
	if affstrack and affstrack.score then
   	if affstrack.score.dehydrate == 100 then
  	    wasdehydrated = true
  	 end
  	 if affstrack.score.timeflux == 100 then
  	    wastimefluxed = true
  	 end
	end	
	if affstrack.score.hierophant == 100 then
		hieroup = true
	end
	if affstrack.score.rixil == 100 then
		rixilup = true
	end
	ak.engaged = false

   for k,v in pairs(affstrack.score) do
      affstrack.score[k] = 0
   end

	if hieroup then 
		affstrack.score.hierophant = 100
	end
	if rixilup then 
		affstrack.score.rixil = 100
	end
	affstrack.enlightenscore = 0
	affstrack.ginsengscore = 0
	affstrack.goldenscore = 0
	affstrack.pyradiusscore = 0
	affstrack.kelpscore = 0
	affstrack.tramplescore = 0
	affstrack.mentalscore = 0
	affstrack.totalaffs = 0
	ak.twoh = ak.twoh or {}
	ak.twoh.skull = 0
	ak.twoh.ribs = 0
	ak.twoh.tendons = 0
	ak.twoh.wrist = 0
	ak.occie.aura.physical =  0
	ak.occie.aura.mental = 0
	ak.alchemist.humour.sanguine = 0
	ak.alchemist.humour.choleric = 0
	ak.alchemist.humour.melancholic = 0
	ak.alchemist.humour.phlegmatic = 0
	ak.randomaffs = 0
	opponenthalftree = 0
	if wasdehydrated then
	   affstrack.score.dehydrate = 100
	end
	if wastimefluxed then
	   affstrack.score.timeflux = 100
	end
	ak.track.flown = false
	ak.currentmana = 5000
	ak.maxmana = 5000
	ak.currenthealth = 5000
	ak.maxhealth = 5000
	ak.manapercent = 100
	ak.healthpercent = 100
	ak.classlockadd()
  if ak.radiancestack then
    ak.stack = ak.radiancestack
    ak.radiancestack = nil
  end
	ak.alchemist.humour.sanguine = 0
	ak.alchemist.humour.choleric = 0
	ak.alchemist.humour.phlegmatic = 0
	ak.alchemist.humour.melancholic = 0
  ak.scoreup(target)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Osettings! --Move This Outside of AK| DELETE THE FOURTH LINE DOWN</name><packageName /><script>--osettings
ak = ak or {}

ak.MovementKeys = ak.MovementKeys or {"Tecton","Maya"}--add yourself here to allow num key movement
ak.disableAllEchos = false --Set to Disable Relays and Prompt
ak.nodisplay = false  --Set to True to Turn off Display!  Always Retarget something to refresh.
ak.expertdiagnose = false --Set to False to Disable ED
ak.obacktrack = true  --Set to False to Disable Backtracking
ak.oprotrack = true --If you do unknown affs, do not enable this
ak.owhy = true --If you do not have 100% accurate affliction information(group fighting/Illusion), do not enable this
ak.highlighttarget = false --Self Explanatory
------------------------------------------------------------------------------------------------------------------

ak.spear = "a Stormspear"                          --This is for Spear Venom Tracking Purposes
ak.odirk = "Thoth's fang"                          --This is for Dstab Venom Tracking Purposes

-------------------------------------------------------------------------------------------------------------------

--Adding your weapons to limb counter:
ak.limbs = ak.limbs or {} 
ak.limbs.myweapons = ak.limbs.myweapons or {

		--Proximity Values.  Finds the closest to our target health and uses that.
		--These are percentage values, so a single stab vs 4000 health target will do 9% damage.
   ["a Soulpiercer"] = {
      [2563] = 7,
      [4000] = 9,
      [5000] = 10,
      [6000] = 11,
   },
   ["a Logosian longsword"] = {
      [2563] = 7,
      [4000] = 9,
      [5000] = 10,
      [6000] = 11,
   },
}

--Adding your custom limb formula:

ak.limbs.myformulas = {} 

--Must retain formatting as a function and us ak's called weapon in function name(example is hfp).  
--Limbs break at 100, ergo these should return a percentage. Dragon rend would return 25

function ak.limbs.myformulas.hfp(who, attacker, weapon, limb, augment, check)
	local whomaxhealth = ak.limbs.FindTargetHealth(who)
  local damage = 0
	damage = roundUp(.0897*whomaxhealth+227*1.35,0)
	damage = (100 * damage/whomaxhealth) --Converting to a percentage
	return damage  
end

---------------------------------------------------------------------------------------------------------------------

--OBVIOUSLY YOU DON"T WANT TO LOOK LIKE YOU ARE USING MY SYSTEM!  PEOPLE MIGHT LOOK DOWN ON YOU!!

function EchoForAddedAff(incoming)
   cecho("&lt;white&gt;\nProcessed Affliction(&lt;yellow&gt;" ..incoming.. "&lt;white&gt;)")  --Change this line for added afflictions
end
function EchoForLostAff(incoming)
   cecho("&lt;white&gt;\nLost Affliction(&lt;yellow&gt;" ..incoming.. "&lt;white&gt;)")  --Change this line for removed afflictions
end  
function EchoForPossibleCures(incoming)
   cecho("&lt;white&gt;\nProcessed Cures(&lt;yellow&gt;" ..incoming.. "&lt;white&gt;)")  --Change this line for removed afflictions
end 
function EchoForMajorAff(incoming,color,color2,color3)
	local color = color or "red"
	local color2 = color2 or "cyan"
	local color3 = color3 or "green"
	cecho("\n&lt;purple&gt; --------------------------------------------------------------")
	cecho("\n&lt;"..color.."&gt; --------------------&lt;"..color2.."&gt;GOT&lt;"..color3.."&gt; "..incoming.."&lt;"..color.."&gt;!!--------------------------")
	cecho("\n&lt;"..color.."&gt; --------------------&lt;"..color2.."&gt;GOT&lt;"..color3.."&gt; "..incoming.."&lt;"..color.."&gt;!!--------------------------")
	cecho("\n&lt;"..color.."&gt; --------------------&lt;"..color2.."&gt;GOT&lt;"..color3.."&gt; "..incoming.."&lt;"..color.."&gt;!!--------------------------")
	cecho("\n&lt;"..color.."&gt; --------------------&lt;"..color2.."&gt;GOT&lt;"..color3.."&gt; "..incoming.."&lt;"..color.."&gt;!!--------------------------")
	cecho("\n&lt;"..color.."&gt; --------------------&lt;"..color2.."&gt;GOT&lt;"..color3.."&gt; "..incoming.."&lt;"..color.."&gt;!!--------------------------")
	cecho("\n&lt;purple&gt; --------------------------------------------------------------")
end


----------------------------------------------------------------------------------------------------------------------

--USE THIS TO SET YOUR SERVERSIDE ALIASES FOR YOU, DEPENDING ON THEIR AFFS
--THEN SIMPLY CALL YOUR SERVERSIDE ALIAS


function ak.mycustomoffense()
   if ak.stack == "example" then --make stack variable default below
      --venom_select()
      --attack_select()
      --additional_attack_decision()
      --set_server_side_aliases_using_info_from_above()
	 elseif ak.stack == "dragon" then
			ak.dragon.default.main() 
   end
end

----------------------------------------------------------------------------------------------------------------------

--*

--Svo Prompt--

--add ^y@ml_oprompt to your custom prompt

--*


--WYS Prompt--

--type wshow display

--add @owysprompt into your prompt



-----------------------------------------------------------------------------------------------------------------------



</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Hard Reset</name><packageName /><script>--scoreup2
function ak.oresetparse()
target = target or "Austere"
ak.dragonTarget = false
ak.elementalTarget = false
ak.stack = ak.stack or "none"
affstrack.impale = false
targetparry = "unknown"
ak.bleeding = 0
ak.flyer = false
mycharacters = mycharacters or {}--This is for my Personal Gui
if swiftcount == nil then swiftcount = 0 end
disableTimer("Hypochondria Timer")
opponenteat = 0
promptset = {}
applycure = {}
ak.bals.salve = true
ak.bals.focus = true
opponenttree = 0

ak.defs.mass = true
ak.defs.shield = false
ak.defs.rebounding = true
ak.defs.reRebounding = false
ak.defs.sileris = true
ak.defs.curseward = true
ak.defs.holdbreath = false
ak.defs.speed = true

timerherb = 0
if ak.timers.apply then
	killTimer(ak.timers.apply)
	ak.timers.apply = false
end
if ak.timers.salvebackup then 
	killTimer(ak.timers.salvebackup) 
end
opponenthalftree = 0
timertree = 0
currentvenoms = {}
lastvenom = {}
targetlyred = 0
boilable = true
vodun = vodun or {}
lockcheck = false
ak.tza = false
knownrun = nil
parsedclasscures = false
ak.psion.unweaving.mind = 0
ak.psion.unweaving.body = 0
ak.psion.unweaving.spirit = 0
ak.resetbacktrack()
ak.twoh = ak.twoh or {}
ak.twoh.skull = 0
ak.twoh.ribs = 0
ak.twoh.tendons = 0
ak.twoh.wrist = 0
ak.occie.aura.physical =  0
ak.occie.aura.mental = 0
ak.alchemist.humour.sanguine = 0
ak.alchemist.humour.choleric = 0
ak.alchemist.humour.melancholic = 0
ak.alchemist.humour.phlegmatic = 0
ak.pervasion.initialbleed = false
ak.pervasion.hitcount = 0
ak.shaman.Relapseaff = "none"
ak.shaman.coagulation = true
ak.shaman.bloodlet = true
ak.shaman.relapse = true
ak.shaman.GetFashions = false
ak.psion.transcend = 0
ak.jinxcount = 0
if ak.scaldTimer then killTimer(ak.scaldTimer) end
if ak.tendonTimer then killTimer(ak.tendonTimer) end
if ak.skullTimer then killTimer(ak.skullTimer) end
if ak.wristTimer then killTimer(ak.wristTimer) end
if ak.ribTimer then killTimer(ak.ribTimer) end
ak.track.flown = false
ak.diagnosingoffbal = false
ak.CustomCureSend = false
ak.manapercent = 100
ak.healthpercent = 100
ak.currentmana = 5000
ak.maxmana = 5000
ak.currenthealth = 5000
ak.maxhealth = 5000
ak.engaged = false
ak.TorsoWrench = false
ak.HeadWrenchDisable = nil
ak.InitialWrench = nil
ak.propped = false
ak.SerpentRotateBite = false
ak.duress.pressure = 0
ak.duress.scourrelapse = false
ak.duress.stranglerelapse = false
ak.duress.zephyrrelapse = false
ak.duress.asphyxiate = false
ak.tumbling = false
for k,v in pairs(affstrack.score) do
   affstrack.score[k] = 0
end
affstrack.enlightenscore = 0
affstrack.ginsengscore = 0
affstrack.goldenscore = 0
affstrack.pyradiusscore = 0
affstrack.kelpscore = 0
affstrack.tramplescore = 0
affstrack.mentalscore = 0
affstrack.totalaffs = 0
ak.randomaffs = 0
ak.knownmaxhealth = ak.knownmaxhealth or {}
ak.limbs.limb_table_check(target)
if gmcp and ak.stack == "none" then
   ak.classenable()
end
ak.scoreup(target)
if gmcp and gmcp.Char and gmcp.Char.Vitals and gmcp.Char.Vitals.maxhp then
   ak.knownmaxhealth["Me"] = tonumber(gmcp.Char.Vitals.maxhp) or 5150
   ak.classlockadd()
   if not ak.displaydecide then 
      ak.classenable()
      if ak.nodisplay == false and not table.contains(mycharacters,gmcp.Char.Name.name) then 
         init() 
      end 
      ak.displaydecide = true 
   end
end
if ak.radiancestack then
   ak.stack = ak.radiancestack
   ak.radiancestack = nil
end
cecho("&lt;cyan&gt; Reset Success!\n\n")
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Expert Diagnosing</name><packageName /><script>
function ak.expertRun()
   possiblechecksAK = {}
   vcombo = vcombo or {}
   currentlydiagnosingak = nil
   for k,v in pairs(affstrack.score) do
      if (v &gt; 1 and AkcheckPrioList[k] and AkcheckPrioList[k] ~= 0) and (not table.contains(affstrack.venoms, k) or not table.contains(vcombo, affstrack.venoms[k])) then
         local mathed = v
         if mathed &lt; 50 then
            mathed =  50-((mathed - 50) * -1)
         else
            mathed = 50-(mathed - 50)
         end
         if (mathed + AkcheckPrioList[k]) &gt; 100 then
            possiblechecksAK[k] = (mathed + AkcheckPrioList[k])
         end
         mathed = nil
      end
   end
   ak.ExpertPickanAff()
end

function ak.ExpertPickanAff()
   for k,v in pairs(possiblechecksAK) do
      if currentlydiagnosingak == nil then
         currentlydiagnosingak = k
      end 
      if v &gt; possiblechecksAK[currentlydiagnosingak] then
         currentlydiagnosingak = k
      end
   end
   if currentlydiagnosingak then
      currentlydiagnosingak = "check "..target.." for "..currentlydiagnosingak 
   else
      currentlydiagnosingak = ""
   end
   if not ak.diagnosingoffbal and currentlydiagnosingak ~= "" then
      send(currentlydiagnosingak)
   end
end
AkcheckPrioList = {
                ["addiction"]      = 0,
                ["aeon"]           = 100,
                ["agoraphobia"]    = 0,
                ["anorexia"]       = 0,
                ["aflame"]         = 0,
                ["airfist"]        = 0,
                ["asthma"]         = 0,
                ["blind"]          = 0,
                ["blackout"]       = 0,
                ["bound"]          = 0,
                ["claustrophobia"] = 0,
                ["clumsiness"]     = 50,
                ["confusion"]      = 0,
                ["crippledarm"]    = 0,
                ["crippledleg"]    = 0,
                ["darkshade"]      = 50,
                ["deadening"]      = 0,
                ["deaf"]           = 0,
                ["dementia"]       = 0,
                ["disloyalty"]     = 0,
                ["disrupt"]        = 0,
                ["dizziness"]      = 0,
                ["epilepsy"]       = 0,
                ["frozen"]         = 0,
                ["generosity"]     = 0,
                ["haemophilia"]    = 100,
                ["hallucinations"] = 0,
                ["hamstring"]      = 0,
                ["healthleech"]    = 0,
                ["hellsight"]      = 0,
                ["hypersomnia"]    = 0,
                ["hypochondria"]   = 100,
                ["impaleslash"]    = 0,
                ["impatience"]     = 100,
                ["insomnia"]       = 0,
                ["kola"]           = 0,
                ["lethargy"]       = 0,
                ["loneliness"]     = 0,
                ["masochism"]      = 0,
                ["manaleech"]      = 0,
                ["nausea"]         = 0,
                ["pacifism"]       = 0,
                ["paralysis"]      = 100,
                ["paranoia"]       = 0,
                ["prone"]          = 0,
                ["recklessness"]   = 0,
                ["scytherus"]      = 100,
                ["selarnia"]       = 0,
                ["sensitivity"]    = 75,
                ["shyness"]        = 0,
                ["slickness"]      = 100,
                ["sleep"]          = 0,
                ["stupidity"]      = 0,
                ["transfixed"]     = 0,
                ["timeflux"]       = 0,
                ["weariness"]      = 75,
                ["whisperingmadness"] = 0,
                ["vertigo"]        = 0,
                ["vitiate"]        = 0,
                ["voidfist"]       = 0,
                ["voyria"]         = 0,
                ["rightleg"]       = 0,
                ["leftleg"]        = 0,
                ["rightarm"]       = 0,
                ["leftarm"]        = 0,
                ["head"]           = 0,
                ["torso"]          = 0,
}
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>BackTracking</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Opponent Priority Table</name><packageName /><script>--backtrack define
-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.AddedAffReset(affliction)
   if ocured then
      for k,v in pairs(ocured) do
         --display(ocured[k]) 
         if table.contains(ocured[k], affliction) then
            ocured[k] = nil
         end   
      end
   end
end

function ak.ResetConfirmAff(affliction)
   if ocured then
      for k,v in pairs(ocured) do
				 if type(v) == "table" and v[affliction] then
            v[affliction] = nil  
				 end 
      end
   end
end

ocured = ocured or {
   parseout = {},
   conversion = {
       ["aurum flake"]      = "kelp",
       ["piece of kelp"]    = "kelp",
       ["lobelia seed"]     = "lobelia",
       ["argentum flake"]   = "lobelia",
       ["prickly ash bark"] = "ash",
       ["stannum flake"]    = "ash",
       ["bellwort flower"]  = "bellwort",
       ["cuprum flake"]     = "bellwort",
       ["goldenseal root"]  = "goldenseal",
       ["plumbum flake"]    = "goldenseal",
       ["bloodroot leaf"]   = "bloodroot",
       ["magnesium chip"]   = "bloodroot",
       ["ginseng root"]     = "ginseng",
       ["ferrum flake"]     = "ginseng",
       ["rage"]             = "rage",
       ["hawthorn berry"]   = "hawthorn",
       ["calamine crystal"] = "hawthorn",
       ["bayberry bark"]    = "bayberry",
       ["arsenic pellet"]   = "bayberry"
   },
   curemethods = {
   "treed",
   "focused",
   "restored",
   "smoked",
   "cureall",
   "applied",
   } 
}

function ak.resetbacktrack()
ocured = {
   conversion = {
       ["aurum flake"]      = "kelp",
       ["piece of kelp"]    = "kelp",
       ["lobelia seed"]     = "lobelia",
       ["argentum flake"]   = "lobelia",
       ["prickly ash bark"] = "ash",
       ["stannum flake"]    = "ash",
       ["bellwort flower"]  = "bellwort",
       ["cuprum flake"]     = "bellwort",
       ["goldenseal root"]  = "goldenseal",
       ["plumbum flake"]    = "goldenseal",
       ["bloodroot leaf"]   = "bloodroot",
       ["magnesium chip"]   = "bloodroot",
       ["ginseng root"]     = "ginseng",
       ["ferrum flake"]     = "ginseng",
       ["rage"]             = "rage",
       ["hawthorn berry"]    = "hawthorn",
       ["calamine crystal"] = "hawthorn",
       ["bayberry bark"]    = "bayberry",
       ["arsenic pellet"]   = "bayberry"
   },
   curemethods = {
   "treed",
   "focused",
   "restored",
   "smoked",
   "cureall",
   "applied",
   } 
}
end


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Pro Tracking Base</name><packageName /><script>ak.ProTrackingConfirmed = ak.ProTrackingConfirmed or function(affliction) 
  affstrack.score[affliction] = 100
  ak.scoreup(target)
end
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Stacks</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>ClassLock</name><packageName /><script>function ak.dragonfied(affline)
	if not ak.dragonTarget then
		ak.dragonTarget = true
		ak.classlockadd()
		parsedclasscures = false
		ak.scoreup(target)
		cecho("\n&lt;cyan&gt;Target is &lt;yellow&gt;DTF")
	end
end

function ak.elementalfied(what)
	if not ak.elementalTarget then
		ak.elementalTarget = what
		ak.dragonTarget = false
		ak.classlockadd()
		parsedclasscures = false
		ak.scoreup(target)
		cecho("\n&lt;cyan&gt;Target is &lt;yellow&gt;DTF("..what..")")
	end
end

function ak.classlockadd()
   if ndba and wsys then
      ak.classlockwsys()
   elseif svo and ndb then
      ak.classlocksvo()
	 else 
	    classlock = {}
      table.insert( classlock, "voyria" )
      table.insert( classlock, "weariness" )
      table.insert( classlock, "reckless" )
   end
end

function ak.classlockwsys()
 classlock = {}
 if ak.elementalTarget then
 	if ak.elementalTarget == "Earth" then
		table.insert( classlock, "weariness" )	
	elseif ak.elementalTarget == "Air" then
		table.insert( classlock, "voyria" )	
	elseif ak.elementalTarget == "Water" then
		table.insert( classlock, "weariness" )		
	elseif ak.elementalTarget == "Fire" then
		table.insert( classlock, "weariness" )
	end 
 elseif ak.dragonTarget then
   table.insert( classlock, "weariness" )
   table.insert( classlock, "recklessness" )
 elseif ndba.isperson(target) and ndba.getclass(target) ~= "unknown" then
   if ndba.getclass(target) == "Alchemist" then    --
      table.insert( classlock, "stupidity" )
   elseif ndba.getclass(target) == "Apostate" then --
      table.insert( classlock, "voyria")
   elseif ndba.getclass(target) == "Bard" then
      table.insert( classlock, "voyria" )
	 elseif ndba.getclass(target) == "Blademaster" then
      table.insert( classlock, "paralysis" )
      table.insert( classlock, "weariness" )
		  table.insert( classlock, "prone" )
   elseif ndba.getclass(target) == "Druid" then    --
      table.insert( classlock, "weariness" )
		  table.insert( classlock, "prone" )
   elseif ndba.getclass(target) == "Infernal" then
      table.insert( classlock, "weariness" )
   elseif ndba.getclass(target) == "Jester" then   --
      table.insert( classlock, "voyria" )
   elseif ndba.getclass(target) == "Magi" then
      table.insert( classlock, "haemophilia" )
   elseif ndba.getclass(target) == "Monk" then
      table.insert( classlock, "weariness" )
   elseif ndba.getclass(target) == "Occultist" then   --
      table.insert( classlock, "paralysis" )
      table.insert( classlock, "voyria" )
   elseif ndba.getclass(target) == "Paladin" then  
      table.insert( classlock, "weariness" )
      table.insert( classlock, "voyria" )
   elseif ndba.getclass(target) == "Priest" then   --
      table.insert( classlock, "weariness" )
      table.insert( classlock, "voyria" )
   elseif ndba.getclass(target) == "Runewarden" then
      table.insert( classlock, "weariness" )
      table.insert( classlock, "voyria")
   elseif ndba.getclass(target) == "Sentinel" then   
      table.insert( classlock, "weariness" )
		  table.insert( classlock, "prone" )
   elseif ndba.getclass(target) == "Serpent" then   
      table.insert( classlock, "weariness" )
   elseif ndba.getclass(target) == "Shaman" then   --
      table.insert( classlock, "selarnia" )
   elseif ndba.getclass(target) == "Sylvan" then   --
      table.insert( classlock, "voyria" )
   elseif ndba.getclass(target) == "Depthswalker" then   --
      table.insert( classlock, "recklessness" )
   elseif ndba.getclass(target) == "Psion" then   --
      table.insert( classlock, "confusion" )
   end
 else
    table.insert( classlock, "voyria" )
    table.insert( classlock, "weariness" )
    table.insert( classlock, "reckless" )
 end
end

function ak.classlocksvo()
 classlock = {}
 if ak.dragonTarget then
   table.insert( classlock, "weariness" )
   table.insert( classlock, "recklessness" )
 elseif ndb.isperson(target) and ndb.getclass(target) ~= "unknown" then
   if ndb.getclass(target) == "Alchemist" then    --
      table.insert( classlock, "stupidity" )
   elseif ndb.getclass(target) == "Apostate" then --
      table.insert( classlock, "voyria")
   elseif ndb.getclass(target) == "Bard" then
      table.insert( classlock, "voyria" )
	 elseif ndb.getclass(target) == "Blademaster" then
      table.insert( classlock, "weariness" )
		  table.insert( classlock, "prone" )
   elseif ndb.getclass(target) == "Druid" then    --
      table.insert( classlock, "weariness" )
		  table.insert( classlock, "prone" )
   elseif ndb.getclass(target) == "Infernal" then
      table.insert( classlock, "weariness" )
   elseif ndb.getclass(target) == "Jester" then   --
      table.insert( classlock, "voyria" )
   elseif ndb.getclass(target) == "Magi" then
      table.insert( classlock, "haemophilia" )
   elseif ndb.getclass(target) == "Monk" then
      table.insert( classlock, "weariness" )
   elseif ndb.getclass(target) == "Occultist" then   --
      table.insert( classlock, "paralysis" )
      table.insert( classlock, "voyria" )
   elseif ndb.getclass(target) == "Paladin" then  
      table.insert( classlock, "weariness" )
      table.insert( classlock, "voyria" )
   elseif ndb.getclass(target) == "Priest" then   --
      table.insert( classlock, "voyria" )
   elseif ndb.getclass(target) == "Runewarden" then
      table.insert( classlock, "weariness" )
      table.insert( classlock, "voyria")
   elseif ndb.getclass(target) == "Sentinel" then   
      table.insert( classlock, "weariness" )
		  table.insert( classlock, "prone" )
   elseif ndb.getclass(target) == "Serpent" then   
      table.insert( classlock, "weariness" )
   elseif ndb.getclass(target) == "Shaman" then   --
      table.insert( classlock, "selarnia" )
   elseif ndb.getclass(target) == "Sylvan" then   --
      table.insert( classlock, "voyria" )
   elseif ndb.getclass(target) == "Depthswalker" then   --
      table.insert( classlock, "recklessness" )
   end
 else
    table.insert( classlock, "voyria" )
    table.insert( classlock, "weariness" )
    table.insert( classlock, "reckless" )
 end
end
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Dragon Stack Prep</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>DragonStack(CursePull)</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.dragon.default.dragoncurser() 
      if math.random(100)&lt;50 then
         if affstrack.score.paralysis&lt;100 and vcombo[1] ~= "curare" then
            dragoncurse = "paralysis"
         elseif affstrack.score.asthma&lt;100 and vcombo[1] ~= "kalmia" then
            dragoncurse = "asthma"
         elseif affstrack.score.sensitivity&lt;100 then
            dragoncurse = "sensitivity"
         elseif affstrack.score.impatience&lt;100 then
            dragoncurse = "impatience"
         end
      else
         if affstrack.score.asthma&lt;100 and vcombo[1] ~= "kalmia"  then
            dragoncurse = "asthma"
         elseif affstrack.score.impatience&lt;100 then
            dragoncurse = "impatience"
         elseif affstrack.score.sensitivity&lt;100 then
            dragoncurse = "stupidity"
         elseif affstrack.score.paralysis&lt;100 and vcombo[1] ~= "curare"  then
            dragoncurse = "paralysis"
         end
    
      end
   if affstrack.score.sensitivity&lt;100 and vcombo[1] == "prefarar" and affstrack.score.blind ~= 100 then dragoncurse = "sensitivity" end
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>DragonStack(SetAlias)</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.dragon.default.setalias() 
	ak.setalias("oattackrl", PreAliasGeneral().."/wield shield/dragoncurse "..target.." "..dragoncurse.." 1/rend "..target.." right leg "..vcombo[1].."/breathgust "..target)
	ak.setalias("oattackll", PreAliasGeneral().."/wield shield/dragoncurse "..target.." "..dragoncurse.." 1/rend "..target.." left leg "..vcombo[1].."/breathgust "..target)
	ak.setalias("oattackra", PreAliasGeneral().."/wield shield/dragoncurse "..target.." "..dragoncurse.." 1/rend "..target.." right arm "..vcombo[1].."/breathgust "..target)
	ak.setalias("oattackla", PreAliasGeneral().."/wield shield/dragoncurse "..target.." "..dragoncurse.." 1/rend "..target.." left arm "..vcombo[1].."/breathgust "..target)
	ak.setalias("oattackt", PreAliasGeneral().."/wield shield/dragoncurse "..target.." "..dragoncurse.." 1/rend "..target.." torso "..vcombo[1].."/breathgust "..target)
	ak.setalias("oattackh", PreAliasGeneral().."/wield shield dirk/dragoncurse "..target.." "..dragoncurse.." 1/rend "..target.." head "..vcombo[1].."/breathgust "..target)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>DragonStack(VenomPull)</name><packageName /><script>function ak.dragon.default.venoms()
  vcombo = {}
  if math.random(100)&lt;50 then
    if affstrack.score.paralysis&lt;100 then
        table.insert(vcombo,"curare")
    elseif affstrack.score.crippledarm&lt;100 then
        table.insert(vcombo,"epteth")
    elseif affstrack.score.crippledleg&lt;100 then
        table.insert(vcombo,"epseth")
    elseif affstrack.score.stupidity&lt;100 then
        table.insert(vcombo,"aconite")
    elseif affstrack.score.sensitivity&lt;100 then
        table.insert(vcombo,"prefarar")
    end
  else
    if affstrack.score.stupidity&lt;100 then
        table.insert(vcombo,"aconite")
    elseif affstrack.score.dizziness&lt;100 then
        table.insert(vcombo,"larkspur")
    elseif affstrack.score.clumsiness&lt;100 then
        table.insert(vcombo,"xentio")
    elseif affstrack.score.sensitivity&lt;100 then
        table.insert(vcombo,"prefarar")
    elseif affstrack.score.paralysis&lt;100 then
        table.insert(vcombo,"curare")
    end
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>DragonStack(Main)</name><packageName /><script>--dragon default
ak = ak or {}
ak.dragon = ak.dragon or {}
ak.dragon.default = ak.dragon.default or {}
function ak.dragon.default.main()
	ak.dragon.default.venoms()
	ak.dragon.default.dragoncurser()
	ak.dragon.default.setalias() 
end
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Multiuse Functions</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>oscore edit functions</name><packageName /><script>--OppGainedAff

function OppGainedAff(aff)
	if not aff then return end
	local affStr = {}
	aff = aff:lower()
  if string.find(aff," ") then                          --Multi Venoms
	 		ak.eatsbetweenaffs = 0
      for word in string.gmatch(aff, "%a+") do
         if (word == "sensitivity" or word == "prefarar") and affstrack.score.deaf == 0 then 
            word = "deaf" 
         end
         if table.contains(affstrack.mentallist, word) then
            ak.occie.aura.mental = ak.occie.aura.mental + 1 
         end
         if table.contains(affstrack.physicallist, word) then
            ak.occie.aura.physical = ak.occie.aura.physical + 1 
         end
				 if word == "amnesia" then
				    affstrack.score.amnesia = 100
				    if amnesiatimer then 
							killTimer(amnesiatimer)
							amnesiatimer = nil 
						end
            amnesiatimer = tempTimer(1, [[OppLostAff("amnesia")]])
         elseif string.find(word,"unweave") then
            affstrack.score[word] = affstrack.score[word] + 100
            table.insert(affStr,word:title())
         elseif word == "wrenchhead" then
            affstrack.score.wrenchhead = 100
            OppGainedAff("dizziness")
            disableTimer("Wrench Head Timer")
            enableTimer("Wrench Head Timer")
            ak.HeadWrenchDisable = tempTimer(24,[[affstrack.score.wrenchhead = 0;ak.scoreup(target)]])
            ak.InitialWrench = tempTimer(3.5,[[OppGainedAff("dizziness")]])
            table.insert(affStr,word:title())
				 elseif word == "armexpend" then
            affstrack.score.armexpend = 100
            ak.armexpendtimer = tempTimer(8,[[affstrack.score.armexpend = 0;ak.scoreup(target)]])
            table.insert(affStr,word:title())	
				 elseif word == "blisters" then
            affstrack.score.blisters = 100
            ak.blisterkiller = tempTimer(20,[[affstrack.score.blisters = 0;ak.scoreup(target)]])
            table.insert(affStr,word:title())	
				 elseif word == "hamstring" then
            affstrack.score.hamstring = 100
            ak.hamstringtimer = tempTimer(9.5,[[affstrack.score.hamstring = 0;ak.scoreup(target)]])
            table.insert(affStr,word:title())         
				 elseif word == "worm" then
            affstrack.score.worm = 100
            ak.wormtimer = tempTimer(20,[[affstrack.score.worm = 0;ak.scoreup(target)]])
            table.insert(affStr,word:title())	                      				 
         elseif word == "wrenchtorso" then
            affstrack.score.wrenchtorso = 100
            ak.TorsoWrenchDisable = tempTimer(24,[[affstrack.score.wrenchtorso = 0;ak.scoreup(target)]])
            table.insert(affStr,word:title())
         elseif word == "epseth" or word == "crippledleg" then
            if affstrack.score["leftleg"] &lt; 100 then       
               affstrack.score["leftleg"] = 100
               ak.AddedAffReset("leftleg") 
						table.insert(affStr,word:title())
            elseif affstrack.score["rightleg"] &lt; 100 then       
               affstrack.score["rightleg"] = 100
               ak.AddedAffReset("rightleg") 
						table.insert(affStr,word:title())
            end
         elseif word == "epteth" or word == "crippledarm" then
            if affstrack.score["leftarm"] &lt; 100 then       
               affstrack.score["leftarm"] = 100
               ak.AddedAffReset("leftarm") 
						table.insert(affStr,word:title())
            elseif affstrack.score["rightarm"] &lt; 100 then       
               affstrack.score["rightarm"] = 100
               ak.AddedAffReset("rightarm") 
						table.insert(affStr,word:title())
            end						
				 elseif word == "frozen" then
            affstrack.score[word] = affstrack.score[word] + 100 
            table.insert(affStr,aff:title()) 
            if affstrack.score.frozen &gt; 300 then
               affstrack.score.frozen = 300
            end							
				 elseif word == "deepfreeze" then
            affstrack.score["frozen"] = affstrack.score["frozen"] + 200 
            table.insert(affStr,"Frozen") 
            if affstrack.score.frozen &gt; 300 then
               affstrack.score.frozen = 300
            end										
         elseif affstrack.score[word] then
            if affstrack.score[word] &lt; 100 then       
               affstrack.score[word] = 100
               ak.AddedAffReset(word)
               if (word == "deaf" or word == "sensitivity") then 
                  word = "prefarar" 
               end   
               table.insert(affStr,word:title())
            end
         elseif affstrack.venoms[word] then 
            if affstrack.score[affstrack.venoms[word]] &lt; 100 then    
               affstrack.score[affstrack.venoms[word]] = 100
               ak.AddedAffReset(affstrack.venoms[word])
               if (word == "deaf" or word == "sensitivity") then 
                  word = "prefarar" 
               end
               table.insert(affStr,affstrack.venoms[word]:title())  
            end
         end
		  end
	else          --Single venom
		 ak.eatsbetweenaffs = 1
     if (aff == "sensitivity" or aff == "prefarar") and affstrack.score.deaf == 0 then 
        aff = "deaf" 
     end  
     if table.contains(affstrack.mentallist, aff) then
        ak.occie.aura.mental = ak.occie.aura.mental + 1 
     end
     if table.contains(affstrack.physicallist, aff) then
        ak.occie.aura.physical = ak.occie.aura.physical + 1 
     end
		 if aff == "amnesia" then
				affstrack.score.amnesia = 100
				if amnesiatimer then 
				   killTimer(amnesiatimer)
				   amnesiatimer = nil 
				end
        amnesiatimer = tempTimer(1, [[OppLostAff("amnesia")]])
     elseif string.find(aff,"unweave") then
        affstrack.score[aff] = affstrack.score[aff] + 100
        table.insert(affStr,aff:title())
     elseif aff == "wrenchhead" then
        affstrack.score.wrenchhead = 100
        affstrack.score.torso = 100
        OppGainedAff("dizziness")
        disableTimer("Wrench Head Timer")
        enableTimer("Wrench Head Timer")
        ak.HeadWrenchDisable = tempTimer(24,[[affstrack.score.wrenchhead = 0;ak.scoreup(target)]])
        ak.InitialWrench = tempTimer(3.5,[[OppGainedAff("dizziness")]])
        table.insert(affStr,aff:title())			
		 elseif aff == "blisters" then
        affstrack.score.blisters = 100
        ak.blisterkiller = tempTimer(20,[[affstrack.score.blisters = 0;ak.scoreup(target)]])
        table.insert(affStr,aff:title())	
     elseif aff == "wrenchtorso" then
        affstrack.score.wrenchtorso = 100
        ak.TorsoWrenchDisable = tempTimer(24,[[affstrack.score.wrenchtorso = 0;ak.scoreup(target)]])
        table.insert(affStr,aff:title())
		 elseif aff == "armexpend" then
        affstrack.score.armexpend = 100
        ak.TorsoWrenchDisable = tempTimer(8,[[affstrack.score.armexpend = 0;ak.scoreup(target)]])
        table.insert(affStr,aff:title())	
		 elseif aff == "hamstring" then
         affstrack.score.hamstring = 100
         ak.TorsoWrenchDisable = tempTimer(9.5,[[affstrack.score.hamstring = 0;ak.scoreup(target)]])
         table.insert(affStr,aff:title())	
		 elseif aff == "worm" then
          affstrack.score.worm = 100
          ak.wormtimer = tempTimer(20,[[affstrack.score.worm = 0;ak.scoreup(target)]])
          table.insert(affStr,aff:title())	                  
     elseif aff == "epseth" or aff == "crippledleg" then
        if affstrack.score["leftleg"] &lt; 100 then       
           affstrack.score["leftleg"] = 100
           ak.AddedAffReset("leftleg") 
        elseif affstrack.score["rightleg"] &lt; 100 then       
           affstrack.score["rightleg"] = 100
           ak.AddedAffReset("rightleg") 
        end
        table.insert(affStr,"Epseth")
     elseif aff == "epteth" or aff == "crippledarm" then
        if affstrack.score["leftarm"] &lt; 100 then       
           affstrack.score["leftarm"] = 100
           ak.AddedAffReset("leftarm") 
        elseif affstrack.score["rightarm"] &lt; 100 then       
           affstrack.score["rightarm"] = 100
           ak.AddedAffReset("rightarm") 
        end
        table.insert(affStr,"Epteth")    
		elseif aff == "frozen" then 
        affstrack.score[aff] = affstrack.score[aff] + 100
        table.insert(affStr,aff:title())
        if affstrack.score.frozen &gt; 300 then
           affstrack.score.frozen = 300
        end 
		elseif aff == "deepfreeze" then
        affstrack.score["frozen"] = affstrack.score["frozen"] + 200 
        table.insert(affStr,"Frozen") 
        if affstrack.score.frozen &gt; 300 then
           affstrack.score.frozen = 300
        end		                                         
     elseif affstrack.score[aff] then
        if affstrack.score[aff] &lt; 100 then       
           affstrack.score[aff] = 100
           ak.AddedAffReset(aff)
           if aff == "deaf" or aff == "sensitivity" then 
              aff = "prefarar" 
           end
			   if aff == "hypochondria" then
				   enableTimer("Hypochondria Timer")
			   end
			   if aff == "hellsight" then
				   affstrack.score.slickness = 100
			   end
           table.insert(affStr,aff:title())   
        end
     elseif affstrack.venoms[aff] then 
        if affstrack.score[affstrack.venoms[aff]] &lt; 100 then    
           affstrack.score[affstrack.venoms[aff]] = 100
           ak.AddedAffReset(affstrack.venoms[aff])
           if aff == "deaf" or aff == "sensitivity" then 
              aff = "prefarar" 
           end
           table.insert(affStr,affstrack.venoms[aff]:title())       
        end 
     end
	end
	if #affStr &gt; 0 then 
			ak.echogain(table.concat(affStr, " ")) 
			if rtpkrnl then ApK(table.concat(affStr, " rtpkrnl ")) end--AKG Display
	end
	ak.scoreup(target)
end

function OppLostAff(aff)
	local affStr = ""
	aff = aff:lower()
	if string.find(aff," ") then
		for word in string.gmatch(aff, "%a+") do
			if affstrack.score[word] &gt; 0 then
				affstrack.score[word] = 0
				affStr = word:title()
			end
		end
	else
		if affstrack.score[aff] &gt; 0 then
			affstrack.score[aff] = 0
			affStr = aff:title()
		end
	end
   if affStr:len() &gt; 0 then ak.echolost(affStr) end
	ak.scoreup(target)

end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>System Specific Functions</name><packageName /><script>function ak.deleteFull()
   if svo then
	 		svo.deleteLineP()
	 else
      deleteFull() --Wsys Has An Overwrite
   end
end

function ak.showPrompt()
	if wsys then
		wsys.showPrompt()
	elseif svo and svo.showprompt then
		echo("\n")
		svo.showPrompt()
	else
		send("")
	end
end

if wsys then
	function wsys.showPrompt()
	  local promptstring = wsys.aff.blackout and wsys.settings.blackoutprompt or wsys.settings.prompt
	  --sub out the # color tags
	  promptstring = string.gsub(promptstring, "#([A-Za-z_:]+)", wsys.promptColorSub )
	  --sub out the @ prompt tags
	  promptstring = string.gsub(promptstring, "@(%w+)", wsys.promptTagSub )
	
	  if wsys.def.lyre then promptstring = promptstring .. "&lt;gold&gt; L" end
		if wsys.uselyre then promptstring = promptstring .. "&lt;green&gt; *[&lt;white&gt;LYRE MODE&lt;green&gt;]*" end 
		
	  if wsys.vmode then promptstring = promptstring ..  "&lt;MediumVioletRed&gt; vivi" end
	  if wsys.heartseedmode then promptstring = promptstring ..  "&lt;firebrick&gt; H&lt;LimeGreen&gt;Seed" end
	  if wsys.bardmode then promptstring = promptstring .. "&lt;firebrick&gt; BARD" end
		cecho("\n"..promptstring)
	end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Staff Affliction Tracking</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.staffaff(staffhit)
  if staffhit == "airstaff" then
	   OppGainedAff("prone")
  elseif staffhit == "firestaff" then
	   ak.flameon("notadditive")
  --elseif staffhit == "earthstaff" then
	   --OppGainedAff("prone")
  elseif staffhit == "waterstaff" then
	   OppGainedAff("frozen")
  end
end

--DO NOT MESS WITH THIS--
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>New Person</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.playercheck(who)
	ak[who] = ak[who] or ak.newplayer()
end

function ak.newplayer()
	return { 
		defs = {
		},
		bals = {
			["salve"] = true,
		},
		affs = {
			["addiction"]      = 0,
			["aeon"]           = 0,
			["agoraphobia"]    = 0,
			["anorexia"]       = 0,
			["aflame"]         = 0,
			["amnesia"]        = 0,
			["armexpend"]      = 0,
			["airfist"]        = 0,
			["asthma"]         = 0,
			["bitten"]         = 0,
			["blind"]          = 0,
			["blackout"]       = 0,
			["blisters"]       = 0,
			["bound"]          = 0,
			["brand"]          = 0,
			["claustrophobia"] = 0,
			["clumsiness"]     = 0,
			["conflagrate"]    = 0,
			["confusion"]      = 0,
			["corruption"]     = 0,
			["crippledarm"]    = 0,
			["crippledleg"]    = 0,
			["crushedthroat"]  = 0,
			["darkshade"]      = 0,
			["deadening"]      = 0,
			["deaf"]           = 0,
			["dementia"]       = 0,
			["depression"]     = 0,
			["dehydrate"]      = 0,
			["disloyalty"]     = 0,
			["disrupt"]        = 0,
			["dizziness"]      = 0,
			["enlighten"]      = 0,
			["epilepsy"]       = 0,
			["frozen"]         = 0,
			["generosity"]     = 0,
			["haemophilia"]    = 0,
			["hallucinations"] = 0,
			["hamstring"]      = 0,
			["hierophant"]     = 0,
			["healthleech"]    = 0,
			["hellsight"]      = 0,
			["hypersomnia"]    = 0,
			["hypochondria"]   = 0,
			["hypothermia"]    = 0,
			["impaleslash"]    = 0,
			["impatience"]     = 0,
			["inquisition"]    = 0,
			["insomnia"]       = 0,
			["justice"]        = 0,
			["kola"]           = 0,
			["latched"]        = 0,
			["lethargy"]       = 0,
			["lovers"]         = 0,
			["loneliness"]     = 0,
			["masochism"]      = 0,
			["manaleech"]      = 0,
			["mindclamp"]      = 0,
			["nausea"]         = 0,
			["pacifism"]       = 0,
			["paralysis"]      = 0,
			["parasite"]       = 0,
			["paranoia"]       = 0,
			["prone"]          = 0,
			["recklessness"]   = 0,
			["retribution"]    = 0,
			["rixil"]          = 0,
			["scalded"]        = 0,
			["scytherus"]      = 0,
			["selarnia"]       = 0,
			["sensitivity"]    = 0,
			["shadowmadness"]  = 0,
			["shyness"]        = 0,
			["slime"]          = 0,
			["slickness"]      = 0,
			["tempslickness"]  = 0,
			["sleep"]          = 0,
			["stupidity"]      = 0,
			["surge"]          = 0,
			["transfixed"]     = 0,
			["timeflux"]       = 0,
			["timeloop"]       = 0,
			["weariness"]      = 0,
			["wrenchhead"]     = 0,
			["wrenchtorso"]     = 0,
			["whisperingmadness"] = 0,
			["vertigo"]        = 0,
			["vitiate"]        = 0,
			["voidfist"]       = 0,
			["voyria"]         = 0,
			["airdisrupt"]     = 0,
			["earthdisrupt"]   = 0,
			["firedisrupt"]    = 0,
			["spiritdisrupt"]  = 0,
			["waterdisrupt"]   = 0,
			["rightleg"]       = 0,
			["leftleg"]       = 0,
			["rightarm"]       = 0,
			["leftarm"]       = 0,
			["head"]       = 0,
			["torso"]       = 0,
			["tension"]     = 0,
			["pressure"]    = 0,
			["unweavingbody"] = 0,
			["unweavingmind"] = 0,
			["unweavingspirit"] = 0,
		}
	}
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>SnB Smash High</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.SnBSmashHighAff(currentstaby)
	local shAff = "dizziness"
	if affstrack.score.dizziness &lt; 100 and not table.contains(currentstaby,"dizziness") then
		 shAff = "dizziness"
	elseif affstrack.score.recklessness &lt; 100 and not table.contains(currentstaby,"recklessness") then
		 shAff = "recklessness"
	elseif affstrack.score.stupidity &lt; 100 and not table.contains(currentstaby,"stupidity") then
		 shAff = "stupidity"
	elseif affstrack.score.confusion &lt; 100 and not table.contains(currentstaby,"confusion") then
		shAff = "confusion"
	elseif affstrack.score.epilepsy &lt; 100 and not table.contains(currentstaby,"epilepsy") then
		 shAff = "epilepsy"
	end
	return shAff
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Fracture Relapsing</name><packageName /><script>function ak.skullHit()
  if isActive("AK_SkullTimer","timer") == 0 and ak.twoh.skull &gt; 0 then
		ak.skullcount = 0
		OppGainedAff("nausea")
		enableTimer("AK_SkullTimer")
	elseif ak.twoh.skull == 0 then
		ak.skullcount = 0
		disableTimer("AK_SkullTimer")
	end
end

function ak.tendonHit()
	if isActive("AK_TendonTimer","timer") == 0 and ak.twoh.tendons &gt; 0 then
		ak.tendonscount = 0
		OppGainedAff("clumsiness")
		enableTimer("AK_TendonTimer")
	elseif ak.twoh.tendons == 0 then
		ak.tendonscount = 0
		disableTimer("AK_TendonTimer")
	end
end

function ak.ribHit()
	if isActive("AK_RibsTimer","timer") == 0 and ak.twoh.ribs &gt; 0 then
		ak.ribscount = 0
		OppGainedAff("prefarar")
		enableTimer("AK_RibsTimer")
	elseif ak.twoh.ribs == 0 then
		ak.ribscount = 0
		disableTimer("AK_RibsTimer")
	end
end

function ak.wristHit()
	if ak.twoh.wrist &lt; 1 then
		if ak.wristTimer then killTimer(ak.wristTimer) end
	elseif ak.twoh.wrist == 1 then
		if ak.wristTimer then killTimer(ak.wristTimer) end
		ak.wristTimer = tempTimer(5, [[ak.wristTick()]])
	elseif ak.twoh.wrist == 2 then
		if ak.wristTimer then killTimer(ak.wristTimer) end
		ak.wristTimer = tempTimer(4, [[ak.wristTick()]])
	elseif ak.twoh.wrist == 3 then
		if ak.wristTimer then killTimer(ak.wristTimer) end
		ak.wristTimer = tempTimer(3, [[ak.wristTick()]])
	elseif ak.twoh.wrist == 4 then
		if ak.wristTimer then killTimer(ak.wristTimer) end
		ak.wristTimer = tempTimer(2, [[ak.wristTick()]])
	elseif ak.twoh.wrist &gt;= 5 then
		if ak.wristTimer then killTimer(ak.wristTimer) end
		ak.wristTimer = tempTimer(1, [[ak.wristTick()]])
	end 
end

function ak.wristTick()
	ak.wristHit()
end


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Alias Setter</name><packageName /><script>function ak.setalias(aliasname, changes)
	ak.aliases.lastsend[aliasname] = ak.aliases.lastsend[aliasname] or "unknown"
	ak.aliases[aliasname] = ak.aliases[aliasname] or "random"
	if ak.aliases[aliasname] == changes then return end
	if ak.aliases.lastsend[aliasname] == changes then return end
	--local check = string.split(changes, "parry")
		
	ak.aliases.lastsend[aliasname] = changes
	send("setalias "..aliasname.." "..changes, false)

end

local parrychecks = {
	["right leg"] = true,
}

function ak.parrycut(var)
	if not string.find(var,"parry") then
		return var
	end
	for k,v in pairs(parrychecks) do
		
	end
end

function ak.aliasreset()
	send("setalias oattackrl stand")
	send("setalias oattackll stand")
	send("setalias oattackra stand")
	send("setalias oattackla stand")
	send("setalias oattackh stand")
	send("setalias oattackt stand")
	send("setalias oattack stand")
	send("setalias oattacktwo stand")
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Room Defs</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.RoomDefs()
	ak.lookghupdate = false
	ak.lookFloodupdate = false
	ak.looksubmergedupdate = false
  ak.lookdistortionupdate = false
	if ak.looksubmerged then killTrigger(ak.looksubmerged) end
	if ak.lookGH then killTrigger(ak.lookGH) end
	if ak.lookFlood then killTrigger(ak.lookFlood) end
  if ak.lookdistortion then killTrigger(ak.lookdistortion) end
	ak.lookGH = tempTrigger("Hands of rotting flesh and white bone push up from the ground.",[[
		ak.GhLookHanded()
	]])
	ak.lookFlood = tempTrigger("This area is unnaturally flooded with water.",[[
		ak.FloodLookHanded()
	]])	
	ak.looksubmerged = tempTrigger("This location is nearly completely submerged.",[[
		ak.submergedLookHanded()
	]])	
  ak.lookdistortion = tempTrigger("The surroundings are distorted, as if viewed through water.",[[
    ak.distortionLookHanded()
  ]])
end
function ak.GhLookHanded()
	killTrigger(ak.lookGH)
	ak.lookghupdate = true
end
function ak.FloodLookHanded()
	killTrigger(ak.lookFlood)
	ak.lookFloodupdate = true
end
function ak.submergedLookHanded()
	killTrigger(ak.looksubmerged)
	ak.looksubmergedupdate = true
end
function ak.distortionLookHanded()
  killTrigger(ak.lookdistortion)
  ak.lookdistortionupdate = true
end

function ak.GHLookPrompt()
	if ak.gravehands == ak.lookghupdate then return end
	ak.gravehands = ak.lookghupdate
	if ak.lookGH then killTrigger(ak.lookGH) end
	ak.lookGH = nil
	ak.scoreup(target)
end

function ak.FloodLookPrompt()
	if ak.flood == ak.lookFloodupdate then return end
	ak.flood = ak.lookFloodupdate
	if ak.lookFlood then killTrigger(ak.lookFlood) end
	ak.lookFlood = nil
	ak.scoreup(target)
end

function ak.submergedLookPrompt()
	if ak.submerged == ak.looksubmergedupdate then return end
	ak.submerged = ak.looksubmergedupdate
	if ak.looksubmerged then killTrigger(ak.looksubmerged) end
	ak.looksubmerged = nil
	ak.scoreup(target)
end

function ak.distortionLookPrompt()
	if ak.distortion == ak.lookdistortionupdate then return end
	ak.distortion = ak.lookdistortionupdate
	if ak.lookdistortion then killTrigger(ak.lookdistortion) end
	ak.lookdistortion = nil
	ak.scoreup(target)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Queue Tracking</name><packageName /><script>function ak.queuereset()
	if wsys then
		if wsys.bals.b and wsys.bals.e then
			ak.queue.eqbal = {}
			ak.queue.sent = {}
		end
	end
end


registerAnonymousEventHandler("got balance", "ak.queuereset")
registerAnonymousEventHandler("got equilibrium", "ak.queuereset")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Flame on!</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.flameon(typer)
   if typer == "additive" and affstrack.score.dehydrate == 100 and affstrack.score.aflame + 100 &lt; 500 then
      affstrack.score.aflame = affstrack.score.aflame + 100      
   elseif typer == "additive" and affstrack.score.dehydrate == 100 then
      affstrack.score.aflame = 500
   elseif affstrack.score.aflame &lt; 100 then
      affstrack.score.aflame = 100
   end
   ak.scoreup(target)
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Target Check</name><packageName /><script>--Targetted Script
-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function IsTargetted(person)
   if not person then return end
   target = target or "Austere"
   if person == target then 
     return true
   elseif string.starts(person, target) then
      return true
   else
      return false
   end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>oscore</name><packageName /><script>--scoreup
-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.scoreup(whom)
if ak.expertdiagnose and not gmcp.Char.Status.race:match("Dragon") and not ak.pause and not ak.syspause() then
   ak.expertRun()
end
--"Haemophilia, clumsiness, sensitivity, healthleech, darkshade, lethargy."
affstrack.accentatoscore = affstrack.score.impatience + affstrack.score.paranoia + affstrack.score.claustrophobia + affstrack.score.vertigo + affstrack.score.confusion + affstrack.score.dizziness + affstrack.score.stupidity + affstrack.score.addiction + affstrack.score.epilepsy + affstrack.score.anorexia + affstrack.score.generosity + affstrack.score.amnesia
affstrack.mentalscore = affstrack.accentatoscore + affstrack.score.agoraphobia + affstrack.score.recklessness
affstrack.mentalscore = affstrack.mentalscore / 100
affstrack.accentatoscore = affstrack.accentatoscore / 100

affstrack.kelpscore = affstrack.score.healthleech + affstrack.score.asthma + affstrack.score.clumsiness + affstrack.score.hypochondria + affstrack.score.sensitivity + affstrack.score.weariness 
affstrack.kelpscore = affstrack.kelpscore / 100
affstrack.ginsengscore = affstrack.score.addiction + affstrack.score.darkshade + affstrack.score.haemophilia + affstrack.score.lethargy + affstrack.score.nausea + affstrack.score.scytherus
affstrack.ginsengscore = affstrack.ginsengscore / 100

affstrack.goldenscore =  affstrack.score.dizziness + affstrack.score.epilepsy + affstrack.score.impatience + affstrack.score.shyness + affstrack.score.stupidity
affstrack.goldenscore = affstrack.goldenscore / 100

affstrack.pyradiusscore = affstrack.score.clumsiness + affstrack.score.lethargy + affstrack.score.haemophilia + affstrack.score.healthleech + affstrack.score.sensitivity + affstrack.score.darkshade 
affstrack.pyradiusscore = affstrack.pyradiusscore / 100
softscore = affstrack.score.anorexia + affstrack.score.slickness + affstrack.score.asthma
softscore = softscore / 100
truescore = affstrack.score.paralysis + affstrack.score.impatience + affstrack.score.anorexia + affstrack.score.slickness + affstrack.score.asthma
truescore = truescore / 100
affstrack.tramplescore = 0
ak.trample()
affstrack.totalaffs = 0
affstrack.enlightenscore = 0
affstrack.whisperscore = 0
for k,v in pairs(affstrack.score) do
   if v &gt; 1 then
      affstrack.totalaffs = affstrack.totalaffs + v
      if table.contains(affstrack.enlightenlist, k) then
         affstrack.enlightenscore = affstrack.enlightenscore + v
      end
      if table.contains(affstrack.whisperlist, k) then
         affstrack.whisperscore = affstrack.whisperscore + v
      end
   end
end
affstrack.totalaffs = affstrack.totalaffs / 100
affstrack.enlightenscore = affstrack.enlightenscore / 100
affstrack.whisperscore = affstrack.whisperscore / 100
if ak.tzantzajinxed then
	ak.tzantzajinxed = false
elseif target and not ak.pause and not ak.syspause() then 
   ak.serveraliases() 
end
ak.prompt.scoreup()
if ak.nodisplay then ak.noDisplay() else ak.refreshAffs() end
end
  --&lt;3
function ak.trample() 
   affstrack.tramplescore = 0
   affstrack.tramplescore = affstrack.score["leftarm"] + affstrack.score["leftleg"] + affstrack.score["rightleg"] + affstrack.score["rightarm"]
   affstrack.tramplescore = affstrack.tramplescore / 100
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Gmcp Room</name><packageName /><script>function ak.roomupdate()
	 ak.MountLook()
	 ak.RoomDefs()
   if gmcp.Room.Info.num ~= ak.lastroom then
	 		if wsys and wsys.retard then
				wsys.retardationOff()
			end
      ak.ae = ak.ae or 0
      ak.blocked = nil
      if ak.disturbed or ak.ae &gt; 0 or ak.feedback then
         ak.disturbed = false
         ak.ae = 0
         ak.feedback = false
         ak.scoreup(target)
      end
      if ak.infernohere then 
         ak.infernohere = false
         ak.scoreup(target)
      end
   end
   ak.lastroom = gmcp.Room.Info.num
end

registerAnonymousEventHandler("gmcp.Room.Info", "ak.roomupdate")

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>PreAlias</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
if not PreAliasGeneral then
   function PreAliasGeneral()
      local sendon = "stand"
      return sendon
   end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Anti Illusion</name><packageName /><script>
if ak.ai then return end

function ak.ai()
	return false
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Depthswalker Functions</name><packageName /><script>ak.ShadowList = ak.ShadowList or {}
ak.age = function()
	if svo then
		return svo.stats.age
	elseif wsys then
    if not wsys.stats.age then return 0 end
		return wsys.stats.age 
	end
end

ak.haveshadow = function()
	if table.contains(ak.ShadowList,target:lower():title()) then
		return true
	else
		return false
	end
end

ak.removeshadow = function(name)
    if table.contains(ak.ShadowList,name:lower():title()) then
        table.remove(ak.ShadowList,table.index_of(ak.ShadowList,name:lower():title()))
    end
end

ak.addshadow = function(name)
	if not table.contains(ak.ShadowList,name:lower():title()) then
		table.insert(ak.ShadowList,name:lower():title())
	end
	cecho("&lt;cyan&gt;\nShadow Claimed!\n")
end

ak.instill = function(instill)
	if instill == "Degeneration" then
		if affstrack.score.clumsiness &lt; 100 then
			OppGainedAff("clumsiness")
		elseif affstrack.score.weariness &lt; 100 then
			OppGainedAff("weariness")
		else
			OppGainedAff("paralysis")
		end
	elseif instill == "Depression" then
		if affstrack.score.depression &lt; 100 then
			OppGainedAff("depression")
		elseif affstrack.score.nausea &lt; 100 then
			OppGainedAff("nausea")
		else
			OppGainedAff("hypochondria")
		end
	elseif instill == "Retribution" then
		if affstrack.score.justice &lt; 100 then
			OppGainedAff("justice")
		else
			OppGainedAff("retribution")
		end
	elseif instill == "Madness" then
		if affstrack.score.shadowmadness &lt; 100 then
			OppGainedAff("shadowmadness")
		elseif affstrack.score.vertigo &lt; 100 then
			OppGainedAff("vertigo")
		else
			OppGainedAff("hallucinations")
		end
	elseif instill == "Leach" then
		if affstrack.score.parasite &lt; 100 then
			OppGainedAff("parasite")
		elseif affstrack.score.healthleech &lt; 100 then
			OppGainedAff("healthleech")
		else
			OppGainedAff("manaleech")
		end
	end
end

ak.fullinstill = function(instill)
	if instill == "Degeneration" then
		OppGainedAff("weariness")
		OppGainedAff("clumsiness")
		OppGainedAff("paralysis")
	elseif instill == "Depression" then
		OppGainedAff("depression")
		OppGainedAff("nausea")
		OppGainedAff("hypochondria")
		OppGainedAff("anorexia")
		OppGainedAff("masochism")
	elseif instill == "Retribution" then
		OppGainedAff("justice")
		OppGainedAff("retribution")
	elseif instill == "Madness" then
		OppGainedAff("shadowmadness")
		OppGainedAff("vertigo")
		OppGainedAff("hallucinations")
	elseif instill == "Leach" then
		OppGainedAff("parasite")
		OppGainedAff("healthleech")
		OppGainedAff("manaleech")
		ak.addshadow()
	end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>oclass</name><packageName /><script>
NoMiddle = NoMiddle or {}

function ak.MonkType()
  if gmcp.Char.Vitals and gmcp.Char.Vitals.charstats[4] and string.find(gmcp.Char.Vitals.charstats[4], "Form")
  then
    return "Shikudo"
  else
    return "Tekura"
  end
end

function ak.KillTriggers()
	disableKey("Shaman Keys")
	disableKey("Dragon Keys")
	disableTrigger("Air Lord Group")
	disableTrigger("Water Lord Group")
	disableTrigger("Monk Group")
	disableTrigger("Sentinel Group")
	disableTrigger("Depthswalker Group")
	disableTrigger("Runewarden Group")
	disableTrigger("2h Group")
	disableTrigger("Targossas Group")
	disableTrigger("Totem Group")
	disableTrigger("Serpent Group")
	disableTrigger("Jester Group")
	disableTrigger("Tarot Group")
	disableTrigger("Magi Group")
	disableTrigger("Psion Group")
	disableTrigger("Apostate Group")
	disableTrigger("Shaman Group")
	disableTrigger("Dragon Group")
	disableTrigger("Sword &amp; Board Group")
	disableTrigger("Bard Group")
	disableTrigger("Blademaster Group")
  disableTrigger("Fire Lord Group")
	disableTrigger("Occultist Group")
	disableTrigger("Sylvan Group")
	disableTrigger("Alchemist Group")
  disableTrigger("Targossas Group")
  disableTrigger("Priest Group")
end

function ak.classenable()
  if ak.CustomGuiEnable then
    ak.CustomGuiEnable()
  end
  if ak.morphingCheck then
    ak.morphingCheck()
  end
  ak.defaultstack()
  if gmcp.Char.Status.race:match("Dragon") or gmcp.Char.Status.class ~= "Shaman" then
    swiftcount = 0
  end
  if gmcp.Char.Status.race:match("Dragon") then
    ak.KillTriggers()
    enableTrigger("Dragon Group")
		if not table.contains(ak.MovementKeys, gmcp.Char.Name.name) then enableKey("Dragon Keys") end
    cecho("&lt;yellow&gt;\n\nDRAGON ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Monk" then
    ak.KillTriggers()
    enableTrigger("Monk Group")
    cecho("&lt;yellow&gt;\n\nMONK ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Priest" then
    ak.KillTriggers()
    enableTrigger("Targossas Group")
    enableTrigger("Priest Group")
    cecho("&lt;yellow&gt;\n\nPRIEST ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Magi" then
    ak.KillTriggers()
    enableTrigger("Magi Group")
    cecho("&lt;yellow&gt;\n\nMAGI ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Sylvan" then
    ak.KillTriggers()
    enableTrigger("Sylvan Group")
    cecho("&lt;yellow&gt;\n\nSYLVAN ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Shaman" then
		ak.KillTriggers()
    enableKey("Shaman Keys")
    enableTrigger("Shaman Group")
    cecho("&lt;yellow&gt;\n\nSHAMAN ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Serpent" then
    ak.KillTriggers()
    enableTrigger("Serpent Group")
    cecho("&lt;yellow&gt;\n\nSERPENT ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Jester" then
    ak.KillTriggers()
    enableTrigger("Tarot Group")
    enableTrigger("Jester Group")
    cecho("&lt;yellow&gt;\n\nJESTER\n\n")
  elseif gmcp.Char.Status.class == "Alchemist" then
    ak.KillTriggers()
		enableTrigger("Alchemist Group")
    cecho("&lt;yellow&gt;\n\nALCHEMIST\n\n")
  elseif gmcp.Char.Status.class == "Infernal" or gmcp.Char.Status.class == "Paladin" or gmcp.Char.Status.class == "Runewarden" then
    ak.KillTriggers()
		if gmcp.Char.Status.class == "Paladin" then
      enableTrigger("Targossas Group")
    elseif gmcp.Char.Status.class == "Runewarden" then
      enableTrigger("Runewarden Group")
    end
    enableTrigger("Totem Group")
    enableTrigger("2h Group")
    enableTrigger("Sword &amp; Board Group")
    cecho("&lt;yellow&gt;\n\nKNIGHT ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Sentinel" then
    ak.KillTriggers()
    enableTrigger("Sentinel Group")
    cecho("&lt;yellow&gt;\n\nSENTINEL ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Occultist" then
    ak.KillTriggers()
    enableTrigger("Tarot Group")
    enableTrigger("Occultist Group")
    cecho("&lt;yellow&gt;\n\nOCCULTIST ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Bard" then
    ak.KillTriggers()
    enableTrigger("Bard Group")
    cecho("&lt;yellow&gt;\n\nBARD ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Depthswalker" then
    ak.KillTriggers()
    enableTrigger("Depthswalker Group")
    cecho("&lt;yellow&gt;\n\nDEPTHSWALKER ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Apostate" then
    ak.KillTriggers()
    enableTrigger("Apostate Group")
    cecho("&lt;yellow&gt;\n\nABOSTATE ENABLED\n\n")
  elseif gmcp.Char.Status.class == "water Elemental Lord" then
	  ak.KillTriggers()
    enableTrigger("Water Lord Group")
    cecho("&lt;yellow&gt;\n\nWATER ELEMENTAL ENABLED\n\n")
  elseif gmcp.Char.Status.class == "air Elemental Lord" then
    ak.KillTriggers()
    enableTrigger("Air Lord Group")
    cecho("&lt;yellow&gt;\n\nAIR ELEMENTAL ENABLED\n\n")
	elseif gmcp.Char.Status.class == "fire Elemental Lord" then
    ak.KillTriggers()
    enableTrigger("Fire Lord Group")
    cecho("&lt;yellow&gt;\n\nFire ELEMENTAL ENABLED\n\n")
  elseif gmcp.Char.Status.class == "Blademaster" then
    ak.KillTriggers()
    enableTrigger("Blademaster Group")
    cecho("&lt;yellow&gt;\n\nBLADEMASTER ENABLED\n\n")
	elseif gmcp.Char.Status.class == "Psion" then
    ak.KillTriggers()
		enableTrigger("Psion Group")
		enableKey("Psion Keys")
    cecho("&lt;yellow&gt;\n\nPsion ENABLED\n\n")
  end
  ak.scoreup(target)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>oaff check</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.check(what, number)
   if not number then local number = 100 end
   if table.contains(affstrack.score, what) then
      if affstrack.score[what] &gt;= number then
         return true
      else
         return false
      end
   elseif table.contains(affstrack.venoms, what) then
      if affstrack.score[affstrack.venoms[what]] &gt;= number then
         return true
      else
         return false
      end
   end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>System Status Checking</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.syspause()
   if svo then 
      if svo.affl.retardation then 
         return true
      else
         return false
      end
   elseif wsys then
      if wsys.paused or wsys.softpaused then 
         return true
      else
         return false
      end
   else
       return false
   end
end

function inretardation()
   if svo then 
      if svo.affl.retardation then 
         return true
      else
         return false
      end
   elseif wsys then
      if wsys.isslowed() then 
         return true
      else
         return false
      end
   else
       return false
   end
end

function inaeon()
   if svo then 
      if svo.affl.aeon then 
         return true
      else
         return false
      end
   elseif wsys then
      if wsys.isslowed() then 
         return true
      else
         return false
      end
   else
       return false
   end
end

function inlyre()
   if svo then
      if svo.conf.lyre then
         return true
      else
         return false
      end
   elseif wsys then
		if wsys.uselyre == true and wsys.def.lyre == true then
       	return true
		else
			return false
		end
   else 
       return false
   end
end 


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Mount Look</name><packageName /><script>
function ak.MountLook()
	enableTrigger("Look Prompt")
	if WhoHereTable and not table.contains(WhoHereTable,target) then return end
	ak.lookmountedupdate = true
	ak.mountedcheck = target
	if ak.lookmounted then killTrigger(ak.lookmounted) end
	if ak.lookmountedtwo then killTrigger(ak.lookmountedtwo) end
  if ak.lookmountedthree then killTrigger(ak.lookmountedthree) end
  if ak.lookmountedfour then killTrigger(ak.lookmountedfour) end
	ak.lookmounted = tempRegexTrigger(ak.mountedcheck.."(?: |.*)is here.",[[
		ak.MountLookUnMounted()
	]])
	ak.lookmountedtwo = tempRegexTrigger(ak.mountedcheck.."(?: |.*)flows ever onwards.",[[
		ak.MountLookUnMounted()
	]])
	ak.lookmountedthree = tempRegexTrigger(ak.mountedcheck.."(?: |.*)\'s imposing form looms.",[[
		ak.MountLookUnMounted()
	]])
  	ak.lookmountedfour = tempRegexTrigger(ak.mountedcheck.."(?: |.*)towers here, clad in skin of living stone.",[[
		ak.MountLookUnMounted()
	]])
end

function ak.MountLookPrompt()
	disableTrigger("Look Prompt")
	ak.GHLookPrompt()
	ak.submergedLookPrompt()
	ak.FloodLookPrompt()
  ak.distortionLookPrompt()
	if WhoHereTable and not table.contains(WhoHereTable,target) then return end
	if ak.mounted == ak.lookmountedupdate then return end
	ak.mounted = ak.lookmountedupdate
	if ak.lookmounted then killTrigger(ak.lookmounted) end
	if ak.lookmountedtwo then killTrigger(ak.lookmountedtwo) end
	if ak.lookmountedthree then killTrigger(ak.lookmountedthree) end
  if ak.lookmountedfour then killTrigger(ak.lookmountedfour) end
	ak.lookmounted = nil
	ak.lookmountedtwo = nil
	ak.lookmountedthree = nil
	ak.scoreup(target)
end

function ak.MountLookUnMounted()
	if ak.lookmounted then killTrigger(ak.lookmounted) end
	if ak.lookmountedtwo then killTrigger(ak.lookmountedtwo) end
	if ak.lookmountedthree then killTrigger(ak.lookmountedthree) end
  if ak.lookmountedfour then killTrigger(ak.lookmountedfour) end
	ak.lookmountedupdate = false
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Shikudo Alias Split</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.shikudo.AliasSplit(blah)
	ak.shikudo.AttackAlias = {}
	local checktable = blah
	local attacks = {"ruku","kuro", "hiru", "nervestrike","livestrike", "dart", "hiraku", "thrust", "needle"}
	for i = 1, #blah do
		if table.contains(attacks,blah[i]) then
			if blah[i+1] and blah[i+1] == "light" then
				table.insert(ak.shikudo.AttackAlias,"light")
			else
				table.insert(ak.shikudo.AttackAlias,"regular")
			end
		end
	end
end

function ak.shikudo.LimbBlock()
	ak.shikudo.AttackAlias = ak.shikudo.AttackAlias or {}
	if #ak.shikudo.AttackAlias &gt; 0 then
		if ak.shikudo.AttackAlias[1] == "light" then
			return true	
		end
		table.remove(ak.shikudo.AttackAlias,1)
	end
	return false
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Rounding</name><packageName /><script>function roundUp(number, places)
	return math.ceil(number * math.pow(10,places)) / math.pow(10,places)
end

function roundDown(number, places)
	return math.floor(number * math.pow(10,places)) / math.pow(10,places)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Attack Sets</name><packageName /><script>--setattack
-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.serveraliases()
   if ak.debug then cecho("\nScoring Up") end
   ak.stack = ak.stack or "none"
   if ak.stack == "NoOne" then --Deliverance! 
      ak.aliasreset()
   elseif gmcp.Char.Status.race:match("Dragon") and not inlyre() then                                                                                           -- Dragon --
     	if ak.dragon.setattacks then
				ak.dragon.setattacks()
			end
   elseif gmcp.Char.Status.class == "Occultist" and not inlyre() then
      if ak.occie.setattacks then
				ak.occie.setattacks()
			end
   elseif gmcp.Char.Status.class == "Monk" and not inlyre() then
      if ak.monk.setattacks then
				ak.monk.setattacks()
			end
   elseif gmcp.Char.Status.class == "Magi" and not inlyre() then 
      if ak.magi.setattacks then
				ak.magi.setattacks()
			end
   elseif gmcp.Char.Status.class == "Serpent" and not inlyre() then   
      if ak.serpent.setattacks then
				ak.serpent.setattacks()
			end  
   elseif gmcp.Char.Status.class == "Sentinel" and not inlyre() then
      if ak.sentinel.setattacks then
				ak.sentinel.setattacks()
			end
   elseif gmcp.Char.Status.class == "Shaman" and not inlyre() and not ak.tza then  
      if ak.shaman.setattacks then
			   ak.shaman.setattacks()
			end
   elseif gmcp.Char.Status.class == "Priest" and not inlyre() then 
      if ak.priest.setattacks then
				ak.priest.setattacks()
			end
   elseif gmcp.Char.Status.class == "Apostate" and not inlyre() then                                                                                            -- APOSTATE --
      if ak.apostate.setattacks then
				ak.apostate.setattacks()
			end
   elseif (gmcp.Char.Status.class == "Infernal" or gmcp.Char.Status.class == "Paladin" or gmcp.Char.Status.class == "Runewarden")  and not inlyre() then
			if ak.knight.setattacks then
				ak.knight.setattacks()
			end
   elseif gmcp.Char.Status.class == "Blademaster" and not inlyre() then   
      if ak.bm.setattacks then
				ak.bm.setattacks()
			end
   elseif gmcp.Char.Status.class == "Alchemist" and not inlyre() then
	    if ak.alchemist.setattacks then
				ak.alchemist.setattacks()
			end
   elseif gmcp.Char.Status.class == "Jester" and not inlyre() then
      if ak.stack == "JesterNoFash" and ak.jester.NoFashion then
         ak.jester.NoFashion()
      end
   elseif gmcp.Char.Status.class == "Depthswalker" and not inlyre() then
      if ak.depthswalker.setattacks then
				ak.depthswalker.setattacks()
			end
   elseif gmcp.Char.Status.class == "Sylvan" and not inlyre() then
      if ak.stack == "Weathering" and ak.sylvan.Weather then
         ak.sylvan.Weather()
      end
   elseif gmcp.Char.Status.class == "Psion" and not inlyre() then
			if ak.psion.setattacks then
         ak.psion.setattacks()
      end
   elseif gmcp.Char.Status.class == "Bard" and not inlyre() then
      if ak.stack == "Kelp" and ak.bard.KelpLock and ak.bard.KelpLock.Main then
         ak.bard.KelpLock.Main()
			elseif ak.stack == "Mentals" and ak.bard.Mentals and ak.bard.Mentals.Main then
			   ak.bard.Mentals.Main()
      end
	 elseif gmcp.Char.Status.class == "fire Elemental Lord" and not inlyre() then
	 	  if ak.ignition.setattacks then
         ak.ignition.setattacks()
			end
   elseif gmcp.Char.Status.class == "air Elemental Lord" and not inlyre() then
      if ak.stack == "Duress" and ak.duress and ak.duress.compress then
         ak.duress.compression()
      end
	 elseif gmcp.Char.Status.class == "water Elemental Lord" and not inlyre() then
      if ak.pervasion.setattacks then
        ak.pervasion.setattacks()
      end
   end
   if not inlyre() then
      ak.mycustomoffense()
   end
	 if ak.reboundPop and ak.stack ~= "NoOne" and not inlyre() and not ak.tza then
	 	  ak.reboundPop() 
	 end
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Bleed Update</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.bleedupdate(pushed)
	if gmcp.Char.Status.class == "Blademaster" then
		ak.bleeding = pushed -- More Bleeding
		ak.scoreup(target)
	else
		if ak.bleeding &lt; pushed and affstrack.score.haemophilia &gt; 0 then
			if ak.ProTrackingConfirmed and affstrack.score.haemophilia &lt; 100 then 
  	    ak.ProTrackingConfirmed("haemophilia") 
  	 	end
			ak.bleeding = pushed -- More Bleeding
		elseif ak.bleeding - pushed &gt; 100 then
			--ak.bleeding = pushed --Less Bleeding
			if ak.thoughtIhad and affstrack.score.haemophilia &gt; 0 and not ak.dontremovehaemo then
				ak.thoughtIhad("haemophilia")	
			end
		elseif ak.bleeding &gt; 100 and affstrack.score.haemophilia &gt; 0 and ak.ProTrackingConfirmed and affstrack.score.haemophilia &lt; 100 then 
			ak.ProTrackingConfirmed("haemophilia") 
		end	
	end
	ak.dontremovehaemo = false
end

if ak.bloodletbleed then return end
function ak.bloodletbleed()
	return 255
end


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Default Stack Set</name><packageName /><script>
if ak.defaultstack then return end --Delete Me From Personal Settings!

function ak.defaultstack()
   if gmcp.Char.Status.race:match("Dragon") then 
      ak.stack = "dragon" 
      affstrack.crushedherb = nil
   elseif gmcp.Char.Status.class == "Monk" then
      if ak.monk.toggleswap then
         ak.monk.toggleswap() 
      else
         ak.stack = "mindfuck"
      end
   elseif gmcp.Char.Status.class == "Magi" then
      ak.stack = "Dgmagi"
      --ak.stack = "Pmagi"
   elseif gmcp.Char.Status.class == "Serpent" then
      ak.stack = "Kelp"
   elseif gmcp.Char.Status.class == "Occultist" then
      ak.stack = "Unravel"
   elseif gmcp.Char.Status.class == "Jester" then
      ak.stack = "JesterNoFash"
   elseif gmcp.Char.Status.class == "Shaman" then 
      ak.stack = "Tzantza" 
   elseif gmcp.Char.Status.class == "Sylvan" then
      ak.stack = "Weathering"
   elseif gmcp.Char.Status.class == "Bard" then
      ak.stack = "Kelp"
   elseif gmcp.Char.Status.class == "Blademaster" then
      ak.stack = "BM Prep"
   elseif gmcp.Char.Status.class == "Priest" then
      ak.stack = "priesto"
   elseif gmcp.Char.Status.class == "Alchemist" then
      ak.stack = "alchbase"
	 elseif gmcp.Char.Status.class == "Apostate" then
	 		ak.stack = "Kelp"
   elseif gmcp.Char.Status.class == "Sentinel" then
      ak.stack = "Petrify"
   elseif gmcp.Char.Status.class == "Depthswalker" then
      ak.stack = "Damage"
   elseif gmcp.Char.Status.class == "Psion" then
      ak.stack = "PsiLock"			
	 elseif gmcp.Char.Status.class == "air Elemental Lord" then
	    ak.stack = "Duress"
	 elseif gmcp.Char.Status.class == "water Elemental Lord" then
	    ak.stack = "Perversion"
	 elseif gmcp.Char.Status.class == "fire ELemental Lord" then
	 	  ak.stack = "Ignition"
   elseif gmcp.Char.Status.class == "Infernal" or gmcp.Char.Status.class == "Paladin" or gmcp.Char.Status.class == "Runewarden" then   
      if gmcp and gmcp.Char and gmcp.Char.Vitals and gmcp.Char.Vitals.charstats[3] == "Spec: Dual Cutting" then
         if ak.dwcoffensetoggle then
            ak.dwcoffensetoggle()
         end
      elseif gmcp and gmcp.Char and gmcp.Char.Vitals and gmcp.Char.Vitals.charstats[3] and gmcp.Char.Vitals.charstats[3] == "Spec: Sword and Shield" then
         ak.stack = "Aboard"     --sword and board
      elseif gmcp and gmcp.Char and gmcp.Char.Vitals and gmcp.Char.Vitals.charstats[3] and gmcp.Char.Vitals.charstats[3] == "Spec: Two Handed" then
         ak.stack = "2hspeed" 
      elseif gmcp and gmcp.Char and gmcp.Char.Vitals and gmcp.Char.Vitals.charstats[3] and gmcp.Char.Vitals.charstats[3] == "Spec: Dual Blunt" then
         ak.stack = "dwb"
      end
   end
end
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Misc</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Version ID</name><packageName /><script>ak.version = 7.8
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Cure Methods</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>otree</name><packageName /><script>function ak.cure.tree()
	 ak.occie.aura.parsereduct("treed")
   affs = {}
   ocured = ocured or {}
   ocured.treed = {}
   ak.randomaffs = ak.randomaffs or 0
   affoverone = {}
   affovertwo = {}
   affoverthree = {}
   affoverfour = {}
   affoverfive = {}
   affoversix = {}
   applycure = applycure or {}
   if ak.treeableSalve() and applycure.lastapplied and applycure.lastapplied ~= "head" and applycure.lastapplied ~= "torso" and applycure.aknextsalve ~= "mending" then
      --AKcalculateSalve()
   end
   affs = {}
   ocured = ocured or {}
   ocured.treed = {}
   ak.randomaffs = ak.randomaffs or 0
   affoverone = {}
   affovertwo = {}
   affoverthree = {}
   affoverfour = {}
   affoverfive = {}
   affoversix = {}
   if affstrack.score.paralysis &gt; 0 then
      if ak.thoughtIhad then ak.thoughtIhad("paralysis") else affstrack.score.paralysis = 0 end
      ocured.bloodroot = {}
      ocured = ocured or {}
      ocured.treed = {}
   elseif affstrack.score.slickness &gt; 0 then
     ocured.bloodroot = {}
   end
   for i = 1, #affstrack.treed do
      if affstrack.score[affstrack.treed[i]] &gt; 0 and affstrack.score[affstrack.treed[i]] &lt; 200 and affstrack.treed[i] ~= "aflame" and affstrack.treed[i] ~= "frozen" then
         table.insert(affs, affstrack.treed[i]) 
         ocured.treed[affstrack.treed[i]] = affstrack.score[affstrack.treed[i]]     
         if affstrack.score[affstrack.treed[i]] &gt; 100 then-- and affstrack.score[affstrack.treed[i]] ~= 200 then
            table.insert(affoverone, affstrack.treed[i]) 
            affstrack.score[affstrack.treed[i]] = affstrack.score[affstrack.treed[i]] - 100
         end
      elseif affstrack.score.hypothermia == 100 and affstrack.treed[i] == "frozen" then

      elseif affstrack.score[affstrack.treed[i]] &gt; 0 and (affstrack.treed[i] == "aflame" or affstrack.treed[i] == "frozen") then
         table.insert(affs, affstrack.treed[i]) 
         ocured.treed[affstrack.treed[i]] = affstrack.score[affstrack.treed[i]]
         if affstrack.score[affstrack.treed[i]] &gt; 100 then
            table.insert(affoverone, affstrack.treed[i]) 
            affstrack.score[affstrack.treed[i]] = affstrack.score[affstrack.treed[i]] - 100
            if affstrack.score[affstrack.treed[i]] &gt; 100 then
               table.insert(affovertwo, affstrack.treed[i]) 
               affstrack.score[affstrack.treed[i]] = affstrack.score[affstrack.treed[i]] - 100
               if affstrack.score[affstrack.treed[i]] &gt; 100 then
                  table.insert(affoverthree, affstrack.treed[i]) 
                  affstrack.score[affstrack.treed[i]] = affstrack.score[affstrack.treed[i]] - 100
                  if affstrack.score[affstrack.treed[i]] &gt; 100 then
                     table.insert(affoverfour, affstrack.treed[i]) 
                     affstrack.score[affstrack.treed[i]] = affstrack.score[affstrack.treed[i]] - 100
                     if affstrack.score[affstrack.treed[i]] &gt; 100 then
                        table.insert(affoverfive, affstrack.treed[i]) 
                        affstrack.score[affstrack.treed[i]] = affstrack.score[affstrack.treed[i]] - 100
                        if affstrack.score[affstrack.treed[i]] &gt; 100 then
                           table.insert(affoversix, affstrack.treed[i]) 
                           affstrack.score[affstrack.treed[i]] = affstrack.score[affstrack.treed[i]] - 100
                        end
                     end
                  end
               end
            end
         end
      end   
   end
   if #affs == 1 and affstrack.score[affs[1]] &lt; 100 and ak.randomaffs == 0 then
      if ak.ProTrackingConfirmed then ak.ProTrackingConfirmed(affs[1]) end
      affstrack.score[affs[1]] = 0
			ak.AfflictionCured(affs[1])
			ak.ResetConfirmAff(affs[1])
   elseif #affs &gt; 1 and table.contains(affs,"impatience") and FocusCount() &gt;= 100 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         if affs[i] ~= "impatience" then
            affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / (#affs -1)
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
               affstrack.score[affs[i]] = 0
							 ak.AfflictionCured(affs[i])
            end     
            if table.contains(affoverone, affs[i]) then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
               if table.contains(affovertwo, affs[i]) then
                  affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                  if table.contains(affoverthree, affs[i]) then
                     affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                     if table.contains(affoverfour, affs[i]) then
                        affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        if table.contains(affoverfive, affs[i]) then
                           affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           if table.contains(affoversix, affs[i]) then
                              affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           end
                        end
                     end
                  end
               end 
            end           
         end
      end  
      if affstrack.score.aflame == 0 and affstrack.score.conflagrate == 100 then affstrack.score.conflagrate = 0;akadsty = 1 end
   elseif #affs &gt; 1 and table.contains(affs,"asthma") and SmokeCount() &gt;= 100 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         if affs[i] ~= "asthma" then
            affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / (#affs -1)
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
               affstrack.score[affs[i]] = 0
							 ak.AfflictionCured(affs[i])
            end     
            if table.contains(affoverone, affs[i]) then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
               if table.contains(affovertwo, affs[i]) then
                  affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                  if table.contains(affoverthree, affs[i]) then
                     affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                     if table.contains(affoverfour, affs[i]) then
                        affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        if table.contains(affoverfive, affs[i]) then
                           affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           if table.contains(affoversix, affs[i]) then
                              affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           end
                        end
                     end
                  end
               end 
            end           
         end
      end  
      if affstrack.score.aflame == 0 and affstrack.score.conflagrate == 100 then affstrack.score.conflagrate = 0;akadsty = 1 end
   elseif #affs &gt; 0 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         --ocured.treed[affs[i]] = affstrack.score[affs[i]]                                       --move me
         affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / #affs 
         if affstrack.score[affs[i]] &lt; ak.errorallowance then
            affstrack.score[affs[i]] = 0
						ak.AfflictionCured(affs[i])
         end     
         if table.contains(affoverone, affs[i]) then
            affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
            if table.contains(affovertwo, affs[i]) then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
               if table.contains(affoverthree, affs[i]) then
                  affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                  if table.contains(affoverfour, affs[i]) then
                     affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                     if table.contains(affoverfive, affs[i]) then
                        affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        if table.contains(affoversix, affs[i]) then
                           affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        end
                     end
                  end
               end
            end 
         end           
      end  
      if affstrack.score.aflame == 0 and affstrack.score.conflagrate == 100 then affstrack.score.conflagrate = 0;akadsty = 1 end
   elseif ak.randomaffs &gt; 0 then
      AKcalculateSalve()
      ak.randomaffs = ak.randomaffs - 1
   else
      if ak.WhyYouDoThat then ak.WhyYouDoThat("treed") end
   end
   ak.scoreup(target)
end

local LimbsToCheck = {"rightleg","leftleg","rightarm","leftarm"}

function ak.treeableSalve()
	if affstrack.score.aflame &gt; 0 then
		return true
	end
	for i = 1, #LimbsToCheck do
		if affstrack.score[LimbsToCheck[i]] &gt; 0 and affstrack.score[LimbsToCheck[i]] &lt;= 100 then
			return true
		elseif affstrack.score[LimbsToCheck[i]] &gt; 100 and affstrack.score[LimbsToCheck[i]] &lt;= 200 and applycure.lastapplied ~= "torso" and applycure.lastapplied ~= "head" and applycure.aknextsalve ~= "mending" then
			return true
		end
	end

	return false

end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Affliction Cured</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.AfflictionCured(affliction, who)
	ak.trackPrios(affliction)
	if affliction == "haemophilia" then
		if ak.bleeding &gt; 200 then
			ak.shaman.GetFashions = true
		end
		affstrack.score.bloodfire = 0
		ak.bleeding = 0
		ak.scoreup(who)
	end
	if ak.AustCuredTrack then
		ak.AustCuredTrack(affliction)
	end
end

	
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Occie Random Generator</name><packageName /><script>--akocciegen
--ak.occie.aura.physical
--ak.occie.aura.mental

function ak.occie.aura.parse_unnamable(count)
	ak.occie.aura.mental = ak.occie.aura.mental + count
	local addaffs = {"stupidity","dementia","confusion"}
	if count == 3 then
		for i = 1, #addaffs do
			if affstrack.score[addaffs[i]] &gt; 0 then
				ak.ProTrackingConfirmed(addaffs[i])
        affstrack.score.stupidity = 100
        affstrack.score.dementia = 100
				affstrack.score.confusion = 100
				ak.scoreup(target)
				return
			end
		end
    affstrack.score.stupidity = 100
    affstrack.score.dementia = 100
		affstrack.score.confusion = 100
		ak.scoreup(target)
		return
	elseif count == 2 then
		if affstrack.score.stupidity == 100 then
			affstrack.score.confusion = 100
			affstrack.score.dementia = 100
		elseif affstrack.score.dementia == 100 then
			affstrack.score.stupidity = 100
			affstrack.score.confusion = 100
		elseif affstrack.score.confusion == 100 then
			affstrack.score.stupidity = 100
			affstrack.score.dementia = 100
		else

		end
		ak.scoreup(target)
		return
	elseif count == 1 then
		if affstrack.score.stupidity == 100 and affstrack.score.confusion == 100 then
			affstrack.score.dementia = 100
		elseif affstrack.score.stupidity == 100 and affstrack.score.dementia == 100 then
			affstrack.score.confusion = 100
		elseif affstrack.score.dementia == 100 and affstrack.score.confusion == 100 then
			affstrack.score.stupidity = 100
		else

		end
		ak.scoreup(target)
		return
 	end
end

function ak.occie.aura.parsereduct(what)
	if ak.backtracking then 
		ak.backtracking = false
		return 
	end
	if gmcp.Char.Status.race:match("Dragon") or gmcp.Char.Status.class ~= "Occultist" then return end
	ak.occie.aura.mentalcures = {
    "focus",
    "argentum flake",
    "lobelia seed",
    "stannum flake",
    "prickly ash bark",
    "plumbum flake",
    "goldenseal root",
		"bellwort flower",
    "rage",
  }
	ak.occie.aura.physicalcures = {
    "piece of kelp",
		"bloodroot leaf",
    "magnesium chip",
    "aurum flake",
  }
  if affstrack.score.addiction &gt; 0 then
    table.insert(ak.occie.aura.physicalcures,"ginseng root")
    table.insert(ak.occie.aura.physicalcures,"ferrum flake")
  else
    table.insert(ak.occie.aura.physicalcures,"ginseng root")
    table.insert(ak.occie.aura.physicalcures,"ferrum flake")
  end
	ak.occie.aura.ignore = {"smole","hawthorn berry","bayberry bark","calamine crystal",}
	if table.contains(ak.occie.aura.ignore, what) then return end
	if table.contains(ak.occie.aura.mentalcures,what) then
		ak.occie.aura.mental = ak.occie.aura.mental - 1
		if ak.occie.aura.mental &lt; 0 then ak.occie.aura.mental = 0 end
	elseif table.contains(ak.occie.aura.physicalcures,what) then
		ak.occie.aura.physical = ak.occie.aura.physical - 1
		if ak.occie.aura.physical &lt; 0 then ak.occie.aura.physical = 0 end
	elseif what == "treed" then
		ak.occie.aura.treed()
	elseif what == "passive" then
		ak.occie.aura.treed()	
	elseif not table.contains(ak.occie.aura.unknownparse,what) then
		table.insert(ak.occie.aura.unknownparse, what)
	end
end

function ak.occie.aura.treed()
		ak.occie.aura.physical = ak.occie.aura.physical - 1
		if ak.occie.aura.physical &lt; 0 then ak.occie.aura.physical = 0 end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>oeaten</name><packageName /><script>function ak.cure.ate(what,prorun)
	ak.occie.aura.parsereduct(what)
   local affs = {}
   ak.nexteatcheck(what)
   ak.mickey = false
   ak.randomaffs = ak.randomaffs or 0
   ocured = ocured or {}
   ocured.conversion[what] = ocured.conversion[what] or "notadded"
   ocured[ocured.conversion[what]] = {}
	 ak.eatsbetweenaffs = ak.eatsbetweenaffs + 1
   local affconfirmedcount = 0
   if affstrack.score.anorexia&gt;0 and not prorun then 
      if ak.thoughtIhad then ak.thoughtIhad("anorexia") else affstrack.score.anorexia = 0 end
      ocured = ocured or {}
      ocured[ocured.conversion[what]] = {}
   end
   if what == "hawthorn berry" or what == "calamine crystal" then
      affstrack.score.deaf = 100
      tempTimer(3,[[affstrack.score.deaf = 0;ak.scoreup(target)]])
   else
      for i = 1, #affstrack.eaten[what] do
         if affstrack.score[affstrack.eaten[what][i]] &gt; 0 then
            table.insert(affs, affstrack.eaten[what][i])
            affconfirmedcount = affconfirmedcount + affstrack.score[affstrack.eaten[what][i]]
         end
      end
      if #affs == 1 and affstrack.score[affs[1]] &lt; 100 and ak.randomaffs == 0 then
         if ak.ProTrackingConfirmed then ak.ProTrackingConfirmed(affs[1]) end
         affstrack.score[affs[1]] = 0
				 ak.AfflictionCured(affs[1])
				 ak.ResetConfirmAff(affs[1])
      elseif #affs &gt; 1 and affconfirmedcount &lt;= 100 then
			   if #affs and table.contains(affs,"slickness") and affstrack.score.asthma == 100 then
				    ak.echoForPossibleCures(table.concat(affs, " ")) 
						--if ak.ProTrackingConfirmed then ak.ProTrackingConfirmed(affs[1]) end
				 else
         	  if ak.ProTrackingConfirmed then ak.ProTrackingConfirmed(affs[1]) end
				 end
         for i = 1, #affs do
            affstrack.score[affs[i]] = 0
						ak.AfflictionCured(affs[i])
         end
      elseif #affs &gt; 1 and table.contains(affs,"impatience") and ak.goldensealCount() &gt; 100 then
         ak.echoForPossibleCures(table.concat(affs, " "))
         for i = 1, #affs do            
            ocured = ocured or {}
            ocured[ocured.conversion[what]] = ocured[ocured.conversion[what]] or {}
            ocured[ocured.conversion[what]][affs[i]] = affstrack.score[affs[i]]
            if affs[i] ~= "impatience" then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / (#affs-1)
            end
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
                affstrack.score[affs[i]] = 0
								ak.AfflictionCured(affs[i])
            end
         end
      elseif #affs &gt; 1 and table.contains(affs,"asthma") and SmokeCount() &gt;= 100 then
         ak.echoForPossibleCures(table.concat(affs, " "))
         for i = 1, #affs do            
            ocured = ocured or {}
            ocured[ocured.conversion[what]] = ocured[ocured.conversion[what]] or {}
            ocured[ocured.conversion[what]][affs[i]] = affstrack.score[affs[i]]
            if affs[i] ~= "asthma" then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / (#affs-1)
            end
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
                affstrack.score[affs[i]] = 0
								ak.AfflictionCured(affs[i])
            end
         end
			
			elseif #affs &gt; 1 and table.contains(affs,"slickness") and affstrack.score.prone == 100 and ak.canstand() then
         ak.echoForPossibleCures(table.concat(affs, " "))
         for i = 1, #affs do            
            ocured = ocured or {}
            ocured[ocured.conversion[what]] = ocured[ocured.conversion[what]] or {}
            ocured[ocured.conversion[what]][affs[i]] = affstrack.score[affs[i]]
            if affs[i] ~= "paralysis" then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / (#affs-1)
            end
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
                affstrack.score[affs[i]] = 0
								ak.AfflictionCured(affs[i])
            end
         end
				 
		  elseif #affs == 1 and table.contains(affs,"slickness") and affstrack.score.asthma &gt; 0 and affstrack.score.asthma &lt; 100 then
         ak.echoForPossibleCures(table.concat(affs, " "))
         for i = 1, #affs do            
            ocured = ocured or {}
            ocured[ocured.conversion[what]] = ocured[ocured.conversion[what]] or {}
            ocured[ocured.conversion[what]][affs[i]] = affstrack.score[affs[i]]
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
                affstrack.score[affs[i]] = 0
								ak.AfflictionCured(affs[i])
            end
						ak.ProTrackingConfirmed("asthma")
						ak.ResetConfirmAff(affs[i])
         end
		 elseif #affs == 1 then
         ak.echoForPossibleCures(table.concat(affs, " "))
         ocured = ocured or {}
         ocured[ocured.conversion[what]] = ocured[ocured.conversion[what]] or {}
         ocured[ocured.conversion[what]][affs[1]] = affstrack.score[affs[1]]
         affstrack.score[affs[1]] = affstrack.score[affs[1]] - affstrack.score[affs[1]] / #affs
         if affstrack.score[affs[1]] &lt; ak.errorallowance then
             affstrack.score[affs[1]] = 0
					ak.AfflictionCured(affs[1])
         end
			   ak.ResetConfirmAff(affs[1])
      elseif #affs &gt; 0 then
         ak.echoForPossibleCures(table.concat(affs, " "))
         for i = 1, #affs do
            ocured = ocured or {}
            ocured[ocured.conversion[what]] = ocured[ocured.conversion[what]] or {}
            ocured[ocured.conversion[what]][affs[i]] = affstrack.score[affs[i]]
            affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / #affs
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
                affstrack.score[affs[i]] = 0
								ak.AfflictionCured(affs[i])
            end
         end
      elseif ak.randomaffs &gt; 0 then
         ak.randomaffs = ak.randomaffs - 1
      else
         if ak.WhyYouDoThat then ak.WhyYouDoThat(what) end
      end
   end
   ak.scoreup(target)
end

function ak.goldensealCount()
	local count = 0
	for i = 1, #affstrack.eaten["goldenseal root"] do
     if affstrack.score[affstrack.eaten["goldenseal root"][i]] &gt; 0 then
        count = count + affstrack.score[affstrack.eaten["goldenseal root"][i]]
     end
  end
	return count
end

function FocusCount()
  local count = 0
  for i = 1, #affstrack.focused do
      if affstrack.score[affstrack.focused[i]] &gt; 0 then
         count = count + affstrack.score[affstrack.focused[i]]
      end
   end
   return count
end

function SmokeCount()
   local count = 0
   if affstrack.score.aeon &gt; 0 then return 0 end
   for i = 1, #affstrack.smoked do
      if affstrack.score[affstrack.smoked[i]] &gt; 0 then
         count = count + affstrack.score[affstrack.smoked[i]]
      end
   end
   return count
end

if not ak.nexteatcheck then
   function ak.nexteatcheck(what)
		ak.lasteat = what
   end
end

function ak.canstand()
	if affstrack.score.rightleg == 0 and affstrack.score.leftleg == 0 then
		return true
	else
		return false
	end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Unknown Apply</name><packageName /><script>--unknown application 

ak = ak or {}
ak.NoPreApply = false

ak.whyapply = function(location)



end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>ofocus</name><packageName /><script>function ak.cure.focus(whom)
	ak.occie.aura.parsereduct("focus")
   local affs = {}
   ocured = ocured or {}
   ocured.focused = {}
   ak.randomaffs = ak.randomaffs or 0
   affstrack.score.rixil = 0
   if affstrack.score.impatience&gt;0 then 
      if ak.thoughtIhad then ak.thoughtIhad("impatience") else affstrack.score.impatience = 0 end
      ocured = ocured or {}
      ocured.focused = {}  
   end
   for i = 1, #affstrack.focused  do
      if affstrack.score[affstrack.focused[i]] &gt; 0 then
         table.insert(affs, affstrack.focused[i])
      end
   end
   if #affs == 1 and affstrack.score[affs[1]] &lt; 100 and ak.randomaffs == 0 then
      if ak.ProTrackingConfirmed then ak.ProTrackingConfirmed(affs[1]) end
      affstrack.score[affs[1]] = 0
			ak.AfflictionCured(affs[1])
			ak.ResetConfirmAff(affs[1])
	 elseif #affs == 1 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      ocured.focused[affs[1]] = affstrack.score[affs[1]]
      affstrack.score[affs[1]] = 0
			ak.AfflictionCured(affs[1])
			ak.ResetConfirmAff(affs[1])
   elseif #affs &gt; 0 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         ocured.focused[affs[i]] = affstrack.score[affs[i]]
         affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / #affs
         if affstrack.score[affs[i]] &lt; ak.errorallowance then
            affstrack.score[affs[i]] = 0
						ak.AfflictionCured(affs[i])
         end
      end
   elseif ak.randomaffs &gt; 0 then
      ak.randomaffs = ak.randomaffs - 1
   else
      if ak.WhyYouDoThat then ak.WhyYouDoThat("focused") end
   end
   ak.scoreup(target)
end




</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>oapply</name><packageName /><script>function ak.cure.apply(what) 
	 if ak.timers.salvebackup then killTimer(ak.timers.salvebackup) end
   if aksalvechange then killTimer(aksalvechange) end
   if akrestoration then killTimer(akrestoration) end
   applycure = applycure or {} 
   if applycure.lastapplied then
      AKcalculateSalve()
   end
	 if what ~= "none" then
	 		ak.enemyprio.applied(what)
      ak.cure.lastapplied = what
      ak.randomaffs = ak.randomaffs or 0
      applycure = {}
      applycure.aknextsalve = false
      applycure.lastapplied = what
      applycure.affoverone = {}
      applycure.affovertwo = {}
      applycure.affoverthree = {}
      applycure.affoverfour = {}
      applycure.affoverfive = {}
      applycure.affoversix = {}
      applycure.donotrecount = {}
      applycure.possiblemendings = {}
      applycure.mendingscore = 0
      applycure.possiblerestorations = {}
      applycure.restorationscore = 0
      applycure.totalscore = 0
      applycure.both = {}
      applycure.otableadd = "applied"..what
      for i = 1, #affstrack.applied[what] do
         --display( affstrack.applied[what][i])--probable cures  
         --display(affstrack.score[affstrack.applied[what][i]])     
         if affstrack.score[affstrack.applied[what][i]] &gt; 0 and affstrack.applied[what][i] ~= "frozen" and affstrack.applied[what][i] ~= "aflame" and (affstrack.score[affstrack.applied[what][i]] &gt; 100 or affstrack.applied[what][i] == "head" or affstrack.applied[what][i] == "torso" or affstrack.applied[what][i] == "hypothermia") then
            table.insert(applycure.possiblerestorations, affstrack.applied[what][i])
            table.insert(applycure.both, affstrack.applied[what][i])
            table.insert(applycure.donotrecount, affstrack.applied[what][i]) 
						if affstrack.score[affstrack.applied[what][i]] &lt; 200 then
							table.insert(applycure.possiblemendings, affstrack.applied[what][i]) 
							applycure.mendingscore = affstrack.score[affstrack.applied[what][i]] + applycure.mendingscore 
						end
            applycure.restorationscore = affstrack.score[affstrack.applied[what][i]] + applycure.restorationscore
            applycure.totalscore  =  affstrack.score[affstrack.applied[what][i]] + applycure.totalscore
            AKBackupSalveNumber(affstrack.applied[what][i])
         elseif affstrack.score[affstrack.applied[what][i]] &gt; 100 and (affstrack.applied[what][i] == "frozen" or affstrack.applied[what][i] == "aflame") then
            table.insert(applycure.possiblemendings, affstrack.applied[what][i]) 
            table.insert(applycure.both, affstrack.applied[what][i])
            table.insert(applycure.donotrecount, affstrack.applied[what][i]) 
            applycure.mendingscore = affstrack.score[affstrack.applied[what][i]] + applycure.mendingscore  
            applycure.totalscore  =  affstrack.score[affstrack.applied[what][i]] + applycure.totalscore 
            AKBackupSalveNumber(affstrack.applied[what][i])
         elseif affstrack.score[affstrack.applied[what][i]] &gt; 0 then
            table.insert(applycure.possiblemendings, affstrack.applied[what][i]) 
            table.insert(applycure.both, affstrack.applied[what][i])
            table.insert(applycure.donotrecount, affstrack.applied[what][i]) 
            applycure.mendingscore = affstrack.score[affstrack.applied[what][i]] + applycure.mendingscore  
            applycure.totalscore  =  affstrack.score[affstrack.applied[what][i]] + applycure.totalscore     
         end
      end
      for k,v in pairs(affstrack.applied) do
         for i=1, #affstrack.applied[k] do
            if not table.contains(applycure.donotrecount, affstrack.applied[k][i]) and affstrack.score[affstrack.applied[k][i]] &gt; 0 then
							 applycure.totalscore  =  affstrack.score[affstrack.applied[k][i]] + applycure.totalscore 
            end
         end
      end
      applycure.totalscore = applycure.totalscore / 100
      applycure.mendingscore = applycure.mendingscore / 100
      applycure.restorationscore = applycure.restorationscore / 100
      if applycure.totalscore &lt;= 1 and applycure.totalscore &gt; 0 then --only one confirmed apply coming
         if #applycure.possiblemendings == 0 then
            applycure.aknextsalve = "restoration"
            if akrestoration then killTimer(akrestoration) end
            akrestoration = tempTimer(3.5,[[ak.cure.apply("none");affstrack.score.tempslickness = 0;ak.scoreup(target)]])
            affstrack.score.tempslickness = 100      
         elseif #applycure.possiblerestorations == 0 then
            applycure.aknextsalve = "mending"
            ak.cure.apply("none")
         else
            applycure.aknextsalve = "both"
            ak.cure.apply("none")
         end
      elseif applycure.totalscore &gt; 0 then                          --MORE CURES COMING!
				 if ak.timers.salvebackup then killTimer(ak.timers.salvebackup) end
         ak.timers.salvebackup = tempTimer(5,[[ak.cure.salveBackup()]])
         if applycure.restorationscore &gt; 0 and applycure.mendingscore &gt; 0 then
            applycure.aknextsalve = "mending"
						if affstrack.score.crushedthroat == 100 and what == "head" then
							ak.cure.apply("none")
							return
						end
            if aksalvechange then killTimer(aksalvechange) end
            aksalvechange = tempTimer(2.5,[[
               if affstrack.score.slickness == 0 then
                  applycure.aknextsalve = "restoration"
               end
            ]])
         elseif applycure.restorationscore &gt; 0 and applycure.mendingscore == 0 then	 
            applycure.aknextsalve = "restoration"
            affstrack.score.tempslickness = 100  
            if aksalvechange then killTimer(aksalvechange) end
         elseif applycure.restorationscore == 0 and applycure.mendingscore &gt; 0 then
            applycure.aknextsalve = "mending"
            ak.cure.apply("none")
         end
		  elseif applycure.lastapplied == "body" and applycure.totalscore == 0 and affstrack.score.impatience == 100 then
				 if ak.thoughtIhad then ak.thoughtIhad("impatience") else affstrack.score.impatience = 0 end
				 affstrack.score.anorexia = 0 
      elseif applycure.lastapplied ~= "skin" then
         if ak.NoPreApply then

         elseif (gmcp.Char.Status.class ~= "Magi" or gmcp.Char.Status.race:match("Dragon")) then         
            applycure.aknextsalve = "restoration"
            if akrestoration then killTimer(akrestoration) end
            akrestoration = tempTimer(3.5,[[ak.cure.apply("none");affstrack.score.tempslickness = 0;ak.scoreup(target)]])
            affstrack.score.tempslickness = 100  
         end
			elseif applycure.lastapplied == "skin" then
				applycure.lastapplied = nil	 
      end
   else
      applycure = {}
      applycure.aknextsalve = nil
      applycure.lastapplied = nil
      applycure.affoverone = {}
      applycure.affovertwo = {}
      applycure.affoverthree = {}
      applycure.affoverfour = {}
      applycure.affoverfive = {}
      applycure.affoversix = {}
      applycure.donotrecount = {}
      applycure.possiblemendings = {}
      applycure.mendingscore = 0
      applycure.possiblerestorations = {}
      applycure.restorationscore = 0
      applycure.totalscore = 0
      applycure.both = {}
   end
   ak.scoreup(target)
end

function ak.cure.salveBackup()
	if affstrack.score.slickness == 0 then
		ak.cure.apply("none")
		cecho("\n&lt;cyan&gt;They are not applying salves. Forcing previous restoration cure through.\n")
	else
		if ak.timers.salvebackup then killTimer(ak.timers.salvebackup) end
    ak.timers.salvebackup = tempTimer(1,[[ak.cure.salveBackup()]])
	end
end


function AKcalculateSalve()
	 if ak.debug then 
	 	display("applycure")
		display(applycure)
	 end
   local affs = {}
   ak.cure.lastapplied = what
   ak.randomaffs = ak.randomaffs or 0
   applycure = applycure or {}
   applycure.aknextsalve = applycure.aknextsalve or "restoration"
   applycure.lastapplied = applycure.lastapplied or "torso"
   applycure.affoverone = {}
   applycure.affovertwo = {}
   applycure.affoverthree = {}
   applycure.affoverfour = {}
   applycure.affoverfive = {}
   applycure.affoversix = {}
   applycure.donotrecount = {}
   applycure.possiblemendings = {}
   applycure.mendingscore = 0
   applycure.possiblerestorations = {}
   applycure.restorationscore = 0
   applycure.totalscore = 0
   applycure.both = {}
   applycure.otableadd = "applied"..applycure.lastapplied
   ocured = ocured or {}
   ocured[applycure.otableadd] = {} 
   local ToBeCleared = {}
      for i = 1, #affstrack.applied[applycure.lastapplied] do
         --display( affstrack.applied[applycure.lastapplied][i])--probable cures         
         if affstrack.score[affstrack.applied[applycure.lastapplied][i]] &gt; 0 and affstrack.applied[applycure.lastapplied][i] ~= "frozen" and affstrack.applied[applycure.lastapplied][i] ~= "aflame" and (affstrack.score[affstrack.applied[applycure.lastapplied][i]] &gt; 100 or affstrack.applied[applycure.lastapplied][i] == "head" or affstrack.applied[applycure.lastapplied][i] == "torso" or affstrack.applied[applycure.lastapplied][i] == "hypothermia") then
            table.insert(ToBeCleared, affstrack.applied[applycure.lastapplied][i])
            table.insert(applycure.possiblerestorations, affstrack.applied[applycure.lastapplied][i])
            table.insert(applycure.both, affstrack.applied[applycure.lastapplied][i])
            table.insert(applycure.donotrecount, affstrack.applied[applycure.lastapplied][i]) 
            applycure.restorationscore = affstrack.score[affstrack.applied[applycure.lastapplied][i]] + applycure.restorationscore
            applycure.totalscore  =  affstrack.score[affstrack.applied[applycure.lastapplied][i]] + applycure.totalscore
            AKBackupSalveNumber(affstrack.applied[applycure.lastapplied][i])
         elseif affstrack.score[affstrack.applied[applycure.lastapplied][i]] &gt; 100 and (affstrack.applied[applycure.lastapplied][i] == "frozen" or affstrack.applied[applycure.lastapplied][i] == "aflame") then                   
            table.insert(applycure.possiblemendings, affstrack.applied[applycure.lastapplied][i]) 
            table.insert(applycure.both, affstrack.applied[applycure.lastapplied][i])
            table.insert(applycure.donotrecount, affstrack.applied[applycure.lastapplied][i]) 
            applycure.mendingscore = affstrack.score[affstrack.applied[applycure.lastapplied][i]] + applycure.mendingscore  
            applycure.totalscore  =  affstrack.score[affstrack.applied[applycure.lastapplied][i]] + applycure.totalscore 
            AKBackupSalveNumber(affstrack.applied[applycure.lastapplied][i])
         elseif affstrack.score[affstrack.applied[applycure.lastapplied][i]] &gt; 0 then
            table.insert(applycure.possiblemendings, affstrack.applied[applycure.lastapplied][i]) 
            table.insert(applycure.both, affstrack.applied[applycure.lastapplied][i])
            table.insert(applycure.donotrecount, affstrack.applied[applycure.lastapplied][i]) 
            applycure.mendingscore = affstrack.score[affstrack.applied[applycure.lastapplied][i]] + applycure.mendingscore  
            applycure.totalscore  =  affstrack.score[affstrack.applied[applycure.lastapplied][i]] + applycure.totalscore     
         end
      end
      applycure.totalscore = applycure.totalscore / 100
      applycure.mendingscore = applycure.mendingscore / 100
      applycure.restorationscore = applycure.restorationscore / 100
   if applycure.aknextsalve ~= "both" then
      if applycure.aknextsalve == "mending" and applycure.mendingscore &gt; 0 then
         for i = 1, #applycure.possiblemendings do
            ocured[applycure.otableadd][applycure.possiblemendings[i]] = affstrack.score[applycure.possiblemendings[i]] 
            table.insert(affs, applycure.possiblemendings[i])
         end
      elseif applycure.aknextsalve == "restoration" and applycure.restorationscore &gt; 0 then
         for i = 1, #applycure.possiblerestorations do
            ocured[applycure.otableadd][applycure.possiblerestorations[i]] = affstrack.score[applycure.possiblerestorations[i]] 
            table.insert(affs, applycure.possiblerestorations[i])
         end
      else
         applycure.aknextsalve = "both"
         for i = 1, #applycure.possiblerestorations do
            ocured[applycure.otableadd][applycure.possiblerestorations[i]] = affstrack.score[applycure.possiblerestorations[i]] 
            table.insert(affs, applycure.possiblerestorations[i])
          end
         for i = 1, #applycure.possiblemendings do
            ocured[applycure.otableadd][applycure.possiblemendings[i]] = affstrack.score[applycure.possiblemendings[i]] 
            table.insert(affs, applycure.possiblemendings[i])
         end
      end
   elseif applycure.aknextsalve == "both" then
      for i = 1, #applycure.possiblerestorations do
         ocured[applycure.otableadd][applycure.possiblerestorations[i]] = affstrack.score[applycure.possiblerestorations[i]] 
         table.insert(affs, applycure.possiblerestorations[i])
      end
      for i = 1, #applycure.possiblemendings do
         ocured[applycure.otableadd][applycure.possiblemendings[i]] = affstrack.score[applycure.possiblemendings[i]] 
         table.insert(affs, applycure.possiblemendings[i])
      end
   end
   --display(affs)
   --display(affstrack.score[affs[1]])
   if #affs == 1 and affstrack.score[affs[1]] &lt; 100 then
      if #ToBeCleared &gt; 0 then
         for i = 1, #ToBeCleared do
            ak.limbs.CountAgain(ToBeCleared[i])
         end
      end
      ocured[applycure.otableadd] = {}
      if ak.ProTrackingConfirmed then ak.ProTrackingConfirmed(affs[1]) end
      ocured[applycure.otableadd] = {}
      ocured[applycure.otableadd][affs[1]] = 100
   end
   if #affs &gt; 0 then
      AKleftcuresfirst(affs)
      if #ToBeCleared &gt; 0 then
         for i = 1, #ToBeCleared do
            ak.limbs.CountAgain(ToBeCleared[i])
         end
      end
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         reduceSalveAff(affs[i])
         affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / #affs
         if affstrack.score[affs[i]] &lt; ak.errorallowance then
            affstrack.score[affs[i]] = 0
						ak.AfflictionCured(affs[i])
         end
         if table.contains(applycure.affoverone, affs[i]) then
            affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
            if table.contains(applycure.affovertwo, affs[i]) then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
               if table.contains(applycure.affoverthree, affs[i]) then
                  affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                  if table.contains(applycure.affoverfour, affs[i]) then
                     affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                     if table.contains(applycure.affoverfive, affs[i]) then
                        affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        if table.contains(applycure.affoversix, affs[i]) then
                           affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        end
                     end
                  end
               end
            end 
         end
      end
      if affstrack.score.aflame == 0 and affstrack.score.conflagrate == 100 then affstrack.score.conflagrate = 0;akadsty = 1 end
      if affstrack.score.hypothermia == 100 and affstrack.score.frozen == 0 then affstrack.score.hypothermia = 0 end
   elseif ak.randomaffs &gt; 0 then
      ak.randomaffs = ak.randomaffs - 1
   else

   end
   applycure.lastapplied = nil
   affstrack.score.tempslickness = 0 
   ak.scoreup(target)
end



function AKBackupSalveNumber(aff)
   local resetcure = tonumber(affstrack.score[aff])
   if affstrack.score[aff] &gt; 100 then
      table.insert(applycure.affoverone, aff) 
      affstrack.score[aff] = affstrack.score[aff] - 100
      if affstrack.score[aff] &gt; 100 then
        table.insert(applycure.affovertwo, aff) 
        affstrack.score[aff] = affstrack.score[aff] - 100
        if affstrack.score[aff] &gt; 100 then
           table.insert(applycure.affoverthree, aff) 
           affstrack.score[aff] = affstrack.score[aff] - 100
           if affstrack.score[aff] &gt; 100 then
              table.insert(applycure.affoverfour, aff) 
              affstrack.score[aff] = affstrack.score[aff] - 100
              if affstrack.score[aff] &gt; 100 then
                 table.insert(applycure.affoverfive, aff) 
                 affstrack.score[aff] = affstrack.score[aff] - 100
                 if affstrack.score[aff] &gt; 100 then
                    table.insert(applycure.affoversix, aff) 
                    affstrack.score[aff] = affstrack.score[aff] - 100
                 end
              end
           end
        end
      end
   end
   affstrack.score[aff] = tonumber(resetcure)
end
function reduceSalveAff(aff)
   if affstrack.score[aff] &gt; 100 then
      affstrack.score[aff] = affstrack.score[aff] - 100
      if affstrack.score[aff] &gt; 100 then
        affstrack.score[aff] = affstrack.score[aff] - 100
        if affstrack.score[aff] &gt; 100 then
           affstrack.score[aff] = affstrack.score[aff] - 100
           if affstrack.score[aff] &gt; 100 then
              affstrack.score[aff] = affstrack.score[aff] - 100
              if affstrack.score[aff] &gt; 100 then
                 affstrack.score[aff] = affstrack.score[aff] - 100
                 if affstrack.score[aff] &gt; 100 then
                    affstrack.score[aff] = affstrack.score[aff] - 100
                 end
              end
           end
        end
      end
   end 
end

function AKleftcuresfirst(affs)
   if table.contains(affs,"rightleg") and table.contains(affs,"leftleg") then 
      for i=1, #affs do
         if affs[i] == "rightleg" then
            table.remove(affs,i)
         end
      end   
   elseif table.contains(affs,"rightarm") and table.contains(affs,"leftarm") then
      for i=1, #affs do
         if affs[i] == "rightarm" then
            table.remove(affs,i)
         end
      end 
   end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>osmoke</name><packageName /><script>ak.smoke = ak.smoke or {}

function affssmoke()
	ak.smoke.mass = {}
	ak.occie.aura.parsereduct("smoke")
   local affs = {}
   ocured = ocured or {}
   ak.randomaffs = ak.randomaffs or 0
   ocured.smoked = {}
   if affstrack.score.asthma&gt;0 then 
      if ak.thoughtIhad then ak.thoughtIhad("asthma") else affstrack.score.asthma = 0 end
      ocured = ocured or {}
      ocured.smoked = {}
   end
   for i = 1, #affstrack.smoked do
      if affstrack.score[affstrack.smoked[i]] &gt; 0 then
         table.insert(affs, affstrack.smoked[i])
      end
   end
   if #affs == 1 then
	 		if affstrack.score[affs[1]] &lt; 100 and ak.randomaffs == 0 then
      	if ak.ProTrackingConfirmed then ak.ProTrackingConfirmed(affs[1]) end
      end
			ak.smoke.RetainMass(affs[1], affstrack.score[affs[1]])
			affstrack.score[affs[1]] = 0	
			ak.smoke.RestoreMass(affs[1])
			if affstrack.score[affs[1]] == 0 then
				 ak.AfflictionCured(affs[1])
				 ak.ResetConfirmAff(affs[1])
			end
   elseif #affs &gt; 0 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         ocured.smoked[affs[i]] = affstrack.score[affs[i]]
				 ak.smoke.RetainMass(affs[1], affstrack.score[affs[1]])
         affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / #affs
         if affstrack.score[affs[i]] &lt; ak.errorallowance then
            affstrack.score[affs[i]] = 0
         end
				 ak.smoke.RestoreMass(affs[i])
				 if affstrack.score[affs[i]] == 0 then
				 	  ak.AfflictionCured(affs[i])
				 end
      end
   elseif ak.randomaffs &gt; 0 then
      ak.randomaffs = ak.randomaffs - 1
   else
       reboundingaccountak = true
       if reboundingaktime then killTimer(reboundingaktime) end
       reboundingaktime = tempTimer(11,[[reboundingaccountak = false]])
   end
   ak.scoreup(target)
end

function ak.smoke.RetainMass(aff, count)
	ak.smoke.mass[aff] = roundDown(count-1,-2)
end

function ak.smoke.RestoreMass(aff)
	local returner = ak.smoke.mass[aff] or 0
	affstrack.score[aff] = affstrack.score[aff] + returner
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>oactive</name><packageName /><script>function ak.cure.active()
	ak.occie.aura.parsereduct("passive")
   if affstrack.score.voyria == 100 then
      affstrack.score.voyria = 0 
      return
   end
   affs = {}
   ak.randomaffs = ak.randomaffs or 0
   affoverone = {}
   affovertwo = {}
   affoverthree = {}
   affoverfour = {}
   affoverfive = {}
   affoversix = {}
   ocured = ocured or {}
   ocured.cureall = {}
   for i = 1, #affstrack.cureall do
      if affstrack.score[affstrack.cureall[i]] &gt; 0  then
         table.insert(affs, affstrack.cureall[i])
         ocured.cureall[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]]
         if affstrack.score[affstrack.cureall[i]] &gt; 100 and affstrack.cureall[i] == "aflame" then
            table.insert(affoverone, affstrack.cureall[i]) 
            affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
            if affstrack.score[affstrack.cureall[i]] &gt; 100 then
               table.insert(affovertwo, affstrack.cureall[i]) 
               affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
               if affstrack.score[affstrack.cureall[i]] &gt; 100 then
                  table.insert(affoverthree, affstrack.cureall[i]) 
                  affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
                  if affstrack.score[affstrack.cureall[i]] &gt; 100 then
                     table.insert(affoverfour, affstrack.cureall[i]) 
                     affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
                     if affstrack.score[affstrack.cureall[i]] &gt; 100 then
                        table.insert(affoverfive, affstrack.cureall[i]) 
                        affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
                        if affstrack.score[affstrack.cureall[i]] &gt; 100 then
                           table.insert(affoversix, affstrack.cureall[i]) 
                           affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
                        end
                     end
                  end
               end
            end
         end
      end
   end
   if #affs == 1 and affstrack.score[affs[1]] &lt; 100 and ak.randomaffs == 0 then
      if ak.ProTrackingConfirmed then ak.ProTrackingConfirmed(affs[1]) end
      affstrack.score[affs[1]] = 0
			ak.AfflictionCured(affs[1])
			ak.ResetConfirmAff(affs[1])
   elseif #affs &gt; 1 and table.contains(affs,"impatience") and FocusCount() &gt;= 100 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         ocured.cureall[affs[i]] = affstrack.score[affs[i]]
         if affs[i] ~= "impatience" then
            affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / (#affs-1)
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
               affstrack.score[affs[i]] = 0
							 ak.AfflictionCured(affs[i])
            end
            if table.contains(affoverone, affs[i]) then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
               if table.contains(affovertwo, affs[i]) then
                  affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                  if table.contains(affoverthree, affs[i]) then
                     affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                     if table.contains(affoverfour, affs[i]) then
                        affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        if table.contains(affoverfive, affs[i]) then
                           affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           if table.contains(affoversix, affs[i]) then
                              affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           end
                        end
                     end
                  end
               end
            end 
         end        
      end
   elseif #affs &gt; 1 and table.contains(affs,"asthma") and SmokeCount() &gt;= 100 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         ocured.cureall[affs[i]] = affstrack.score[affs[i]]
         if affs[i] ~= "asthma" then
            affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / (#affs-1)
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
               affstrack.score[affs[i]] = 0
							 ak.AfflictionCured(affs[i])
            end
            if table.contains(affoverone, affs[i]) then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
               if table.contains(affovertwo, affs[i]) then
                  affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                  if table.contains(affoverthree, affs[i]) then
                     affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                     if table.contains(affoverfour, affs[i]) then
                        affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        if table.contains(affoverfive, affs[i]) then
                           affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           if table.contains(affoversix, affs[i]) then
                              affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           end
                        end
                     end
                  end
               end
            end 
         end        
      end
   elseif #affs &gt; 0 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         ocured.cureall[affs[i]] = affstrack.score[affs[i]]
         affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / #affs
         if affstrack.score[affs[i]] &lt; ak.errorallowance then
            affstrack.score[affs[i]] = 0
						ak.AfflictionCured(affs[i])
         end
         if table.contains(affoverone, affs[i]) then
            affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
            if table.contains(affovertwo, affs[i]) then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
               if table.contains(affoverthree, affs[i]) then
                  affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                  if table.contains(affoverfour, affs[i]) then
                     affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                     if table.contains(affoverfive, affs[i]) then
                        affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        if table.contains(affoversix, affs[i]) then
                           affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        end
                     end
                  end
               end
            end 
         end        
      end
      if affstrack.score.aflame == 0 and affstrack.score.conflagrate == 100 then affstrack.score.conflagrate = 0;akadsty = 1 end
   elseif ak.randomaffs &gt; 0 then
      ak.randomaffs = ak.randomaffs - 1
   else
      if ak.WhyYouDoThat then ak.WhyYouDoThat("cureall") end
   end
   ak.scoreup(target)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Over One Saves</name><packageName /><script>ak.excess = ak.excess or {}
function ak.DumpExcess(affliction)
	local stored = math.floor(affstrack.score[affliction]/100)
	stored = stored * 100
	if stored &gt; 0 then
		ak.excess[affliction] = stored
	end
	affstrack.score[affliction] = affstrack.score[affliction] - stored
end

function ak.RestoreExcess(affliction)
	if ak.excess[affliction] then
		affstrack.score[affliction] = affstrack.score[affliction] + ak.excess[affliction]
	end
end


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>opassive</name><packageName /><script>function ak.cure.passive()
	ak.occie.aura.parsereduct("passive")
   if affstrack.score.voyria == 100 then
      affstrack.score.voyria = 0 
      return
   end
   affs = {}
   ak.randomaffs = ak.randomaffs or 0
   affoverone = {}
   affovertwo = {}
   affoverthree = {}
   affoverfour = {}
   affoverfive = {}
   affoversix = {}
   ocured = ocured or {}
   ocured.cureall = {}
   for i = 1, #affstrack.cureall do
      if affstrack.score[affstrack.cureall[i]] &gt; 0  then
         table.insert(affs, affstrack.cureall[i])
         ocured.cureall[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]]
         if affstrack.score[affstrack.cureall[i]] &gt; 100 and affstrack.cureall[i] == "aflame" then
            table.insert(affoverone, affstrack.cureall[i]) 
            affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
            if affstrack.score[affstrack.cureall[i]] &gt; 100 then
               table.insert(affovertwo, affstrack.cureall[i]) 
               affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
               if affstrack.score[affstrack.cureall[i]] &gt; 100 then
                  table.insert(affoverthree, affstrack.cureall[i]) 
                  affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
                  if affstrack.score[affstrack.cureall[i]] &gt; 100 then
                     table.insert(affoverfour, affstrack.cureall[i]) 
                     affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
                     if affstrack.score[affstrack.cureall[i]] &gt; 100 then
                        table.insert(affoverfive, affstrack.cureall[i]) 
                        affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
                        if affstrack.score[affstrack.cureall[i]] &gt; 100 then
                           table.insert(affoversix, affstrack.cureall[i]) 
                           affstrack.score[affstrack.cureall[i]] = affstrack.score[affstrack.cureall[i]] - 100
                        end
                     end
                  end
               end
            end
         end
      end
   end
   if #affs == 1 and affstrack.score[affs[1]] &lt; 100 and ak.randomaffs == 0 then
      if ak.ProTrackingConfirmed then ak.ProTrackingConfirmed(affs[1]) end
      affstrack.score[affs[1]] = 0
			ak.AfflictionCured(affs[1])
			ak.ResetConfirmAff(affs[1])
   elseif #affs &gt; 1 and table.contains(affs,"impatience") and FocusCount() &gt;= 100 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         ocured.cureall[affs[i]] = affstrack.score[affs[i]]
         if affs[i] ~= "impatience" then
            affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / (#affs-1)
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
               affstrack.score[affs[i]] = 0
							 ak.AfflictionCured(affs[i])
            end
            if table.contains(affoverone, affs[i]) then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
               if table.contains(affovertwo, affs[i]) then
                  affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                  if table.contains(affoverthree, affs[i]) then
                     affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                     if table.contains(affoverfour, affs[i]) then
                        affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        if table.contains(affoverfive, affs[i]) then
                           affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           if table.contains(affoversix, affs[i]) then
                              affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           end
                        end
                     end
                  end
               end
            end 
         end        
      end
   elseif #affs &gt; 1 and table.contains(affs,"asthma") and SmokeCount() &gt;= 100 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         ocured.cureall[affs[i]] = affstrack.score[affs[i]]
         if affs[i] ~= "asthma" then
            affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / (#affs-1)
            if affstrack.score[affs[i]] &lt; ak.errorallowance then
               affstrack.score[affs[i]] = 0
							 ak.AfflictionCured(affs[i])
            end
            if table.contains(affoverone, affs[i]) then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
               if table.contains(affovertwo, affs[i]) then
                  affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                  if table.contains(affoverthree, affs[i]) then
                     affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                     if table.contains(affoverfour, affs[i]) then
                        affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        if table.contains(affoverfive, affs[i]) then
                           affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           if table.contains(affoversix, affs[i]) then
                              affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                           end
                        end
                     end
                  end
               end
            end 
         end        
      end
   elseif #affs &gt; 0 then
      ak.echoForPossibleCures(table.concat(affs, " "))
      for i = 1, #affs do
         ocured.cureall[affs[i]] = affstrack.score[affs[i]]
         affstrack.score[affs[i]] = affstrack.score[affs[i]] - affstrack.score[affs[i]] / #affs
         if affstrack.score[affs[i]] &lt; ak.errorallowance then
            affstrack.score[affs[i]] = 0
						ak.AfflictionCured(affs[i])
         end
         if table.contains(affoverone, affs[i]) then
            affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
            if table.contains(affovertwo, affs[i]) then
               affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
               if table.contains(affoverthree, affs[i]) then
                  affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                  if table.contains(affoverfour, affs[i]) then
                     affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                     if table.contains(affoverfive, affs[i]) then
                        affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        if table.contains(affoversix, affs[i]) then
                           affstrack.score[affs[i]] = affstrack.score[affs[i]] + 100
                        end
                     end
                  end
               end
            end 
         end        
      end
      if affstrack.score.aflame == 0 and affstrack.score.conflagrate == 100 then affstrack.score.conflagrate = 0;akadsty = 1 end
   elseif ak.randomaffs &gt; 0 then
      ak.randomaffs = ak.randomaffs - 1
   else
      if ak.WhyYouDoThat then ak.WhyYouDoThat("cureall") end
   end
   ak.scoreup(target)
end
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Prorities</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Salve Priorities</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
ak.enemyprio.salve = ak.enemyprio.salve or {}
ak.enemyprio.salve[target] = ak.enemyprio.salve[target] or {}

ak.tieredaffs = {"rightleg 100","rightleg 200","rightleg 300","leftleg 100","leftleg 200","leftleg 300","rightarm 100","rightarm 200","rightarm 300","leftarm 100","leftarm 200","leftarm 300",
                 "head 100","head 200","head 300","torso 100","torso 200","torso 300"}
local ignored = {"rightleg","leftleg","rightarm","leftarm","torso","head"}
local salvelocations = {"head","legs","arms","torso"}

function ak.enemyprio.applied(salve)
	if not table.contains(salvelocations,salve) then 
		return 
	end
	ak.enemyprio.salve[target] = ak.enemyprio.salve[target] or {}
	local maxinteger = 0
	local compsplit = ""
	local fuck = ak.enemyprio.salve[target]
	local aff = {}
	local insertpoint = false
	if #fuck &gt; 0 then
		for i = 1, #affstrack.applied[salve] do
			if affstrack.score[affstrack.applied[salve][i]] &gt; 0 then
				aff[affstrack.applied[salve][i]] = affstrack.score[affstrack.applied[salve][i]]
			end
		end
	end
	for k,v in pairs(aff) do
		if table.contains(fuck, k.." "..v) then
			table.remove(fuck,table.index_of(fuck, k.." "..v))
		end
	end
	if #fuck &gt; 0 then
		for i = 1, #fuck do
			compsplit = string.split(fuck[i], " ")
			if affstrack.score[compsplit[1]] == (compsplit[2] + 0) then
				if insertpoint then
					for k,v in pairs(aff) do
						if not table.contains(fuck, k.." "..v) then
							table.insert(fuck, insertpoint, k.." "..v)
						end
					end				
				else
					for k,v in pairs(aff) do
						if not table.contains(fuck, k.." "..v) then
							table.insert(fuck, i, k.." "..v)
						end
					end
				end
				insertpoint = false
			else--if ak.enemyprio.notHigherAff(compsplit[1], k) --donothaft hisaffliction
				insertpoint = i
			end
		end
	end
	for k,v in pairs(aff) do
		if not table.contains(fuck, k.." "..v) then
			table.insert(fuck, k.." "..v)
		end
	end	
	for k,v in pairs(affstrack.applied) do --add to table
		if table.contains(salvelocations, k) then
			for i = 1, #v do
				if affstrack.score[v[i]] &gt; 0 and not table.contains(fuck, v[i].." "..affstrack.score[v[i]]) then
					table.insert(fuck, v[i].." "..affstrack.score[v[i]])
				else--already in the table but in the wrong spot / has a score currently
	
				end	
			end
		end
	end
	if ak.debug then
		cecho("enemysalveprio")
		display(fuck)
	end
end

function ak.enemyprio.notHigherAff(aff, aff2)
	local compslit = ""
	local compslit2 = ""
	compsplit = string.split(aff, " ")
	compsplit2 = string.split(aff2, " ")
	if compsplit[1] == compslit[2] then
		return false
	else
		return true
	end


end


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Priority by Healed</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
ak.enemyprio = ak.enemyprio or {}
ak.enemyprio.healed = ak.enemyprio.healed or {}
target = target or "Austere"

ak.tieredaffs = {"rightleg 100","rightleg 200","rightleg 300","leftleg 100","leftleg 200","leftleg 300","rightarm 100","rightarm 200","rightarm 300","leftarm 100","leftarm 200","leftarm 300",
                 "head 100","head 200","head 300","torso 100","torso 200","torso 300"}
local ignored = {"rightleg","leftleg","rightarm","leftarm","torso","head","tempslickness"}


function ak.trackPrios(affliction)
	if not affliction or not table.contains(affstrack.score, affliction) then 
		echo("&lt;cyan&gt;SOMETHING IS PUSHING AN UNKNOWN AFF CURED")
		return 
	end
	ak.enemyprio.healed[target] = ak.enemyprio.healed[target] or {}
	local maxinteger = 0
	local fuck = ak.enemyprio.healed[target]
	local aff = affliction
	if table.contains(ignored, aff) then return end
	if table.contains(fuck, aff) then
		table.remove(fuck,table.index_of(fuck, aff))
	end
	if #fuck &gt; 0 then
		for i = 1, #fuck do
			if affstrack.score[fuck[i]] and affstrack.score[fuck[i]] &gt; 0 then
				if affstrack.score[aff] and not table.contains(fuck, aff) then
					table.insert(fuck, i, aff)
					break
				end
			end
		end
	end
	if affstrack.score[aff] and not table.contains(fuck, aff) then
		table.insert(fuck, aff)
	end
	for k,v in pairs(affstrack.score) do
		if v &gt; 0 and not table.contains(fuck, k) and not table.contains(ignored, k) then
			table.insert(fuck, k)
		end
	end
	if ak.debug then
		cecho("enemyhealedprio")
		display(ak.enemyprio.healed[target])
	end
end



function ak.prioSalve(aff)
	local returner = 0
	if not applycure.affoverone then return returner end
	if table.contains(applycure.affoverone, aff) then
	   returner = returner + 100
	   if table.contains(applycure.affovertwo, aff) then
	      returner = returner + 100
	      if table.contains(applycure.affoverthree, aff) then
	         returner = returner + 100
	         if table.contains(applycure.affoverfour, aff) then
	            returner = returner + 100
	            if table.contains(applycure.affoverfive, aff) then
	               returner = returner + 100
	               if table.contains(applycure.affoversix, aff) then
	                  returner = returner + 100
	               end
	            end
	         end
	      end
	   end 
	end
	return returner
end
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Limbs</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Limb Display</name><packageName /><script>--limbshow
function ak.limbshow()
   cecho("aff_display","\n&lt;blue&gt;****************\n")
   cecho("aff_display","\nLimbs:                \n")
   ak.limbs = ak.limbs or {}
   ak.limbs.limbcount = ak.limbs.limbcount or {}
   if ak.limbs.limbcount[target] ~= nil then
      cecho("aff_display","\n\nH+T  :&lt;yellow&gt;"..ak.limbs.limbcount[target].head.." "..ak.limbs.limbcount[target].torso.."      \n")
      cecho("aff_display","\n\nArms: &lt;yellow&gt;"..ak.limbs.limbcount[target].leftarm.." "..ak.limbs.limbcount[target].rightarm.."      \n")
      cecho("aff_display","\n\nLegs: &lt;yellow&gt;"..ak.limbs.limbcount[target].leftleg.." "..ak.limbs.limbcount[target].rightleg.."      ")
   end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Parse Hits</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function ak.limbs.ParseonLine()
	if isActive("Confirmed Hit Limbs", "trigger") == 0 then return end
	ak.limbs.parseBreaks()
end



function ak.limbs.parseBreaks()
   cecho("&lt;cyan&gt;.")
   ak.limbs.ScoreRun = false
   disableTrigger("Missed Single Removal Limbs")                --DO NOT CHANGE!
   disableTrigger("Parry locate")
   disableTrigger("Monk Parry")
   local augment = "none"
   if #ak.limbs.currentbreak.weapon &gt; 0 then
      for i = 1, #ak.limbs.currentbreak.weapon do
         if ak.limbs.currentbreak.augment[i] then
            augment = ak.limbs.currentbreak.augment[i] 
         else
            augment = "none"
         end
         ak.limbs.LimbHit(ak.limbs.currentbreak.who[i], ak.limbs.currentbreak.attacker[i], ak.limbs.currentbreak.weapon[i], ak.limbs.currentbreak.limb[i], augment)
      end
   end
   ak.limbs.currentbreak.weapon = {}
   ak.limbs.currentbreak.limb = {}
   ak.limbs.currentbreak.attacker = {}
   ak.limbs.currentbreak.who = {}
   ak.limbs.currentbreak.augment = {}
   cecho("&lt;cyan&gt;.")
   ak.limbs.absorbed = false
end

function ak.limbs.parseBreaksPrompt()
   cecho("&lt;cyan&gt;.")
   ak.limbs.ScoreRun = true
   disableTrigger("Missed Single Removal Limbs")                --DO NOT CHANGE!
   disableTrigger("Confirmed Hit Limbs") 
   disableTrigger("Parry locate")
   disableTrigger("Monk Parry")
   local augment = "none"
   if #ak.limbs.currentbreak.weapon &gt; 0 then
      for i = 1, #ak.limbs.currentbreak.weapon do
         if ak.limbs.currentbreak.augment[i] then
            augment = ak.limbs.currentbreak.augment[i] 
         else
            augment = "none"
         end
         ak.limbs.LimbHit(ak.limbs.currentbreak.who[i], ak.limbs.currentbreak.attacker[i], ak.limbs.currentbreak.weapon[i], ak.limbs.currentbreak.limb[i], augment)
      end
   else
      ak.scoreup(target)
   end
   ak.limbs.currentbreak.weapon = {}
   ak.limbs.currentbreak.limb = {}
   ak.limbs.currentbreak.attacker = {}
   ak.limbs.currentbreak.who = {}
   ak.limbs.currentbreak.augment = {}
   cecho("&lt;pink&gt;*")
   ak.limbs.absorbed = false
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Clamp</name><packageName /><script>ak.clampd = ak.clampd or {}
function ak.limbs.clampOn(who)
	if ak.knownmaxhealth[who] and not table.contains(ak.clampd,who) then
		cecho("\n\n&lt;cyan&gt;MIND CLAMP ON &lt;white&gt;"..who.."\n\n")
		ak.knownmaxhealth[who] = ak.knownmaxhealth[who] * .8
		table.insert(ak.clampd,who)
	end
	ak.scoreup(who)
end

function ak.limbs.clampOFF(who)
	if ak.knownmaxhealth[who] and table.contains(ak.clampd,who) then
		cecho("\n\n&lt;cyan&gt;LOST CLAMP ON &lt;white&gt;"..who.."\n\n")
		table.remove(ak.clampd,table.index_of(ak.clampd, who))
		ak.knownmaxhealth[who] = ak.knownmaxhealth[who] * 5/4
	end
	ak.scoreup(who)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Limb Hit +</name><packageName /><script>--limbs2
ak.limbs = ak.limbs or {}
ak.limbs.test = ak.limbs.test or {}
ak.limbs.weaponry = ak.limbs.weaponry or {}
ak.limbs.parriedlimbs = ak.limbs.parriedlimbs or {}
ak.limbs.weaponry.magi = {"earthstaff","airstaff","firestaff","waterstaff"}
ak.limbs.currentbreak = ak.limbs.currentbreak or {}
ak.limbs.currentbreak.weapon = {}
ak.limbs.currentbreak.limb = {}
ak.limbs.currentbreak.attacker = {}
ak.limbs.currentbreak.augment = {}
ak.limbs.currentbreak.who = {}
ak.limbs.blademaster = ak.limbs.blademaster or {}
ak.limbs.blademaster.stance = ak.limbs.blademaster.stance or {}
ak.limbs.tekura = ak.limbs.tekura or {}
ak.limbs.shikudo = ak.limbs.shikudo or {}
ak.limbs.twoh = ak.limbs.twoh or {}
ak.limbs.twoh.stance = ak.limbs.twoh.stance or {}


ak.limbs.LimbHit = ak.limbs.LimbHit or function(who, attacker, weapon, limb, augment, check)
   if who == "Me" then return end
   local whomaxhealth = ak.limbs.FindTargetHealth(who)
   local damage = 0
   ak.limbs.limb_table_check(who)
   ak.limbs.deleteset = false
   ak.limbs.tekura.dontbreaksethead = false
   local attackerclass = "unknown"
   if attacker == "Me" and gmcp.Char.Status.race:match("Dragon") then
      attackerclass = "Dragon" 
   elseif attacker == "Me" and gmcp.Char.Status.class then
      attackerclass = gmcp.Char.Status.class
   elseif ndba and ndba.isperson(attacker) then
      attackerclass = ndba.names[attacker]["class"]
   end 
   if weapon == "tremolo" then 
      damage = 50
   elseif who == "Me" and wsys and wsys.stats.h == wsys.stats.oh then 
      if wsys.absorbed == false then
         return 
      end
   elseif weapon == "dragonrend" then 
      damage = 25
	 elseif weapon == "psion" then
	 	  damage = 25
	 elseif weapon == "wreathed" then
      damage = 12.5
   elseif weapon == "viridianrend" then
      damage = 25			
   elseif weapon == "airstaff" then --15,9 for magi
      if whomaxhealth &gt; 5300 then
         damage = 10
      else
         damage = 11
      end  
      ak.staffaff(weapon)    
   elseif table.contains(ak.limbs.weaponry.magi, weapon) then
      if whomaxhealth &gt; 5400 then
         damage = 16
      else
         damage = 17
      end   
      ak.staffaff(weapon)      
   elseif ak.limbs.myweapons and ak.limbs.myweapons[weapon] then --ak.limbs.myweapons
      damage = ak.limbs.findMyStab(weapon,whomaxhealth)
	 elseif ak.limbs.myformulas and ak.limbs.myformulas[weapon] then
	 		damage = ak.limbs.myformulas[weapon](who, attacker, weapon, limb, augment, check)
   else
      return
   end
   ak.limbs.limbcount[who]["lastpercent"..limb] = ak.limbs.limbcount[who][limb] + 0
   ak.limbs.limbcount[who][limb] = ak.limbs.limbcount[who][limb] + damage
   if weapon == "axk" then
      ak.limbs.tekura.dontbreaksethead = true
   end
   if target == who then
      ak.limbs.damageEcho_Target(target,limb)
   else
      ak.limbs.damageEcho_Non_Target(who,limb)
   end
   ak.limbs.test.currentmax = currentmax
   ak.limbs.test.damage = damage
   ak.limbs.test.who = who
   ak.limbs.test.whomaxhealth = whomaxhealth
   ak.limbs.test.attacker = attacker
   ak.limbs.test.attackerclass = attackerclass
   ak.limbs.test.weapon = weapon
   ak.limbs.test.limb = limb
   ak.limbs.test.augment = augment
   ak.limbs.test.check = check
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>My Weapons +</name><packageName /><script>--limbs db

function ak.limbs.findMyStab(weapon,whomaxhealth)
   if not ak.limbs.myweapons[weapon] then 
      cecho("error.1")
      return 
   end
   local currentmax = 0
   local damage = 0
   for k,v in pairs(ak.limbs.myweapons[weapon]) do
      if currentmax == 0 then 
         currentmax = k
      else
         if ak.limbs.isCloser(whomaxhealth, k, currentmax, weapon) then
            currentmax = k
         end
      end
   end
   ak.limbs.test.currentmax = currentmax
   damage = ak.limbs.myweapons[weapon][currentmax]
   return damage
end

function ak.limbs.isCloser(whomaxhealth, k, currentmax, weapon)
   ak.limbs.test.proximityK = whomaxhealth - k
   ak.limbs.test.proximityCurrent = whomaxhealth - currentmax
   if ak.limbs.test.proximityCurrent &lt; 0 then
      ak.limbs.test.proximityCurrent = ak.limbs.test.proximityCurrent * -1
   end
   if ak.limbs.test.proximityK &lt; 0 then
      ak.limbs.test.proximityK = ak.limbs.test.proximityK * -1
   end
   ak.limbs.test.k = k
   ak.limbs.test.currentmax = currentmax
   if ak.limbs.test.proximityK &lt; ak.limbs.test.proximityCurrent then
      return true
   else
      return false
   end
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Limb Relays</name><packageName /><script>--limb relays
function ak.limbs.damageEcho_Target(who,limb)       -----Reset Timer --ak.limbs.tekura.dontbreaksethead
  local hitsneeded = roundUp((100-ak.limbs.limbcount[who][limb])/(ak.limbs.limbcount[who][limb] - ak.limbs.limbcount[who]["lastpercent"..limb]),0)
--Limbs
  if (ak.limbs.limbcount[who][limb] &gt;= 100) and limb ~= "torso" and limb ~= "head" then
		 ak.limbs.limbcount[who].maxbreaks[limb] = ak.limbs.limbcount[who][limb]
     ak.limbs.limbcount[who][limb] = 0
     affstrack.score[limb] = 200
		 ak.limbs.lastbroke = limb
     cecho("&lt;green&gt;\n\nBroke "..who.."'s "..limb.."(A)!!")
		 ak.limbs.breakOrder(limb)
--Head
  elseif (ak.limbs.limbcount[who][limb] &gt;= 100) and not ak.limbs.tekura.dontbreaksethead then
		 ak.limbs.limbcount[who].maxbreaks[limb] = ak.limbs.limbcount[who][limb]
     ak.limbs.limbcount[who][limb] = 0
     affstrack.score[limb] = affstrack.score[limb] + 100
     if limb == "head" then affstrack.score.stupidity = 100 end
		 ak.limbs.lastbroke = limb
     cecho("&lt;green&gt;\n\nBroke "..who.."'s "..limb.."(B)!!")
		 ak.limbs.breakOrder(limb)
  elseif ak.limbs.tekura.dontbreaksethead then
     if ak.limbs.limbcount[who]["head"] &gt; 100 then
        affstrack.score["head"] = 200
        affstrack.score.stupidity = 100
     else
        ak.limbs.limbcount[who]["head"] = ak.limbs.limbcount[who]["lastpercenthead"]
        affstrack.score["head"] = affstrack.score["head"] + 100
        affstrack.score.stupidity = 100
     end
		 ak.limbs.lastbroke = limb
     cecho("&lt;green&gt;\n\nBroke "..who.."'s "..limb.."(AXK)!!")
		 ak.limbs.breakOrder(limb)
  end
  if affstrack.score.head &gt; 200 then affstrack.score.head = 200 end
  cecho("&lt;yellow&gt;\n"..who.."'s "..limb.." is at&lt;cyan&gt; "..roundUp(ak.limbs.limbcount[who][limb],0).."("..hitsneeded..")!!")
  if ak.limbs.ScoreRun then 
		ak.scoreup(target)
		--cecho("&lt;green&gt;Score!")
  end
  limbtimer = limbtimer or {}
  limbtimer[who] = limbtimer[who] or {}
  if limbtimer[who][limb] then killTimer(limbtimer[who][limb]) end
  if who == "Me" and limb == "torso" then
     limbtimer[who][limb] = tempTimer(180, [[ 
         ak.limbs.ignoretorso = false
         cecho("&lt;yellow&gt;\n\nReset ]]..who..[['s ]]..limb..[[!\n")
         ak.limbs.limbcount.]]..who..[[.]]..limb..[[ = 0
         ak.scoreup(target)
     ]])
  else
     limbtimer[who][limb] = tempTimer(180, [[ 
         cecho("&lt;yellow&gt;\n\nReset ]]..who..[['s ]]..limb..[[!\n")
         ak.limbs.limbcount.]]..who..[[.]]..limb..[[ = 0
         ak.scoreup(target)
     ]])
  end
end

function ak.limbs.damageEcho_Non_Target(who,limb) 
  donotrebreak = donotrebreak or {}
  donotrebreak[who] = donotrebreak[who] or {}
  limbtimer = limbtimer or {}
  limbtimer[who] = limbtimer[who] or {}
  local hitsneeded = roundUp((100-ak.limbs.limbcount[who][limb]) / (ak.limbs.limbcount[who][limb] - ak.limbs.limbcount[who]["lastpercent"..limb]),0)
  --local hitsneeded = roundUp(100 / (ak.limbs.limbcount[who][limb] - ak.limbs.limbcount[who]["lastpercent"..limb]),0)
--Limbs
  if ak.limbs.limbcount[who][limb] &gt;= 100 and limb ~= "torso" and limb ~= "head" then
     ak.limbs.limbcount[who][limb] = 0
     if who == "Me" or who == "You" then 
        cecho("&lt;green&gt;\n\nBroke my "..limb.."!!")			
		else
        cecho("&lt;green&gt;\n\nBroke "..who.."'s "..limb.."!!")
     end
     ak.limbs.damagedisable(who,limb)
--Head
  elseif ak.limbs.limbcount[who][limb] &gt;= 100 then
     ak.limbs.limbcount[who][limb] = 0
     if who == "Me" or who == "You" then 
        cecho("&lt;green&gt;\n\nBroke my "..limb.."!!")			
		else
        cecho("&lt;green&gt;\n\nBroke "..who.."'s "..limb.."!!")
     end
     if (who == "Me" or who == "You") and limb == "torso" and not ak.limbs.ignoretorso then
        wsys.affadd("mildtrauma")
				send("curing predict mildtrauma")
     end
     ak.limbs.damagedisable(who,limb)
  end
  if who == "Me" then
     if GUI and GUI.UpdateLimbs then GUI.UpdateLimbs() end
     cecho("&lt;yellow&gt;\nMy &lt;cyan&gt;"..limb.." is at&lt;cyan&gt; "..roundUp(ak.limbs.limbcount[who][limb],0).."("..hitsneeded..")!!")
     if ak.limbs.ScoreRun then ak.scoreup(target) end
     if limbtimer[who][limb] then 
			killTimer(limbtimer[who][limb]) 
		end
     limbtimer[who][limb] = tempTimer(180, [[ 
         cecho("&lt;yellow&gt;\n\nReset My ]]..limb..[[!\n")
         ak.limbs.limbcount.]]..who..[[.]]..limb..[[ = 0
         if GUI and GUI.UpdateLimbs then GUI.UpdateLimbs() end
         ak.scoreup(target)
     ]])
  else
     if limbtimer[who][limb] then 
			killTimer(limbtimer[who][limb]) 
		end
     limbtimer[who][limb] = tempTimer(180, [[ 
         cecho("&lt;yellow&gt;\n\nReset ]]..who..[['s ]]..limb..[[!\n")
         ak.limbs.limbcount.]]..who..[[.]]..limb..[[ = 0
         if ]]..who..[[ == target then ak.scoreup(target)end
     ]])
  end
end

function ak.limbs.damagedisable(who,limb)
   if limb == "aflame" or who == "Me" then
      return
   elseif _G[who..""..limb.."disablelimbdamage"] == nil then 
      _G[who..""..limb.."disablelimbdamage"] = tempTimer(4,[[
         _G["]]..who..[[]]..limb..[[disablelimbdamage"] = nil
         cecho("&lt;cyan&gt;\n\n\nCounting again for, &lt;yellow&gt;]]..who..[['s ]]..limb..[[!\n\n\n")
         ak.limbs.countAgain("]]..who..[[","]]..limb..[[")
         cecho("&lt;cyan&gt;\n\n\nCounting again for, &lt;yellow&gt;]]..who..[['s ]]..limb..[[!\n\n\n")
      ]])
   end
end

function ak.limbs.countAgain(who,limb) --Return From Timeout on Secondary Targets
   local remove = limb:gsub("%s+", "")
   remove = remove:lower()
end

function ak.limbs.CountAgain(limb) --Return from Apply Script
   ak.limbs.limb_table_check(target)
   if ak.limbs.limbcount[target] and ak.limbs.limbcount[target][limb] then 
      ak.limbs.limbcount[target][limb] = 0 
   end
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Misc Limb Functions</name><packageName /><script>--limbs misc
function ak.limbs.FindTargetHealth(who)
   if who == "Me" then
      return gmcp.Char.Vitals.maxhp
   end
   ak.knownmaxhealth = ak.knownmaxhealth or {}
   if table.contains(ak.knownmaxhealth, who) then
      return tonumber(ak.knownmaxhealth[who]) 
   else
      return 6000   
   end
end

function ak.limbs.ariaUp(name)
	if not ak.knownmaxhealth[name] then return end
	ak.knownmaxhealth[name] = ak.knownmaxhealth[name] * 1.1
end

function ak.limbs.ariaDown(name)
	display(name)
	if not ak.knownmaxhealth[name] then return end
	ak.knownmaxhealth[name] = ak.knownmaxhealth[name] / 1.1	
end

function ak.limbs.standardizeLimb(limb)
   local limbsc = {
   ["right leg"] = "rightleg",
   ["right arm"] = "rightarm",
   ["left arm"] = "leftarm",
   ["left leg"] = "leftleg",
   }
   if limbsc[limb] then
      return limbsc[limb]
   else
      return limb
   end
end

function ak.limbs.ExpoundLimb(limb)
   local limbs = {
   ["rightleg"] = "right leg",
   ["rightarm"] = "right arm",
   ["leftarm"] = "left arm",
   ["leftleg"] = "left leg",
   }
   if limbs[limb] then
      return limbs[limb]
   else
      return limb
   end
end

function ak.limbs.limb_table_check(who)
   ak.limbs.limbcount = ak.limbs.limbcount or {}
   who = who or "Me"
   if not ak.limbs.limbcount[who] then
      ak.limbs.limb_table_form(who)
   end
end

function ak.limbs.limb_table_form(who)
 ak.limbs.limbcount[who] = ak.limbs.limbcount[who] or {}
 ak.limbs.limbcount[who].lasthitdamage = ak.limbs.limbcount[who].lasthitdamage or {} 
 ak.limbs.limbcount[who].lasthitlimb = ak.limbs.limbcount[who].lasthitlimb or "rightleg"   
 ak.limbs.limbcount[who].breakpoint = ak.limbs.limbcount[who].breakpoint or 0
 ak.limbs.limbcount[who].rightarm = ak.limbs.limbcount[who].rightarm or 0 
 ak.limbs.limbcount[who].rightleg = ak.limbs.limbcount[who].rightleg or 0 
 ak.limbs.limbcount[who].leftarm = ak.limbs.limbcount[who].leftarm or 0 
 ak.limbs.limbcount[who].leftleg = ak.limbs.limbcount[who].leftleg or 0 
 ak.limbs.limbcount[who].torso = ak.limbs.limbcount[who].torso or 0 
 ak.limbs.limbcount[who].head = ak.limbs.limbcount[who].head or 0
 ak.limbs.limbcount[who].lastpercentrightarm = ak.limbs.limbcount[who].lastpercentrightarm or 0 
 ak.limbs.limbcount[who].lastpercentrightleg = ak.limbs.limbcount[who].lastpercentrightleg or 0 
 ak.limbs.limbcount[who].lastpercentleftarm = ak.limbs.limbcount[who].lastpercentleftarm or 0 
 ak.limbs.limbcount[who].lastpercentleftleg = ak.limbs.limbcount[who].lastpercentleftleg or 0 
 ak.limbs.limbcount[who].lastpercenttorso = ak.limbs.limbcount[who].lastpercenttorso or 0 
 ak.limbs.limbcount[who].lastpercenthead = ak.limbs.limbcount[who].lastpercenthead or 0
 ak.limbs.limbcount[who].maxbreaks = {}

 ak.limbs.limbcount[who].maxbreaks.rightarm = 0 
 ak.limbs.limbcount[who].maxbreaks.rightleg = 0 
 ak.limbs.limbcount[who].maxbreaks.leftarm = 0 
 ak.limbs.limbcount[who].maxbreaks.leftleg = 0 
 ak.limbs.limbcount[who].maxbreaks.torso = 0 
 ak.limbs.limbcount[who].maxbreaks.head = 0
end


function ak.limbs.limbreset(who)
 ak.limbs.limbcount[who] = ak.limbs.limbcount[who] or {}
 ak.limbs.limbcount[who].lasthitdamage = {} 
 ak.limbs.limbcount[who].lasthitlimb =  "rightleg"   
 ak.limbs.limbcount[who].breakpoint = 0
 ak.limbs.limbcount[who].rightarm = 0 
 ak.limbs.limbcount[who].rightleg = 0 
 ak.limbs.limbcount[who].leftarm = 0 
 ak.limbs.limbcount[who].leftleg = 0 
 ak.limbs.limbcount[who].torso = 0 
 ak.limbs.limbcount[who].head = 0
 ak.limbs.limbcount[who].lastpercentrightarm = 0 
 ak.limbs.limbcount[who].lastpercentrightleg = 0 
 ak.limbs.limbcount[who].lastpercentleftarm = 0 
 ak.limbs.limbcount[who].lastpercentleftleg = 0 
 ak.limbs.limbcount[who].lastpercenttorso = 0
 ak.limbs.limbcount[who].lastpercenthead = 0
 ak.limbs.limbcount[who].maxbreaks = {}
 ak.limbs.limbcount[who].maxbreaks.rightarm = 0 
 ak.limbs.limbcount[who].maxbreaks.rightleg = 0 
 ak.limbs.limbcount[who].maxbreaks.leftarm = 0 
 ak.limbs.limbcount[who].maxbreaks.leftleg = 0 
 ak.limbs.limbcount[who].maxbreaks.torso = 0 
 ak.limbs.limbcount[who].maxbreaks.head = 0
end

ak.limbs.BreakerOrder = {"rightleg","leftleg","head","torso","rightarm","leftarm"}
function ak.limbs.breakOrder(limb)
	table.remove(ak.limbs.BreakerOrder,table.index_of(ak.limbs.BreakerOrder,limb))
	table.insert(ak.limbs.BreakerOrder,limb)
end

function ak.limbs.FindLastBrokenLeg()
	local tick = false
	for i = 1, #ak.limbs.BreakerOrder do
		if ak.limbs.BreakerOrder[i] == "rightleg" or ak.limbs.BreakerOrder[i] == "leftleg" then
			if not tick then
				tick = true
			else
				return ak.limbs.BreakerOrder[i]
			end
		end
	end
end

</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Displays</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>oprompt Svo Script</name><packageName /><script>--svo prompt
-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
--Mine Below!
--Without The Display!
--vconfig customprompt ^1H: @health ^W(^1@%health%^W), ^2M: @mana ^W(^2@%mana%^W) ^4@willpowerw, ^5@endurancee ^W@%xp% @eqbal|@defs@affs^W @ml_prompttagmine[@gametargethp]-
--With The Display!
--vconfig customprompt ^1H: @health ^W(^1@%health%^W), ^2M: @mana ^W(^2@%mana%^W) ^4@willpowerw, ^5@endurancee ^W@%xp% @eqbal|@defs@affs^W @ml_prompttagmine[@gametargethp]^y@ml_oprompt-

--Add @ml_oprompt to your custom svo prompt
--Use ^y@ml_oprompt instead for it to be coloured yellow


function ak.ml_oprompt()
  promptset = promptset or {}
  if not target then 
     return "" 
  elseif #promptset &gt; 0 then
     return ("["..table.concat(promptset, ", ").."]")
  else
     return ""
  end
end

function ak.svoEventHandlers()
   svo.adddefinition("@ml_oprompt", "ak.ml_oprompt()")
end
 
registerAnonymousEventHandler("svo system loaded", "ak.svoEventHandlers")



</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>oTarget</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function targetrelay ()
				if not target then return end
        cecho("aff_display","\n&lt;blue&gt;****************\n")
        cecho("aff_display","\n0Targets: "..target.."\n\n")
        if target1 ~= nil then cecho("aff_display","\nTarget1:&lt;yellow&gt; "..target1.."\n\n") end
        if target2 ~= nil then cecho("aff_display","Target2:&lt;yellow&gt; "..target2.."\n\n") end
        if target3 ~= nil then cecho("aff_display","Target3:&lt;yellow&gt; "..target3.."\n\n") end
        cecho("aff_display","\n&lt;blue&gt;****************\n")
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Oprompt Colour</name><packageName /><script>--ColorPrompt

local convert = {

                ["addiction"]      = "add",
                ["agoraphobia"]    = "agor",
                ["anorexia"]       = "anor",
                ["aeon"]           = "aeon",
								["amnesia"]        = "amn",
                ["aflame"]         = "aflame",
                ["airfist"]        = "afist",
                ["asthma"]         = "ast",
                ["blind"]          = "bld",
								["blisters"]       = "bls",
                ["blackout"]       = "blko",
                ["bound"]          = "bound",
								["brand"]          = "brnd",
                ["claustrophobia"] = "claus",
                ["clumsiness"]     = "clum",
                ["conflagrate"]    = "cnflg",
                ["confusion"]      = "conf",
								["corruption"]     = "corr",
                ["crippledarm"]    = "carm",
                ["crippledleg"]    = "cleg",
						    ["crushedthroat"]  = "cthroat",
                ["darkshade"]      = "dark",
                ["deadening"]      = "dead",
                ["depression"]     = "deep",
                ["deaf"]           = "deaf",
                ["dehydrate"]      = "dehy",
                ["dementia"]       = "dem",
                ["disloyalty"]     = "dloyal",
                ["disrupt"]        = "dis",
                ["dizziness"]      = "diz",
                ["epilepsy"]       = "epi",
                ["enlighten"]      = "LIT",
                ["frozen"]         = "frzn",
                ["generosity"]     = "genor",
                ["guilt"]          = "gul",
                ["haemophilia"]    = "haem",
                ["hallucinations"] = "hall",
                ["hamstring"]      = "hamst",
                ["healthleech"]    = "hleach",
                ["hellsight"]      = "hsight",
                ["hierophant"]     = "hiero",
                ["hypersomnia"]    = "hyper",
                ["hypochondria"]   = "hypo",
                ["hypothermia"]    = "hypot",
                ["impaleslash"]    = "is",
                ["impatience"]     = "imp",
                ["inquisition"]    = "inq",
                ["justice"]        = "just",
                ["kola"]           = "kola",
                ["lethargy"]       = "leth",
                ["loneliness"]     = "lonl",
                ["masochism"]      = "maso",
                ["manaleech"]      = "mleach",
								["mindravaged"]    = "mrvg",
                ["nausea"]         = "naus",
                ["pacifism"]       = "pac",
                ["paralysis"]      = "para",
                ["parasite"]       = "paras",
                ["petrified"]      = "PETD",
                ["paranoia"]       = "prnd",
								["preempt"]        = "pree",
                ["prone"]          = "prn",
                ["recklessness"]   = "reck",
                ["retribution"]    = "ret",
                ["rixil"]          = "rixil",
                ["scalded"]        = "scald",
                ["scytherus"]      = "scy",
                ["selarnia"]       = "sel",
                ["sensitivity"]    = "sen",
                ["slime"]          = "slm",
                ["shadowmadness"]  = "smad",
                ["shyness"]        = "shy",
                ["slickness"]      = "slick",
                ["spiritburn"]     = "sburn",
								["stuttering"]     = "stut",
                ["surge"]          = "surge",
                ["tempslickness"]  = "slick2",
								["tension"]        = "ten",
                ["stupidity"]      = "stu",
                ["tenderskin"]     = "tskin",
                ["transfixed"]     = "trans",
                ["timeflux"]       = "tfx",
                ["timeloop"]       = "tloop",
                ["trussed"]        = "trst",
                ["unconscious"]    = "uncon",
                ["weariness"]      = "weari",
                ["whisperingmadness"] = "wmad",
                ["wrenchhead"]     = "wrth",
                ["wrenchtorso"]     = "wrtt",
                ["worm"]           = "wrm",
                ["vertigo"]        = "vert",
                ["vitiate"]        = "vit",
                ["voyria"]         = "voyria",
                ["voidfist"]       = "vfist",
                ["rightleg"]       = "rl",
                ["leftleg"]       = "ll",
                ["rightarm"]       = "ra",
                ["leftarm"]       = "la",
                ["head"]       = "h",
                ["torso"]       = "tt",
                ["trussed"]        = "trsd",
                ["unconscious"]    = "unc",  
                ["airdisrupt"]  = "adsr",
                ["earthdisrupt"]  = "edsr",
                ["firedisrupt"]  = "fdsr",
                ["spiritdisrupt"]  = "sdsr",
                ["waterdisrupt"]  = "wdsr",
								["unweavingmind"] = "umind",
								["unweavingbody"] = "ubody",
								["unweavingspirit"] = "uspirit",
								["bloodfire"]     = "bfire",
}
ak.prompt = ak.prompt or {}
--if ak.prompt.unique then return end
ak.prompt.uniqueset = {"hallucinations","dizziness","recklessness","confusion","paranoia","epilepsy","impatience"}
ak.prompt.uniquesymbol = "&lt;cyan&gt;+"
ak.prompt.donotrelay = {"rixil","slime","hierophant"}
ak.prompt.currentcolor = "&lt;yellow&gt;"
ak.prompt.enablecolor = true
ak.prompt.lockgroup = true
ak.prompt.default = "&lt;yellow&gt;"
ak.prompt.colours = {}
ak.prompt.lockpriority = { 
  [1] = "PTLOCK",
  [2] = "HLOCK",
  [3] = "SLOCK",
  [4] = "VLOCK",
}
ak.prompt.locks = {
  PTLOCK = {"anorexia","asthma","slickness","paralysis","impatience"},
  HLOCK = {"anorexia","asthma","slickness","paralysis"},
  SLOCK = {"anorexia","asthma","slickness","impatience"},
  VLOCK = {"anorexia","asthma","slickness"},
}
ak.prompt.colours.lock = {
  PTLOCK = "&lt;deep_pink&gt;",
  HLOCK = "&lt;deep_pink&gt;",
  SLOCK = "&lt;hot_pink&gt;",
  VLOCK = "&lt;hot_pink&gt;",
}
ak.prompt.colours.specific = {
   Kelp = "&lt;green&gt;",
   Goldenseal = "&lt;white&gt;",
   Ginseng = "&lt;blue&gt;",
   Salve = "&lt;cyan&gt;", 
   Ash = "&lt;purple&gt;",
   Deathly = "&lt;cyan&gt;",
	 Smoke = "&lt;orange&gt;",
   }
ak.prompt.colours.afflictions = {
   Kelp = {"asthma", "clumsiness", "hypochondria", "sensitivity", "weariness", "healthleech"},      
   Goldenseal = {"dizziness", "epilepsy", "impatience", "shyness", "stupidity", "unweavingmind"},
   Ginseng = {"addiction", "darkshade", "haemophilia", "lethargy", "nausea", "scytherus", "unweavingbody"},
   Salve = {"aflame", "rightleg", "leftleg", "rightarm", "leftarm", "head", "torso"}, 
   Ash = {"confusion", "dementia", "hallucinations", "hypersomnia", "paranoia"} ,
   Deathly = {"enlighten","voyria"},
	 Smoke = {"tension","manaleech","deadening","disloyalty", "unweavingspirit"}, 
}
function ak.prompt.unique(aff)
   if table.contains(ak.prompt.uniqueset, aff) then
      return ak.prompt.uniquesymbol..""..ak.prompt.currentcolor
   else
      return ""
   end
end

function ak.prompt.setassign()
   if gmcp.Char.Status.class == "Bard" then
      ak.prompt.uniqueset = {"agoraphobia","claustrophobia","dementia","epilepsy","masochism","recklessness","vertigo","confusion", "dizziness", "impatience", "paranoia", "stupidity", "addiction"}
   elseif gmcp.Char.Status.class == "Sentinel" then
      ak.prompt.uniqueset = {"hallucinations","dizziness","recklessness","confusion","paranoia","epilepsy","impatience"}
   elseif gmcp.Char.Status.class == "Occultist" then
      ak.prompt.uniqueset = {"dementia","stupidity","confusion","hypersomnia","paranoia","hallucinations","impatience","recklessness","masochism","agoraphobia","loneliness","lovers"}   
   else
      ak.prompt.uniqueset = {}
   end
end
function ak.prompt.scoreup()
  ak.prompt.setassign()
  ak.prompt.donotgroup = {}
  ak.prompt.lockconflict = false
  ak.prompt.currentcolor = ak.prompt.default
  promptset = {}
  local donotreprompt = {}
  if ak.prompt.lockgroup then
     for i = 1, #ak.prompt.lockpriority do
        for x = 1, #ak.prompt.locks[ak.prompt.lockpriority[i]] do
           if affstrack.score[ak.prompt.locks[ak.prompt.lockpriority[i]][x]] &gt; 50 and not ak.prompt.lockconflict then
              if x == #ak.prompt.locks[ak.prompt.lockpriority[i]] and not table.contains(ak.prompt.donotgroup, ak.prompt.lockpriority[i]) then
                 if table.contains(ak.prompt.colours.lock, ak.prompt.lockpriority[i] ) then
                    table.insert(promptset, ak.prompt.colours.lock[ak.prompt.lockpriority[i]]..""..ak.prompt.lockpriority[i])
                    ak.prompt.lockconflict = true
                 else
                    table.insert(promptset, ak.prompt.lockpriority[i])
                    ak.prompt.lockconflict = true
                 end
                 for m = 1, #ak.prompt.locks[ak.prompt.lockpriority[i]] do
                    table.insert(donotreprompt, ak.prompt.locks[ak.prompt.lockpriority[i]][m])
                 end   
              end
           elseif not table.contains(ak.prompt.donotgroup, ak.prompt.lockpriority[i]) then
              table.insert(ak.prompt.donotgroup, ak.prompt.lockpriority[i])
           end
        end
     end
  end
  if ak.prompt.enablecolor then
     for k,v in pairs(ak.prompt.colours.afflictions) do
        if #ak.prompt.colours.afflictions[k] &gt; 0 then
           for i = 1,#ak.prompt.colours.afflictions[k] do
              if affstrack.score[ak.prompt.colours.afflictions[k][i]] &gt; 1 and convert[ak.prompt.colours.afflictions[k][i]] and not table.contains(ak.prompt.donotrelay, ak.prompt.colours.afflictions[k][i]) and not table.contains(donotreprompt, ak.prompt.colours.afflictions[k][i]) then         
                 if affstrack.score[ak.prompt.colours.afflictions[k][i]] == 100 and convert[ak.prompt.colours.afflictions[k][i]] then
                    ak.prompt.currentcolor = ak.prompt.colours.specific[k]
                    table.insert(promptset, ak.prompt.colours.specific[k]..""..ak.prompt.unique(ak.prompt.colours.afflictions[k][i])..""..convert[ak.prompt.colours.afflictions[k][i]])
                    table.insert(donotreprompt, ak.prompt.colours.afflictions[k][i])
                 elseif convert[ak.prompt.colours.afflictions[k][i]] then
                    ak.prompt.currentcolor = ak.prompt.colours.specific[k]
                    table.insert(promptset, ak.prompt.colours.specific[k]..""..ak.prompt.unique(ak.prompt.colours.afflictions[k][i])..""..convert[ak.prompt.colours.afflictions[k][i]].."["..math.floor(affstrack.score[ak.prompt.colours.afflictions[k][i]] + 0.5).."]")
                    table.insert(donotreprompt, ak.prompt.colours.afflictions[k][i])
                 end
              end
           end
        end
     end
  end
  for k,v in pairs(affstrack.score) do
     if v &gt; 1 and convert[k] and not table.contains(donotreprompt, k)and not table.contains(ak.prompt.donotrelay, k) then         
        if v == 100 and convert[k] then
           ak.prompt.currentcolor = ak.prompt.default
           table.insert(promptset, ak.prompt.default..""..ak.prompt.unique(k)..""..convert[k])
        elseif convert[k] and not table.contains(ak.prompt.donotrelay, k)  then
           ak.prompt.currentcolor = ak.prompt.default
           table.insert(promptset, ak.prompt.default..""..ak.prompt.unique(k)..""..convert[k].."["..math.floor(v + 0.5).."]" )
        end
     end
  end
  if affstrack.impale then
     ak.prompt.currentcolor = ak.prompt.default
     table.insert(promptset, "&lt;cyan&gt;IMPALED")
  end
  if ak.track.flown then
     ak.prompt.currentcolor = ak.prompt.default
     table.insert(promptset, "&lt;white&gt;FLOWN")
  end
  if gmcp.Char.Status.class == "Infernal" or gmcp.Char.Status.class == "Paladin" or gmcp.Char.Status.class == "Runewarden" or gmcp.Char.Status.class == "Magi" or gmcp.Char.Status.class == "Serpent" or gmcp.Char.Status.class == "Bard" then
		if ak.defs.rebounding then
			table.insert(promptset,"&lt;blue&gt;Reb")
		end
		if affstrack.ferocity and affstrack.ferocity &gt; 0 then
		   table.insert(promptset,"&lt;cyan&gt;[&lt;red&gt;"..affstrack.ferocity.."&lt;cyan&gt;]")	
		end
  end
	if gmcp.Char.Status.class == "Occultist" then
		if ak.occie.aura.mental &gt; 0 or ak.occie.aura.physical &gt; 0 then
			table.insert(promptset,"&lt;cyan&gt;[&lt;white&gt;"..ak.occie.aura.physical.."/&lt;green&gt;"..ak.occie.aura.mental.."&lt;cyan&gt;]")
		end
  end
	if gmcp.Char.Status.class == "Depthswalker" then
    local age = ak.age or 0
    if age ~= 0 then
	   table.insert(promptset,"&lt;white&gt;[&lt;red&gt;"..ak.age().."&lt;white&gt;]")	
    end
	end	
	if ak.bleeding and ak.bleeding &gt; 0 then
	   table.insert(promptset,"&lt;cyan&gt;[&lt;red&gt;"..ak.bleeding.."&lt;cyan&gt;]")
	end
	if gmcp.Char.Status.class == "Shaman" and ak.shaman.GetFashions then
	   table.insert(promptset,"&lt;cyan&gt;[&lt;red&gt;F&lt;cyan&gt;]")	
	end
end





</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>odisplay</name><packageName /><script>if ak.refreshAffs then return end           --DELETE THIS SHIT OUT OF YOUR PERSONAL VARS
ak = ak or {}

function ak.refreshAffs()
   if GUI and GUI.ak then
      GUI.ak()                              
   else
      ak.refreshAffsOLD()
   end

end

function ak.refreshAffsOLD()                               --This is my standard display included
        WindowWidth = 0;
        WindowHeight = 0;
        WindowWidth, WindowHeight = getMainWindowSize()
        moveWindow("aff_display", WindowWidth-190,WindowHeight-900)
        resizeWindow("aff_display", 175,890)
        clearWindow("aff_display")
        if ak.defs.rebounding then         
					cecho("aff_display","\nRebounding: &lt;red&gt;YES!\n")
        else 
					cecho("aff_display","\nRebounding: &lt;yellow&gt;NONE!\n")
        end
        if ak.defs.shield then 
        	cecho("aff_display","\nShielding: &lt;red&gt;YES!\n")
        else 
					cecho("aff_display","\nShielding: &lt;yellow&gt;NONE!\n")
        end
        if ak.defs.curseward then 
        	cecho("aff_display","\nWarding: &lt;red&gt;YES!\n")
        else 
					cecho("aff_display","\nWarding: &lt;yellow&gt;NONE!\n")
        end
        if swiftcount then 
             if swiftcount == 1 then 
                  cecho("aff_display","\nSwifting: &lt;red&gt;FALLING!\n\n")
             else 
                  cecho("aff_display","\nSwifting: &lt;yellow&gt;"..swiftcount.."!\n\n")
             end 
        end
        if vodun and vodun[target] and vodun[target]["fashions"] ~= nil then
           cecho("aff_display","0Fashions:&lt;orange_red&gt;"..vodun[target]["fashions"].."\n\n")
        end
        if ak.stack then echo("aff_display","Stacking:"..ak.stack.."\n") else echo("aff_display","\nStacking: NONE!\n\n") end
        targetrelay()
        echo("aff_display","\n0Afflictions:       \n\n")
        for k,v in pairs(affstrack.score) do
        if v &gt; 1 then
           echo("aff_display", k.." "..v.."\n")
           end
        end
        if affstrack.kelpscore &gt; .1 then    echo("aff_display","\nKelp:        "..affstrack.kelpscore.."|4\n") end
        if affstrack.ginsengscore &gt; .1 then echo("aff_display","Ginseng:     "..affstrack.ginsengscore.."|5\n") end
        if affstrack.goldenscore &gt; .1 then  echo("aff_display","Goldenseal:  "..affstrack.goldenscore.."|5\n") end
        if affstrack.mentalscore &gt; .1 then  echo("aff_display","Mentals:  "..affstrack.mentalscore.."|4\n") end
        if softscore then if softscore &gt;= 3 then cecho("aff_display", "Locks:\n SOFT LOCKED!") end end
        if truescore then if truescore &gt;= 5 then cecho("aff_display", "TRUE LOCKED!") end end
        ak.limbshow()
end

function ak.noDisplay()
        WindowWidth = 0;
        WindowHeight = 0;
        WindowWidth, WindowHeight = getMainWindowSize()
        moveWindow("aff_display", 0,0)
        resizeWindow("aff_display", 0,0)
        clearWindow("aff_display")
end


function init()
        winX, winY = getMainWindowSize()
        createMiniConsole("aff_display", winX-145,0,130,400)
        setBackgroundColor("aff_display", 150, 150, 150, 255)
        setMiniConsoleFontSize( "aff_display", 10 )
        setFgColor("aff_display", 10, 0, 0)
        setBgColor("aff_display", 150, 150, 150)
--ak.refreshAffs()
end



</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>oecho</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

function ak.echogain(string)
   if gmcp.Char.Name.name == "Klendathu" and not ak.disableAllEchos then  
      cecho("  &lt;cyan&gt;GAINED AFF:&lt;white&gt; "..string.."&lt;reset&gt;") 
   elseif not ak.disableAllEchos then 
      EchoForAddedAff(string)
   end
end

function ak.echolost(string)
   if gmcp.Char.Name.name == "Klendathu" and not ak.disableAllEchos then 
      cecho("  &lt;cyan&gt;GAINED AFF:&lt;white&gt; "..string.."&lt;reset&gt;")
   elseif not ak.disableAllEchos then
      EchoForLostAff(string) 
   end
end

function ak.echoForPossibleCures(string)
   if gmcp.Char.Name.name == "Klendathu" and not ak.disableAllEchos then 
      cecho("  &lt;cyan&gt;AFF PROCESSED:&lt;white&gt; "..string.."&lt;reset&gt;")
   elseif not ak.disableAllEchos then
      EchoForPossibleCures(string) 
   end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>oprompt Wys Script</name><packageName /><script>--wsys.prompt
-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
--type wshow display
--add @owysprompt into your prompt

function wsys.prompttags.owysprompt()
  promptset = promptset or {}
  if not target then 
     return "" 
  elseif #promptset &gt; 0 and not ak.disableAllEchos then
     return (ak.prompt.default.."["..table.concat(promptset, ", ").."&lt;yellow&gt;]")
  else
     return ""
  end
end
                    




</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>cdb 1.1</name><packageName>cdb 1.1</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>cdb (scripts)</name><packageName>cdb</packageName><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>cdb CONFIG</name><packageName /><script>-- IN-GAME COMMAND SEPARATOR
cdb.cs = "|"

cdb.politics = {
  targossas = {
    enemy = false,
  },
  mhaldor = {
    enemy = false,
  },
  eleusis = {
    enemy = false,
  },
  cyrene = {
    enemy = false,
  },
  hashan = {
    enemy = false,
  },
  ashtan = {
    enemy = false,
  },
  ["(none)"] = {
    enemy = false,
  },
  divine = {
    enemy = false,
    -- For those who like to live dangerously.
  },
}

cdb.styles = {
  targossas = {
    color = "gold",
    underline = false,
    italics = false,
    bold = false,
  },
  mhaldor = {
    color = "blood",
    underline = false,
    italics = false,
    bold = false,
  },
  eleusis = {
    color = "OliveDrab",
    underline = false,
    italics = false,
    bold = false,
  },
  cyrene = {
    color = "jet",
    underline = false,
    italics = false,
    bold = false,
  },
  hashan = {
    color = "sienna",
    underline = false,
    italics = false,
    bold = false,
  },
  ashtan = {
    color = "purple",
    underline = false,
    italics = false,
    bold = false,
  },
  ["(none)"] = { -- Rogues
    color = "salmon",
    underline = false,
    italics = false,
    bold = false,
  },
  enemies = { -- City enemies
    color = "",
    underline = false,
    italics = true,
    bold = false,
  },
  divine = {
    color = "pink",
    underline = false,
    italics = false,
    bold = true,
  },
  ["(hidden)"] = {
    color = "yellow",
    underline = true,
    italics = false,
    bold = false,
  },
}

color_table.jet = { 48, 48, 48 }
color_table.charcoal = { 63, 63, 63 }
color_table.night = { 69, 69, 69 }
color_table.obs = { 100, 100, 100 }
color_table.moon = { 150, 150, 150 }
color_table.smoke = { 237, 237, 237 }
color_table.blood = { 221, 37, 37 }
color_table.badblood = { 107, 16, 16 }
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>cdb functions</name><packageName /><script>cdb = cdb or {}
cdb.db = cdb.db or {}
cdb.honors = {}
cdb.lights = cdb.lights or {}
cdb.enemies = cdb.enemies or {}

-- 
--  CDB - A lightweight, easy to use character database. By Romaen.
-- 
--  If you encounter problems, send me an OOC message in game or ping me on discord, theo#7545
--

function cdb.echo(str)
  cecho("&lt;DimGrey&gt;(&lt;grey&gt;cdb&lt;DimGrey&gt;): &lt;white&gt;" .. str .. "\n")
end

function cdb.warn(str)
  cecho("&lt;chocolate&gt;(cdb &lt;orange&gt;warning&lt;chocolate&gt;): &lt;white&gt;" .. str .. "\n")
end

function cdb.error(str)
  cecho("&lt;firebrick&gt;(cdb &lt;red&gt;error&lt;firebrick&gt;): &lt;white&gt;" .. str .. "\n")
end

function cdb.lookup(name)
  name = name:lower():title()
  downloadFile(getMudletHomeDir() .. "/temp.json", "https:\/\/api.achaea.com\/characters\/" .. name:lower() .. ".json")
end

function cdb.onConnect()
  cdb.echo("Initialised.")
  cdb.highlights()
end

registerAnonymousEventHandler("sysConnectionEvent", "cdb.onConnect")

function cdb.getwho()
  downloadFile(getMudletHomeDir() .. "/who.json", "http:\/\/api.achaea.com\/characters.json")
end

function cdb.gotinfo(ev, ar)
  if ev ~= "sysDownloadDone" then return end
  if ar:match("temp%.json") then
    local f, s = io.open(getMudletHomeDir() .. "/temp.json")
    if f then 
      s = f:read("*l"):trim()
      io.close(f)
    else
      cdb.error("Retrieving data failed.")
    end
    local t = yajl.to_value(s)
    if cdb.db[t.name] and cdb.db[t.name] ~= "(hidden)" and t.city == "(hidden)" then
      t.city = cdb.db[t.name].city
    end
    cdb.db[t.name] = t
    if cdb.last and t.name == cdb.last then
      cdb.echo("&lt;green&gt;Finished &lt;white&gt;getting information for all online players.")
      cdb.last = nil
      cdb.save()
      cdb.anons()
    elseif cdb.classing then
      cdb.echo(t.name .. "'s current class is &lt;cyan&gt;" .. t.class .. ".")
      cdb.classing = nil
      cdb.save()
    elseif cdb.looking then
      cdb.echo("Data retrieved.")
      cdb.save()
      cdb.looking = nil
    elseif not cdb.last then
      cdb.save()
    end
    cdb.addhighlight(t.name)
  elseif ar:match("who%.json") then
    local f, s = io.open(getMudletHomeDir() .. "/who.json")
    if f then 
      s = f:read("*l"):trim()
      io.close(f)
    end
    local t = yajl.to_value(s)
    for _, v in pairs(t.characters) do
      if cdb.gettingmembers then
        if cdb.db[v.name] and cdb.db[v.name].class == cdb.gettingmembers then
          cdb.members[#cdb.members+1] = v.name
        end
      else
        cdb.lookup(v.name)
        cdb.last = v.name
      end
    end
    if cdb.gettingmembers then
      local t = ""
      if #cdb.members == 0 then t = "&lt;DarkSlateGrey&gt;(none)" else t = table.concat(cdb.members, ", ") end
      cdb.echo("Online members of &lt;yellow&gt;"..cdb.gettingmembers.."&lt;white&gt; class:\n  &lt;cyan&gt;" .. t .. ".")
      cdb.gettingmembers = nil
      cdb.members = {}
    end
  end
end
registerAnonymousEventHandler("sysDownloadDone", "cdb.gotinfo")

function cdb.getmembers(class)
  cdb.gettingmembers = class
  cdb.members = {}
  cdb.getwho()
end


function cdb.display(name, prompt)
  name = name:lower():title()
  if cdb.db[name] then
    local t = cdb.db[name]
    local x = #t.fullname
    local f = ""
    if x &lt; 50 then x, f = 50, string.rep(" ", 50 - x) end
    cecho("&lt;smoke&gt;&#9581;" .. string.rep("&#9472;", x + 16) .. "&#9582;\n")
    cecho("&lt;smoke&gt;&#9474;  &#9556;&#9552;&#9552;&#9552;&#9552;&#9552;&#9559;    " .. string.rep(" ", x) .. "   &#9474;\n")
    cecho("&lt;smoke&gt;&#9474;  &#9553; &lt;obs&gt;CDB &lt;smoke&gt;&#9553;  &lt;yellow&gt;\"" .. t.fullname .. ".\"  " .. f .. "&lt;smoke&gt;&#9474;\n")
    cecho("&lt;smoke&gt;&#9474;  &#9562;&#9552;&#9552;&#9574;&#9552;&#9552;&#9565;    " .. string.rep(" ", x) .. "   &#9474;\n")
    cecho("&lt;smoke&gt;&#9566;&#9552;&#9552;&#9552;&#9552;&#9552;&#9577;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;" .. string.rep("&#9552;", x) .. "&#9552;&#9552;&#9552;&#9569;\n")
    if cdb.db[name].level == "" then
      cecho("&lt;smoke&gt;&#9474;" .. string.rep(" ", x + 16) .. "&#9474;\n")
      cecho("&lt;smoke&gt;&#9474;            &lt;cyan&gt;Divine." .. string.rep(" ", x-3) .. "&lt;smoke&gt;&#9474;\n")
      cecho("&lt;smoke&gt;&#9474;" .. string.rep(" ", x + 16) .. "&#9474;\n")
      cecho("&lt;smoke&gt;&#9584;" .. string.rep("&#9472;", x + 16) .. "&#9583;\n")
    else
      cecho("&lt;smoke&gt;&#9474;          &lt;obs&gt;city: &lt;white&gt;" .. t.city:title() .. string.rep(" ", x - #t.city) .. "&lt;smoke&gt;&#9474;\n")
      cecho("&lt;smoke&gt;&#9474;         &lt;obs&gt;house: &lt;white&gt;" .. t.house:title() .. string.rep(" ", x - #t.house) .. "&lt;smoke&gt;&#9474;\n")
      cecho("&lt;smoke&gt;&#9474;         &lt;obs&gt;class: &lt;white&gt;" .. t.class:title() .. string.rep(" ", x - #t.class) .. "&lt;smoke&gt;&#9474;\n")
      cecho("&lt;smoke&gt;&#9474;         &lt;obs&gt;level: &lt;white&gt;" .. t.level .. string.rep(" ", x - #t.level) .. "&lt;smoke&gt;&#9474;\n")
      cecho("&lt;smoke&gt;&#9474;           &lt;obs&gt;pks: &lt;white&gt;" .. t.player_kills .. string.rep(" ", x - #t.player_kills) .. "&lt;smoke&gt;&#9474;\n")
      cecho("&lt;smoke&gt;&#9474;          &lt;obs&gt;mobs: &lt;white&gt;" .. t.mob_kills .. string.rep(" ", x - #t.mob_kills) .. "&lt;smoke&gt;&#9474;\n")
      cecho("&lt;smoke&gt;&#9584;" .. string.rep("&#9472;", x + 16) .. "&#9583;\n")
    end
    cdb.save()
  else
    cdb.warn("Please get that character's information first. &lt;obs&gt;(cdb " .. name .. ")")
  end
end

function cdb.anons()
  cdb.echo("Players who you'll need to manually honours:")
  local g = true
  for k, v in pairs(cdb.db) do
    if v.city == "(hidden)" then
      cecho("  + &lt;yellow&gt;" .. v.name .. "\n")
      g = false
    end
  end
  if g then cecho("  &lt;obs&gt;(none)\n") end
end

function cdb.classcheck(name)
  name = name:lower():title()
  cdb.classing = name 
  cdb.lookup(name)
end

function cdb.honorsupdate()
  if not (cdb.honors.title and cdb.honors.city) then return end
  for k, v in pairs(cdb.db) do
    if v.fullname == cdb.honors.title then
      cdb.db[v.name].city = cdb.honors.city
      cdb.addhighlight(v.name)
    end
  end
  cdb.honors = {}
end

function cdb.hl(name)
  local city = cdb.db[name].city
  if not city then return end
  if city == "" then city = "divine" end
  local line = getCurrentLine()
  local i = 1
  while i &gt; 0 do
    local p = selectString(name, i)
    if p &gt; -1 then
      local x = line:sub(p + #name + 1, p + #name + 1) or "!"
      if x == "" or x:match("%A") then
        if cdb.enemies[name] and cdb.styles.enemies.color ~= "" then
          fg(cdb.styles.enemies.color)
        elseif cdb.styles[city] and cdb.styles[city].color ~= "" then 
          fg(cdb.styles[city].color)
        end
        if cdb.styles[city].underline or (cdb.enemies[name] and cdb.styles.enemies.underline) then setUnderline(true) end
        if cdb.styles[city].italics or (cdb.enemies[name] and cdb.styles.enemies.italics) then setItalics(true) end
        if cdb.styles[city].bold or (cdb.enemies[name] and cdb.styles.enemies.bold) then setBold(true) end
        resetFormat()
      end
      deselect()
      i = i + 1
    else
      deselect()
      i = 0
    end
  end
end

function cdb.highlights()
  for k, v in pairs(cdb.db) do
    if not cdb.lights[v.name] then
      cdb.lights[v.name] = tempTrigger(v.name, [[cdb.hl("]] .. v.name .. [[")]])
    end
  end
end

function cdb.addhighlight(name)
  name = name:lower():title()
  if not cdb.lights[name] then
    cdb.lights[name] = tempTrigger(name, [[cdb.hl("]] .. name .. [[")]])
  end
end

function cdb.save()
  local sep = (getMudletHomeDir():sub(3, 3) == "/" and "/") or "\\"
  table.save(getMudletHomeDir() .. sep .. "cdb.lua", cdb.db)
  table.save(getMudletHomeDir() .. sep .. "enemies.lua", cdb.enemies)
end

function cdb.load()
  local sep = (getMudletHomeDir():sub(3, 3) == "/" and "/") or "\\"
  if io.exists(getMudletHomeDir() .. sep .. "cdb.lua") then
    table.load(getMudletHomeDir() .. sep .. "cdb.lua", cdb.db)
  else
    table.save(getMudletHomeDir() .. sep .. "cdb.lua", cdb.db)
  end
  
  if io.exists(getMudletHomeDir() .. sep .. "enemies.lua") then
    table.load(getMudletHomeDir() .. sep .. "enemies.lua", cdb.enemies)
  else
    table.save(getMudletHomeDir() .. sep .. "enemies.lua", cdb.enemies)
  end
end

cdb.load()
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Tragedy</name><packageName>Tragedy</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>Tragedy</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Tragedy Tables</name><packageName /><script>lastcured = {}
lastcured.kelp = lastcured.kelp or nil
lastcured.bloodroot = lastcured.bloodroot or nil
lastcured.ginseng = lastcured.ginseng or nil
lastcured.goldenseal = lastcured.goldenseal or nil
lastcured.ash = lastcured.ash or nil
lastcured.lobelia = lastcured.lobelia or nil
lastcured.bellwort = lastcured.bellwort or nil
lastcured.smoke = lastcured.smoke or nil
lastcured.tree = lastcured.tree or nil
lastcured.focus = lastcured.focus or nil
lastcured.bloodboil = lastcured.bloodboil or nil
lastcured.shrug = lastcured.shrug or nil
lastcured.alleviate = lastcured.alleviate or nil
lastcured.salt = lastcured.salt or nil
lastcured.purification = lastcured.purification or nil
lastcured.dagaz = lastcured.dagaz or nil
lastcured.sun = lastcured.sun or nil
lastcured.hallelujah = lastcured.hallelujah or nil
lastcured.accelerate = lastcured.accelerate or nil
lastcured.riteofhealing = lastcured.riteofhealing or nil
lastcured.timeout = lastcured.timeout or nil
lastcured.valerian = lastcured.valerian or nil
lastcured.elm = lastcured.elm or nil
lastcured.syphon = lastcured.syphon or nil
lastcured.harmony = lastcured.harmony or nil
lastcured.water = lastcured.water or nil
lastcured.airlord = lastcured.airlord or nil
lastcured.waterlord = lastcured.waterlord or nil
lastcured.eruption = lastcured.eruption or nil
lastcured.panacea = lastcured.panacea or nil
lastcured.salvearms = lastcured.salvearms or nil
lastcured.salvelegs = lastcured.salvelegs or nil
lastcured.priestfire = lastcured.priestfire or nil
lastcured.firelord = lastcured.firelord or nil


curetables = { 
["bloodroot"] = {  "slickness", "paralysis", },
["kelp"] = {"clumsiness", "healthleech", "sensitivity", "hypochondria", "weariness", "asthma", "parasite" },
["ginseng"] = { "darkshade", "haemophilia", "lethargy", "addiction", "unweavingbody" , "nausea", "scytherus" },
["goldenseal"] = { "stupidity", "epilepsy", "dizziness", "shyness", "unweavingmind", "impatience", "depression", "shadowmadness" },
["ash"] = { "agoraphobia", "confusion", "hypersomnia", "dementia", "paranoia", "hallucinations" },
["lobelia"] = { "masochism", "loneliness", "vertigo", "recklessness", "claustrophobia", "tenderskin", "spiritburn", "guilt" },
["bellwort"] = { "timeloop", "peace", "justice", "lovers", "generosity", "retribution" },
["smoke"] = { "manaleech", "unweavingspirit" , "slickness", "whisperingmadness", "aeon", "hellsight" },
["elm"] = { "aeon",  "deadening", "tension", "dazed", "whisperingmadness"},
["valerian"] = { "disloyalty", "manaleech", "hellsight",  "slickness"},
["concentrate"] = {"disrupted",},
["moss"] = {},
["kola"] = {},
["tree"] = { "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "stupidity", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia" , "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"weariness", "anorexia", "impatience", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "voyria", "shivering", "frozen", "retribution", "depression", "brokenleftleg", "brokenrightleg", "brokenleftarm", "brokenrightarm", "lepteth", "repteth", "lepseth", "repseth", "spiritburn", "tenderskin", "hellsight" },
["focus"] = { "agoraphobia",  "claustrophobia", "confusion", "dizziness", "epilepsy", "generosity", "loneliness", "masochism", "peace", "recklessness", "shyness",
"stupidity", "anorexia", "paranoia", "vertigo", },
["bloodboil"] = { "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "stupidity", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"weariness", "anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "voyria", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["shrug"] = { "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "stupidity", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "voyria", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["alleviate"] = { "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "stupidity", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"weariness", "anorexia", "impatience", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "voyria", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["salt"] = { "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "voyria", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["purification"] = { "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "voyria", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["dagaz"] = { "voyria", "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["sun"] = { "voyria", "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["hallelujah"] = { "voyria", "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["accelerate"] = { "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "voyria", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["riteofhealing"] = { "voyria", "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["syphon"] = { "voyria", "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["harmony"] = { "voyria", "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight",},
["water"] = { "voyria", "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["airlord"] = { "voyria", "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["waterlord"] = { "voyria", "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["eruption"] = { "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "stupidity", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "voyria", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["panacea"] = { "voyria", "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
["salvearms"] = { "damagedleftarm", "damagedrightarm", "brokenleftarm", "brokenrightarm", "lepteth", "repteth" },
["salvelegs"] = { "damagedleftleg", "damagedrightleg", "brokenleftleg", "brokenrightleg", "lepseth", "repseth" },
["salvetorso"] = { "damagedtorso", "brokentorso", "ablaze" },
["salvehead"] = { "damagedhead", "brokenhead" },
["priestfire"] = { "impatience", "paralysis", "confusion" },
["firelord"] = { "clumsiness", "healthleech", "sensitivity", "darkshade", "lethargy", "addiction", "hypocondria", "scytherus", "nausea", "peace", "stupidity", "epilepsy", 
"agoraphobia", "shyness", "masochism", "claustrophobia", "recklessness", "dizziness", "confusion", "paranoia", "loneliness", "vertigo", "hypersomnia", "justice", "lovers", "dementia", 
"anorexia", "impatience", "paralysis", "asthma", "timeloop", "unweavingmind", "unweavingbody", "unweavingspirit", "voyria", "shivering", "frozen", "retribution", "depression", "spiritburn", "tenderskin", "hellsight", },
}

function resetTracking() 
	for k, v in pairs (lastcured) do
		lastcured[k] = nil
	end
	for k, v in pairs (curetime) do
		curetime[k] = nil
	end
end

curetime = {}
curetime.bloodroot = curetime.blootroot or nil
curetime.kelp = curetime.kelp or nil
curetime.ginseng = curetime.ginseng or nil
curetime.goldenseal = curetime.goldenseal or nil
curetime.ash = curetime.ash or nil
curetime.lobelia = curetime.lobelia or nil
curetime.bellwort = curetime.bellwort or nil
curetime.smoke = curetime.smoke or nil
curetime.tree = curetime.tree or nil
curetime.focus = curetime.focus or nil
curetime.bloodboil = curetime.bloodboil or nil
curetime.shrug = curetime.shrug or nil
curetime.alleviate = curetime.alleviate or nil
curetime.salt = curetime.salt or nil
curetime.purification = curetime.purification or nil
curetime.dagaz = curetime.dagaz or nil
curetime.sun = curetime.sun or nil
curetime.hallelujah = curetime.hallelujah or nil
curetime.accelerate = curetime.accelerate or nil
curetime.riteofhealing = curetime.riteofhealing or nil
curetime.valerian = curetime.valerian or nil
curetime.elm = curetime.elm or nil
curetime.syphon = curetime.syphon or nil
curetime.harmony = curetime.harmony or nil
curetime.water = curetime.water or nil
curetime.airlord = curetime.airlord or nil
curetime.waterlord = curetime.waterlord or nil
curetime.eruption = curetime.eruption or nil
curetime.panacea = curetime.panacea or nil
curetime.salvearms = curetime.salvearms or nil
curetime.salvelegs = curetime.salvelegs or nil
curetime.priestfire = curetime.priestfire or nil
curetime.firelord = curetime.firelord or nil

herbConversion = {
["aurum flake"]      = "kelp",
["piece of kelp"]    = "kelp",
["lobelia seed"]     = "lobelia",
["argentum flake"]   = "lobelia",
["prickly ash bark"] = "ash",
["stannum flake"]    = "ash",
["bellwort flower"]  = "bellwort",
["cuprum flake"]     = "bellwort",
["goldenseal root"]  = "goldenseal",
["plumbum flake"]    = "goldenseal",
["bloodroot leaf"]   = "bloodroot",
["magnesium chip"]   = "bloodroot",
["ginseng root"]     = "ginseng",
["ferrum flake"]     = "ginseng",
["hawthorn berry"]   = "hawthorn",
["calamine crystal"] = "hawthorn",
["bayberry bark"]    = "bayberry",
["arsenic pellet"]   = "bayberry",
["calcite mote"]     = "pear",
["prickly pear"]     = "pear",
["elm"]              = "elm",
["cinnabar"]         = "elm",
["valerian"]         = "valerian",
["realgar"]          = "valerian",
["potash crystal"]   = "moss",
["quartz pellet"]    = "kola",
["irid moss"]        = "potash crystal",
}
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Conversions</name><packageName /><script>function venomToAff(venom)
  local aff_name = venom_conversion[venom]
  if (aff_name) then
    if (type(aff_name) == "function") then
        return aff_name()
    else
        return aff_name
    end
  else
    return venom
  end
end

function affToVenom(aff)
  if affliction_conversion[aff] ~= nil then
    return affliction_conversion[aff]
  else
    return aff
  end
end

function sensiReturn()
	if tarAff("undeaf") then
		return "sensitivity"
	else 
		return "undeaf"
	end
end

function eptethReturn()
	if tarAff("lepteth") then
		return "repteth"
	else
		return "lepteth"
	end
end

function epsethReturn()
	if tarAff("lepseth") then
		return "repseth"
	else
		return "lepseth"
	end
end



affliction_conversion =
  {
    paralysis = "Curare",
    slickness = "Gecko",
    sleep = "Delphinium",
    addiction = "Vardrax",
    nausea = "Euphorbia",
    darkshade = "Darkshade",
    haemophilia = "Notechis",
    stupidity = "Aconite",
    dizziness = "Larkspur",
    shyness = "Digitalis",
    clumsiness = "Xentio",
    sensitivity = "Prefarar",
    weariness = "Vernalius",
    recklessness = "Eurypteria",
    anorexia = "Slike",
    voyria = "Voyria",
    asthma = "Kalmia",
		disloyalty = "Monkshood",
		lepteth = "epteth",
		repteth = "epteth",
		lepseth = "epseth",
		repseth = "epseth"
  }
venom_conversion =
  {
    Curare = "paralysis",
    Gecko = "slickness",
    Vardrax = "addiction",
    Euphorbia = "nausea",
    Darkshade = "darkshade",
    Notechis = "haemophilia",
    Aconite = "stupidity",
    Larkspur = "dizziness",
    Delphinium = "sleep",
    Digitalis = "shyness",
    Xentio = "clumsiness",
    Prefarar = function () return sensiReturn() end,
		Sensitivity = function () return sensiReturn() end,
    Vernalius = "weariness",
    Eurypteria = "recklessness",
    Slike = "anorexia",
    Voyria = "voyria",
    Kalmia = "asthma",
    Paralyse = "paralysis",
    Sonfusion = "confusion",
    Dizzy = "dizziness",
		Monkshood = "disloyalty",
		hearing = function () return sensiReturn() end,
		--lepteth = "epteth",
		--repteth = "epteth",
		epteth = function () return eptethReturn() end,
		epseth = function () return epsethReturn() end
		}
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Tragedy</name><packageName /><script>Tragedy = Tragedy or {}
Tragedy.hits = Tragedy.hits or {}
function Tragedy.echo(what)
	--cecho("\n&lt;dark_violet&gt;[&lt;DarkGoldenrod&gt;Tragedy&lt;dark_violet&gt;]&lt;white&gt;:"..what)
end


function Tragedy.Cure(ctype)
	if tarAff("aeon") and table.contains(curetables[ctype], "asthma") and tarAff("asthma") then 
			table.remove(xtarget.afflictions, table.index_of(xtarget.afflictions, "asthma")) 
			Tragedy.echo("&lt;orange&gt; CURED ASTHMA")
			lastcured[ctype] = "asthma"
			curetime[ctype] = getEpoch()
	else
		for i = 1, #curetables[ctype] do
			if tarAff(curetables[ctype][i]) then
				table.remove(xtarget.afflictions, table.index_of(xtarget.afflictions, curetables[ctype][i]))
				Tragedy.echo("&lt;orange&gt; CURED " .. string.upper(curetables[ctype][i]))
				lastcured[ctype] = curetables[ctype][i]
				curetime[ctype] = getEpoch()
				break
			end
		end
	end
end


function Tragedy.curedaff(aff)
	if tarAff(aff) then
		table.remove(xtarget.afflictions, table.index_of(xtarget.afflictions, aff))
		Tragedy.echo("&lt;orange&gt; CURED " .. string.upper(aff))
	end
end

function Tragedy.noshowAdd(aff)
	if venom_conversion[aff] then
		local affname = venomToAff(aff)
		if not tarAff(affname) then
			table.insert(xtarget.afflictions, affname)
			Tragedy.echo("&lt;red&gt; (Party)&lt;medium_orchid&gt; AFFLICTED "..string.upper(affname))
		end
	else
		if not tarAff(aff) then
			table.insert(xtarget.afflictions, aff)
			Tragedy.echo("&lt;red&gt; (Party)&lt;medium_orchid&gt; AFFLICTED "..string.upper(aff))
		end
	end
end

function Tragedy.TrackerAdd(aff)
	if venom_conversion[aff] then
		local affname = venomToAff(aff)
		if not tarAff(affname) then
      table.insert(xtarget.afflictions, affname)
      if amIinParty() then
				--send("pt " .. affname .. " on " .. string.title(xtarget.name))
			end
			Tragedy.echo("&lt;medium_orchid&gt; AFFLICTED "..string.upper(affname))
		end
	else
		if not tarAff(aff) then
			table.insert(xtarget.afflictions, aff)
			 if amIinParty() then
        --send("pt " .. aff .. " on " .. string.title(xtarget.name))
      end
			Tragedy.echo("&lt;medium_orchid&gt; AFFLICTED "..string.upper(aff))
		end
	end
end
		
function tarAff(aff)
  return table.contains(xtarget.afflictions, aff)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Backtracking</name><packageName /><script>function backtrack(aff)
  if not tarAff(aff) then
    for k, v in pairs(lastcured) do
      if v == aff and (curetime[k] + 3 &gt;= getEpoch()) then
        Cure(k)
        break
      end
    end
    Tragedy.noshowAdd(aff)
  end
end

cmethods =
  {
    ["asthma"] = {"tree", "kelp"},
    ["anorexia"] = {"focus", "tree"},
    ["slickness"] = {"tree", "bloodroot", "smoke"},
    ["impatience"] = {"tree", "goldenseal"},
    ["guilt"] = {"lobelia", "tree"},
    ["spiritburn"] = {"lobelia", "tree"},
    ["tenderskin"] = {"lobelia", "tree"},
    ["stupidity"] = {"goldenseal", "tree", "focus"},
  }
	
function backtrack2(aff)
  local method = highestcuremethod(aff) --run that aff (from the above table) through a function that determines the most recently used possible curemethod for that aff
  if tarAff(aff) then --if the target has that aff
    if lastcured[method] ~= aff then --and the last thing cured by that method wasn't the aff (i.e. maybe I reapplied between things)
      if not tarAff(lastcured[method]) then --and target doesn't have the last thing I thought that method cured
        if curetime[method] then	--if that method was actually used to cure since I reset tracking
          if getEpoch() - 1 &lt;= curetime[method] then	--if it happened within 1 second
            Tragedy.noshowAdd(lastcured[method])	--add what I assumed had been cured by the method
          end
        end
      end
    end
    Tragedy.curedaff(aff)	--cure the specific aff they can't have (ano/slick/whatever lock aff that can be tracked as cured by symptom)
  end
end


function highestcuremethod(aff)
  local m = {0, 0}
  for k, v in pairs(cmethods[aff]) do
    if curetime[v] then
      if m[1] &lt; curetime[v] then
        m[1] = curetime[v]
        m[2] = v
      end
    end
  end
  return m[2]
end

function highestcuretime()--returns kelp or ash or w/e as index so that lastcured[highestcuretime] will return an affname
  local m = {0, 0}
  for k, v in pairs(curetime) do
    if not tarAff(lastcured[k]) then
      if m[1] &lt; v then
        m[1] = v
        m[2] = k
      end
    end
  end
  return m[2]
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Target</name><packageName /><script>xtarget = xtarget or {}
xtarget.name = xtarget.name or nil
xtarget.rebounding = xtarget.rebounding or true
xtarget.shield = xtarget.shield or false
xtarget.afflictions = xtarget.afflictions or {}
illusion = illusion or false

function amIinParty()
  local i
  for i = 1, #gmcp.Comm.Channel.List do
    if gmcp.Comm.Channel.List[i].name == "party" then
      return true
    end
  end
  return false
end

function setTarget(who)
	xtarget.name = string.lower(xtarget.name)
  Tragedy.echo("&lt;light_blue&gt; Target is set to: &lt;red&gt;"..xtarget.name)
  xtarget.rebounding = true
  xtarget.shield = false
	resetTracking()
  xtarget.afflictions = {}
	Tragedy.hits = {}
	venom1 = nil
	venom2 = nil
end

function isTarget(p)
	if xtarget.name then
		return string.starts(p, string.title(xtarget.name))
	end
end
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>WunderSys</name><packageName>WunderSys</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>WunderSys</name><packageName /><script>-- initialise wsys namespace
wsys = wsys or {}
wsys.events = wsys.events or {}

if not wsysf then
  -- If needed, download and install WunderSys Foundation, and have it before WunderSys in your Scripts
  -- Download from: https://github.com/tynil/WunderSys
  cecho("\n&lt;red&gt;Warning: Installing WunderSys without/before Foundation")
end

function wsys.debug( str )
  --cecho( str )
end</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Overrides</name><packageName /><script>wsys.overrides = wsys.overrides or {}

-------------------------------------------------
--              Aff Tag Overrides              --
-------------------------------------------------
wsys.overrides.afftags = wsys.overrides.afftags or {}

--- Aff prompt tag shortnames may be used to override the string displayed in the @affs prompt tag
-- Example: 
--   wsys.overrides.afftags.shortnames.paralysis = "PARALYZED!!"
-- So instead of the default "PAR" you see in your prompt when paralyzed, you'd see "PARALYZED!!"
-- Important: Don't use &lt; or &gt; here. It won't appear correctly because things may be interpretted as colors
wsys.overrides.afftags.shortnames = wsys.overrides.afftags.shortnames or {}

--- Aff prompt tag colors may be used to override the default colors used for a given affliction
-- Example 1:
--   wsys.overrides.afftags.colors.paralysis = "blue"
-- Example 2:
--   wsys.overrides.afftags.colors.prone = "white:red"
--   This would make prone appear as white text on a red background
--
-- You may also provide a table with values for stackable affs
-- Example 3:
--   wsys.overrides.afftags.colors.bleeding = { "maroon", [200] = "red", [500] = "white" },
--   This would show bleeding as maroon from 1-199, red at 200-499, and white at 500+
wsys.overrides.afftags.colors = wsys.overrides.afftags.colors or {}

--- Aff prompt tags may also override the default cure colors
-- Note: Cure colors are only used if an aff specific color is not already configured, default or otherwise
-- Also note: the cure specified here may be a prefix to multiple cure types. 
--   E.g. "mending" will match "mendinglegs", "mendingarms", etc.
--   Core possible cure types, please see wsys.tb.affc
-- The colors provided may either be a simple color, or a table of colors based on stack value, as above.
-- Example 1:
--   wsys.overrides.afftags.cure_colors.kelp = "white"
-- 
-- Example 2:
--   wsys.overrides.afftags.cure_colors.health = { "green", [3] = "blue", [6] = "blue:white" }
--   This would display fractures (cured by "healthlegs", "healtharms", etc) as green from 1-2 stacks, 
--   blue at 3-5, and blue with a white background at 6+
wsys.overrides.afftags.cure_colors = wsys.overrides.afftags.cure_colors or {}

-------------------------------------------------
--            Do Queue Expansions              --
-------------------------------------------------
wsys.overrides.doqueue = wsys.overrides.doqueue or {}

--- Doqueue variable function expansion support
-- Each entry you add to this table will be called when prefixed with $
-- The key should be a string, and the value should be a function that returns a string.
-- The input command will be expanded once when you queue the command, and again if wsys.doupdate() is called.
--
--[[ Examples:
wsys.overrides.doqueue.expand.target = function() return my_target end
wsys.overrides.doqueue.expand.atk = function()
  if has_rebounding or has_shield then 
    return "raze"
  else
    return "jab"
  end
end
-- You may then call: wsys.dofirst("$atk $target")
-- If "Tynil" is my_target, then this would expand to "raze Tynil" if has_rebounding or has_shield is true.
-- Else, it expands to "jab Tynil"
-- Calling wsys.doupdate() when those has_rebounding/shield variables change would cause this to re-evaluate
-- and potentially change which attack is queued.
-- You don't need to use all expansions. wsys.doadd("kick $target") would expand to "kick Tynil" here.
]]
wsys.overrides.doqueue.expand = wsys.overrides.doqueue.expand or {}
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Internals</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Profile Management</name><packageName /><script>function wsys.newProfile( name )
 if not table.contains(wsys.settings.profilenames, name) then
  -- add name to available profiles
  wsys.settings.profilenames[#wsys.settings.profilenames+1] = name
  -- create new profile
  wsys.settings.affprio[name] = {}
  wsys.settings.affprio[name][wsys.myClass()] = wsys.return_defaultaffprios()
  wsys.settings.defup[name] = {}
  wsys.settings.defup[name][wsys.myClass()] = {}
  wsys.settings.defprio[name] = {}
  wsys.settings.defprio[name][wsys.myClass()] = {}
  wsys.settings.keepup[name] = {}
  wsys.settings.keepup[name][wsys.myClass()] = {}
  wsys.settings.precache[name] = {}
  wsys.settings.focusshifts[name] = {}
  wsys.settings.focusshifts[name][wsys.myClass()] = {}
  
  wsys.report("Created new profile named: " .. name)
 end
end

function wsys.copyProfile( pOrig, pCopy )
  if table.contains(wsys.settings.profilenames, pOrig) and table.contains(wsys.settings.profilenames, pCopy) then
    wsys.settings.affprio[pCopy] = wsys.deepcopy(wsys.settings.affprio[pOrig])
    wsys.settings.defup[pCopy] = wsys.deepcopy(wsys.settings.defup[pOrig])
    wsys.settings.defprio[pCopy] = wsys.deepcopy(wsys.settings.defprio[pOrig])
    wsys.settings.keepup[pCopy] = wsys.deepcopy(wsys.settings.keepup[pOrig])
    wsys.settings.precache[pCopy] = wsys.deepcopy(wsys.settings.precache[pOrig])
    wsys.settings.focusshifts[pCopy] = wsys.deepcopy(wsys.settings.focusshifts[pOrig])
    wsys.report("Copied " .. pOrig .. " settings into the " .. pCopy .. " profile.")
  elseif not table.contains(wsys.settings.profilenames, pOrig) then
    wsys.report(pOrig .. " profile does not exist, please create it first.")
  elseif not table.contains(wsys.settings.profilenames, pCopy) then
    wsys.report(pCopy .. " profile does not exist, please create it first.")
  end
end

function wsys.copyProfileClass( copied_class )
  if wsys.settings.affprio[wsys.profile][copied_class] == nil then
    wsys.report(copied_class .. " class profile does not exist, please create it first.")
  else
    if wsys.settings.affprio[wsys.profile][wsys.myClass()] == nil then
      wsys.newclasstables(wsys.myClass())
    end
    wsys.settings.affprio[wsys.profile][wsys.myClass()] = wsys.deepcopy(wsys.settings.affprio[wsys.profile][copied_class])
    wsys.settings.defup[wsys.profile][wsys.myClass()] = wsys.deepcopy(wsys.settings.defup[wsys.profile][copied_class])
    wsys.settings.defprio[wsys.profile][wsys.myClass()] = wsys.deepcopy(wsys.settings.defprio[wsys.profile][copied_class])
    wsys.settings.keepup[wsys.profile][wsys.myClass()] = wsys.deepcopy(wsys.settings.keepup[wsys.profile][copied_class])
    wsys.settings.precache[wsys.profile][wsys.myClass()] = wsys.deepcopy(wsys.settings.precache[wsys.profile][copied_class])
    wsys.settings.focusshifts[wsys.profile][wsys.myClass()] = wsys.deepcopy(wsys.settings.focusshifts[wsys.profile][copied_class])

    --Loop through defup, defprio, keepup and remove any class specific defences
    for k in pairs( wsys.tb.defenceTable ) do
      if not ( wsys.classDefCheck(k, "free") or wsys.classDefCheck(k, wsys.myClass()) ) then
         wsys.settings.defup[wsys.profile][wsys.myClass()][k] = nil
         wsys.settings.defprio[wsys.profile][wsys.myClass()][k] = nil
         wsys.settings.keepup[wsys.profile][wsys.myClass()][k] = nil
      end
    end
    
    wsys.report("Copied " .. copied_class .. " " ..wsys.profile .. " settings into the " .. wsys.myClass() .. " "..wsys.profile .. " profile.")
  end
end

function wsys.switchProfile( name )
  local oldProfile = wsys.profile
  if table.contains(wsys.settings.profilenames, name) then
    wsys.profile = name
    wsys.report("Switched to " .. name .. " profile.")
    -- make sure we have all the right tables already
    if wsys.settings.affprio[wsys.profile][wsys.myClass()] == nil then
      wsys.newclasstables(wsys.myClass())
    end
    -- reset the aff prios
    wsys.resetAllAffPrios()
    -- keep up defs, need to take off the ones I don't want and add those I do want now.
    for k in pairs(wsys.settings.keepup[oldProfile][wsys.myClass()]) do
      if not table.contains(wsys.settings.keepup[name][wsys.myClass()], k) then
        send("curing priority defence " .. k .. " reset", false)
      end
    end
    for k in pairs(wsys.settings.keepup[name][wsys.myClass()]) do
      wsys.enableSSDef( k, wsys.settings.defprio[name][wsys.myClass()][k] )
    end
    -- make sure all the herbs that are needed are precached
    wsys.outrqueue()
  else
    wsys.report(name .. " profile does not exist.")
  end
end

function wsys.deleteProfile( name )
  if name == "basic" then
    wsys.report("Not allowed to delete basic profile!")
  elseif wsys.profile == name then
    wsys.report(name .. " is your current profile. Switch to another before deleting it!")
  elseif table.contains(wsys.settings.profilenames, name) then
    -- remove name from list of profiles
    table.remove(wsys.settings.profilenames, table.index_of(wsys.settings.profilenames, name))
    wsys.settings.affprio[name] = nil
    wsys.settings.defup[name] = nil
    wsys.settings.defprio[name] = nil
    wsys.settings.keepup[name] = nil
    wsys.settings.precache[name] = nil
    wsys.settings.focusshifts[name] = nil
    wsys.report("Deleted the " .. name .. " profile.")
  end
end

local find_differences = function(a, b)
	local diff = {}
	for k,v in pairs(a) do
		if v ~= b[k] then
			diff[k] = { v, b[k] }
		end
	end
	for k,v in pairs(b) do
		if not diff[k] and not a[k] then
			diff[k] = { false, v }
		end
	end
	
	return diff
end

function wsys.resetProfileAffs( class, profile, confirm )
	if not profile or not class then
		return -- Invalid commands. Expects a profile and class
	end
	profile = profile:lower()
	class = class:lower()
	
	if class == "all" then
		-- This is the reset all option
		return
	end

	local prios = wsys.settings.affprio[profile] and wsys.settings.affprio[profile][class]
	
	if not prios then
		wsys.report("Invalid profile combination: '"..profile.."', "..class )
		return
	end
		
	wsys.report("Resetting aff prios for '"..profile.."', "..class )
	local diffs = find_differences( prios, wsys.return_defaultaffprios() )

	-- Update this class/mode prio set to default
	if confirm then
		wsys.settings.affprio[profile][class] = wsys.return_defaultaffprios()
	end
	
	-- Display any changes that occurred
	for aff,changes in pairs(diffs) do
		local display_str = string.format("&lt;white&gt;[&lt;grey&gt;%s&lt;white&gt;][&lt;grey&gt;%s&lt;white&gt;]: %-10s &lt;yellow&gt;%-3s&lt;white&gt;-&gt;&lt;green&gt;%3s",
												profile, class, aff, (changes[1] or "nil"), (changes[2] or "nil") )
		
		
		if changes[1] then
			-- If there was an old value, allow reverting
			local command = string.format([[wsys.affprioset("%s", "%s", "%s", "%s" )]], aff, changes[1], profile, class )
			wsys.report("")
			cechoLink( display_str, command, "Revert "..aff.." priority change to " ..changes[1], true)
		else
			-- No previous value, this is a new affliction priority
			wsys.report( display_str )
		end		
	end
	
	if wsys.profile == profile and wsys.myClass() == class then
		wsys.resetAffPrios()
	end
end

function wsys.resetAllProfileAffs( confirm )
	confirm = confirm and confirm == " confirm" or false
	
	if not confirm then
		wsys.report("(Dry run only): No changes will be made")
	end
	for profile,v in pairs(wsys.settings.affprio) do
		for class,prios in pairs(v) do
			wsys.resetProfileAffs( class, profile, confirm )
		end
	end
	if not confirm then
		wsys.report("(Dry run only): Use '&lt;light_grey&gt;wconfig profile resetaff all confirm&lt;white&gt;' to confirm changes.") 
	end
end

function wsys.profileSwitchOnDeath()
  if wsys.profile ~= wsys.settings.profileondeath then
    wsys.switchProfile( wsys.settings.profileondeath )
  end
end

registerAnonymousEventHandler("You Died", "wsys.profileSwitchOnDeath")


function wsys.profileSwitchOnBurst()
  if wsys.profile ~= wsys.settings.profileonburst then
    wsys.switchProfile( wsys.settings.profileonburst )
  end
end

registerAnonymousEventHandler("You Starbursted", "wsys.profileSwitchOnBurst")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>System Functions</name><packageName /><script>-- OSEND
function wsys.osend(...)
 if not wsys.paused and not wsys.softpaused and not wsys.aff.aeon and (not wsys.uselyre or (not wsys.def.lyre and not wsys.timer.lyrewait)) then
  wsys.salviaSend(...)
 end -- if
end -- func

-- PSEND
function wsys.psend(...)
 if not wsys.paused and not wsys.softpaused and not wsys.aff.aeon then
  send("pt " .. ...)
 end -- if
end -- func

-- CAN CURE
function wsys.cancure()
 if not wsys.paused and not wsys.softpaused and not wsys.aff.aeon and not wsys.retard and (not wsys.uselyre or (not wsys.def.lyre and not wsys.timer.lyrewait)) and not wsys.aff.sleeping then
  return true
 else
  return false
 end -- if
end -- func

--is slowed
function wsys.isslowed()
  if wsys.aff.aeon and wsys.retard then return true else return false end
end --func


function wsys.damagedarms()
 if (wsys.aff.brokenleftarm or wsys.aff.damagedleftarm or wsys.aff.mangledleftarm) and (wsys.aff.brokenrightarm or wsys.aff.damagedrightarm or wsys.aff.mangledrightarm) then
  return true
 else
  return false
 end -- if
end -- func


function wsys.damagedlegs()
 if wsys.aff.brokenleftleg or wsys.aff.damagedleftleg or wsys.aff.mangledleftleg or wsys.aff.brokenrightleg or wsys.aff.damagedrightleg or wsys.aff.mangledrightleg then
  return true
 else
  return false
 end -- if
end -- func 

function wsys.bothdamagedlegs()
if (wsys.aff.brokenleftleg or wsys.aff.damagedleftleg or wsys.aff.mangledleftleg) and (wsys.aff.brokenrightleg or wsys.aff.damagedrightleg or wsys.aff.mangledrightleg) then
 return true
else
 return false
end -- if
end -- func

--am I hindered
function wsys.isHindered()
  return (wsys.damagedarms() or wsys.tanglecheck() or wsys.impaled() or wsys.aff.paralysis or wsys.aff.prone or false)
end


-- returns number of affs you have for a certain cure
-- useful to find out if you're kelp stacked etc
function wsys.affamount(cure)
  local c = 0
  for k,v in pairs(wsys.tb.cures[cure]) do
	  c = c + wsysf.affv[v]
  end
  return c
end


-- DELETE FULL
-- overwrites default function, does NOT belong in wsys namespace
function deleteFull()
 if wsys.deletefull_id then killTrigger( wsys.deletefull_id ) end
 wsys.deletefull_id = tempLineTrigger(1,1,[[if not isPrompt() then 
  wsys.deletefull = false
  wsys.deletefull_id = nil
 end]])
 deleteLine()
 wsys.deletefull = true
end -- func

-- OUTRIFT CHECK
function wsys.outriftcheck()
 if not wsys.tanglecheck() and not wsys.damagedarms() then
  return true
 else
  return false
 end -- if
end -- func


-- TANGLE CHECK
function wsys.tanglecheck()
 if wsys.impaled() or wsys.aff.webbed or wsys.aff.entangled or wsys.aff.bound or wsys.aff.transfixation then
  return true
 else
  return false
 end -- if
end -- func


function wsys.impaled()
 if wsys.aff.impaled or wsys.aff.daeggerimpale or wsys.aff.speared then
  return true
 else
  return false
 end -- if
end -- func


function wsys.cleartimers()
 local timers = {}
 for k,v in pairs(wsys.timer) do
  if string.match(k, "wait") then
   killTimer(tostring(v))
   timers[#timers+1] = k
  end -- if
 end -- for
 if next(timers) then
  for k in pairs(wsys.timer) do
   wsys.timer[k] = nil
  end -- for
 end -- if
end -- func
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Retardation functions</name><packageName /><script>function wsys.retardationOn()
 if not wsys.retard then
  wsys.retard = true
  wsys.waittime = 1 + wsys.myPing()*3
  wsys.slowedsipping()
  wsys.report("&lt;red&gt;RETARDATION curing enabled")
  wsys.retardationDownCheck()
 end
end

function wsys.retardationOff()
 wsys.aff.aeon = nil
 wsys.retard = false
 wsys.normalsipping()
 send("curing batch on", false)
 wsys.waittime = wsys.myPing()*2
 vibeSpinner = nil
 wsys.report("&lt;red&gt;RETARDATION curing disabled")
end

function wsys.slowedsipping()
  send("curing siphealth " .. wsys.settings.aeonsiphealth, false)
  send("curing sipmana " .. wsys.settings.aeonsipmana, false)
  send("curing mosshealth 0", false)
  send("curing mossmana 0", false)
end

function wsys.normalsipping()
  send("curing siphealth " .. wsys.settings.siphealth, false)
  send("curing sipmana " .. wsys.settings.sipmana, false)
  if wsys.settings.usemoss then wsys.mossThreshholdDown() end
end

function wsys.retardationDownCheck()
  if wsys.timer.retardDropDetectionTimer then killTimer(wsys.timer.retardDropDetectionTimer) end
  wsys.timer.retardDropDetectionTimer = tempTimer(5, [[wsys.timer.retardDropDetectionTimer = nil;if wsys.retard then wsys.retardationOff() end]])
end

function wsys.serversideRetardationDetection(cure)
  if not wsys.aff.aeon and not wsys.aff.blackout then
    wsys.retardationOn()
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>On Death</name><packageName /><script>function wsys.resetOnDeath()
  wsys.normalsipping()
	wsys.resetAffPrios()
  wsys.lostallchannels()
end

registerAnonymousEventHandler("You Died", "wsys.resetOnDeath")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Logged in</name><packageName /><script>function wsys.loggedIn()
  gmod.enableModule("Wunder Support Target", "IRE.Target")
  gmod.enableModule("Wunder Support Time", "IRE.Time")
  wsys.abilityCheck()
  wsys.setkeepouttable()
  wsys.outrqueue()
	wsys.checkCuringSets()
  wsys.resetAffPrios()
  wsys.checkForUpdates()
  wsys.def = {}
  send("pipelist")
  send("curing batch on", false)
  --if wsys.settings.class == "" then wsys.settings.class = gmcp.Char.Status.class end
  --if wsys.settings.defprio[wsys.profile][wsys.myClass()] == nil then wsys.settings.defprio[wsys.profile][wsys.myClass()] = {} end
  raiseEvent("logged in")
end

function wsys.enableLoginTrigger()
  enableTrigger("Logged in")
end

registerAnonymousEventHandler("sysConnectionEvent", "wsys.enableLoginTrigger")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Prompt Sub</name><packageName /><script>function wsys.promptColorSub(tag)
  for k,v in pairs(wsys.prompttagcolors) do
    if table.contains(wsys.prompttagcolors, tag) then
      if type(wsys.prompttagcolors[tag]) == "function" then
        return "&lt;"..wsys.prompttagcolors[tag]().."&gt;"
      elseif type(wsys.prompttagcolors[tag]) == "string" then
        return "&lt;"..wsys.prompttagcolors[tag].."&gt;"
      end --if
    else
      --color not in table, hope you used a valid mudlet color
      return "&lt;"..tag.."&gt;"
    end --if
  end --for
end
  
function wsys.promptTagSub(tag)
  local theTag = false
  local tailEnd = false
    for k,v in pairs(wsys.prompttags) do
      if string.starts(tag, k) then
        theTag = k
        --save the bit after the prompt tag
        tailEnd = string.gsub(tag, theTag, "")
      end
    end
  local th = wsys.prompttags[theTag]
  if type(th) == "function" then
    return _G["wsys"]["prompttags"][theTag]() .. tailEnd
  elseif type(th) == "string" then
    return _G["wsys"]["prompttags"][theTag] .. tailEnd
  end
end

function wsys.displayPromptString(str)
  --Split based on color tags, so we don't change the background for everything
  local last_color = nil
  local display_text = ""
  for color,text in string.gmatch( "&lt;white&gt;"..str, "&lt;([A-Za-z_:]+)&gt;([^&lt;]*)" ) do
    if not string.match( color, "[A-Za-z_]+:[A-Za-z_]+" ) and not color_table[color] then
      -- Not a valid color, add it to the text and continue
      display_text = display_text .. "&lt;"..color.."&gt;"..text
    else
      if not last_color then last_color = color end

      if not string.find( color, ":" ) and not string.find( last_color, ":" ) then
        display_text = "&lt;"..last_color.."&gt;"..display_text
      end
      display_text = display_text.."&lt;"..color.."&gt;"..text
      cecho(display_text)
      display_text = ""
      last_color = color
    end
  end
end

function wsys.displayLen( str )
	return str:gsub("&lt;[a-zA-Z_:]+&gt;", ""):len()
end

function wsys.promptsub()
  selectCurrentLine(); replace("");

  local promptstring = wsys.aff.blackout and wsys.settings.blackoutprompt or wsys.settings.prompt
  --sub out the # color tags
  promptstring = string.gsub(promptstring, "#([A-Za-z_:]+)", wsys.promptColorSub )
  --sub out the @ prompt tags
  promptstring = string.gsub(promptstring, "@(%w+)", wsys.promptTagSub )

  if wsys.def.lyre then promptstring = promptstring .. "&lt;gold&gt; L" end
  if wsys.vmode then promptstring = promptstring ..  "&lt;MediumVioletRed&gt; vivi" end
  if wsys.heartseedmode then promptstring = promptstring ..  "&lt;firebrick&gt; H&lt;LimeGreen&gt;Seed" end
  if wsys.bardmode then promptstring = promptstring .. "&lt;firebrick&gt; BARD" end

  wsys.displayPromptString( promptstring )

  local promptline2 = wsys.settings.promptline2
  if promptline2 and type(promptline2) == "string" then
    promptline2 = string.gsub(promptline2, "#([A-Za-z_:]+)", wsys.promptColorSub )
    promptline2 = string.gsub(promptline2, "@(%w+)", wsys.promptTagSub )
    if wsys.displayLen( promptline2 ) &gt; 0 then
      wsys.displayPromptString("\n"..promptline2)
    end
  end

  previousPromptLineNumber = currentPromptLineNumber
  previousPromptLineNumberLength = currentPromptLineNumberLength
  currentPromptLineNumber = getLineNumber()
  currentPromptLineNumberLength = #(string.gsub(promptstring, "&lt;.-&gt;", ""))
  wsys.salviaSendEcho()

end









</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Highlights</name><packageName /><script>


-- ALERTNESS
local exits = exits or {}
function wsys.AlertnessMatch(person, room)
  if exits[room]~=nil then
   cecho('\n&lt;red&gt;[&lt;white&gt;'..person..'&lt;red&gt; - &lt;white&gt;'..exits[room].. '&lt;white&gt; - &lt;blue&gt;' .. room .. '&lt;red&gt;]')
  else
   if room == gmcp.Room.Info.name then
    cecho('\n&lt;red&gt;[&lt;white&gt;'..person..'&lt;red&gt; - here&lt;red&gt;]')
   else
    cecho('\n&lt;red&gt;[&lt;white&gt;'..person..'&lt;blue&gt; - ' .. room .. '&lt;red&gt;]')
   end
  end -- if
end -- func


-- AFF CURE PRINT
function wsys.affcureprint(affliction)
 if wsys.settings.affcuredechos then
  deleteLine()
  cinsertText("\n[&lt;medium_sea_green&gt;CURED&lt;grey&gt;]&lt;LawnGreen&gt; " .. affliction:upper() .. " &lt;grey&gt;| &lt;medium_sea_green&gt;" .. line)
 end
end -- func

wsys.affs_gained = wsys.affs_gained or {}
-- AFF PRINT
function wsys.affprint(affliction, affline)
  if wsys.settings.affgainedechos then
    if affline then
     deleteLine()
     cinsertText("\n[&lt;firebrick&gt;AFF&lt;grey&gt;]&lt;red&gt; " .. affliction:upper() .. " &lt;grey&gt;| &lt;firebrick&gt;" .. affline .. "\nYour &lt;yellow&gt;" .. affliction:upper() .. "&lt;firebrick&gt; broke, &lt;yellow&gt;" .. affliction:upper() .. "&lt;firebrick&gt; broke!\n")
    else
     if not wsys.aff[affliction] or wsys.affs_gained[affliction] then
      deleteLine()
      cinsertText("\n[&lt;firebrick&gt;AFF&lt;grey&gt;]&lt;red&gt; " .. affliction:upper() .. " &lt;grey&gt;| &lt;firebrick&gt;" .. line)
      wsys.affs_gained[affliction] = nil
     else
      selectCurrentLine()
      fg("firebrick")
      deselect()
      resetFormat()
     end -- if
    end -- if 
  end
end -- func

-- AEON ACTION PRINT
function wsys.aeoncolour()
  selectCurrentLine()
  fg("purple")
  deselect()
  resetFormat()
end -- func


-- ATE SUB
local herbcolours = {
 bloodroot = "light_coral",
 magnesium = "light_coral",
 kelp = "ForestGreen",
 aurum = "ForestGreen",
 goldenseal = "goldenrod",
 plumbum = "goldenrod",
}

function wsys.atesub(herb)
 selectCurrentLine()
 if herbcolours[herb] then
   fg(herbcolours[herb])
 else
   fg("cadet_blue")
 end -- if
 deselect()
 resetFormat()
-- deleteLine()
-- if herbcolours[herb] then
--  cinsertText("\n[ &lt;SeaGreen&gt;ATE &lt;grey&gt;] &lt;" .. herbcolours[herb] .. "&gt;" .. herb:upper() .. " &lt;grey&gt;| " .. line)
-- else
--  cinsertText("\n[ &lt;SeaGreen&gt;ATE &lt;grey&gt;] &lt;SaddleBrown&gt;" .. herb:upper() .. " &lt;grey&gt;| " .. line)
-- end -- if
end -- func 

-- SALVE SUB
function wsys.salvesub(salve)
 selectCurrentLine()
 if string.match(salve, "restoration") then
  fg("yellow")
 else
  fg("wheat")
 end -- if
 deselect()
 resetFormat()
-- deleteLine()
-- if string.match(salve, "restoration") then
--  cinsertText("\n[&lt;SeaGreen&gt;SALVE&lt;grey&gt;] &lt;yellow&gt;" .. salve:upper() .. " &lt;grey&gt;| " .. line)
-- else
--  cinsertText("\n[&lt;SeaGreen&gt;SALVE&lt;grey&gt;] &lt;dark_goldenrod&gt;" .. salve:upper() .. " &lt;grey&gt;| " .. line)
-- end -- if
end -- func 


-- SMOKE SUB
function wsys.smokesub(pipe)
 selectCurrentLine()
 fg("olive_drab")
 deselect()
 resetFormat()
 cecho(" " .. pipe:title() .. " puffs remaining: " .. wsys.pipes[pipe .. "puffs"])

-- deleteLine()
-- cinsertText("\n[&lt;SeaGreen&gt;SMOKED&lt;grey&gt;] &lt;olive_drab&gt;" .. pipe:upper() .. " &lt;grey&gt;| " .. line)
end -- func 


-- TREE SUB
function wsys.treesub()
 deleteLine()
 cinsertText("\n&lt;dark_green&gt;[&lt;green&gt;TREE&lt;dark_green&gt;] &lt;grey&gt;" .. line)
end -- func


-- FOCUS SUB
function wsys.focussub()
 selectCurrentLine()
 fg("dark_goldenrod")
 deselect()
 resetFormat()
-- deleteLine()
-- cinsertText("\n[&lt;SeaGreen&gt;FOCUSED&lt;grey&gt;] &lt;grey&gt;| " .. line)
end -- func


-- RESTORE SUB
function wsys.restoresub()
 deleteLine()
 cinsertText("\n[&lt;orange_red&gt;RESTORED&lt;grey&gt;] | &lt;orange_red&gt;" .. line)
end -- func


-- DHEAL SUB
function wsys.dhealsub()
 deleteLine()
 cinsertText("\n[&lt;MediumSpringGreen&gt;DHEALED&lt;grey&gt;] | &lt;MediumSpringGreen&gt;" .. line)
end -- func


-- FLEX SUB
function wsys.flexsub()
 deleteLine()
 cinsertText("\n[&lt;medium_turquoise&gt;FLEXED&lt;grey&gt;] | &lt;medium_turquoise&gt;" .. line)
end -- func


-- WRITHE SUB
function wsys.writhesub()
 deleteLine()
 cinsertText("\n[&lt;medium_turquoise&gt;WRITHE&lt;grey&gt;] | &lt;medium_turquoise&gt;" .. line)
end -- func


-- WAKING SUB
function wsys.wakesub()
 selectCurrentLine()
 fg("dark_turquoise")
 deselect()
 resetFormat()
 cecho("\n&lt;dark_turquoise&gt;WAKING &lt;white&gt;- &lt;dark_turquoise&gt;WAKING &lt;white&gt;- &lt;dark_turquoise&gt;WAKING\n")
end -- func


-- HMBAL SUB
function wsys.hmbalsub()
 selectCurrentLine()
 fg("MediumAquamarine")
 deselect()
 resetFormat()
end -- func


-- MOSS BAL SUB
function wsys.mossbalsub()
 selectCurrentLine()
 fg("pale_violet_red")
 deselect()
 resetFormat()
end -- func



-- HERB BAL SUB
function wsys.herbbalsub()
 selectCurrentLine()
 fg("light_slate_blue")
 deselect()
 resetFormat()
end -- func

-- SALVE BAL SUB
function wsys.salvebalsub()
 selectCurrentLine()
 fg("rosy_brown")
 deselect()
 resetFormat()
end -- func

-- FOCUS BAL SUB
function wsys.focusbalsub()
 selectCurrentLine()
 fg("NavajoWhite")
 deselect()
 resetFormat()
end -- func
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Time Tracking</name><packageName /><script>--time tracking
wsys.times = {
  bals = {
    got = {
    },
    lost = {
    },
  },
}

function wsys.inittimesbals()
 for k,v in pairs(wsys.bals) do
   wsys.times.bals.got[k] = getTime(true, "HH:mm:ss:zzz" )
 end
 for k,v in pairs(wsys.bals) do
   wsys.times.bals.lost[k] = getTime(true, "HH:mm:ss:zzz" )
 end
end

wsys.inittimesbals()
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Auto Tree</name><packageName /><script>-- basically a script that tracks if you're auto treeing or not. Can toggle for you.

function wsys.toggleAutoTree()
  if wsys.settings.autotree then
    wsys.autoTreeOff()
  else
    wsys.autoTreeOn()
  end
end

function wsys.autoTreeOn()
  wsys.settings.autotree = true
  send("curing tree on", false)
  wsys.report("Auto tree usage on")
end

function wsys.autoTreeOff()
  wsys.settings.autotree = false
  send("curing tree off", false)
  wsys.report("Auto tree usage off")
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Curingset Management</name><packageName /><script>function wsys.checkCuringSets()
  wsys.curingsets = {}
	send("CURINGSET LIST")
  enableTrigger("Curingset Begin")
	enableTrigger("Curingset None")
end

function wsys.addCuringSets()
  send("CURINGSET NEW wundersys")
	send("CURINGSET NEW wundersys_default")
	send("CURINGSET SWITCH wundersys_default")
	if wsys.settings.curingsets ~= "true" then
	  wsys.setSettings("curingsets", "true" )
	end
	wsys.resetAffPrios()
	tempTimer(1.5, function()
		send("CURINGSET SWITCH WUNDERSYS")
		wsys.cloneDefaultCuringSet()
		end)
end

function wsys.cloneDefaultCuringSet()
	send("CURINGSET CLONE wundersys_default")
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Third-party functions</name><packageName /><script>-- from: http://lua-users.org/wiki/CopyTable
local function deepcopy(orig)
    local orig_type = type(orig)
    local copy
    if orig_type == 'table' then
        copy = {}
        for orig_key, orig_value in next, orig, nil do
            copy[deepcopy(orig_key)] = deepcopy(orig_value)
        end
        setmetatable(copy, deepcopy(getmetatable(orig)))
    else -- number, string, boolean, etc
        copy = orig
    end
    return copy
end

wsys.deepcopy = deepcopy
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Prompt Trigger</name><packageName /><script>local promptTrigTable = promptTrigTable or {}

function wsys.doPromptTrigTable()
  if next(promptTrigTable) then
    --cecho("&lt;orange&gt;item in")
    for k,func in pairs(promptTrigTable) do
       --cecho("&lt;red&gt;"..k)
       func()
       --cecho("&lt;green&gt;fired func")
		promptTrigTable[k] = nil
    end -- for
    promptTrigTable = {}
  end --if
end -- function

function wsys.promptTrigger(name, fn)
  promptTrigTable[name] = fn
end -- function

function wsys.clearPromptTrigTable()
  promptTrigTable = {}
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>delete | gag action + one prompt</name><packageName /><script>function deleteTwoLines()
	deleteLine() -- deletes second line
	moveCursor(0,getCurrentLineNumber()-1) --moves cursor up one line
	deleteLine() -- deletes first line
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Settings display functions</name><packageName /><script>function wsys.wshow()
  wsys.report("Installed Version: " .. wsys.myVersion)
  if wsys.updateAvailable then
    wsys.report("&lt;green&gt;Update Available! &lt;white&gt;" ..wsys.currentVersion.." ")
    setUnderline(true)
    fg("antique_white")
    echoLink("Visit Download Website!", "wsys.downloadNow()", wsys.downloadsURL, true)
  end
  wsys.report("Show settings ")
  setUnderline(true)
  fg("antique_white")
  echoLink("wshow settings", [[wsys.displaySettings()]], "clickity click", true)
  wsys.report("Current Profile: " .. wsys.profile)
  wsys.report("Available Profiles: ")
  wsys.profileLinkDisplay()
  wsys.report("Show affprio (wshow affprio x): ")
  wsys.affprioLinkDisplay()
  wsys.report("Show defup: ")
  setUnderline(true)
  fg("antique_white")
  echoLink("wshow defup", [[wsys.showDefMenu("defup", wsys.profile ,wsys.myClass())]], "clickity click", true)
  wsys.report("Show keepup: ")
  setUnderline(true)
  fg("antique_white")
  echoLink("wshow keepup", [[wsys.showDefMenu("keepup", wsys.profile ,wsys.myClass())]], "clickity click", true)
  wsys.report("Show defprio: ")
  setUnderline(true)
  fg("antique_white")
  echoLink("wshow defprio", [[wsys.defprioDisplay()]], "clickity click", true)
  wsys.report("Show precache: ")
  setUnderline(true)
  fg("antique_white")
  echoLink("wshow precache", [[wsys.precachedisplay()]], "clickity click", true)
  wsys.report("Show focusshifts:")
  setUnderline(true)
  fg("antique_white")
  echoLink("wshow focusshifts", [[wsys.focusshiftsdisplay()]], "clickity click", true)
  wsys.report("Show echos and gags (display) ")
  setUnderline(true)
  fg("antique_white")
  echoLink("wshow display", [[wsys.displayEchosAndGags()]], "clickity click", true)
  wsys.report("Show convenience settings (convenience) ")
  setUnderline(true)
  fg("antique_white")
  echoLink("wshow convenience", [[wsys.displayConvenience()]], "clickity click", true)
  echo("\n")
  resetFormat()
end

function wsys.displaySettings()
  wsys.report("System Settings:")
  cecho("\n&lt;white&gt;usetransmutation: "..tostring(wsys.settings.usetransmutation))

  cecho("\n\n&lt;white&gt;valerianpipe: ".. wsys.settings.valerianpipe)
  cecho("\n&lt;white&gt;elmpipe: ".. wsys.settings.elmpipe)
  cecho("\n&lt;white&gt;skullcappipe: ".. wsys.settings.skullcappipe)

  cecho("\n\n&lt;white&gt;valeriantwopipe: ".. tostring(wsys.settings.valeriantwopipe))
  cecho("\n&lt;white&gt;elmtwopipe: ".. tostring(wsys.settings.elmtwopipe))
  cecho("\n&lt;white&gt;skullcaptwopipe: ".. tostring(wsys.settings.skullcaptwopipe))

  cecho("\n\n&lt;white&gt;siphealth: "..tostring(wsys.settings.siphealth))
  cecho("\n&lt;white&gt;sipmana: "..tostring(wsys.settings.sipmana))
  cecho("\n&lt;white&gt;aeonsiphealth: "..tostring(wsys.settings.aeonsiphealth))
  cecho("\n&lt;white&gt;aeonsipmana: "..tostring(wsys.settings.aeonsipmana))

  cecho("\n\n&lt;white&gt;manapercent: "..tostring(wsys.settings.manapercent))
  cecho("\n&lt;white&gt;unsoftpausehealth: "..tostring(wsys.settings.unsoftpausehealth))

  cecho("\n\n&lt;white&gt;usemoss: "..tostring(wsys.settings.usemoss))
  cecho("\n&lt;white&gt;mosshealth: "..tostring(wsys.settings.mosshealth))
  cecho("\n&lt;white&gt;mossmana: "..tostring(wsys.settings.mossmana))

  cecho("\n\n&lt;white&gt;useinsomnia: "..tostring(wsys.settings.useinsomnia))
  cecho("\n&lt;white&gt;usefocus: "..tostring(wsys.settings.usefocus))
  cecho("\n&lt;white&gt;useclot: "..tostring(wsys.settings.useclot))
  cecho("\n&lt;white&gt;autotree: "..tostring(wsys.settings.autotree))
  if wsys.isKnight() then
    cecho("\n&lt;white&gt;userage: "..tostring(wsys.settings.userage))
  end
  if wsys.isClass("serpent") then
    cecho("\n&lt;white&gt;autoshrugging: "..tostring(wsys.settings.autoshrugging))
    cecho("\n&lt;white&gt;autoshrugat: "..tostring(wsys.settings.autoshrugat))
  end
  if wsys.isClass("monk") then
     cecho("\n&lt;white&gt;monktransmute: "..tostring(wsys.settings.monktransmute))
     cecho("\n&lt;white&gt;monktransmuteto: "..tostring(wsys.settings.monktransmuteto))
  end

  cecho("\n\n&lt;white&gt;aeonblock: "..tostring(wsys.settings.aeonblock))

  cecho("\n\n&lt;white&gt;parrystrategy: " ..tostring(wsys.settings.parrystrategy))

  cecho("\n\n&lt;white&gt;profileonburst: " .. wsys.settings.profileonburst)
  cecho("\n&lt;white&gt;profileondeath: " .. wsys.settings.profileondeath)

  echo("\n")
  wsys.report("You can edit settings with the alias - &lt;green&gt;wconfig &lt;setting&gt; &lt;value&gt;")
  wsys.report("For example: &lt;green&gt;wconfig elmpipe 123456 &lt;white&gt;or &lt;green&gt;wconfig usefocus true")
end

function wsys.displayEchosAndGags()
  wsys.report("Display Settings:")
  cecho("\n\n&lt;white&gt;prompt: ")
  fg("grey")
  echoLink(tostring(wsys.settings.prompt), [[clearCmdLine();appendCmdLine("wconfig prompt " .. wsys.settings.prompt)]], "Click to paste in input line", true)
  resetFormat()

  cecho("\n\n&lt;white&gt;promptline2 (false to disable): ")
  fg("grey")
  echoLink(tostring(wsys.settings.promptline2), [[clearCmdLine();appendCmdLine("wconfig promptline2 " .. tostring(wsys.settings.promptline2))]], "Click to paste in input line", true)
  resetFormat()

  cecho("\n\n&lt;white&gt;blackoutprompt: ")
  fg("grey")
  echoLink(tostring(wsys.settings.blackoutprompt), [[clearCmdLine();appendCmdLine("wconfig blackoutprompt " .. wsys.settings.blackoutprompt)]], "Click to paste in input line", true)
  resetFormat()
  
  cecho("\n\n&lt;white&gt;affgainedechos: "..tostring(wsys.settings.affgainedechos))
  cecho("\n&lt;white&gt;affcuredechos: "..tostring(wsys.settings.affcuredechos))

  cecho("\n\n&lt;white&gt;gagcuring: "..tostring(wsys.settings.gagcuring))
  cecho("\n\n&lt;white&gt;gagclot: "..tostring(wsys.settings.gagclot))
  cecho("\n\n&lt;white&gt;gagaffshift: "..tostring(wsys.settings.gagaffshift))
  cecho("\n&lt;white&gt;gagdefshift: "..tostring(wsys.settings.gagdefshift))

  echo("\n")
  wsys.report("You can edit these settings with the alias - &lt;green&gt;wconfig &lt;setting&gt; &lt;true/false&gt;")
  wsys.report("For example: &lt;green&gt;wconfig affgainedechos false &lt;white&gt;or &lt;green&gt;wconfig gagclot true")
end

function wsys.displayConvenience()
  wsys.report("Convenience Settings:")
  cecho("\n\n&lt;white&gt;gstuff: "..tostring(wsys.settings.gstuff))
  cecho("\n&lt;white&gt;container: "..tostring(wsys.settings.container))
  cecho("\n&lt;white&gt;mount: "..tostring(wsys.settings.mount))

  echo("\n")
  wsys.report("You can edit these settings with the alias - &lt;green&gt;wconfig &lt;setting&gt; &lt;value&gt;")
  wsys.report("For example: &lt;green&gt;wconfig gstuff false &lt;white&gt;or &lt;green&gt;wconfig container backpack123456")
end

function wsys.profileLinkDisplay()
  for k,v in pairs(wsys.settings.profilenames) do
    local dlink = [[wsys.switchProfile("]]..v..[[")]]
    echo(" ")
    setUnderline(true)
    fg("antique_white")
    echoLink(v, dlink, "Switch to " .. v, true)
    resetFormat()
  end
end

function wsys.affprioLinkDisplay()
  setUnderline(true)
  fg("antique_white")
  echoLink("all", [[wsys.affpriodisplay("all")]], "wshow affprio all", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("herb", [[wsys.affpriodisplay("herb")]], "wshow affprio herb", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("salve", [[wsys.affpriodisplay("salve")]], "wshow affprio salve", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("smoke", [[wsys.affpriodisplay("smoke")]], "wshow affprio smoke", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("health", [[wsys.affpriodisplay("health")]], "wshow affprio health", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("wake", [[wsys.affpriodisplay("wake")]], "wshow affprio wake", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("stand", [[wsys.affpriodisplay("stand")]], "wshow affprio stand", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("writhe", [[wsys.affpriodisplay("writhe")]], "wshow affprio writhe", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("concentrate", [[wsys.affpriodisplay("concentrate")]], "wshow affprio concentrate", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("immunity", [[wsys.affpriodisplay("immunity")]], "wshow affprio immunity", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("compose", [[wsys.affpriodisplay("compose")]], "wshow affprio compose", true)
  resetFormat()
  echo(" ")
  setUnderline(true)
  fg("antique_white")
  echoLink("focus", [[wsys.affpriodisplay("focus")]], "wshow affprio focus", true)
  resetFormat()
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Check for Updates</name><packageName /><script>wsys.myVersion = "1.3"
wsys.currentVersion = wsys.currentVersion or wsys.myVersion
wsys.updateAvailable = wsys.updateAvailable or false
wsys.lastVersionCheck = wsys.lastVersionCheck or 0
wsys.downloadsURL = "https://github.com/tynil/WunderSys/releases"

local branch = "master"

local register_update_listeners = function( should_register )
	if wsys.events.dl_update_success then killAnonymousEventHandler( wsys.events.dl_update_success ) end
	if wsys.events.dl_update_fail then killAnonymousEventHandler( wsys.events.dl_update_fail ) end
	
	if should_register then
		wsys.events.dl_update_success = registerAnonymousEventHandler("sysDownloadDone", "wsys.downloadedVersionFile")
		wsys.events.dl_update_fail = registerAnonymousEventHandler("sysDownloadError", "wsys.downloadedFileError")
	end
end

-- download latest version number file
function wsys.checkForUpdates( force )
  -- Don't check for updates too often
  if force or ( os.time() - wsys.lastVersionCheck ) &gt; ( 5 * 60 ) then
    wsys.lastVersionCheck = os.time()
    if string.char(getMudletHomeDir():byte()) == "/" then 
    	_sep = "/" 
    else 
    	_sep = "\\" 
    end -- if
    local current_version = getMudletHomeDir().._sep.."WunderSysVersion"
    
    register_update_listeners( true )
    downloadFile(current_version, "https://raw.githubusercontent.com/tynil/WunderSys/"..branch.."/WunderSysVersion")
  end
end


if wsys.events.sys_load_update then killAnonymousEventHandler( wsys.events.sys_load_update ) end
wsys.events.sys_load_update = registerAnonymousEventHandler("sysLoadEvent", "wsys.checkForUpdates")

function wsys.downloadedVersionFile(_, filename)
  -- is the file that downloaded ours?
  if not filename:match("WunderSysVersion", 1, true) then return end
  
  register_update_listeners( false )
  
  -- parse downloaded file for current version
  local ver = io.open(filename):read("*all")
  wsys.currentVersion = string.trim(ver)
  
  if wsys.currentVersion == wsys.myVersion then
    wsys.report("Running the latest WunderSys version: "..wsys.myVersion)
    wsys.updateAvailable = false
  else
    wsys.report("")
    cechoLink("&lt;white&gt;Update available (&lt;green&gt;"..wsys.currentVersion.."&lt;white&gt;). Click to download.", "wsys.downloadNow()", wsys.downloadsURL, true )
    wsys.updateAvailable = true
    wsys.updatePopup()
  end
end


function wsys.downloadedFileError(_, reason)
	wsys.lastVersionCheck = 0
	register_update_listeners( false )
	display(reason)
	wsys.report("Could not check for updates. Please check ")
	cechoLink( "&lt;white&gt;"..wsys.downloadsURL, [[wsys.downloadNow()]], wsys.downloadsURL, true )
end

function wsys.updatePopup()
wundersysDownloadContainer = Geyser.Container:new({
  name = "wundersysDownloadContainer",
  x = "10%", y = 0,
  width = 200, height = 75,
  })

wundersysDownloadBackground = Geyser.Label:new({
  name = "wundersysDownloadBackground",
  x = 0, y = 0,
  height = "100%", width = "100%",
  fgColor = "white",
  color = "dim_gray",
  message = [[&lt;center&gt;WunderSys Update Available!&lt;/center&gt;]]
  },wundersysDownloadContainer)

wundersysDownloadBackground:setStyleSheet([[
  qproperty-alignment: 'AlignTop';
  background-color: rgba(105,105,105,90%);
]])

wundersysDownloadNowButton = Geyser.Label:new({
  name = "wundersysDownloadNowButton",
  x = 10, y = 20,
  height = 20, width = "90%",
  fgColor = "black",
  color = "LawnGreen",
  message = [[&lt;center&gt;Download Now!&lt;/center&gt;]]
  }, wundersysDownloadContainer)

wundersysDownloadNowButton:setClickCallback("wsys.downloadNow")

wundersysDownloadLaterButton = Geyser.Label:new({
  name = "wundersysDownloadLaterButton",
  x = 10, y = 45,
  height = 20, width = "90%",
  fgColor = "white",
  color = "red",
  message = [[&lt;center&gt;Later!&lt;/center&gt;]]
  }, wundersysDownloadContainer)

wundersysDownloadLaterButton:setClickCallback("wsys.downloadLater")

end

function wsys.downloadNow()
  openUrl(wsys.downloadsURL)
  wundersysDownloadContainer:hide()
end

function wsys.downloadLater()
  wundersysDownloadContainer:hide()
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Check for Abilities</name><packageName /><script>function wsys.abilityCheck()
  wsys.abilitycheck = true
  sendGMCP([[Char.Skills.Get { "group": "survival", "name": "focusing" }]])
  sendGMCP([[Char.Skills.Get { "group": "survival", "name": "efficiency" }]])
  sendGMCP([[Char.Skills.Get { "group": "survival", "name": "insomnia" }]])
  sendGMCP([[Char.Skills.Get { "group": "survival", "name": "breathing" }]])
  sendGMCP([[Char.Skills.Get { "group": "chivalry", "name": "rage" }]])

  sendGMCP([[Char.Skills.Get { "group": "vision", "name": "deathsight" }]])
  sendGMCP([[Char.Skills.Get { "group": "necromancy", "name": "deathsight" }]])

  sendGMCP([[Char.Skills.Get { "group": "survival", "name": "clotting" }]])
  sendGMCP([[Char.Skills.Get { "group": "chivalry", "name": "clotting" }]])
  sendGMCP([[Char.Skills.Get { "group": "kaido", "name": "clotting" }]])

  sendGMCP([[Char.Skills.Get { "group": "venom", "name": "shrugging" }]])

  sendGMCP([[Char.Skills.Get { "group": "weaponry", "name": "parrying" }]])
  sendGMCP([[Char.Skills.Get { "group": "tekura", "name": "guarding" }]])
  sendGMCP([[Char.Skills.Get { "group": "swashbuckling", "name": "trueparry" }]])

  sendGMCP([[Char.Skills.Get { "group": "elementalism", "name": "simultaneity" }]])
  sendGMCP([[Char.Skills.Get { "group": "healing", "name": "simultaneity" }]])
  
  sendGMCP([[Char.Skills.Get { "group": "devotion", "name": "bliss" }]])
end


function wsys.abilityCheckAnalyse()
  if gmcp.Char.Skills.Info.skill == "clotting" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.haveclot = true
      --wsys.report("You have the clotting ability")
    end
  

  elseif gmcp.Char.Skills.Info.skill == "focusing" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.havefocus = true
      --wsys.report("You have the focussing ability")
    end

  elseif gmcp.Char.Skills.Info.skill == "breathing" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.havebreathing = true
      --wsys.report("You have the focussing ability")
    end
  

  elseif gmcp.Char.Skills.Info.skill == "insomnia" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.haveinsomnia = true
      --wsys.report("You have the insomnia ability")
    end
  

  elseif gmcp.Char.Skills.Info.skill == "rage" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.haverage = true
      --wsys.report("You have the rage ability")
    end
  

  elseif gmcp.Char.Skills.Info.skill == "efficiency" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.treebaltime = 20 -- Actually 15 usually, but this is just a failsafe anyway
    else
      wsys.settings.treebaltime = 30
    end

  elseif gmcp.Char.Skills.Info.skill == "shrugging" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.haveshrugging = true
      --wsys.report("You have the shrugging ability")
    end

  elseif gmcp.Char.Skills.Info.skill == "parrying" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.haveparry = true
      --wsys.report("You have the parrying ability")
    end
  elseif gmcp.Char.Skills.Info.skill == "guarding" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.haveparry = true
      --wsys.report("You have the guarding ability")
    end
  elseif gmcp.Char.Skills.Info.skill == "trueparry" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.haveparry = true
      --wsys.report("You have the trueparrying ability")
    end

  elseif gmcp.Char.Skills.Info.skill == "simultaneity" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.havesimultaneity = true
      --wsys.report("You have the simultaneity ability")
    end

  elseif gmcp.Char.Skills.Info.skill == "bliss" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.havebliss = true
      --wsys.report("You have the simultaneity ability")
    end

  elseif gmcp.Char.Skills.Info.skill == "deathsight" then
    if not string.findPattern(gmcp.Char.Skills.Info.info, "You have not yet learned this ability") and gmcp.Char.Skills.Info.info ~= "" then
      wsys.settings.havedeathsight = true
    end

  end
  if wsys.abilitycheck and not wsys.curingstatuscheck then
    wsys.curingstatuscheck = true
    wsys.abilitycheck = false
    enableTrigger("Curing Status Check")
    send("curing status", false)
  end
  
end

registerAnonymousEventHandler("gmcp.Char.Skills.Info", "wsys.abilityCheckAnalyse")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Block Commands when Aeoned</name><packageName /><script>function wsys.denyInputOnAeon(_, command)
  if wsys.aff.aeon and not wsys.retard and not wsys.paused and wsys.settings.aeonblock then
    --check if Serverside curing command or amnesia cure
    if not string.starts(command, "curing") and command ~= "touch flaws" and command ~= "diagnose" and command ~= "queue add eqbal touch shield" then
      denyCurrentSend()
      cecho("\n&lt;white:DeepPink&gt;Denied (aeonblock) :&lt;white&gt; " .. command .. " &lt;white:DeepPink&gt; CURING AEON!")
    end
  end --if
end

registerAnonymousEventHandler("sysDataSendRequest", "wsys.denyInputOnAeon")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Class Timers</name><packageName /><script>-- classtimers table
wsys.classtimers = wsys.classtimers or {}

--event handling thingy
function wsys.classTimers(event, affliction, class)
  if event == "got aff" then
    if class ~= nil then
      wsys.newClassTimer(class)
    end
  end
end --func

--start a class timer
function wsys.newClassTimer( class )
  if table.contains(wsys.classtimers, class) then
    wsys.killClassTimer(class, true)
  else
    raiseEvent("class timer started", class)
  end
  wsys.classtimers[class] = tempTimer(45, function() wsys.killClassTimer(class) end)
end

--kill a class timer
function wsys.killClassTimer( class, no_event )
  if wsys.classtimers[class] then killTimer(wsys.classtimers[class]) end
  if table.contains(wsys.classtimers, wsys.classtimers[class]) then
    wsys.classtimers[class] = nil
    if not no_event then raiseEvent("class timer ended", class) end
  end
end

function wsys.classTimerExists(class)
  if table.contains(wsys.classtimers, wsys.classtimers[class]) then return true else return false end
end

--registerAnonymousEventHandler("got aff", "wsys.classTimers")

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>My Ping</name><packageName /><script>local pingList = pingList or {}

--return my ping
function wsys.myPing()
  return wsys.averageListResult(pingList)
end

function wsys.addPing()
  table.insert(pingList, 1, getNetworkLatency())
  if #pingList &gt; 10 then
    table.remove(pingList, 11)
  end
end

function wsys.averageListResult(l)
  local i = #l
  local acc = 0
  for k,v in pairs(l) do
    acc = acc + v
  end --for
  return acc / i
end

registerAnonymousEventHandler("sysDataSendRequest", "wsys.addPing")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Class Stuff</name><packageName /><script>--checks if you are a certain class, for example wsys.isClass("monk")
function wsys.isClass(class)
  --return not wsys.isDragon() and (gmcp.Char.Status.class == string.title(class))
  return class == wsys.myClass()
end

function wsys.isDragon()
  return wsys.settings.dform
end

function wsys.parseDragon( str )
  local color = str:match("(%w+) Dragon")
  if color then wsys.settings.dcolor = color:lower() end
  return color and "dragon" or str:gsub("%s+", ""):lower()
end

--returns your class as a string
function wsys.myClass()
  if wsys.isDragon() then
    return "dragon"
  else
    return string.lower(wsys.settings.class or "none")
  end
end

function wsys.isKnight()
  return wsys.isClass("runewarden") or wsys.isClass("infernal") or wsys.isClass("paladin")
end


function wsys.isFitnessClass()
  return not wsys.isDragon() and (wsys.isClass("monk") or wsys.isClass("blademaster") or wsys.isClass("infernal") or wsys.isClass("paladin") or wsys.isClass("runewarden"))
end

function wsys.changedClass()
 if (wsys.parseDragon(gmcp.Char.Status.class) ~= wsys.settings.class) or (wsys.parseDragon(gmcp.Char.Status.race):lower() ~= wsys.race:lower()) then
  if wsys.parseDragon(gmcp.Char.Status.class) == "dragon" and wsys.parseDragon(gmcp.Char.Status.race) ~= "dragon" then
    --Dragon class but not race. We lesserformed, but class didn't update. Check score
    send("score", false )
    return
  end
  --cecho("&lt;red&gt;CHANGED CLASS")
  local old_class = wsys.myClass()
  wsys.settings.class = wsys.parseDragon(gmcp.Char.Status.class)
  wsys.dragonformDetection() --This will ensure the profile tables exist

  if old_class ~= wsys.myClass() then
    -- Reset all defences that were in keepup of the previous class
    for k in pairs( table.union( wsys.settings.keepup[wsys.profile][old_class], wsys.settings.defup[wsys.profile][old_class] ) ) do
      if not wsys.settings.keepup[wsys.profile][wsys.myClass()][k] then
        send("curing priority defence " .. k .. " reset", true)
      end
    end
    wsys.switchProfile( wsys.profile )
  end
 end
end

registerAnonymousEventHandler("gmcp.Char.Status", "wsys.changedClass")

function wsys.newclasstables(cl)
  wsys.settings.defup[wsys.profile][cl] = {}
  wsys.settings.defprio[wsys.profile][cl] = {}
  wsys.settings.keepup[wsys.profile][cl] = {}
  wsys.settings.focusshifts[wsys.profile][cl] = wsys.return_defaultfocusshifts()
  wsys.settings.affprio[wsys.profile][cl] = wsys.return_defaultaffprios()
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Mana Threshold stuff</name><packageName /><script>function wsys.manathreshold()
  return math.ceil(wsys.stats.maxm * wsys.settings.manapercent/100)
end

function wsys.changemanathreshold(n)
    wsys.settings.manapercent = tonumber(n)
	wsys.report("Minimum mana threshold changed to " .. wsys.settings.manapercent .. "%")
end

--check if you should be toggling mana abilities off (focus, clot etc)
function wsys.checkManaThreshold()
  --toggle focus based on threshold
  if wsys.stats.m &lt; (wsys.manathreshold() + 250) and wsys.settings.usefocus and wsys.settings.havefocus and not wsys.settings.stopfocus then
    wsys.settings.stopfocus = true
    send("curing focus off", false)
    wsys.offfocusbalprios()
  elseif wsys.stats.m &gt;= (wsys.manathreshold() + 250) and wsys.settings.usefocus and wsys.settings.havefocus and wsys.settings.stopfocus then
    wsys.settings.stopfocus = false
    send("curing focus on", false)
    wsys.onfocusbalprios()
  end
  --toggle insomnia based on threshold
  if wsys.stats.m &lt; (wsys.manathreshold() + 100) and wsys.settings.useinsomnia and wsys.settings.haveinsomnia and not wsys.settings.stopinsomnia then
    wsys.settings.stopinsomnia = true
    send("curing insomnia off", false)
  elseif wsys.stats.m &gt;= (wsys.manathreshold() + 100) and wsys.settings.useinsomnia and wsys.settings.haveinsomnia and wsys.settings.stopinsomnia then
    wsys.settings.stopinsomnia = false
    send("curing insomnia on", false)
  end
  --toggle clot based on threshold
  if wsys.stats.m &lt; (wsys.manathreshold() + 100) and wsys.settings.useclot and wsys.settings.haveclot and not wsys.settings.stopclot then
    wsys.settings.stopclot = true
    send("curing clotat " .. tostring(wsys.stats.maxh + 5000), false)
  elseif wsys.stats.m &gt;= (wsys.manathreshold() + 100) and wsys.settings.useclot and wsys.settings.haveclot and wsys.settings.stopclot and not wsys.aff.corruption then
    wsys.settings.stopclot = false
    send("curing clotat 30", false)
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Install Functions</name><packageName /><script>function wsys.wunderSysInstall()
  wsys.wunderSysSetPrompt()
  wsys.wunderSysCuringInstall()
end

function wsys.wunderSysSetPrompt()
  send("config prompt all")
end

function wsys.wunderSysCuringInstall()
  send("config screenwidth 0")
  send("curing on")
  send("curing afflictions on")
  send("config advancedcuring on")
  send("curing batch on")
  send("curing priority health")
  send("curing reporting on")
  send("curing siphealth 80")
  send("curing sipmana 80")
  send("curing mosshealth 70")
  send("curing mossmana 70")
  send("curing clotat 30")
end
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Tables</name><packageName /><script>-- table subfolder. For stuff that's usually just for Wunder internal use.
wsys.tb = wsys.tb or {}</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Homeless Wsys Variables</name><packageName /><script>wsys.profile = "basic"
wsys.puppetmangle = false
wsys.waittime = .70
wsys.lifevision = false
wsys.vmode = false
wsys.absorbed = false
wsys.starbursted = false
wsys.mogged = false
wsys.affline = wsys.affline or 0
wsys.innewsroom = false
wsys.deletefull = false
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Affliction Tables</name><packageName /><script>-- RESTORATION AI TABLE
wsys.tb.restorationlist = {}

wsys.tb.justreckless = {}

-- LIST OF CURRENT AFFS
wsys.aff = wsys.aff or {}


-- CURES FOR EACH AFF
wsys.tb.affc = {

 burning = {"mendingtorso"},
 addiction = {"ginseng", "ferrum"},
 aeon = {"elm", "cinnabar"},
 agoraphobia = {"lobelia", "argentum", "focus"},
 anorexia = {"epidermalbody", "focus"},
 sleeping = {"wake"},
 asthma = {"kelp", "aurum", "fitness"},
 concussion = {"restorationhead"},
 damagedhead = {"restorationhead"},
 blackout = {},
 bleeding = {"clot"},
 damagedleftarm = {"restorationarms"},
 damagedleftleg = {"restorationlegs"},
 damagedrightarm = {"restorationarms"},
 damagedrightleg = {"restorationlegs"},
 mildtrauma = {"restorationtorso"},
 carm = {"mendingarms", "restore"},
 claustrophobia = {"lobelia", "argentum", "focus"},
 brokenleftarm = {"mendingarms", "restore"},
 brokenleftleg = {"mendinglegs", "restore"},
 cleg = {"mendinglegs", "restore"},
 climb = {"mendingskin","restore"},
 clumsiness = {"kelp", "aurum"},
 confusion = {"ash", "stannum","focus"},
 concussion = {"restorationhead"},
 crushedthroat = {"mendinghead"},
 brokenrightarm = {"mendingarms", "restore"},
 brokenrightleg = {"mendinglegs", "restore"},
 darkshade = {"ginseng", "ferrum"},
 dazed = {"elm", "cinnabar"},
 deadening = {"elm", "cinnabar"},
 dementia = {"ash", "stannum", "focus"},
 depression = {"goldenseal", "plumbum"},
 disloyalty = {"valerian", "realgar"},
 disrupted = {"concentrate"},
 dissonance = {"goldenseal", "plumbum"},
 dizziness = {"goldenseal", "plumbum", "focus"},
 epilepsy = {"goldenseal", "plumbum", "focus"},
 fear = {"compose"},
 frozen = {"caloric"},
 generosity = {"bellwort", "cuprum", "rage"},
 hamstrung = {}, -- timed
 haemophilia = {"ginseng", "ferrum"},
 hallucinations = {"ash", "stannum", "focus"},
 healthleech = {"kelp", "aurum"},
 heartseed = {"restorationtorso"},
 hellsight = {"valerian", "realgar"},
 hypersomnia = {"ash", "stannum"},
 hypochondria = {"kelp", "aurum"},
 impaled = {"writhe"},
 impatience = {"goldenseal", "plumbum"},
 inquisition = {},
 hecatecurse = {},
 bubonis = {},
 weakenedmind = {"focus"},
 itching = {"epidermalbody"},
 laceratedthroat = {"restorationhead"},
 lethargy = {"ginseng", "ferrum"},
 loneliness = {"lobelia", "argentum", "focus"},
 lovers = {"bellwort", "cuprum", "focus", "rage"},
 justice = {"bellwort", "cuprum", "rage"},
 whisperingmadness = {"elm", "cinnabar"},
 manaleech = {"valerian", "realgar"},
 masochism = {"lobelia", "argentum", "focus"},
 mangledhead = {"restorationhead"},
 mangledleftarm = {"restorationarms"},
 mangledleftleg = {"restorationlegs"},
 mangledrightarm = {"restorationarms"},
 mangledrightleg = {"restorationlegs"},
 serioustrauma = {"restorationtorso"},
 nausea = {"ginseng", "ferrum"},
 pacified = {"bellwort", "cuprum", "focus", "rage"},
 paralysis = {"bloodroot", "magnesium"},
 paranoia = {"ash", "stannum", "focus"},
 parasite = {"kelp", "aurum"},
 peace = {"bellwort", "cuprum", "rage"},
 prone = {"stand"},
 recklessness = {"lobelia", "argentum", "focus"},
 retribution = {"bellwort", "cuprum"},
 scytherus = {"ginseng", "ferrum"},
 sensitivity = {"kelp", "aurum"},
 selarnia = {"mendingtorso"},
 daeggerimpale = {"writhe"},
 shadowmadness = {"goldenseal", "plumbum"},
 shivering = {"caloric"},
 shyness = {"goldenseal", "plumbum", "focus"},
 slashedthroat = {"epidermalhead"},
 slickness = {"bloodroot", "magnesium", "valerian", "realgar"},
 speared = {"writhe"},
 stupidity = {"goldenseal", "plumbum", "focus"},
 stuttering = {"epidermalhead", "focus"},
 entangled = {"writhe", "flex"},
 bound = {"writhe"},
 timeloop = {"bellwort", "cuprum"},
 transfixation = {"writhe"},
 weariness = {"kelp", "aurum"},
 webbed = {"writhe", "flex"},
 vertigo = {"lobelia", "argentum", "focus"},
 voyria = {"immunity", "antigen"},

 waterdisrupt = {"focus", "lobelia", "argentum"},
 airdisrupt = {"focus", "lobelia", "argentum"},
 firedisrupt = {"focus", "lobelia", "argentum"},
 earthdisrupt = {"lobelia", "argentum"},
 spiritdisrupt = {"lobelia", "argentum"},
 
 guilt = {"lobelia", "argentum"},
 tenderskin = {"lobelia", "argentum"},
 spiritburn = {"lobelia", "argentum"},

 temperedcholeric = {"ginger", "antimony"},
 temperedmelancholic = {"ginger", "antimony"},
 temperedphlegmatic = {"ginger", "antimony"},
 temperedsanguine = {"ginger", "antimony"},

 corruption = {}, --45s

 skullfractures = {"healthhead", "restore"},
 crackedribs = {"healthtorso", "restore"},
 wristfractures = {"healtharms", "restore"},
 torntendons = {"healthlegs", "restore"},

 hypothermia = {"restorationtorso"},
 scalded = {"epidermalhead"},
 dehydrated = {}, --60s
 timeflux = {}, --60s
 
 unweavingmind = {"goldenseal", "plumbum"},
 unweavingbody = {"ginseng", "ferrum"},
 unweavingspirit = {"elm", "cinnabar"},
 
 tension = {"elm", "cinnabar"},
 pressure = {"pear", "calcite"}

}

wsys.tb.affctype = {

 addiction = "herb",
 aeon = "smoke",
 agoraphobia = "herb",
 anorexia = "salve",
 sleeping = "wake",
 asthma = "herb",
 burning = "salve",
 concussion = "salve",
 damagedhead = "salve",
 damagedleftarm = "salve",
 damagedleftleg = "salve",
 damagedrightarm = "salve",
 damagedrightleg = "salve",
 mildtrauma = "salve",
 claustrophobia = "herb",
 brokenleftarm = "salve",
 brokenleftleg = "salve",
 clumsiness = "herb",
 confusion = "herb",
 concussion = "salve",
 crushedthroat = "salve",
 brokenrightarm = "salve",
 brokenrightleg = "salve",
 darkshade = "herb",
 dazed = "smoke",
 deadening = "smoke",
 dementia = "herb",
 depression = "herb",
 disloyalty = "smoke",
 disrupted = "concentrate",
 dissonance = "herb",
 dizziness = "herb",
 epilepsy = "herb",
 fear = "compose",
 frozen = "salve",
 generosity = "herb",
 haemophilia = "herb",
 hallucinations = "herb",
 healthleech = "herb",
 heartseed = "salve",
 hellsight = "smoke",
 hypersomnia = "herb",
 hypochondria = "herb",
 impaled = "writhe",
 impatience = "herb",
 itching = "salve",
 lethargy = "herb",
 loneliness = "herb",
 lovers = "herb",
 justice = "herb",
 whisperingmadness = "smoke",
 laceratedthroat = "salve",
 slashedthroat = "salve",
 manaleech = "smoke",
 masochism = "herb",
 mangledhead = "salve",
 mangledleftarm = "salve",
 mangledleftleg = "salve",
 mangledrightarm = "salve",
 mangledrightleg = "salve",
 serioustrauma = "salve",
 nausea = "herb",
 pacified = "herb",
 paralysis = "herb",
 paranoia = "herb",
 parasite = "herb",
 peace = "herb",
 prone = "stand",
 recklessness = "herb",
 retribution = "herb",
 scytherus = "herb",
 sensitivity = "herb",
 selarnia = "salve",
 daeggerimpale = "writhe",
 shadowmadness = "herb",
 shivering = "salve",
 shyness = "herb",
 slickness = "smoke",
 speared = "writhe",
 stupidity = "herb",
 stuttering = "salve",
 entangled = "writhe",
 bound = "writhe",
 timeloop = "herb",
 transfixation = "writhe",
 weariness = "herb",
 webbed = "writhe",
 vertigo = "herb",
 voyria = "immunity",

 waterdisrupt = "herb",
 airdisrupt = "herb",
 firedisrupt = "herb",
 earthdisrupt = "herb",
 spiritdisrupt = "herb",
 
 guilt = "herb",
 tenderskin = "herb",
 spiritburn = "herb",

 temperedcholeric = "herb",
 temperedmelancholic = "herb",
 temperedphlegmatic = "herb",
 temperedsanguine = "herb",


 skullfractures = "health",
 crackedribs = "health",
 wristfractures = "health",
 torntendons = "health",

 hypothermia = "salve",
 scalded = "salve",
 
 pressure = "smoke",
 tension = "smoke",
 
 unweavingbody = "herb",
 unweavingmind = "herb",
 unweavingspirit = "smoke",
 

}





-- AFFS RECEIVED TOGETHER FOR AI PURPOSES
wsys.tb.affspaired = {}


-- AFFS RECEIVED BETWEEN SAME PROMPTS
wsys.tb.affstogether = {}

-- Removed Weariness from Focusable - Announce 4494
-- Dementia, Paranoia, and Hallucination - Added as Focusable Announce #4539 
-- CURES
wsys.tb.cures = {

 bloodroot = {"paralysis", "slickness"},
 magnesium = {"paralysis", "slickness"},
 lobelia = {"agoraphobia", "claustrophobia", "loneliness", "masochism", "vertigo", "recklessness","spritidisrupt", "guilt", "tenderskin", "spiritburn"},
 argentum = {"agoraphobia", "claustrophobia", "loneliness", "masochism", "vertigo", "recklessness","spiritdisrupt", "guilt", "tenderskin", "spiritburn"},
 kelp = {"asthma", "clumsiness", "sensitivity", "weariness", "hypochondria", "healthleech", "parasite"},
 aurum = {"asthma", "clumsiness", "sensitivity", "weariness", "hypochondria", "healthleech", "parasite"},
 ginseng = {"darkshade", "scytherus", "addiction", "lethargy", "haemophilia", "nausea", "unweavingbody"},
 ferrum = {"darkshade", "scytherus", "addiction", "lethargy", "haemophilia", "nausea", "unweavingbody"},
 bellwort = {"generosity", "lovers", "justice", "pacified", "peace", "retribution", "timeloop"},
 cuprum = {"generosity", "lovers", "justice", "pacified", "peace", "retribution", "timeloop"},
 ash = {"confusion", "dementia", "hallucinations", "hypersomnia", "paranoia"},
 stannum = {"confusion", "dementia", "hallucinations", "hypersomnia", "paranoia"},
 goldenseal = {"stupidity", "impatience", "dizziness", "epilepsy", "dissonance", "shyness", "retribution", "timeloop", "unweavingmind"},
 plumbum = {"stupidity", "impatience", "dizziness", "epilepsy", "dissonance", "shyness", "retribution", "timeloop", "unweavingmind"},
 focus = {"stupidity", "dizziness", "confusion", "claustrophobia", "agoraphobia", "masochism", "lovers", "recklessness", 
          "epilepsy", "loneliness", "shyness", "pacified", "anorexia", "vertigo", "weakenedmind",
			"waterdisrupt", "earthdisrupt", "firedisrupt","airdisrupt", "dementia", "hallucinations", "paranoia"},
 elm = {"aeon", "whisperingmadness", "deadening", "dazed", "tension", "unweavingspirit" },
 cinnabar = {"aeon", "whisperingmadness", "deadening", "dazed", "tension", "unweavingspirit" },
 valerian = {"slickness", "disloyalty", "manaleech", "hellsight"},
 realgar = {"slickness", "disloyalty", "manaleech", "hellsight"},
 mendinglegs = {"brokenleftleg", "brokenrightleg", "cleg"},
 mendingarms = {"brokenleftarm", "brokenrightarm", "carm"},
 mendingskin = {"climb", "brokenleftleg", "brokenrightleg", "cleg", "brokenrightarm", "brokenleftarm", "brokenarm"},
 epidermalbody = {"anorexia", "itching"},
 epidermalhead = {"scalded"},
 mendingbody = {"burning", "selarnia"},
 mendinghead = {"crushedthroat"},
 mendingtorso = {"selarnia"},
 epidermalhead = {"stuttering", "slashedthroat"},
 caloric = {"shivering", "frozen"},
 restorationarms = {"damagedleftarm", "damagedrightarm", "mangledleftarm", "mangledrightarm", "bleg"},
 restorationlegs = {"damagedleftleg", "damagedrightleg", "mangledleftleg", "mangledrightleg", "bleg"},
 restorationhead = {"damagedhead", "mangledhead", "laceratedthroat", "concussion"},
 restorationtorso = {"mildtrauma", "serioustrauma", "heartseed"},
 restorationbody = {"hypothermia"},
 tree = {"brokenleftarm", "brokenrightarm", "brokenleftleg", "brokenrightleg", "paralysis", "slickness", "agoraphobia", "claustrophobia", 
          "loneliness", "masochism", "vertigo", "recklessness", "asthma", "clumsiness", "sensitivity", "weariness", 
          "hypochondria", "healthleech", "darkshade", "scytherus", "addiction", "lethargy", "haemophilia", "nausea", 
          "generosity", "lovers", "justice", "pacified", "peace", "confusion", "dementia", "hallucinations", "hypersomnia", 
          "paranoia", "stupidity", "impatience", "dizziness", "epilepsy", "dissonance", "shyness", "slickness", "disloyalty",
          "aeon", "whisperingmadness", "hellsight", "deadening", "burning", "stuttering", "carm", "cleg", "anorexia", "voyria", 
			    "parasite", "depression", "shadowmadness", "retribution", "timeloop", "crushedthroat", "guilt", "spiritburn", "tenderskin" },
 shrugging = {"brokenleftarm", "brokenrightarm", "brokenleftleg", "brokenrightleg", "paralysis", "slickness", "agoraphobia", "claustrophobia", 
          "loneliness", "masochism", "vertigo", "recklessness", "asthma", "clumsiness", "sensitivity", "paralysis", 
          "hypochondria", "healthleech", "darkshade", "scytherus", "addiction", "lethargy", "haemophilia", "nausea", 
          "generosity", "lovers", "justice", "pacified", "peace", "confusion", "dementia", "hallucinations", "hypersomnia", 
          "paranoia", "stupidity", "impatience", "dizziness", "epilepsy", "dissonance", "shyness", "slickness", "disloyalty",
          "aeon", "whisperingmadness", "hellsight", "deadening", "burning", "stuttering", "carm", "cleg", "anorexia", "voyria",
          "parasite", "depression", "shadowmadness", "retribution", "timeloop", "crushedthroat"},
 restore = {"brokenleftarm", "brokenrightarm", "brokenleftleg", "brokenrightleg", "carm", "cleg"},
 dheal = {"brokenleftarm", "brokenrightarm", "brokenleftleg", "brokenrightleg", "paralysis", "slickness", "agoraphobia", "claustrophobia", 
          "loneliness", "masochism", "vertigo", "recklessness", "asthma", "clumsiness", "sensitivity", "weariness", 
          "hypochondria", "healthleech", "darkshade", "scytherus", "addiction", "lethargy", "haemophilia", "nausea", 
          "generosity", "lovers", "justice", "pacified", "peace", "confusion", "dementia", "hallucinations", "hypersomnia", 
          "paranoia", "stupidity", "impatience", "dizziness", "epilepsy", "dissonance", "shyness", "slickness", "disloyalty",
          "aeon", "whisperingmadness", "hellsight", "deadening", "burning", "stuttering", "carm", "cleg", "anorexia", "voyria",
          "parasite", "depression", "shadowmadness", "retribution", "timeloop", "crushedthroat", "guilt", "spiritburn", "tenderskin"},
 flex = {"webbed", "entangled"},
 writhe = {"webbed", "entangled", "bound", "impaled", "transfixation", "speared", "daeggerimpale"},
 fool = {"brokenleftarm", "brokenrightarm", "brokenleftleg", "brokenrightleg", "paralysis", "slickness", "agoraphobia", "claustrophobia", 
          "loneliness", "masochism", "vertigo", "recklessness", "asthma", "clumsiness", "sensitivity", "weariness", 
          "hypochondria", "healthleech", "darkshade", "scytherus", "addiction", "lethargy", "haemophilia", "nausea", 
          "generosity", "lovers", "justice", "pacified", "peace", "confusion", "dementia", "hallucinations", "hypersomnia", 
          "paranoia", "stupidity", "impatience", "dizziness", "epilepsy", "dissonance", "shyness", "slickness", "disloyalty",
          "aeon", "whisperingmadness", "hellsight", "deadening", "burning", "stuttering", "carm", "cleg", "anorexia", "voyria",
          "parasite", "depression", "shadowmadness", "retribution", "timeloop", "crushedthroat", "guilt", "spiritburn", "tenderskin"},
 concentrate = {"disrupted"},
 compose = {"fear"},
 clot = {"bleeding"},
 immunity = {"voyria"},
 fitness = {"asthma"},
 rage = {"generosity", "justice", "lovers", "pacified", "peace"},
 antimony = { "temperedcholeric", "temperedmelancholic", "temperedphlegmatic", "temperedsanguine"},
 ginger = { "temperedcholeric", "temperedmelancholic", "temperedphlegmatic", "temperedsanguine"},
 healthhead = {"skullfractures"},
 healthtorso = {"crackedribs"},
 healtharms = {"wristfractures"},
 healthlegs = {"torntendons"},
}

wsys.tb.targettedCureTable = {
  "mendingtorso", "renewaltorso",
  "ginseng", "ferrum",
  "bloodroot", "magnesium",
  "elm", "cinnabar",
  "valerian", "realgar",
  "ginger", "antimony",
  "bellwort", "cuprum",
  "lobelia", "argentum",
  "epidermalbody", "sensorybody",
  "kelp", "aurum",
  "ash", "stannum",
  "restorationarms", "reconstructivearms",
  "restorationhead", "reconstructivehead",
  "restorationlegs", "reconstructivelegs",
  "restorationtorso", "reconstructivetorso",
  "epidermalbody", "sensorybody",
  "mendingarms", "renewalarms",
  "mendinglegs", "renewallegs",
  "mendingbody", "renewalbody",
  "epidermalhead", "sensoryhead",
  "calorictorso", "exothermictorso",
  "goldenseal", "plumbum",
}
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Timers Table</name><packageName /><script>-- TIMERS TABLE

wsys.timer = wsys.timer or {}

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Balances Table</name><packageName /><script>-- BALS Table
wsys.bals = {
  b = true, -- balance
  e = true, -- equilibrium

  moss = true,
  hm = true, --rename to sip maybe?
  immunity = true, --7s

  tree = true,
  focus = true,

  salve = true,
  herb = true,
  smoke = true,


  dragonheal = true,
  fool = true,
  voice = true,
  rage = true,
  shrugging = true,
  fitness = true,

}

-- reset all balances
function wsys.resetBals()
  for k in pairs(wsys.bals) do
    wsys.gotBal(k)
  end
end

-- balances are all true on starburst or death
registerAnonymousEventHandler("You Died", "wsys.resetBals")
registerAnonymousEventHandler("You Starbursted", "wsys.resetBals")



</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Aff shortnames on prompt</name><packageName /><script>wsys.overrides.afftags = wsys.overrides.afftags or {}
-- Shortnames = { aff = "name" }
wsys.overrides.afftags.shortnames = wsys.overrides.afftags.shortnames or {}
-- colors = { aff = "color", aff2 = { "color1", [4] = "color at 4+ stacks" } }
wsys.overrides.afftags.colors = wsys.overrides.afftags.colors or {}
-- cure_colors = { cure = "color", cure2 = { "color1", [6] = "color at 6+ stacks" } }
wsys.overrides.afftags.cure_colors = wsys.overrides.afftags.cure_colors or {}


-- Probably use an override table
local aff_short = {
 deafness = "",
 blindness = "",
 insomnia = "",
 addiction = "add",
 aeon = "ae",
 agoraphobia = "agor",
 anorexia = "ano",
 asphyxiating = "", -- Lets Air Lord see what smoke cure you used
 sleeping = "slp",
 asthma = "ast",
 concussion = "concuss",
 damagedhead = "h1",
 blackout = "",
 bleeding = "bld",
 demonstain = "stain",
 damagedleftarm = "la2",
 damagedleftleg = "ll2",
 bleg = "uleg1",
 damagedrightarm = "ra2",
 damagedrightleg = "rl2",
 mildtrauma = "t1",
 carm = "uwna",
 claustrophobia = "clau",
 brokenleftarm = "la1",
 brokenleftleg = "ll1",
 cleg = "uwnl",
 climb = "uwcrip",
 clumsiness = "Cl",
 confusion = "con",
 brokenrightarm = "ra1",
 brokenrightleg = "rl1",
 darkshade = "dark",
 deadening = "dea",
 dementia = "dem",
 depression = "dep",
 disloyalty = "disl",
 disrupted = "dis",
 dissonance = "diss",
 dizziness = "diz",
 epilepsy = "epi",
 fear = "fear",
 frozen = "frozen",
 generosity = "gen",
 haemophilia = "haem",
 hallucinations = "hallu",
 healthleech = "hleech",
 hellsight = "hell",
 hypersomnia = "hypers",
 hypochondria = "hypo",
 impaled = "Impale",
 impatience = "IMP",
 internalbleeding = "ImpaleSlash",
 inquisition = "",
 cadmuscurse = "cadmus",
 weakenedmind = "rixil",
 hecatecurse = "HECATE",
 itching = "",
 lethargy = "let",
 loneliness = "lon",
 lovers = "lust",
 justice = "just",
 whisperingmadness = "MAD",
 masochism = "maso",
 manaleech = "mleech",
 mangledhead = "h2",
 mangledleftarm = "la3",
 mangledleftleg = "ll3",
 mangledrightarm = "ra3",
 mangledrightleg = "rl3",
 serioustrauma = "t2",
 nausea = "nau",
 pacified = "pac",
 paralysis = "PAR",
 paranoia = "para",
 parasite = "paras",
 peace = "pea",
 prone = "PR",
 recklessness = "reck",
 retribution = "ret",
 scytherus = "SCY",
 sensitivity = "sen",
 daeggerimpale = "Impale",
 shadowmadness = "sham",
 shivering = "shiv",
 shyness = "shy",
 slickness = "SLI",
 speared = "Impale",
 stupidity = "st",
 stuttering = "stut",
 entangled = "tangled",
 bound = "bound",
 transfixation = "transf",
 weariness = "Wea",
 webbed = "web",
 vertigo = "vert",
 voyria = "voy",
 heartseed = "hseed",
 temperedsanguine = "sang",
 temperedcholeric = "chol",
 temperedphlegmatic = "phleg",
 temperedmelancholic = "melan",
 torntendons = "tendons",
 wristfractures = "wrist",
 crackedribs = "ribs",
 skullfractures = "skull",
 burning = "burn",
 unweavingmind = "UNM",
 unweavingbody = "UNB",
 unweavingspirit = "UNS",
 mindravaged = "MIND RAVAGE",
 pressure = "PRESS",
 tension = "tens",
}

local aff_colors = {
	bleeding = { "maroon", [500] = "red" },
	burning = { "SlateGrey", "brown", "red" },
	pressure = { "SlateGrey", "DeepSkyBlue", [4] = "cyan", [6] = "white" },
	prone = "orchid",
	mindravaged = "red:gray",
}

-- The cure may be the prefix to an actual cure
-- E.g. "mending" matches "mendingarms" or "mendinglegs" but not "foomending"
local cure_colors = {
	kelp = "chartreuse",
	goldenseal = "yellow",
	ginseng = "dark_goldenrod",
	lobelia = "moccasin",
	elm = "sky_blue",
	valerian = "royal_blue",
	restoration = "brown",
	mending = "brown",
	health = { "medium_violet_red", [6] = "deep_pink" }, -- fractures
	ginger = { "medium_purple", [6] = "purple" },
}

-- Return the color to use for an value, given a color_option
-- Color_option is either a string "color", or a table with a list of colors to
-- use based on the aff_value
local getColor = function( color_option, value )
  local color = false
	
	if type(color_option) == "string" then
		-- Aff color is a string, so use it
		color = color_option
		
	elseif type(color_option) == "table" then
		-- Pick a color based on value
		local max = 0
		local current_val = tonumber(value) or ( value and 1 ) or 0
		
		for i,v in pairs(color_option) do
			if i &gt; max and current_val &gt;= i then
				max = i
				color = v
			end
		end
	end
	return color
end

local getAffLabel = function( aff, value )
  local short = wsys.overrides.afftags.shortnames[aff] or aff_short[aff]
	
	if short and #short == 0 then
		-- Short is "", don't display anythign
		return false
	end
	
	local color = getColor( wsys.overrides.afftags.colors[aff] or aff_colors[aff], value )
	
	if not color and wsys.tb.affc[aff] then
		-- Pick a color based on cure-type
		for _,aff_cure in ipairs(wsys.tb.affc[aff]) do
			-- Check the overrides first
			for cure,ccolor in pairs(wsys.overrides.afftags.cure_colors) do
				if string.match( aff_cure, "^"..cure ) then
					color = getColor( ccolor, value )
					break
				end
			end
			if color then break end -- Break out of the affc table loop if we found a match
		
			-- Check the default colors
			for cure,ccolor in pairs(cure_colors) do
				if string.match( aff_cure, "^"..cure ) then
					color = getColor( ccolor, value )
					break
				end
			end
			if color then break end -- Break out of the affc table loop if we found a match
		end
	end
	
	if not color then
		if short then
			-- No special color
			color = "SlateGrey"
		else
			-- No short means we don't know about it. Use a default color
			color = "IndianRed"
		end
	end
	
	short = short or aff
	
	if tonumber(value) and value &gt; 1 then
		-- Stackable aff, append (#)
		short = short .."("..value..")"
	end
	
  return "&lt;"..color.."&gt;"..short
end

function wsys.affTags( affs, include_bleed )
  local s = {}
  if include_bleed and wsysf.stats.bleed and wsysf.stats.bleed &gt; 50 then
  	s[#s+1] = getAffLabel( "bleeding", wsysf.stats.bleed )
  end
  for aff,value in pairs(affs) do
		entry = getAffLabel(aff, value)
		if entry then
			s[#s+1] = entry
		end
	end
  return #s &gt; 0 and ("&lt;IndianRed&gt;["..table.concat(s, " ").."&lt;IndianRed&gt;]") or ""
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Stats</name><packageName /><script>-- STATS TABLE
wsys.stats = {

 h = 5000,
 m = 5000,
 e = 20000,
 w = 20000,
 maxh = 5000,
 maxm = 5000,
 maxw = 20000,
 maxe = 20000,
 oh = 5000, --old health
 om = 5000, --old mana
 xp = 0,
 oxp = 0, --old xp
 kai = 0,
 shin = 0,
 rage = 0,
}

local charstats = {
  ["Bleed"] = function( val ) wsys.bleeding = tonumber( val ) end,
  ["Rage"] = function( val ) wsys.stats.rage = tonumber( val ) end,
}

function wsys.statupdate()
 
  wsys.stats.oh = wsys.stats.h or 5000
  wsys.stats.om = wsys.stats.m or 5000
  wsys.stats.oxp = wsys.stats.xp or 0

  wsys.stats.h = tonumber(gmcp.Char.Vitals.hp)
  wsys.stats.m = tonumber(gmcp.Char.Vitals.mp)
  wsys.stats.e = tonumber(gmcp.Char.Vitals.ep)
  wsys.stats.w = tonumber(gmcp.Char.Vitals.wp)

  wsys.stats.maxh = tonumber(gmcp.Char.Vitals.maxhp)
  wsys.stats.maxm = tonumber(gmcp.Char.Vitals.maxmp)
  wsys.stats.maxe = tonumber(gmcp.Char.Vitals.maxep)
  wsys.stats.maxw = tonumber(gmcp.Char.Vitals.maxwp)

  for _,str in ipairs( gmcp.Char.Vitals.charstats ) do
    local sep = str:find( ": " )
    if sep then
      local key = str:sub( 1, sep - 1 )
      local val = str:sub( sep + 2 )
      if charstats[key] then charstats[key]( val ) end
    end
  end

  if wsys.stats.oh ~= wsys.stats.h then
    raiseEvent("health changed")
  end
  if wsys.stats.om ~= wsys.stats.m then
    raiseEvent("mana changed")
  end
end -- func

registerAnonymousEventHandler("gmcp.Char.Vitals", "wsys.statupdate")

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Prompt Tags and Tag Colours</name><packageName /><script>-- Table of default prompt tags
wsys.prompttags = wsys.prompttags or {} 

wsys.prompttags["health"] = function() return wsys.stats.h end
wsys.prompttags["percenthealth"] = function() return math.floor(wsys.stats.h / wsys.stats.maxh * 100) end
wsys.prompttags["mana"] = function() return wsys.stats.m end
wsys.prompttags["percentmana"] = function() return math.floor(wsys.stats.m / wsys.stats.maxm * 100) end
wsys.prompttags["endurance"] = function() return wsys.stats.e end
wsys.prompttags["percentendurance"] = function() return math.floor(wsys.stats.e / wsys.stats.maxe * 100) end
wsys.prompttags["willpower"] = function() return wsys.stats.w end
wsys.prompttags["percentwillpower"] = function() return math.floor(wsys.stats.w / wsys.stats.maxw * 100) end
wsys.prompttags["bal"] = function() if wsys.bals.b then return "X" else return "" end end
wsys.prompttags["eq"] = function() if wsys.bals.e then return "E" else return "" end end
wsys.prompttags["lbal"] = function() if wsys.bals.b then return "x" else return "" end end
wsys.prompttags["leq"] = function() if wsys.bals.e then return "e" else return "" end end
wsys.prompttags["target"] = function() if target then return target else return "" end end
wsys.prompttags["paused"] = function() if wsys.paused then return "(PP)" else return "" end end
wsys.prompttags["softpaused"] = function() if wsys.softpaused then return "(sP)" else return "" end end
wsys.prompttags["phase"] = function() if wsys.def.phased or wsys.def.blackwind or wsys.def.astralform then return "@" else return "" end end
wsys.prompttags["retardation"] = function() if wsys.retard then return "[RET]" else return "" end end
wsys.prompttags["kai"] = function() if wsys.def.kaitrance then return wsys.stats.kai .." " else return "" end end
wsys.prompttags["shin"] = function() if wsys.def.shintrance then return wsys.stats.shin.." " else return "" end end
wsys.prompttags["warning"] = function() return wsys.prefixWarning end
wsys.prompttags["mw"] = function() if wsys.def.metawake then return "MW" else return "" end end
wsys.prompttags["breathing"] = function() if wsys.def.breathing then return "br" else return "" end end
wsys.prompttags["xp"] = function() return gmcp.Char.Vitals.nl end
wsys.prompttags["affs"] = function() return wsys.affTags( wsysf.affs, true ) .. wsys.affTags( wsys.predicted, false ) end
wsys.prompttags["timestamp"] = function() return getTimestamp(getLineCount()):gsub("^%s*(.-)%s*$", "%1") end
wsys.prompttags["rage"] = function() if wsys.stats.rage &gt; 0 then return wsys.stats.rage.." " else return "" end end

wsys.prompttags["diffhealth"] = function()
  if wsys.stats.h &lt; wsys.stats.oh then 
    return("&lt;red&gt; (-"..wsys.stats.oh - wsys.stats.h .. "h, " .. string.format("%.1f", ((wsys.stats.oh - wsys.stats.h) / wsys.stats.maxh) * 100) .. "%)")
  elseif wsys.stats.h &gt; wsys.stats.oh then 
    return("&lt;green&gt; (+"..wsys.stats.h - wsys.stats.oh .. "h, " .. string.format("%.1f", ((wsys.stats.h - wsys.stats.oh) / wsys.stats.maxh) * 100) .. "%)") 
  else
    return ""
  end -- if
end

wsys.prompttags["diffmana"] = function()
  if wsys.stats.m &lt; wsys.stats.om then 
    return("&lt;slate_blue&gt; (-"..wsys.stats.om - wsys.stats.m .. "m, " .. string.format("%.1f", ((wsys.stats.om - wsys.stats.m) / wsys.stats.maxm) * 100) .. "%)")
  elseif wsys.stats.m &gt; wsys.stats.om then 
    return("&lt;purple&gt; (+".. wsys.stats.m - wsys.stats.om .. "m, " .. string.format("%.1f", ((wsys.stats.m - wsys.stats.om) / wsys.stats.maxm) * 100) .. "%)") 
  else
    return ""
  end -- if
end

wsys.prompttags["def"] = function() 
  local defstring = ""
  if wsys.def.blindness then
    defstring = defstring .. "&lt;SeaGreen&gt;B "
  end
  if wsys.def.deafness then
    defstring = defstring .. "&lt;SeaGreen&gt;D "
  end
  if wsys.def.cloak then
    defstring = defstring .. "&lt;deep_sky_blue&gt;C "
  end
  if wsys.def.kola then
    defstring = defstring .. "&lt;yellow&gt;K "
  end
  if wsys.def.density then
    defstring = defstring .. "&lt;maroon&gt;M "
  end -- if
  if wsys.def.heldbreath then
    defstring = defstring .. "&lt;light_grey&gt;br"
  end --if
  return defstring
end

wsys.prompttags["invdef"] = function() 
  local invdefstring = ""
  if not wsys.def.blindness then
    invdefstring = invdefstring .. "&lt;SeaGreen&gt;B "
  end
  if not wsys.def.deafness then
    invdefstring = invdefstring .. "&lt;SeaGreen&gt;D "
  end
  if not wsys.def.cloak then
    invdefstring = invdefstring .. "&lt;deep_sky_blue&gt;C "
  end
  if not wsys.def.kola then
    invdefstring = invdefstring .. "&lt;yellow&gt;K "
  end
  if not wsys.def.density then
    invdefstring = invdefstring .. "&lt;maroon&gt;M "
  end -- if
  if wsys.def.heldbreath then
    invdefstring = invdefstring .. "&lt;light_grey&gt;br"
  end --if
  return invdefstring
end

wsys.prompttags["npchp"] = function()
  if gmcp.IRE.Target then         
    if gmcp.IRE.Target.Set == "" or gmcp.IRE.Target.Info.id == "-1" then
      return ""
    elseif gmcp.IRE.Target then
      return tonumber(string.findPattern(gmcp.IRE.Target.Info.hpperc, "%d+"))
    end
  else
    return ""
  end
end

wsys.prompttags.mylimbs = function()
	local str = ""
	
	local limbs = {
	"left leg",
	"right leg",
	"left arm",
	"right arm",
	"torso",
	"head",
}
	local colors = { 
		{ c = "&lt;dark_slate_gray&gt;", val = 0 },
		{ c = "&lt;grey&gt;", val = 1 },
		{ c = "&lt;brown&gt;", val = 4 },
		{ c = "&lt;orange&gt;", val = 7 },
		{ c = "&lt;red&gt;", val = 10 },
		}

	local first = true
	for _,limb in pairs(limbs) do
		if not first then
			str = str.."&lt;dark_slate_gray&gt;|"
		end
		local d = tonumber(wsys.tb.selflimbdamage[limb].damage)
		local color = colors[0] 
		d = math.floor(d+0.5)
		for _,t in ipairs( colors ) do
			if d &gt;= t.val then
				color = t.c
			else
				break
			end
		end

		str = str.. color..d
		first = false
	end
	return str
end

--table of default prompt tag colors
wsys.prompttagcolors = wsys.prompttagcolors or {} 
  
wsys.prompttagcolors["hcolour"] = function()
  if wsys.stats.h &gt;= (wsys.stats.maxh * 0.75) then
    return "sea_green"
  elseif wsys.stats.h &gt;= (wsys.stats.maxh * 0.33) then
    return "gold"
  else
    return "red"
  end --if
end

wsys.prompttagcolors["mcolour"] = function()
  if wsys.stats.m &gt;= (wsys.stats.maxm * .75) then
    return "sea_green"
  elseif wsys.stats.m &gt;= (wsys.stats.maxm * .50) then
    return "gold"
  else
    return "red"
  end -- if
end

wsys.prompttagcolors["wcolour"] = function()
  if wsys.stats.w &gt;= (wsys.stats.maxw * .66) then
    return "sea_green"
  elseif wsys.stats.w &gt;= (wsys.stats.maxw * .50) then
    return "gold"
  else
    return "red"
  end -- if
end

wsys.prompttagcolors["ecolour"] = function()
  if wsys.stats.e &gt;= (wsys.stats.maxe * .66) then
    return "sea_green"
  elseif wsys.stats.e &gt;= (wsys.stats.maxe * .50) then
    return "gold"
  else
    return "red"
  end -- if
end

wsys.prompttagcolors["kaicolour"] = function()
  if wsys.stats.kai &lt; 10 then
    --can't even choke
    return "red"
  elseif wsys.stats.kai &lt; 21 then
    --can't heal
    return "firebrick"
  elseif wsys.stats.kai &lt; 41 then
    --can't cripple
    return "dark_orange"
  elseif wsys.stats.kai &lt; 61 then
    --can't enfeeble
    return "yellow"
  elseif wsys.stats.kai &gt;= 61 then
    --can do anything
    return "green"
  end
end
                  
wsys.prompttagcolors["shincolour"] = function()
  if wsys.stats.shin &lt; 4 then
    --can't even infuse
    return "red"
  elseif wsys.stats.shin &lt; 14 then
    --can't fist
    return "firebrick"
  elseif wsys.stats.shin &lt; 29 then
    --can't blizzard
    return "dark_orange"
  elseif wsys.stats.shin &lt; 39 then
    --can't annihilate
    return "yellow"
  else
    --can do anything
    return "green"
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Curatives Tables</name><packageName /><script>
wsys.tb.opps = {

 ash = "stannum",
 stannum = "ash",
 bayberry = "arsenic",
 arsenic = "bayberry",
 bellwort = "cuprum",
 cuprum = "bellwort",
 bloodroot = "magnesium",
 magnesium = "bloodroot",
 cohosh = "gypsum",
 gypsum = "cohosh",
 elm = "cinnabar",
 realgar = "valerian",
 ginseng = "ferrum",
 ferrum = "ginseng",
 goldenseal = "plumbum",
 plumbum = "goldenseal",
 hawthorn = "calamine",
 calamine = "hawthorn",
 kelp = "aurum",
 aurum = "kelp",
 kola = "quartz",
 quartz = "kola",
 lobelia = "argentum",
 argentum = "lobelia",
 skullcap = "malachite",
 malachite = "skullcap",
 valerian = "realgar",
 cinnabar = "valerian",
 sileris = "quicksilver",
 quicksilver = "sileris",
 irid = "potash",
 potash = "irid",
 pear = "calcite",
 calcite = "pear",
 caloric = "exothermic",
 exothermic = "caloric",
 health = "vitality",
 vitality = "health",
 antigen = "immunity",
 immunity = "antigen",
 hovering = "levitation",
 levitation = "hovering",
 mana = "mentality",
 mentality = "mana",
 haste = "speed",
 speed = "haste",
 endothermia = "frost",
 frost = "endothermia",
 epidermal = "sensory",
 sensory = "epidermal",
 mass = "density",
 density = "mass",
 mending = "renewal",
 renewal = "mending",
 restoration = "reconstructive",
 reconstructive = "restoration",
 venom = "toxin",
 toxin = "venom",
 ginger = "antimony",
 antimony = "ginger",

}


-- Cure types
wsys.tb.curetype = {

 bloodroot = "herb",
 magnesium = "herb",
 lobelia = "herb",
 argentum = "herb",
 kelp = "herb",
 aurum = "herb",
 ginseng = "herb",
 ferrum = "herb",
 bellwort = "herb",
 cuprum = "herb",
 ash = "herb",
 stannum = "herb",
 goldenseal = "herb",
 plumbum = "herb",
 focus = "focus",
 elm = "pipe",
 cinnabar = "pipe",
 valerian = "pipe",
 realgar = "pipe",
 mendinglegs = "salve",
 renewallegs = "salve",
 mendingarms = "salve",
 renewalarms = "salve",
 mendingskin = "salve",
 renewalskin = "salve",
 epidermalbody = "salve",
 sensorybody = "salve",
 mendingbody = "salve",
 renewalbody = "salve",
 mendinghead = "salve",
 epidermalhead = "salve",
 sensoryhead = "salve",
 caloric = "salve",
 exothermic = "salve",
 restorationarms = "salve",
 reconstructivearms = "salve",
 restorationlegs = "salve",
 reconstructivelegs = "salve",
 restorationhead = "salve",
 reconstructivehead = "salve",
 restorationtorso = "salve",
 reconstructivetorso = "salve",
 tree = "tree",
 restore = "restore",
 dheal = "dheal",
 flex = "flex",
 writhe = "writhe",
 fool = "fool",
 concentrate = "concentrate",
 compose = "compose",
 clot = "clot",
 immunity = "elixir",
 antigen = "elixir",
 fitness = "fitness",
 rage = "rage",
 antimony = "herb",
 ginger = "herb",
}

</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Defences</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Parrying</name><packageName /><script>wsys.toparry = wsys.toparry or false

local parryTable = {
  ["ll"] = "left leg",
  ["rl"] = "right leg",
  ["la"] = "left arm",
  ["ra"] = "right arm",
  ["h"] = "head",
  ["t"] = "torso",
  ["n"] = "nothing",
}

function wsys.parrying(limb)
  wsys.def["parry"] = limb
  wsys.toparry = false
end  --func

function wsys.parrynothing()
  wsys.def["parry"] = false
  wsys.toparry = false
end

function wsys.parryf(l)
  local limb = parryTable[l]
  if not wsys.toparry and wsys.def.parry ~= limb and (wsys.settings.haveparry or wsys.isDragon()) then
    wsys.toparry = limb
    if wsys.toparry then
      wsys.parryFunction()
      if wsys.timer.parryftimer then
        killTimer(tostring(wsys.timer.parryftimer))
        wsys.timer.parryftimer = tempTimer(5, [[wsys.timer.parryftimer = nil;wsys.toparry = false]])
      end
    end
  end
end --func


function wsys.parryFunction()
  if wsys.isDragon() then
    wsys.dofreeadd("clawparry " .. wsys.toparry)
  elseif wsys.isClass("monk") then
    wsys.dofreeadd("guard " .. wsys.toparry)
  else
    wsys.dofreeadd("parry " .. wsys.toparry)
  end -- if
end --func


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>def display</name><packageName /><script>local menuClass = "dragon"

-- define which classes have what skills
local classSkills = {
  ["airelementallord"] = {"duress"},
  ["alchemist"] = {"alchemy", "physiology"},
  ["apostate"] = {"evileye", "necromancy", "apostasy"},
  ["bard"] = {"swashbuckling", "voicecraft", "harmonics"},
  ["blademaster"] = {"twoarts", "striking", "shindo"},
  ["druid"] = {"druid", "metamorphosis", "groves"},
  ["infernal"] = {"chivalry", "necromancy", "weaponmastery"},
  ["earthelementallord"] = {"sculpting"},
  ["fireelementallord"] = {"ignition"},
  ["jester"] = {"pranks", "puppetry", "tarot"},
  ["magi"] = {"magi", "elementalism", "crystalism"},
  ["monk"] = {"tekura", "kaido", "telepathy"},
  ["occultist"] = {"occultism", "domination", "tarot"},
  ["paladin"] = {"chivalry", "devotion", "weaponmastery"},
  ["priest"] = {"spirituality", "devotion", "healing"},
  ["psion"] = {"weaving", "psionics", "emulation"},
  ["runewarden"] = {"chivalry", "runelore", "weaponmastery"},
  ["sentinel"] = {"woodlore", "metamorphosis"},
  ["serpent"] = {"subterfuge", "hypnosis"},
  ["shaman"] = {"curses", "vodun", "runelore"},
  ["sylvan"] = {"sylvan", "groves", "elementalism"},
  ["waterelementallord"] = {"pervasion"},
  ["dragon"] = {"dragoncraft"},
  ["free"] = {"curative", "survival", "vision", "enchantment", "tattoos"},
  ["animalspirit"] = {"spiritform"},
  ["artefact"] = {"artefact"}, 
}

function wsys.defupDisplay(style, profile, class)
  if wsys.settings[style][profile][menuClass] == nil then
    wsys.settings[style][profile][menuClass] = {}
  end
  local tableName = tostring(def)
  local sortDefs = {}
  local manaUse = {
    "kaitrance", "shintrance", "projectiles", "dodging", "mindnet",
    "reflexes", "groundwatch", "vigilance", "treewatch", "telesense",
    "softfocusing", "skywatch", "hypersight", "alertness", "weaving",
  }
  local translations ={
    kaitrance = "Kai Trance",
    splitmind = "Split Mind"  ,
    shintrance = "Shin Trance",
    prismaticbarrier = "Prismatic Barrier",
    electricResistance = "ElecResistance",
  }
  -- sort defs
  for k,_ in pairs(wsys.tb.defenceTable) do
    sortDefs[#sortDefs+1] = k
  end
  table.sort(sortDefs)

  local x = 0
  for i, n in ipairs(sortDefs) do
    if wsys.classDefCheck(n, class) then
      x = x + 1
      local d = "&lt;dark_slate_gray&gt;[&lt;white&gt;"
      if wsys.settings[style][profile][menuClass][n] then
        if table.contains(manaUse, n) then
          d = d .. "&lt;red&gt;M" -- uses mana
        else
          d = d .. "X"
        end
      else 
        d = d .. " "
      end
      
      d = d .. "&lt;dark_slate_gray&gt;] &lt;white&gt;"     

      if (x-1)%3 == 0 then
        echo("\n")
      end 
      cecho(d)
      local nWithSpace = wsys.tb.defenceTable[n].name:title()
      if translations[n] then
        nWithSpace = translations[n]
      end
      if nWithSpace:len() &lt; 25 and (x-1)%3~=2 then
        local pad = 25 - nWithSpace:len()
        nWithSpace = nWithSpace .. string.rep(" ", pad)
      elseif nWithSpace:len() &gt; 25 then
        nWithSpace = nWithSpace:cut(25)
      end
      
      fg("white") 
      local command

      if configuration == nil then
        configuration = "initial"
      end

      local aliasthingy = "wconfig "..style.." "..profile.." "..menuClass.." "..n
      local command = [[expandAlias("]]..aliasthingy..[[")]]
      echoLink(nWithSpace, command, 
        "Toggle defup of " .. n, true)
      
      
      
    end
  end
  echo("\n")
end

function wsys.classDefCheck(def, class)
  local ans = false
  for k,v in pairs(classSkills[class]) do
    ans = ans or table.contains(wsys.tb.defenceTable[def]["skillset"], v)
  end
  return ans
end

function wsys.showDefMenu(style, profile ,class)
  if class then
    menuClass = string.lower(class)
  else
    menuClass = wsys.myClass()
  end
  wsys.report(string.title(style) .. " Configuration " .. profile .. " ("..menuClass..")")
  wsys.report("Class Free Defs:")
  wsys.defupDisplay(style, profile ,"free")
  wsys.report(string.title(menuClass).." Defs:")
  wsys.defupDisplay(style, profile, menuClass)
  if wsys.myClass() == "sentinel" or wsys.myClass() == "druid" then
    wsys.report("Metamorphosis animal spirits:")
    wsys.defupDisplay(style, profile ,"animalspirit")
  end
  wsys.report("Artefacts:")
  wsys.defupDisplay(style, profile, "artefact")
end

function wsys.defToggle(style, profile, class, defname)
  if wsys.settings.defup[profile][class] == nil then
    wsys.settings.defup[profile][class] = {}
  end
  if wsys.settings[style][profile][class][defname] ~= nil then
    wsys.settings[style][profile][class][defname] = nil
    wsys.report("Removed " .. defname .. " ("..wsys.tb.defenceTable[defname]["name"] ..") from " ..style.. " in " ..profile.." profile")
    wsys.showDefMenu(style, profile, class)
    -- spiritforms are not counted as defenses. So we cheat a little.
    if wsys.tb.defenceTable[defname]["skillset"][1] ~= "spiritform" then 
      send("curing priority defence " .. defname .. " reset", false)
    end
  else
    wsys.settings[style][profile][class][defname] = true
    wsys.report("Added " .. defname .. " ("..wsys.tb.defenceTable[defname]["name"] ..") to " ..style.. " in " ..profile.." profile")
    wsys.showDefMenu(style, profile, class)
    --add stuff to serverside keepup if this is displaying a keepup list.
    --Unless it's a spiritform
      if style == "keepup" and class == wsys.myClass() then
        wsys.settings.defprio[wsys.profile][wsys.myClass()][defname] = wsys.settings.defprio[wsys.profile][wsys.myClass()][defname] or 25
        -- let's not keep up a spiritform, it would cause too much trouble with the other defenses.
        if wsys.tb.defenceTable[defname]["skillset"][1] ~= "spiritform" then 
          wsys.enableSSDef( defname, wsys.settings.defprio[wsys.profile][wsys.myClass()][defname], true )
        end
      elseif style == "defup" and class == wsys.myClass() then
        if not wsys.settings.defprio[wsys.profile][wsys.myClass()][defname] then
           wsys.settings.defprio[wsys.profile][wsys.myClass()][defname] = 25
        end
      end
  end
end

function wsys.defprioDisplay()
  --init local tables
  local defpriolist = {}
  local defpriolistvals = {}
  local defpriolistsorted = {}

  --make sure defprio table exists
  if wsys.settings.defup[wsys.profile][wsys.myClass()] == nil then
    wsys.settings.defup[wsys.profile][wsys.myClass()] = {}
  end

  --snag all defup defs
  for k,v in pairs(wsys.settings.defup[wsys.profile][wsys.myClass()]) do
    defpriolist[#defpriolist+1] = k
  end
  --snag all keepup defs
  for k,v in pairs(wsys.settings.keepup[wsys.profile][wsys.myClass()]) do
    defpriolist[#defpriolist+1] = k
  end
  --check if there's a defprio table, if not make it
  if wsys.settings.defprio[wsys.profile][wsys.myClass()] == nil then
    wsys.settings.defprio[wsys.profile][wsys.myClass()] = {}
  end
  --assign prio # to all defs (25 if not set)
  for k,v in pairs(defpriolist) do
    if wsys.settings.defprio[wsys.profile][wsys.myClass()][v] then
      defpriolistvals[v] = wsys.settings.defprio[wsys.profile][wsys.myClass()][v]
    else
      defpriolistvals[v] = 25
    end
  end
  --put defs in new list to be sorted
  for index in pairs(defpriolistvals) do
    defpriolistsorted[#defpriolistsorted+1] = index
  end
  --sort defs by #
  table.sort(defpriolistsorted, function(a, b) return defpriolistvals[a] &lt; defpriolistvals[b] end)
  
  --display results
  wsys.report("Defence Priority order:")
  for k,v in ipairs(defpriolistsorted) do
    cecho("\n&lt;white&gt;"..defpriolistvals[v] .. "&lt;dodger_blue&gt;:&lt;white&gt; " .. v)
    local aliasone = "wconfig defprio " .. v .. " " .. defpriolistvals[v] - 1
    local commandone = [[expandAlias("]]..aliasone..[[")]]
    echo(" ")
    echoLink("(-)", commandone, "Move 'up' " .. v, true)
    echo(" ")
    local aliastwo = "wconfig defprio " .. v .. " " .. defpriolistvals[v] + 1
    local commandtwo = [[expandAlias("]]..aliastwo..[[")]]
    echoLink("(+)", commandtwo, "Move 'down' " .. v, true)
  end
end

function wsys.defprioset(def, prio)
  if (tonumber(prio) &gt; 0) and (tonumber(prio) &lt; 26) then
    wsys.settings.defprio[wsys.profile][wsys.myClass()][def] = prio
    if wsys.settings.keepup[wsys.profile][wsys.myClass()][def] then
      wsys.enableSSDef( def, prio, true )
    end
    wsys.report("Set " .. def .. " to " .. prio .. " priority.")
  else
    wsys.report("Cannot set a def lower than 1 or higher than 25 prio.")
  end
  wsys.defprioDisplay()
end
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Defences Functions</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Channel Functions</name><packageName /><script>wsys.channels = {
  ["fire"] = false,
  ["earth"] = false,
  ["air"] = false,
  ["water"] = false,
  ["spirit"] = false,
}

function wsys.lostallchannels()
  wsys.channels.fire = false
  wsys.channels.earth = false
  wsys.channels.air = false
  wsys.channels.water = false
  wsys.channels.spirit = false
end

function wsys.missingChannels()
  local c = 0
  if not wsys.channels.fire then c = c + 1 end
  if not wsys.channels.earth then c = c + 1 end
  if not wsys.channels.air then c = c + 1 end
  if not wsys.channels.water then c = c + 1 end
  if wsys.isClass("priest") and not wsys.channels.spirit then c = c + 1 end

  return c
end

function wsys.defChannels()
  if wsys.settings.havesimultaneity and wsys.missingChannels() &gt; 2 then
    wsys.doadd("simultaneity")
  else
    if not wsys.channels.fire then wsys.doadd("channel fire") end
    if not wsys.channels.earth then wsys.doadd("channel earth") end
    if not wsys.channels.air then wsys.doadd("channel air") end
    if not wsys.channels.water then wsys.doadd("channel water") end
    if wsys.isClass("priest") and not wsys.channels.spirit then wsys.doadd("channel spirit") end
  end

end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Manual Deathsight</name><packageName /><script>--otherwise it tries to look for wsys.myClass() in gmcp and crashes.
function wsys.manualdeathsight()
  if wsys.settings.havedeathsight then
    local dprio = 25
    if wsys.settings.defprio[wsys.profile][wsys.myClass()] ~= nil then dprio = (wsys.settings.defprio[wsys.profile][wsys.myClass()]["deathsight"] or 25) end
    return "curing priority defence deathsight " .. dprio
  else
    if wsys.settings.usetransmutation then
      return "outr azurite;eat azurite"
    else
      return "outr skullcap;eat skullcap"
    end
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Mounting</name><packageName /><script>wsys.mount_flags = wsys.mount_flags or {}

function wsys.autoMount( enable )
  if wsys.settings.automount == nil then wsys.settings.automount = false end
  if enable then
    wsys.setSettings( "automount", "true" )
  else
    wsys.setSettings( "automount", "false" )
  end
  wsys.checkAutoMount()
end

function wsys.mountToggle()
  wsys.autoMount( not wsys.settings.automount )
end

function wsys.mountUp( mount )
  if type(mount) == "string" then
    wsys.setSettings( "mount", string.trim(mount) )
    wsys.autoMount( true )
  else
    wsys.autoMount(mount)
  end
end

function wsys.checkAutoMount()
  local break_early = ( gmcp == nil or gmcp.Char == nil ) or wsys.isDragon()
  if break_early then
    return
  end

  if ( wsys.settings.automount and wsys.def.mounted ) or
     ( not wsys.settings.automount and not wsys.def.mounted ) then
    wsys.mount_flags.trying = false
	
  elseif wsys.cancure() and not wsys.isHindered() and not wsys.mount_flags.trying and wsys.bals.b and wsys.bals.e and not wsys.aff.hamstrung then
    if wsys.settings.automount and not wsys.def.mounted then
      enableTrigger("Mount")
      wsys.osend(wsys.mountCommand().." ".. wsys.settings.mount )
      wsys.mount_flags.trying = true
      if wsys.mount_flags.remountTimer then killTimer(wsys.mount_flags.remountTimer) end
      wsys.mount_flags.remountTimer=tempTimer(1,[[wsys.mount_flags.trying = false; wsys.checkAutoMount()]])
    elseif not wsys.settings.automount and wsys.def.mounted then
      wsys.dismount()
      wsys.mount_flags.trying = true
      if wsys.mount_flags.remountTimer then killTimer(wsys.mount_flags.remountTimer) end
      wsys.mount_flags.remountTimer=tempTimer(1,[[wsys.mount_flags.trying = false; wsys.checkAutoMount()]])
    end
  end
end

if wsys.events.mount_aff_got then killAnonymousEventHandler( wsys.events.mount_aff_got ) end
wsys.events.mount_aff_got = registerAnonymousEventHandler( "got aff", function( event, aff )
	if event == "got aff" and aff == "prone" then
		wsys.def.mounted = false
	end
end)


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>manual defs</name><packageName /><script>--Sylvans use 'cast barkskin', Sentinels just do 'barkskin'.
function wsys.manualbarkskin()
  if wsys.myClass() == "Sylvan" then
    return "cast barkskin"
  elseif wsys.myClass() == "Sentinel" then
    return "barkskin"
  end
end

function wsys.metaform(form)
  if ( wsys.myClass() == "sentinel" or wsys.myClass() == "druid" )  then
    wsys.morphing = true
    return("belch;morph "..form)
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Defence Tables</name><packageName /><script>wsys.def = wsys.def or {}

wsys.tb = wsys.tb or {}
wsys.tb.defenceTable = {
  ["acrobatics"] = {["name"] = "Acrobatics", ["skillset"] = {"pranks", "swashbuckling"},},
  ["affinity"] = {["name"] = "Affinity", ["skillset"] = {"metamorphosis"}, ["manualcommand"] = "embrace spirit",},
  ["alertness"] = {["name"] = "Alertness", ["skillset"] = {"vision"},},
  ["aria"] = {["name"] = "Aria", ["skillset"] = {"voicecraft"},},
  ["arrowcatching"] = {["name"] = "Arrowcatching", ["skillset"] = {"pranks", "swashbuckling"},},
  ["astralform"] = {["name"] = "Astralform", ["skillset"] = {"occultism"},},
  ["astralvision"] = {["name"] = "Astralvision", ["skillset"] = {"occultism"}, ["manualcommand"] = "astralvision",},
  ["astronomy"] = {["name"] = "Astronomy", ["skillset"] = {"alchemy"},},
  ["balancing"] = {["name"] = "Balancing", ["skillset"] = {"pranks", "swashbuckling"},},
  ["barkskin"] = {["name"] = "Barkskin", ["skillset"] = {"sylvan", "woodlore"}, ["manualcommand"] = function() return wsys.manualbarkskin() end,},
  --["basking"] = {["name"] = "Basking", ["skillset"] = {"subterfuge"},},
  ["bedevilaura"] = {["name"] = "Bedevil Aura", ["skillset"] = {"healing"},},
  ["belltattoo"] = {["name"] = "Bell Tattoo", ["skillset"] = {"tattoos"}, ["manualcommand"] = "touch bell",},
  ["blackwind"] = {["name"] = "Blackwind", ["skillset"] = {"necromancy"},},
  ["blademastery"] = {["name"] = "Mastery", ["skillset"] = {"weaponmastery"},},
  ["blindness"] = {["name"] = "Blindness", ["skillset"] = {"curative"},},
  ["bodyblock"] = {["name"] = "Bodyblock", ["skillset"] = {"tekura"},},
  ["boostedregeneration"] = {["name"] = "Boosting", ["skillset"] = {"kaido"},},
  ["chargeshield"] = {["name"] = "Chargeshield", ["skillset"] = {"elementalism"},},
  ["clinging"] = {["name"] = "Clinging", ["skillset"] = {"survival"},},
  ["cloak"] = {["name"] = "Cloak", ["skillset"] = {"tattoos"},},
  ["coldresist"] = {["name"] = "Coldresist", ["skillset"] = {"enchantment"},},
  ["cohesion"] = {["name"] = "Cohesion", ["skillset"] = {"pervasion"},},
  ["consciousness"] = {["name"] = "Consciousness", ["skillset"] = {"kaido", "shindo"},},
  ["constitution"] = {["name"] = "Constitution", ["skillset"] = {"kaido", "striking"},},
  ["curseward"] = {["name"] = "Curseward", ["skillset"] = {"survival"},},
  ["deflect"] = {["name"] = "Deflect", ["skillset"] = {"weaponmastery"}, ["manualcommand"] = "deflect",},
  ["deafness"] = {["name"] = "Deafness", ["skillset"] = {"curative"},},
  ["deathaura"] = {["name"] = "Deathaura", ["skillset"] = {"necromancy"},},
  ["deathsight"] = {["name"] = "Deathsight", ["skillset"] = {"vision", "necromancy"}, ["manualcommand"] = function() return wsys.manualdeathsight() end,},
  ["demonarmour"] = {["name"] = "Demon armour", ["skillset"] = {"apostasy"},},
  --["demonfury"] = {["name"] = "Demon fury", ["skillset"] = {"apostasy"},},
  ["density"] = {["name"] = "Mass/Density", ["skillset"] = {"curative"},},
  ["devilmark"] = {["name"] = "Devilmark", ["skillset"] = {"occultism"},},
  ["diamondskin"] = {["name"] = "Diamondskin", ["skillset"] = {"magi"},},
  ["distortedaura"] = {["name"] = "Distortaura", ["skillset"] = {"occultism"},},
  ["dodging"] = {["name"] = "Dodging", ["skillset"] = {"shindo", "kaido"},},
  ["dragonarmour"] = {["name"] = "Dragonarmour", ["skillset"] = {"dragoncraft"},},
  ["dragonbreath"] = {["name"] = "Dragonbreath", ["skillset"] = {"dragoncraft"},},
  ["drunkensailor"] = {["name"] = "Drunkensailor", ["skillset"] = {"swashbuckling"},},
  ["earthshield"] = {["name"] = "Earthshield", ["skillset"] = {"healing"},},
  ["electricresist"] = {["name"] = "Electric resistance", ["skillset"] = {"enchantment"},},
  ["elusiveness"] = {["name"] = "Elusiveness", ["skillset"] = {"metamorphosis"}, ["manualcommand"] = "elusiveness on",},
  ["enduranceblessing"] = {["name"] = "Endurance", ["skillset"] = {"healing"},},
  --["eavesdropping"] = {["name"] = "Eavesdropping", ["skillset"] = {"subterfuge"},},
  ["evadeblock"] = {["name"] = "Evadeblock", ["skillset"] = {"tekura"},},
  ["evasion"] = {["name"] = "Evasion", ["skillset"] = {"metamorphosis"},},
  --["extispicy"] = {["name"] = "Extispicy", ["skillset"] = {"alchemy"},},
  ["extrusion"] = {["name"] = "Extrusion", ["skillset"] = {"sculpting"},},
  ["fangbarrier"] = {["name"] = "Sileris", ["skillset"] = {"curative"},},
  ["firefly"] = {["name"] = "Firefly", ["skillset"] = {"tattoos"}, ["manualcommand"] = "touch firefly",},
  ["fireresist"] = {["name"] = "fireresist", ["skillset"] = {"enchantment"},},
  ["fireshroud"] = {["name"] = "Fireshroud", ["skillset"] = {"ignition"},}, 
  ["firstaid"] = {["name"] = "Firstaid", ["skillset"] = {"woodlore"},},
  ["flailingstaff"] = {["name"] = "Flailingstaff", ["skillset"] = {"groves"},},
  ["fleetness"] = {["name"] = "Fleetness", ["skillset"] = {"woodlore"}, ["manualcommand"] = "fleetness",},
  --["frenzied"] = {["name"] = "Frenzy", ["skillset"] = {"necromancy"},},
  ["frostshield"] = {["name"] = "Frostshield", ["skillset"] = {"healing"},},
  ["fury"] = {["name"] = "Fury", ["skillset"] = {"chivalry"},},
  ["ghost"] = {["name"] = "Ghost", ["skillset"] = {"subterfuge"},},
  ["golgothagrace"] = {["name"] = "Golgotha", ["skillset"] = {"domination"},},
  ["gripping"] = {["name"] = "Gripping", ["skillset"] = {"chivalry", "twoarts", "puppetry", "vodun", "swashbuckling"},},
  ["groundwatch"] = {["name"] = "Groundwatch", ["skillset"] = {"vision"},},
  ["guidedstrike"] = {["name"] = "Guidedstrike", ["skillset"] = {"emulation"},},
  ["heartsfury"] = {["name"] = "HeartsFury", ["skillset"] = {"swashbuckling"},},
  ["harmony"] = {["name"] = "Harmony", ["skillset"] = {"druid"},},
  ["heldbreath"] = {["name"] = "Hold Breath", ["skillset"] = {"survival"},},
  ["heresy"] = {["name"] = "Heresy", ["skillset"] = {"spirituality"},},
  ["hiding"] = {["name"] = "Hiding", ["skillset"] = {"subterfuge", "woodlore"},},
  ["hypersense"] = {["name"] = "Hypersense", ["skillset"] = {"telepathy"},},
  ["hypersight"] = {["name"] = "Hypersight", ["skillset"] = {"vision"},},
  ["immunity"] = {["name"] = "Immunity", ["skillset"] = {"shindo", "kaido"},},
  ["indomitability"] = {["name"] = "Indomitability", ["skillset"] = {"emulation"},},
  ["insomnia"] = {["name"] = "Insomnia", ["skillset"] = {"survival"},},
  ["inspiration"] = {["name"] = "Inspiration", ["skillset"] = {"devotion"},},
  ["insulation"] = {["name"] = "Caloric", ["skillset"] = {"curative"},},
  ["kaiboost"] = {["name"] = "Kaiboost", ["skillset"] = {"kaido"},},
  ["kaitrance"] = {["name"] = "Kai trance", ["skillset"] = {"kaido"},},
  ["kola"] = {["name"] = "Kola", ["skillset"] = {"curative"},},
  ["lay"] = {["name"] = "Lay", ["skillset"] = {"voicecraft"},},
  ["levitating"] = {["name"] = "Levitating", ["skillset"] = {"curative"},},
  ["lifevision"] = {["name"] = "Lifevision", ["skillset"] = {"necromancy", "artefact"},},
  ["lifegiver"] = {["name"] = "Lifegiver", ["skillset"] = {"relic"},},
  ["lipreading"] = {["name"] = "Lipreading", ["skillset"] = {"subterfuge"},},
  ["magicresist"] = {["name"] = "Magic resistance", ["skillset"] = {"enchantment"},},
  ["mercury"] = {["name"] = "Mercury", ["skillset"] = {"alchemy"},},
  ["metawake"] = {["name"] = "Metawake", ["skillset"] = {"survival"},},
  ["mindcloak"] = {["name"] = "Mindcloak", ["skillset"] = {"telepathy"},},
  ["mindnet"] = {["name"] = "Mindnet", ["skillset"] = {"shindo","telepathy"},},
  ["mindseye"] = {["name"] = "Mindseye", ["skillset"] = {"tattoos"},},
  ["mindtelesense"] = {["name"] = "Mind Telesense", ["skillset"] = {"telepathy"},},
  ["mounted"] = {["name"] = "Mounted", ["skillset"] = {"riding"},},
  ["nightsight"] = {["name"] = "Nightsight", ["skillset"] = {"vision"},},
  --["numbness"] = {["name"] = "Numbness", ["skillset"] = {"kaido"},}, --apostasy Apathy maybe
  ["pacing"] = {["name"] = "Pacing", ["skillset"] = {"subterfuge"},},
  ["panacea"] = {["name"] = "Panacea", ["skillset"] = {"groves"},},
  ["phased"] = {["name"] = "Phase", ["skillset"] = {"subterfuge"}, ["manualcommand"] = "phase",},
  ["pinchblock"] = {["name"] = "Pinchblock", ["skillset"] = {"tekura"},},
  ["poisonresist"] = {["name"] = "Poison resistance", ["skillset"] = {"curative"},},
  --["prismatic"] = {["name"] = "Lyre", ["skillset"] = {"artefact"},},
  ["projectiles"] = {["name"] = "Projectiles", ["skillset"] = {"shindo", "kaido"},},
  ["putrefaction"] = {["name"] = "Putrefaction", ["skillset"] = {"necromancy"},},
  ["psicomprehend"] = {["name"] = "Comprehension", ["skillset"] = {"psionics"},},
  ["psitranscend"] = {["name"] = "Transcendence", ["skillset"] = {"psionics"},},
  ["rebounding"] = {["name"] = "Rebounding", ["skillset"] = {"curative"},},
  ["reflections"] = {["name"] = "Reflections", ["skillset"] = {"elementalism"},},
  --["reflexes"] = {["name"] = "Reflexes", ["skillset"] = {"metamorphosis"},},
  ["regeneration"] = {["name"] = "Regeneration", ["skillset"] = {"kaido"},},
  ["resistance"] = {["name"] = "Resistance", ["skillset"] = {"kaido", "chivalry", "metamorphosis"},},
  ["retaliation"] = {["name"] = "Retaliation", ["skillset"] = {"twoarts"},},
  ["scales"] = {["name"] = "Scales", ["skillset"] = {"subterfuge"},},
 -- ["scholasticism"] = {["name"] = "Myrrh", ["skillset"] = {"curative"}, ["manualcommand"] = wsys.manualmyrrh(),},
  ["secondsight"] = {["name"] = "Secondsight", ["skillset"] = {"subterfuge"},},
  ["secondskin"] = {["name"] = "Secondskin", ["skillset"] = {"weaving"},},
  ["selfishness"] = {["name"] = "Selfishness", ["skillset"] = {"survival"},},
  --["setweapon"] = {["name"] = "Impale", ["skillset"] = {"woodlore"},},
  ["shield"] = {["name"] = "Shield", ["skillset"] = {"tattoos"},},
  ["shinbinding"] = {["name"] = "Shinbinding", ["skillset"] = {"shindo"},},
  ["shinclarity"] = {["name"] = "Clarity", ["skillset"] = {"shindo"},},
  ["shintrance"] = {["name"] = "Shin Trance", ["skillset"] = {"shindo"},},
  ["shroud"] = {["name"] = "Shroud", ["skillset"] = {"occultism", "necromancy", "subterfuge", "artefact"},},
  ["skysight"] = {["name"] = "Skysight", ["skillset"] = {"duress"},},
  ["softfocusing"] = {["name"] = "Softfocus", ["skillset"] = {"vision"},},
  ["songbird"] = {["name"] = "Songbird", ["skillset"] = {"voicecraft"},},
  ["soulcage"] = {["name"] = "Soulcage", ["skillset"] = {"necromancy"},},
  ["slippery"] = {["name"] = "Slipperiness", ["skillset"] = {"pranks"},},
  ["speed"] = {["name"] = "Speed", ["skillset"] = {"curative"},},
  --["spinning"] = {["name"] = "Spinning", ["skillset"] = {"woodlore"},},
  --["spinningstaff"] = {["name"] = "Spinningstaff", ["skillset"] = {"groves"},},
  ["spiritbonded"] = {["name"] = "Spirit Bonding", ["skillset"] = {"metamorphosis"},  ["manualcommand"] = "bond spirit",},
  ["splitmind"] = {["name"] = "Splitmind", ["skillset"] = {"kaido"},},
  ["skywatch"] = {["name"] = "Skywatch", ["skillset"] = {"vision"},},
  ["standingfirm"] = {["name"] = "Sturdiness", ["skillset"] = {"kaido", "shindo", "chivalry"},},
  ["starburst"] = {["name"] = "Starburst", ["skillset"] = {"tattoos"}, ["manualcommand"] = "touch starburst",},
  ["stealth"] = {["name"] = "Stealth", ["skillset"] = {"metamorphosis"},},
  ["stonefist"] = {["name"] = "Stonefist", ["skillset"] = {"elementalism"},},
  ["stoneskin"] = {["name"] = "Stoneskin", ["skillset"] = {"magi"},},
  ["strata"] = {["name"] = "Strata", ["skillset"] = {"sculpting"},},
  ["sulphur"] = {["name"] = "Sulphur", ["skillset"] = {"alchemy"},},
  ["swiftcurse"] = {["name"] = "Swiftcurse", ["skillset"] = {"curses"},},
  ["telesense"] = {["name"] = "Telesense", ["skillset"] = {"vision"},},
  ["temperance"] = {["name"] = "Frost", ["skillset"] = {"curative"},},
  ["tempest"] = {["name"] = "Tempest", ["skillset"] = {"duress"},},
  ["tentacles"] = {["name"] = "Tentacles", ["skillset"] = {"occultism"},},
  ["thermalshield"] = {["name"] = "Thermalshield", ["skillset"] = {"healing"},},
  ["thirdeye"] = {["name"] = "Thirdeye", ["skillset"] = {"vision"},},
  ["tin"] = {["name"] = "Tin", ["skillset"] = {"alchemy"},},
  ["toughness"] = {["name"] = "Toughness", ["skillset"] = {"kaido", "shindo"},},
  ["treewatch"] = {["name"] = "Treewatch", ["skillset"] = {"vision"},},
  ["tremorsense"] = {["name"] = "Tremorsense", ["skillset"] = {"sculpting"},},
  ["truestare"] = {["name"] = "Truestare", ["skillset"] = {"evileye"},},
  ["tune"] = {["name"] = "Tune", ["skillset"] = {"voicecraft"},},
  ["vengeance"] = {["name"] = "Vengeance", ["skillset"] = {"necromancy"},},
  ["vigilance"] = {["name"] = "Vigilance", ["skillset"] = {"vision"},},
  ["vigour"] = {["name"] = "Vigour", ["skillset"] = {"groves"},},
  ["vitality"] = {["name"] = "Vitality", ["skillset"] = {"kaido", "metamorphosis"},},
  --["viridian"] = {["name"] = "Viridian", ["skillset"] = {"sylvan"},},
  ["waterwalking"] = {["name"] = "Waterwalking", ["skillset"] = {"shindo"},},
  ["weathering"] = {["name"] = "Weathering", ["skillset"] = {"chivalry","kaido","shindo",},},
  ["weaving"] = {["name"] = "Weaving", ["skillset"] = {"subterfuge"},},
  ["wildgrowth"] = {["name"] = "Wildgrowth", ["skillset"] = {"groves"},},
  ["willpowerblessing"] = {["name"] = "Willpower", ["skillset"] = {"healing"},},
-- Animal spirits for spiritform
  ["squirrel"] = {["name"] = "Squirrel", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("squirrel") end,},
  ["wildcat"] = {["name"] = "Wildcat", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("wildcat") end,},
  ["wolf"] = {["name"] = "Wolf", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("wolf") end,},
  ["turtle"] = {["name"] = "Turtle", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("turtle") end,},
  ["jackdaw"] = {["name"] = "Jackdaw", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("jackdaw") end,},
  ["cheetah"] = {["name"] = "Cheetah", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("cheetah") end,},
  ["owl"] = {["name"] = "Owl", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("owl") end,},
  ["hyena"] = {["name"] = "Hyena", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("hyena") end,},
  ["condor"] = {["name"] = "Condor", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("condor") end,},
  ["gopher"] = {["name"] = "Gopher", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("gopher") end,},
  ["sloth"] = {["name"] = "Sloth", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("sloth") end,},
  ["bear"] = {["name"] = "Bear", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("bear") end,},
  ["nightingale"] = {["name"] = "Nightingale", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("nightingale") end,},
  ["elephant"] = {["name"] = "Elephant", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("elephant") end,},
  ["wolverine"] = {["name"] = "Wolverine", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("wolverine") end,},
  ["jaguar"] = {["name"] = "Jaguar", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("jaguar") end,},
  ["icewyrm"] = {["name"] = "Icewyrm", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("icewyrm") end,},
  ["eagle"] = {["name"] = "Eagle", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("eagle") end,},
  ["gorilla"] = {["name"] = "Gorilla", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("gorilla") end,},
  ["basilisk"] = {["name"] = "Basilisk", ["skillset"] = {"spiritform"}, ["manualcommand"] = function() return wsys.metaform("basilisk") end,},
}

wsys.tb.defstripTable = {
  ["aura of rebounding defence"] = "rebounding",
  ["mastery of bladecraft"] = "blademastery",
  ["standing firm"] = "standingfirm",
  ["gripping"] = "gripping",
  ["resistance"] = "resistance",
  ["mercury"] = "mercury",
  ["sulphur"] = "sulphur",
  ["astronomy"] = "astronomy",
  ["tin"] = "tin",
  ["shroud"] = "shroud",
  ["demonic armour"] = "demonarmour",
  ["putrefaction"] = "putrefaction",
  ["lifevision"] = "lifevision",
  ["death aura"] = "deathaura",
  ["vengeance"] = "vengeance",
  ["truestare"] = "truestare",
  ["songbird"] = "songbird",
  ["balancing"] = "balancing",
  ["aria"] = "aria",
  ["Lay of distortion"] = "lay",
  ["tune"] = "tune",
  ["arrow catching"] = "arrowcatching",
  ["acrobatics"] = "acrobatics",
  ["Heart's Fury stance"] = "heartsfury",
  ["Drunken Sailor stance"] = "drunkensailor",
  ["mind net"] = "mindnet",
  ["Shin Clarity"] = "shinclarity",
  ["constitution"] = "constitution",
  ["waterwalking"] = "waterwalking",
  ["Shin Binding"] = "shinbinding",
  ["projectiles"] = "projectiles",
  ["consciousness"] = "consciousness",
  ["Shin Trance"] = "shintrance",
  ["dodging"] = "dodging",
  ["weathering"] = "weathering",
  ["toughness"] = "toughness",
  ["slippery"] = "slippery",
  ["diamondskin"] = "diamondskin",
  ["stoneskin"] = "stoneskin",
  ["reflections"] = "reflections",
  ["stonefist"] = "stonefist",
  ["chargeshield"] = "chargeshield",
  ["split mind"] = "split mind",
  ["pinchblock"] = "pinchblock",
  ["regeneration"] = "regeneration",
  ["hypersense"] = "hypersense",
  ["mindcloak"] = "mindcloak",
  ["kai boost"] = "kaiboost",
  ["mind telesense"] = "mindtelesense",
  ["evadeblock"] = "evadeblock",
  ["trance"] = "kaitrance",
  ["bodyblock"] = "bodyblock",
  ["distorted aura"] = "distortedaura",
  ["lifevision"] = "lifevision",
  ["devilmark"] = "devilmark",
  ["inspiration"] = "inspiration",
  ["earth Spiritshield"] = "earthshield",
  ["willpower"] = "willpowerblessing",
  ["bedevilaura"] = "bedevilaura",
  ["endurance"] = "enduranceblessing",
  ["frost Spiritshield"] = "frostshield",
  ["thermal Spiritshield"] = "thermalshield",
  ["firstaid"] = "firstaid",
  ["spirit bonding"] = "spiritbonded",
  ["stealth"] = "stealth",
  ["enhanced reflexes"] = "reflexes",
  ["affinity"] = "affinity",
  ["elusiveness"] = "elusiveness",
  ["ghost"] = "ghost",
  ["secondsight"] = "secondsight",
  ["weaving of the cobra"] = "weaving",
  ["hiding"] = "hiding",
  ["lipreading"] = "lipreading",
  ["scales of the serpent"] = "scales",
  ["pacing"] = "pacing",
  ["swiftcurse"] = "swiftcurse",
  ["barkskin"] = "barkskin",
  ["wild growth"] = "wildgrowth",
  ["harmony"] = "harmony",
  ["vigour"] = "vigour",
  ["metawake"] = "metawake",
  ["levitating"] = "levitating",
  ["deafness"] = "deafness",
  ["alertness"] = "alertness",
  ["groundwatch"] = "groundwatch",
  ["curseward"] = "curseward",
  ["nightsight"] = "nightsight",
  ["third eye"] = "thirdeye",
  ["soft focusing"] = "softfocusing",
  ["insulation"] = "insulation",
  ["selfishness"] = "selfishness",
  ["blindness"] = "blindness",
  ["density"] = "density",
  ["anti-weapon field"] = "rebounding",
  ["kola"] = "kola",
  ["belltattoo"] = "belltattoo",
  ["skywatch"] = "skywatch",
  ["hypersight"] = "hypersight",
  ["telesense"] = "telesense",
  ["vigilance"] = "vigilance",
  ["mindseye"] = "mindseye",
  ["temperance"] = "temperance",
  ["fire resistance"] = "fireresist",
  ["magic resistance"] = "magicresist",
  ["deathsight"] = "deathsight",
  ["electric resistance"] = "electricresist",
  ["treewatch"] = "treewatch",
  ["cloak"] = "cloak",
  ["insomnia"] = "insomnia",
  ["speed"] = "speed",
  ["venom"] = "poisonresist",
  ["clinging"] = "clinging",
  ["shield"] = "shield",
  --["scholasticism"] = " scholasticism",
  ["firefly"] = "firefly",
  ["held breath"] = "heldbreath",
}


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Myrrh Manual</name><packageName /><script>function wsys.manualmyrrh()
  if wsys.settings.usetransmutation then
    return "outr bisemutum;eat bisemutum"
  else
    return "outr myrrh;eat myrrh"
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Defences Functions</name><packageName /><script>--defence gained function
function wsys.deffed(d)
  wsys.def[d] = true
  local onKeepup = false
  if wsys.settings.keepup[wsys.profile][wsys.myClass()] ~= nil and wsys.settings.keepup[wsys.profile][wsys.myClass()][d] then onKeepup = true end
  if wsys.settings.defup[wsys.profile][wsys.myClass()][d] and not onKeepup then
    send("curing priority defence "..d.. " reset")
  end
end

--lost def (not stripped)
function wsys.undef(d)
  wsys.def[d] = nil
end

--can't def up because of an error
function wsys.cannotdef(d)
  local onKeepup = false
  if wsys.settings.keepup[wsys.profile][wsys.myClass()] ~= nil and wsys.settings.keepup[wsys.profile][wsys.myClass()][d] then onKeepup = true end
  if wsys.settings.defup[wsys.profile][wsys.myClass()][d] and not onKeepup then
    send("curing priority defence "..d.. " reset")
  end
end

function wsys.defmissingdep(d)
  if wsys.settings.keepup[wsys.profile][wsys.myClass()] ~= nil and wsys.settings.keepup[wsys.profile][wsys.myClass()][d] then 
    wsys.unkeepup(d, true)
  end
end

--defence lost function
function wsys.defstrip(defe)
  wsys.def[wsys.tb.defstripTable[defe]] = false
end -- func

-- enable serverSide defence
function wsys.enableSSDef( defence, priority, silent )
  priority = priority or 25
  local preempt = priority &lt;= 10 and " preempt" or ""
  send("curing priority defence " ..defence.." ".. priority .. preempt, not silent )
end

function wsys.switchDefPrios( def, pos )
  if wsys.settings.keepup[wsys.profile][wsys.myClass()] then
		-- TODO: Check shifts so we don't do it multiple times
  	send("curing priority defence " .. def .. " " .. tostring(pos), true)
  end
end

function wsys.defPrioRestore( def )
	if wsys.settings.keepup[wsys.profile][wsys.myClass()][def] and wsys.settings.defprio[wsys.profile][wsys.myClass()][def] then
		-- TODO: Track shifts so we don't reset multiple times
		send("curing priority defence " .. def .. " " .. tostring(wsys.settings.defprio[wsys.profile][wsys.myClass()][def]), true)
	else
		send("curing priority defence "..def.. " reset")
	end
end

local function get_manual_command( command )
  if type(command) == "function" then
    return command()
  else
    if not type(command) == "string" then cecho("\n&lt;red&gt;Manual commands should be strings or functions: "..command ) end
    return command
  end
end

--defup a certain profile
function wsys.defup(profile)
  profile = profile or wsys.profile
  if table.contains(wsys.settings.defup, profile) then
     wsys.report("Defup - "..wsys.profile)
    wsys.switchProfile( profile )
  else
    wsys.report("Not a valid profile")
    return
  end

  --Ensure we have class tables
  if wsys.settings.affprio[wsys.profile][wsys.myClass()] == nil then
    wsys.newclasstables(wsys.myClass())
  end

  --Channels for Magi, Sylvans and Priests
  if wsys.isClass("magi") or wsys.isClass("sylvan") or wsys.isClass("priest") then
    if wsys.missingChannels() &gt; 0 then
      wsys.defChannels()
    end
  end
  
  if wsys.isClass("priest") or wsys.isClass("paladin") then
    if wsys.settings.havebliss and not (wsys.def.toughness and wsys.def.constitution and wsys.def.resistance) then
      wsys.doadd("perform bliss me")
    end
  end

  -- we need a spiritform thingie too
  for ck,cv in pairs(wsys.settings.defup[wsys.profile][wsys.myClass()]) do 
    if wsys.tb.defenceTable[ck] and wsys.tb.defenceTable[ck]["skillset"][1] == "spiritform" and wsys.tb.defenceTable[ck]["manualcommand"] then
      wsys.doadd( get_manual_command( wsys.tb.defenceTable[ck]["manualcommand"] ))
      -- quit the loop, we're done here
      break
    end
  end
    
  for k,v in pairs(wsys.settings.defup[wsys.profile][wsys.myClass()]) do
    local highestprio = 25
    local highestdef = ""
    local alldefs = {}
    local manualdefs = {}
    --add all defups that aren't deffed and aren't in keepup to the serverside keepup
    if not wsys.def[k] and not wsys.tb.defenceTable[k]["manualcommand"] then
      if wsys.settings.defprio[wsys.profile][wsys.myClass()][k] then
        if wsys.settings.defprio[wsys.profile][wsys.myClass()][k] &lt;= highestprio then
          highestprio = wsys.settings.defprio[wsys.profile][wsys.myClass()][k]
          alldefs[#alldefs+1] = highestdef
          highestdef = "curing priority defence "..k.." ".. wsys.settings.defprio[wsys.profile][wsys.myClass()][k]
        else
          alldefs[#alldefs+1] = "curing priority defence "..k.." ".. wsys.settings.defprio[wsys.profile][wsys.myClass()][k]
        end
      else
        alldefs[#alldefs+1] = "curing priority defence "..k.." 25"
        wsys.settings.defprio[wsys.profile][wsys.myClass()][k] = 25
      end
    elseif not wsys.def[k] and wsys.tb.defenceTable[k]["manualcommand"] then
      manualdefs[#manualdefs+1] = get_manual_command( wsys.tb.defenceTable[k]["manualcommand"] )
    end --if
    send(highestdef, false)
    for k,v in pairs(alldefs) do
      send(v, false)
    end
    for k,v in pairs(manualdefs) do
      send(v, false)
    end
  end --for
  

  --60 second failsafe to remove all defs from serverside keepup, assume they are already deffed.
  if wsys.timer.defup then killTimer(wsys.timer.defup) end
  wsys.timer.defup = tempTimer(60, [[wsys.defupFailsafe();wsys.timer.defup = nil]])
end --fn

--assume anything that hasn't been deffed up yet is deffed
function wsys.defupFailsafe()
  for k,v in pairs(wsys.settings.defup[wsys.profile][wsys.myClass()]) do
    --add all defups that aren't deffed and aren't in keepup to the serverside keepup
    local onKeepup = false
    if wsys.settings.keepup[wsys.profile][wsys.myClass()] ~= nil and wsys.settings.keepup[wsys.profile][wsys.myClass()][d] then onKeepup = true end
    if onKeepup then
      send("curing priority defence "..k.." reset")
      wsys.def[k] = true
    end --if
  end --for
end

local deflines = false

function wsys.defCheckStart()
  deflines = true
  enableTrigger("Def")
  send("def")
  if wsys.timer.defswait then
    killTimer(tostring(wsys.timer.defswait))
  end
  wsys.timer.defswait = tempTimer(wsys.myPing()*2.5, [[wsys.timer.defswait = nil;disableTrigger("Def");deflines = false]])
  if wsys.isClass("sylvan") or wsys.isClass("runewarden") or wsys.isClass("priest") then

  end
end

function wsys.defCheckEnd()
  disableTrigger("Def")
  deflines = false
end

function wsys.defLine(d, msg)
  if deflines then
    wsys.def[d] = true
    deleteLine()
    if msg then
      wsys.def_sub(msg, "newl")
    else
      wsys.def_sub(d, "newl")
    end
  end
end

--add def to keepup
function wsys.keepup(def, gagecho)
  wsys.settings.keepup[wsys.profile][wsys.myClass()][def] = true
  wsys.settings.defprio[wsys.profile][wsys.myClass()][def] = wsys.settings.defprio[wsys.profile][wsys.myClass()][def] or 25
  wsys.enableSSDef( def, wsys.settings.defprio[wsys.profile][wsys.myClass()][def], true )
  if not gagecho then
    wsys.report("Added " .. def .. " to defence keepup in the " ..wsys.profile.. " profile.")
  end
end

--remove def from keepup
function wsys.unkeepup(def, gagecho)
  wsys.settings.keepup[wsys.profile][wsys.myClass()][def] = false
  send("curing priority defence " .. def .. " reset")
  if not gagecho then
    wsys.report("Removed " .. def .. " from defence keepup in the " ..wsys.profile.. " profile.")
  end
end

--toggle def keepup
function wsys.togglekeepup(def, gagecho)
  if wsys.settings.keepup[wsys.profile][wsys.myClass()][def] then
    wsys.unkeepup(def, gagecho)
  else
    wsys.keepup(def, gagecho)
  end
end


--reset all prompt defences
function wsys.promptdefs()
 if not wsys.aff.blackout then
  wsys.def.blindness = false
  wsys.def.cloak = false
  wsys.def.deafness = false
  wsys.def.kola = false
  wsys.def.blackwind = false
  wsys.def.phased = false
  wsys.def.astralform = false
end -- if
end -- func



-- DEFENSES SUB
function wsys.def_sub(defense, newl)
 if newl then
  cinsertText("\n&lt;DarkGoldenrod&gt;(&lt;ivory&gt;" .. defense .. " +&lt;DarkGoldenrod&gt;)")
 else
  cinsertText(" &lt;DarkGoldenrod&gt;(&lt;ivory&gt;" .. defense .. " +&lt;DarkGoldenrod&gt;)")
 end -- if
end -- func

-- DEF ADD SUB
function wsys.defaddsub(defence)
 selectCurrentLine()
 fg("pink")
 deselect()
 resetFormat()
-- deleteLine()
-- cinsertText("\n[&lt;pink&gt;DEF UP&lt;grey&gt;] &lt;pink&gt;" .. defence:upper() .. " &lt;grey&gt;| " .. line)
end -- func

-- DEF Loss SUB
function wsys.deflosssub(defence)
 selectCurrentLine()
 fg("violet_red")
 deselect()
 resetFormat()
-- deleteLine()
-- cinsertText("\n[&lt;violet_red&gt;DEF LOSS&lt;grey&gt;] &lt;violet_red&gt;" .. defence:upper() .. " &lt;grey&gt;| " .. line)
end -- func
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Lyre Functions</name><packageName /><script>wsys.uselyre = wsys.uselyre or false

function wsys.lyre()
 enableTrigger("Lyre +")
 if wsys.timer.lyrewait then
  killTimer(tostring(wsys.timer.lyrewait))
 end
 wsys.timer.lyrewait = tempTimer(wsys.waittime, [[wsys.timer.lyrewait = nil;wsys.addqueue("lyre")]])
 wsys.salviaSend("strum lyre")
end -- func


function wsys.lyred()
 if wsys.timer.lyrewait then
  disableTrigger("Lyre +")
  if wsys.timer.lyrewait then
   killTimer(tostring(wsys.timer.lyrewait))
  end
  wsys.timer.lyrewait = nil
  wsys.def.lyre = true
 end -- if
end -- func


function wsys.lyrelost()
 wsys.def.lyre = false
 wsys.addqueue("lyre")
end -- func
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Defences Queues</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Lyre Queue</name><packageName /><script>function wsys.lyrequeue()
 if wsys.uselyre and not wsys.paused and wsys.bals.b and wsys.bals.e and not wsys.aff.aeon and not wsys.def.lyre and not wsys.timer.lyrewait and not wsys.aff.paralysed and not wsys.tanglecheck() and not wsys.damagedarms() and not wsys.aff.prone then
  wsys.checkaffs()
  wsys.lyre()
 end -- if
end -- func
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Settings</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Update Settings Table</name><packageName /><script>function wsys.updateSettingsTable()

  if wsys.settings.autotree == nil then
    wsys.settings.autotree = false
    wsys.report("Added the 'autotree' setting at default value &lt;red&gt;false")
  end
  
end

wsys.updateSettingsTable()
wsys.saveSettings()
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Load Settings</name><packageName /><script>local settings_allow_false = {
 elmtwopipe = true,
 valeriantwopipe = true,
 skullcaptwopipe = true,
 promptline2 = true,
}

--change setting
function wsys.setSettings(setting, value)
  if settings_allow_false[setting] then
    if value == "false" then
      wsys.settings[setting] = wsys.stringToBoolean(value)
      wsys.report(setting .. " set to " .. tostring(wsys.stringToBoolean(value)))
    else
      wsys.settings[setting] = value
      wsys.report(setting .. " set to " .. value)
    end
  elseif type(wsys.settings[setting]) == "boolean" then
    wsys.settings[setting] = wsys.stringToBoolean(value)
    wsys.report(setting .. " set to " .. tostring(wsys.stringToBoolean(value)))
  elseif type(wsys.settings[setting]) == "number" then
    wsys.settings[setting] = tonumber(value)
    wsys.report(setting .. " set to " .. tostring(value))
  elseif type(wsys.settings[setting]) == "string" then
    wsys.settings[setting] = value
    wsys.report(setting .. " set to " .. tostring(value))
  elseif setting == "precache" or setting == "focusshift" or setting == "profile" then
  elseif type(wsys.settings[setting]) == "nil" then
    wsys.report(setting .. " is &lt;red&gt;not &lt;white&gt;a valid setting.")
  end
  
  wsys.saveSettings()
end

function wsys.stringToBoolean(s)
  local st = string.lower(s)
  if st == "true" or st == "on" or st == "1" or st == "yes" or st == "yep" or st == "y" then
    return true
  else
    return false
  end
end

function wsys.return_defaultsettings( no_save )
  wsys.settings = 
    {
  elmpipe = "123456",
  skullcappipe = "123456",
  valerianpipe = "123456",
  elmtwopipe = false,
  skullcaptwopipe = false,
  valeriantwopipe = false,
  haverage = false,
  gagclot = true,
  gagcuring = false,
  class = "jobless",
  gagaffshift = true,
  useinsomnia = false,
  affprio = {
    basic = {
    },
  },
  container = "pack",
  affcuredechos = false,
  autoshrugging = false,
  affgainedechos = false,
  manapercent = 10,
  usemoss = false,
  prompt = "@warning#red@paused@softpaused#DodgerBlue@retardation#yellow@phase#hcolour@healthh #mcolour@manam #ecolour@percentendurance%e #wcolour@percentwillpower%w @kai@shin#white@bal@bal#MidnightBlue|#white@eq@eq @invdef#DarkOrchid@mw@affs@diffhealth@diffmana",
  promptline2 = false,
  blackoutprompt = "@warning#red@paused@softpaused#DodgerBlue@retardation&lt;black:grey&gt;BLACKOUT-",
  monktransmuteto = 80,
  aeonsipmana = 40,
  parrystrategy = "manual",
  useclot = true,
  defprio = {
    basic = {
    },
  },
  precache = {
    basic = {
    },
  },
  magirobes = false,
  haveparry = false,
  mount = "mule",
  stopinsomnia = false,
  focusshifts = {
    basic = {
    },
  },
  havebreathing = false,
  siphealth = 80,
  gagdefshift = true,
  
  defup = {
    basic = {
    },
  },
  autoshrugat = 3,
  sipmana = 80,
  mosshealth = 80,
  mossmana = 80,
  usetransmutation = true,
  monktransmute = false,
  havedeathsight = false,
  userage = false,
  gstuff = true,
  aeonsiphealth = 40,
  treebaltime = 15,
  haveinsomnia = false,
  manaPercent = 10,
  aeonblock = true,
  haveclot = false,
  dform = false,
  usefocus = false,
  unsoftpausehealth = 75,
  keepup = {
    basic = {
    },
  },
  havefocus = false,
  stopfocus = false,
  stopclot = false,
  profilenames = {"basic"},
  profileondeath = "basic",
  profileonburst = "basic",
  autotree = false,
  automount = false,
  havevault = true,
	curingsets = false
}
  if not no_save then
    wsys.saveSettings()
  end
end

--save table in external file
function wsys.saveSettings(echo)
  if string.char(getMudletHomeDir():byte()) == "/" then 
    _sep = "/" 
  else 
    _sep = "\\" 
  end -- if
  local serverside_settings = getMudletHomeDir().._sep.."wsys_settings.lua"
  table.save(serverside_settings, wsys.settings)
  if echo then wsys.report("Setting saved") end
end

--in here so the first install doesn't throw errors
-- REPORT
function wsys.report(message)
 cecho("\n&lt;LimeGreen&gt;[&lt;DodgerBlue&gt;WunderSys&lt;LimeGreen&gt;]: &lt;snow&gt;" .. message)
end
--

--load table from external file
function wsys.loadSettings()
  if string.char(getMudletHomeDir():byte()) == "/" then 
    _sep = "/" 
  else 
    _sep = "\\" 
  end -- if
  local serverside_settings = getMudletHomeDir().._sep.."wsys_settings.lua"
  if (io.exists(serverside_settings)) then
   table.load(serverside_settings, wsys.settings)
   wsys.report("Loaded the settings")
  else
   wsys.return_defaultsettings()
   wsys.report("&lt;red&gt;No settings file found, loaded default settings.")
  end -- if
end

if wsys.settings then
  wsys.saveSettings()
end
wsys.return_defaultsettings(true)
wsys.loadSettings()
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Precaching</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>qq</name><packageName /><script>function wsys.qq()
  if wsys.innewsroom then
    send("quit")
  else
    wsys.qqing = true
    send("qq")
  end
end

function wsys.startedqq()
  if not wsys.innewsroom then
    wsys.saveSettings(true)
    send("inrift all")
    wsys.keepout = {}
    --start a 30s failsafe to keep herbs out
    if wsys.timer.qqfailsafe then killTimer(wsys.timer.qqfailsafe) end
    wsys.timer.qqfailsafe = tempTimer(30, [[wsys.timer.qqfailsafe = nil;wsys.setkeepouttable();wsys.outrqueue()]])
  else
    wsys.report("In a news room location, please go somewhere else if you wish to QQ/QUIT.")
  end
end

function wsys.stoppedqq()
   wsys.qqing = false
   wsys.setkeepouttable()
   wsys.outrqueue()
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Precache</name><packageName /><script>local minerals = {"antimony", "argentum", "arsenic", "aurum", "azurite", "bisemutum", "calamine", "calcite", "cinnabar", "cuprum", "dolomite", "ferrum", "gypsum", "magnesium", "malachite", "plumbum", "potash", "quartz", "quicksilver", "realgar", "stannum"}
local herbs = {"ash", "bayberry", "bellwort", "bloodroot", "cohosh", "elm", "ginger", "ginseng", "goldenseal", "hawthorn", "kelp", "kola", "lobelia", "skullcap", "valerian", "sileris", "moss", "pear"}

wsys.keepout = wsys.keepout or {}

function wsys.setkeepouttable()
  wsys.settings.precache = wsys.settings.precache or {}
  wsys.settings.precache[wsys.profile] = wsys.settings.precache[wsys.profile] or {}
  --Clear the entire table
  wsys["keepout"] = {}
  for k,v in pairs(wsys.settings["precache"][wsys.profile]) do
    wsys["keepout"][k] = v
  end
end

function wsys.precacheset(herb, num, profile)
  local p = wsys.profile
  if profile then p = profile end
  if (table.contains(minerals, herb) or table.contains(herbs, herb)) then
    if tonumber(num) &gt; 0 then
      wsys.settings["precache"][p][herb] = tonumber(num)
      wsys.precachedisplay()
      wsys.setkeepouttable()
      wsys.outrqueue()
      wsys.saveSettings()
    elseif tonumber(num) == 0 then
      wsys.settings["precache"][p][herb] = nil
      wsys.precachedisplay()
      wsys.setkeepouttable()
      wsys.outrqueue()
      wsys.saveSettings()
    else
      wsys.report("Cannot set a number lower than 0!")
    end
  else
    --invalid fucking herb right here son
    wsys.report(herb .. " is not a valid herb or mineral!")
  end
end

function wsys.precachedisplay()
  wsys.report("Precached Herbs/Minerals")
  if wsys.settings["precache"][wsys.profile] == nil then
    wsys.settings["precache"][wsys.profile] = {}
  end
  local minerals = {"antimony", "argentum", "arsenic", "aurum", "azurite", "bisemutum", "calamine", "calcite", "cinnabar", "cuprum", "dolomite", "ferrum", "gypsum", "magnesium", "malachite", "plumbum", "potash", "quartz", "quicksilver", "realgar", "stannum"}
  local herbs = {"ash", "bayberry", "bellwort", "bloodroot", "cohosh", "elm", "ginger", "ginseng", "goldenseal", "hawthorn", "kelp", "kola", "lobelia", "skullcap", "valerian", "sileris", "moss", "pear"}
  if wsys.settings.usetransmutation then
    local x = 0
    for k,v in ipairs(minerals) do
      x = x + 1
      local num = 0
      if wsys.settings["precache"][wsys.profile][v] then
        num = wsys.settings["precache"][wsys.profile][v]
      end
      local d = "&lt;dark_slate_gray&gt;[&lt;white&gt;" .. num .. "&lt;dark_slate_gray&gt;] &lt;white&gt;"
      if (x-1)%3 == 0 then
        echo("\n")
      end
      cecho(d)
      local nWithSpace = v
      local length = nWithSpace:len() + math.floor(math.log10(math.max(1,num)))
      if length &lt; 25 and (x-1)%3~=2 then
        local pad = 25 - length
        nWithSpace = string.rep(" ", pad)
      else
        nWithSpace = ""
      end
      cecho("&lt;white&gt;"..v)
      local aliasone = "wconfig precache " .. v .. " " .. num + 1
      local commandone = [[expandAlias("]]..aliasone..[[")]]
      echo(" ")
      echoLink("(+)", commandone, "Add one more " .. v, true)
      echo(" ")
      local aliastwo = "wconfig precache " .. v .. " " .. num - 1
      local commandtwo = [[expandAlias("]]..aliastwo..[[")]]
      echoLink("(-)", commandtwo, "Remove one " .. v, true)
      cecho("&lt;white&gt;"..nWithSpace)
    end
  else
    local x = 0
    for k,v in ipairs(herbs) do
      x = x + 1
      local num = 0
      if wsys.settings["precache"][wsys.profile][v] then
        num = wsys.settings["precache"][wsys.profile][v]
      end
      local d = "&lt;dark_slate_gray&gt;[&lt;white&gt;" .. num .. "&lt;dark_slate_gray&gt;] &lt;white&gt;"
      if (x-1)%3 == 0 then
        echo("\n")
      end
      cecho(d)
      local nWithSpace = v
      local length = nWithSpace:len() + math.floor(math.log10(math.max(1,num)))
      if length &lt; 25 and (x-1)%3~=2 then
        local pad = 25 - length
        nWithSpace = string.rep(" ", pad)
      else
        nWithSpace = ""
      end
      cecho("&lt;white&gt;"..v)
      local aliasone = "wconfig precache " .. v .. " " .. num + 1
      local commandone = [[expandAlias("]]..aliasone..[[")]]
      echo(" ")
      echoLink("(+)", commandone, "Add one more " .. v, true)
      echo(" ")
      local aliastwo = "wconfig precache " .. v .. " " .. num - 1
      local commandtwo = [[expandAlias("]]..aliastwo..[[")]]
      echoLink("(-)", commandtwo, "Remove one " .. v, true)
      cecho("&lt;white&gt;"..nWithSpace)
    end
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>herbsout table and functions</name><packageName /><script>-- herbsout table
wsys.herbsout = {

 ["antimony"] = 0,
 ["argentum"] = 0,
 ["arsenic"] = 0,
 ["aurum"] = 0,
 ["azurite"] = 0,
 ["ash"] = 0,
 ["bayberry"] = 0,
 ["bellwort"] = 0,
 ["bisemutum"] = 0,
 ["bloodroot"] = 0,
 ["calamine"] = 0,
 ["calcite"] = 0,
 ["cinnabar"] = 0,
 ["cohosh"] = 0,
 ["cuprum"] = 0,
 ["dolomite"] = 0,
 ["elm"] = 0,
 ["ferrum"] = 0,
 ["ginger"] = 0,
 ["ginseng"] = 0,
 ["goldenseal"] = 0,
 ["gypsum"] = 0,
 ["hawthorn"] = 0,
 ["kelp"] = 0,
 ["kola"] = 0,
 ["lobelia"] = 0,
 ["magnesium"] = 0,
 ["malachite"] = 0,
 ["skullcap"] = 0,
 ["valerian"] = 0,
 ["sileris"] = 0,
 ["moss"] = 0,
 ["pear"] = 0,
 ["plumbum"] = 0,
 ["potash"] = 0,
 ["quartz"] = 0,
 ["quicksilver"] = 0,
 ["realgar"] = 0,
 ["stannum"] = 0,
 ["ginger"] = 0,
 ["antimony"] = 0,

}

--parsing function for extracting herb names
function wsys.returnHerbName(s)
  for k,v in pairs(wsys.herbsout) do
    local pattern = "%W("..k..")"
    local theMatch = string.match(s, pattern)

  --check if pattern matched something (result is not nil)
    if theMatch then return theMatch end
  end
  return false
end

--get a number from a string
function wsys.extractNumberFromString(s)
  return tonumber(string.match(s, "(%d+)"))
end

--never change these variables
wsys.addedHerbID = 1
wsys.removedHerbID = 2


--outrift herbs missing
function wsys.outrqueue()
 if wsys.cancure() and wsys.outriftcheck() and not wsys.timer.outrqueuewait then
  if wsys.timer.outrqueuewait then killTimer(wsys.timer.outrqueuewait) end
  wsys.timer.outrqueuewait = tempTimer(wsys.myPing() * 1.5, [[wsys.timer.outrqueuewait = nil]])

  for k,v in pairs(wsys.herbsout) do
   if wsys.keepout[k] and v &lt; wsys.keepout[k] then
    wsys.outr(k, wsys.keepout[k] - v)    
   end -- if
  end -- for
 end -- if
end -- func

function wsys.outr(herb, num)
  wsys.salviaSend("outr " .. num .. " " .. herb)
end -- func

--outrifted function as blind and no mindseye failsafe
function wsys.outrifted(herb, num)
  local herbName = wsys.returnHerbName(herb)
  local amount = tonumber(num)

  if herbName then
    wsys.herbsout[herbName] = wsys.herbsout[herbName] + amount
  end
end

--serverside trigger outrift function
function wsys.serversideOutrift(herb)
  local herbName = herb
  if herbName == "irid" then herbName = "moss" end
  wsys.herbsout[herbName] = 0
  wsys.outrqueue()
end

function wsys.inralld()
  wsys.resetherbsoutTable()
  if wsys.timer.inrafailsafe then killTimer(wsys.timer.inrafailsafe) end
  wsys.timer.inrafailsafe = tempTimer(1+wsys.myPing(), [[wsys.timer.inrafailsafe = nil;wsys.outrqueue()]])
end

function wsys.resetherbsoutTable()
  wsys.herbsout = {

 ["antimony"] = 0,
 ["argentum"] = 0,
 ["arsenic"] = 0,
 ["aurum"] = 0,
 ["azurite"] = 0,
 ["ash"] = 0,
 ["bayberry"] = 0,
 ["bellwort"] = 0,
 ["bisemutum"] = 0,
 ["bloodroot"] = 0,
 ["calamine"] = 0,
 ["calcite"] = 0,
 ["cinnabar"] = 0,
 ["cohosh"] = 0,
 ["cuprum"] = 0,
 ["dolomite"] = 0,
 ["elm"] = 0,
 ["ferrum"] = 0,
 ["ginger"] = 0,
 ["ginseng"] = 0,
 ["goldenseal"] = 0,
 ["gypsum"] = 0,
 ["hawthorn"] = 0,
 ["kelp"] = 0,
 ["kola"] = 0,
 ["lobelia"] = 0,
 ["magnesium"] = 0,
 ["malachite"] = 0,
 ["skullcap"] = 0,
 ["valerian"] = 0,
 ["sileris"] = 0,
 ["moss"] = 0,
 ["pear"] = 0,
 ["plumbum"] = 0,
 ["potash"] = 0,
 ["quartz"] = 0,
 ["quicksilver"] = 0,
 ["realgar"] = 0,
 ["stannum"] = 0,
 ["ginger"] = 0,
 ["antimony"] = 0,

}
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>gmcp events</name><packageName /><script>function wsys.addedItem()
  if gmcp.Char.Items.Add.location == "inv" then
    local herbName = wsys.returnHerbName(gmcp.Char.Items.Add.item.name)
    --cecho("&lt;green&gt;Added:")
    --display(gmcp.Char.Items.Add)
    
    --if item is a herb find amount of herbs
    if herbName then
      local herbAmount = wsys.extractNumberFromString(gmcp.Char.Items.Add.item.name) or 1
      --add amount to herbs already outrifted
      wsys.herbsout[herbName] = wsys.herbsout[herbName] + herbAmount

      --save the wsys.addedHerbID for a special gmcp case
      wsys.addedHerbID = tonumber(gmcp.Char.Items.Add.item.id)
      
      if wsys.timer.outrqueuewait then killTimer(wsys.timer.outrqueuewait) end
      wsys.timer.outrqueuewait = tempTimer(wsys.myPing() * 1.5, [[wsys.timer.outrqueuewait = nil;wsys.outrqueue()]])
    end
  end
end --func

registerAnonymousEventHandler("gmcp.Char.Items.Add", "wsys.addedItem")

function wsys.removedItem()
  if gmcp.Char.Items.Remove.location == "inv" then
    local herbName = wsys.returnHerbName(gmcp.Char.Items.Remove.item.name)
    --cecho("&lt;red&gt;Removed:")
    --display(gmcp.Char.Items.Remove)
    
    --if the item is a herb find amount
    if herbName then
      local herbAmount = wsys.extractNumberFromString(gmcp.Char.Items.Remove.item.name) or 1
      --remove amount from herbs already outrifted
      wsys.herbsout[herbName] = wsys.herbsout[herbName] - herbAmount

      --save the wsys.removedHerbID for a special gmcp case
      wsys.removedHerbID = tonumber(gmcp.Char.Items.Remove.item.id)

      --check if you ate from a group of herbs, causing an added and removed event
      if wsys.removedHerbID == wsys.addedHerbID then
        --it is the case, remove the extra added
        wsys.herbsout[herbName] = wsys.herbsout[herbName] - 1

        --change the addedHerbID just in case
        wsys.addedHerbID = 1
      end

      --make sure you didn't subtract too many and end up with negative values in wsys.herbsout
      if wsys.herbsout[herbName] &lt; 0 then
        wsys.herbsout[herbName] = 0
      end
      if not wsys.timer.outrqueuewait then wsys.outrqueue() end
    end
  end
end

registerAnonymousEventHandler("gmcp.Char.Items.Remove", "wsys.removedItem")

function wsys.updateItem()
  if gmcp.Char.Items.Update.location == "inv" then
    --cecho("&lt;green&gt;Updated:")
    --display(gmcp.Char.Items.Update)
  end
end

registerAnonymousEventHandler("gmcp.Char.Items.Update", "wsys.updateItem")
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Prio Switching</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>scytherusAndParalysisGained</name><packageName /><script>function wsys.scytherusAndParalysisGained(event, affliction, class)
  if event == "got aff" then
    if wsys.aff.scytherus and wsys.aff.paralysis then
      wsys.switchPrios( "scytherus", 2 )
    end
  end
end --func

registerAnonymousEventHandler("got aff", "wsys.scytherusAndParalysisGained")
registerAnonymousEventHandler("reset aff prios", "wsys.scytherusAndParalysisGained")

function wsys.scytherusAndParalysisLost(event, affliction)
  if event == "lost aff" then
    if affliction == "scytherus" and (wsys.affPosition("scytherus") ~= wsys.defaultAffPosition("scytherus")) then
      wsys.affPrioRestore( "scytherus" )
    end
  end
end --func

registerAnonymousEventHandler("lost aff", "wsys.scytherusAndParalysisLost")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>asthma weariness slickness</name><packageName /><script>function wsys.asthmaWearinessSlicknessGained(event, affliction, class)
  --[[if event == "got aff" then
      if wsys.aff.slickness and (wsys.aff.asthma and wsys.aff.weariness) then --1 scenario
        wsys.switchPrios( "asthma", 2 )
      end
  end]]
end --func

--registerAnonymousEventHandler("got aff", "wsys.asthmaWearinessSlicknessGained")
--registerAnonymousEventHandler("reset aff prios", "wsys.asthmaWearinessSlicknessGained")

function wsys.asthmaLost(event, affliction)
  --[[if event == "lost aff" then
    if affliction == "asthma" and (wsys.affPosition("asthma") ~= wsys.defaultAffPosition("asthma")) then
      wsys.affPrioRestore( "asthma" )
    end
  end]]
end --func

--registerAnonymousEventHandler("lost aff", "wsys.asthmaLost")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Fracture Handling</name><packageName /><script>function wsys.fracturetree(event, affliction)
  if wsys.fracturecount() &gt; 2 and not wsys.bals.hm and wsys.treeAffs() == 0 and (not wsys.aff.paralysis and wsys.bals.tree) and not wsys.timer.treewait then
    wsys.tree()
  end
end

registerAnonymousEventHandler("got aff", "wsys.fracturetree")
registerAnonymousEventHandler("lost aff", "wsys.fracturetree")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Humour Handling</name><packageName /><script>function wsys.humourGainedHandling(event, affliction, class)
  if event == "got aff" then
    --any of the tempered humours
      if wsys.aff.temperedcholeric and wsys.aff.temperedcholeric &gt;= 4 then
        wsys.switchPrios("temperedcholeric", 2 )
        --prio sensi here at 3 or something
      elseif wsys.aff.temperedsanguine and wsys.aff.temperedsanguine &gt;= 4 then
        wsys.switchPrios("temperedsanguine", 2 )
      elseif wsys.aff.temperedphlegmatic and wsys.aff.temperedphlegmatic &gt;= 4 then
        --wsys.switchPrios("temperedphlegmatic", 2 )
      elseif wsys.aff.temperedmelancholic and wsys.aff.temperedmelancholic &gt;= 4 then
        wsys.switchPrios("temperedmelancholic", 2 )
      end
    end
end --func

registerAnonymousEventHandler("got aff", "wsys.humourGainedHandling")

function wsys.humourLevelLost()
    if wsys.aff.temperedcholeric and wsys.aff.temperedcholeric &lt;= 2 then
        wsys.affPrioRestore("temperedcholeric")
        --prio sensi here at 3 or something
      elseif wsys.aff.temperedsanguine and wsys.aff.temperedsanguine &lt;= 1 then
        wsys.affPrioRestore("temperedsanguine" )
      elseif wsys.aff.temperedphlegmatic and wsys.aff.temperedphlegmatic &lt;= 2  then
        wsys.affPrioRestore("temperedphlegmatic" )
      elseif wsys.aff.temperedmelancholic and wsys.aff.temperedmelancholic &lt;= 2 then
        wsys.affPrioRestore("temperedmelancholic" )
      end
end --func

function wsys.humourcured(event, affliction)
  if event == "lost aff" then
    if affliction == "temperedcholeric" or (wsys.affPosition("temperedcholeric") ~= wsys.defaultAffPosition("temperedcholeric")) then
      wsys.affPrioRestore("temperedcholeric")
    elseif affliction == "temperedsanguine" or (wsys.affPosition("temperedsanguine") ~= wsys.defaultAffPosition("temperedsanguine")) then
      wsys.affPrioRestore("temperedsanguine")
    elseif affliction == "temperedphlegmatic" or (wsys.affPosition("temperedphlegmatic") ~= wsys.defaultAffPosition("temperedphlegmatic")) then
      wsys.affPrioRestore("temperedphlegmatic")
    elseif affliction == "temperedmelancholic" or (wsys.affPosition("temperedmelancholic") ~= wsys.defaultAffPosition("temperedmelancholic")) then
      wsys.affPrioRestore("temperedmelancholic")
    end
  end
end

registerAnonymousEventHandler("lost aff", "wsys.humourcured")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>corruption handling</name><packageName /><script>function wsys.corruptionhandling(event, affliction)
  if event == "got aff" then
    if affliction == "corruption" and wsys.classTimerExists("alchemist") then
      wsys.settings.stopclot = true
      send("curing clotat " .. tostring(wsys.stats.maxh + 5000), false)
    end
  elseif event == "lost aff" then
    if affliction == "corruption" and wsys.stats.m &gt;= (wsys.manathreshold() + 100) and wsys.settings.useclot and wsys.settings.haveclot and wsys.settings.stopclot then
      wsys.settings.stopclot = false
      send("curing clotat 30", false)
    end
  end
end

registerAnonymousEventHandler("got aff", "wsys.corruptionhandling")
registerAnonymousEventHandler("lost aff", "wsys.corruptionhandling")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>asthma prioritise</name><packageName /><script>function wsys.asthmaHandling(event, affliction, class)
  if event == "got aff" then
    if wsys.aff.asthma and wsys.aff.slickness --[[ and not wsys.aff.impatience ]] and ( wsys.aff.weariness or wsys.aff.paralysis ) then
      wsys.switchPrios("asthma", 2 )
    elseif wsys.aff.impatience and wsys.aff.asthma and wsys.classTimerExists("alchemist") then
      wsys.switchPrios("asthma", 1 )
    end
  end
end --func

registerAnonymousEventHandler("got aff", "wsys.asthmaHandling")
registerAnonymousEventHandler("reset aff prios", "wsys.asthmaHandling")


function wsys.asthmaHandlingLost(event, affliction)
  if event == "lost aff" then
    if not (wsys.aff.asthma and wsys.aff.slickness and not wsys.aff.impatience and ( wsys.aff.weariness or wsys.aff.paralysis )) and not wsys.classTimerExists("alchemist") then
      wsys.affPrioRestore( "asthma" )
    elseif not (wsys.aff.impatience and wsys.aff.asthma) and wsys.classTimerExists("alchemist") and (wsys.affPosition("temperedcholeric") ~= 2) then
      wsys.affPrioRestore( "asthma" )
    end
  end
end --func

registerAnonymousEventHandler("lost aff", "wsys.asthmaHandlingLost")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>prio sensi when prone</name><packageName /><script>function wsys.proneSensiRevert(event, affliction)
  if event == "lost aff" then
    if affliction == "prone" then
      wsys.affPrioRestore( "sensitivity" )
    end
  end
end

registerAnonymousEventHandler("lost aff", "wsys.proneSensiRevert")


function wsys.proneSensi(event, affliction, class)
  if event == "got aff" then
    if affliction == "prone" then
      if wsys.damagedlegs() then wsys.switchPrios("sensitivity", 1) end
    elseif affliction == "damagedleftleg" then
      if wsys.aff.prone then wsys.switchPrios("sensitivity", 1) end
    elseif affliction == "damagedrightleg" then
      if wsys.aff.prone then wsys.switchPrios("sensitivity", 1) end
    end --if
  end --if
end --func

registerAnonymousEventHandler("got aff", "wsys.proneSensi")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>prone resto breaks</name><packageName /><script>function wsys.proneGained(event, affliction, class)
  if event == "got aff" then
    if (wsys.aff.damagedleftleg or wsys.aff.mangledleftleg or wsys.aff.damagedrightleg or wsys.aff.mangledrightleg or wsys.aff.bleg) and wsys.aff.prone and not wsys.vmode and not wsys.heartseedmode and not wsys.dwbmode and not wsys.bardmode then
      wsys.switchPrios( "damagedleftleg", 6 )
      wsys.switchPrios( "damagedrightleg", 6 )
      wsys.switchPrios( "mangledleftleg", 6 )
      wsys.switchPrios( "mangledrightleg", 6 )
    end
  end
end --func

registerAnonymousEventHandler("got aff", "wsys.proneGained")
registerAnonymousEventHandler("reset aff prios", "wsys.proneGained")


function wsys.proneLost(event, affliction)
  if event == "lost aff" then
    if affliction == "prone" and not wsys.vmode and not wsys.heartseedmode and not wsys.dwbmode and not wsys.bardmode then
      wsys.affPrioRestore( "damagedleftleg" )
      wsys.affPrioRestore( "damagedrightleg" )
      wsys.affPrioRestore( "mangledleftleg" )
      wsys.affPrioRestore( "mangledrightleg" )
    end
  end
end --func

registerAnonymousEventHandler("lost aff", "wsys.proneLost")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>impatience prioritise</name><packageName /><script>function wsys.impatiencePrio(event, affliction, class)
  if event == "got aff" then
    if wsys.aff.paralysis and wsys.aff.asthma and not wsys.classTimerExists("alchemist") then
      wsys.switchPrios("impatience", 1 )
		else -- Sentinel petrify kill requires unblind + 4 mentals
			local focus_count = wsys.affamount("focus")
			if wsys.aff.impatience and focus_count &gt;= 2 then
				wsys.switchPrios("impatience", 2 )
			end
    end
  end
end --func

registerAnonymousEventHandler("got aff", "wsys.impatiencePrio")
registerAnonymousEventHandler("reset aff prios", "wsys.impatiencePrio")

function wsys.impatienceLost(event, affliction)
  if event == "lost aff" then
		local focus_count = wsys.affamount("focus")
    if (wsys.affPosition("impatience") ~= wsys.defaultAffPosition("impatience")) and not (wsys.aff.paralysis and wsys.aff.asthma and focus_count &lt; 2) then
      wsys.affPrioRestore( "impatience" )
    end
  end
end --func

registerAnonymousEventHandler("lost aff", "wsys.impatienceLost")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Darkshade Handling</name><packageName /><script>function wsys.darkshadeGained(event, affliction, class)
  if event == "got aff" then
    if affliction == "darkshade" then
      if wsys.lightwall then
        --wsys.switchPrios( "darkshade", 5, true )
        wsys.darkshadeTimer(true)
      else
        wsys.darkshadeTimer(false)
      end
    end
  end
end --func

if wsys.events.got_darskade then killAnonymousEventHandler( wsys.events.got_darskade ) end

wsys.events.got_darskade = registerAnonymousEventHandler("got aff", "wsys.darkshadeGained")

function wsys.darkshadeLost(event, affliction)
  if event == "lost aff" then
    if affliction == "darkshade" then
      wsys.affPrioRestore( "darkshade" )
      if wsys.timer.darkshade then killTimer(tostring(wsys.timer.darkshade)) end
      wsys.timer.darkshade = nil
    end
  end
end --func

if wsys.events.lost_darskade then killAnonymousEventHandler( wsys.events.lost_darskade ) end
wsys.events.lost_darskade = registerAnonymousEventHandler("lost aff", "wsys.darkshadeLost")


function wsys.darkshadeTimer(lightwall)
  if wsys.lightwall then
    if not wsys.timer.darkshade then
      wsys.timer.darkshade = tempTimer(8, [[wsys.timer.darkshade = nil;wsys.switchPrios( "darkshade", 2 )]])
    end
  else
    if not wsys.timer.darkshade then
      wsys.timer.darkshade = tempTimer(15, [[wsys.timer.darkshade = nil;wsys.switchPrios( "darkshade", 2 )]])
    end
  end
end



</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Sentinel Blind Handling</name><packageName /><script>local butterfly_blind_shifted = false

function wsys.butterflyDescended()
	-- If prone, set blindness priority to 2 until not prone or blind cured
	if wsys.aff.prone and not wsys.def.blindness then
		-- Set blindness priority 2
		butterfly_blind_shifted = true
		wsys.switchDefPrios( "blindness", 2 )
	end
end


function wsys.blindShiftCheck(event, affliction, class)
  if butterfly_blind_shifted and
     ( event == "got aff" and affliction == "blindness" ) or
	   ( event == "lost aff" and affliction == "prone" ) then
		-- Reset blindness priority
		butterfly_blind_shifted = false
		wsys.defPrioRestore( "blindness" )
  end
end --func

if wsys.events.blind_check_got_aff then killAnonymousEventHandler( wsys.events.blind_check_got_aff ) end
if wsys.events.blind_check_lost_aff then killAnonymousEventHandler( wsys.events.blind_check_lost_aff ) end

wsys.events.blind_check_got_aff = registerAnonymousEventHandler("got aff", "wsys.blindShiftCheck")
wsys.events.blind_check_lost_aff = registerAnonymousEventHandler("lost aff", "wsys.blindShiftCheck")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Artificing Handling</name><packageName /><script>function wsys.magisalvehandling(event, affliction)
  if event == "got aff" and wsys.classTimerExists("magi") and not wsys.raid then
    if affliction == "dehydrated" or (affliction == "burning" and wsys.aff.dehydrated) then
      --move up burning real high #1 or so
      wsys.switchPrios( "burning", 1 )
    elseif affliction == "hypothermia" then
      --hypothermia, cant cure freeze stuff.
      wsys.switchPrios( "shivering", 20 )
      wsys.switchPrios( "frozen", 20 )
    end
    if wsys.aff.frozen or wsys.aff.shivering and not wsys.aff.dehydrated and (wsys.affPosition("frozen") ~= 2) then
      --move up frozen and shivering and caloric def
      wsys.switchPrios( "shivering", 2 )
      wsys.switchPrios( "frozen", 2 )
      wsys.osend("curing priority defence insulation 2")
    end
  elseif event == "lost aff" and wsys.classTimerExists("magi") and not wsys.raid then
    if affliction == "hypothermia" then
      if wsys.aff.frozen or wsys.aff.shivering and (wsys.affPosition("frozen") ~= 2) then
        wsys.switchPrios( "shivering", 2 )
        wsys.switchPrios( "frozen", 2 )
        wsys.osend("curing priority defence insulation 2")
      else
        if wsys.affPosition("frozen") ~= wsys.defaultAffPosition("frozen") then
          wsys.affPrioRestore( "frozen" )
        end
        if wsys.affPosition("shivering") ~= wsys.defaultAffPosition("shivering") then
          wsys.affPrioRestore( "shivering" )
          send("curing priority defence insulation " .. wsys.settings["defprio"][wsys.profile][wsys.myClass()]["caloric"])
        end
      end
    elseif affliction == "dehydrated" then
      if wsys.affPosition("burning") ~= wsys.defaultAffPosition("burning") then
        cecho("\n&lt;yellow&gt;Resetting burning from dehydrate loss\n") 
        wsys.affPrioRestore( "burning" )
      end
    end
  end
  --timeflux strats, think on this for later.
end

registerAnonymousEventHandler("got aff", "wsys.magisalvehandling")
registerAnonymousEventHandler("lost aff", "wsys.magisalvehandling")



function wsys.stoppedfightingmagi(event, class)
  if event == "class timer ended" and class == "magi" then
    if wsys.affPosition("frozen") ~= wsys.defaultAffPosition("frozen") then
      wsys.affPrioRestore( "frozen" )
    end
    if wsys.affPosition("shivering") ~= wsys.defaultAffPosition("shivering") then
      wsys.affPrioRestore( "shivering" )
      wsys.enableSSDef( "insulation", wsys.settings.defprio[wsys.profile][wsys.myClass()].insulation or 25 ) --Medi
    end
    if wsys.affPosition("burning") ~= wsys.defaultAffPosition("burning") then
      cecho("\n&lt;yellow&gt;Resetting burning from class timer\n") 
      wsys.affPrioRestore( "burning" )
    end
  end
end
registerAnonymousEventHandler("class timer ended", "wsys.stoppedfightingmagi")


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>bloodroot slickness</name><packageName /><script>function wsys.slicknessKelpStackedGained(event, affliction, class)
  if event == "got aff" then
      if (wsys.aff.sensitivity or wsys.aff.clumsiness or wsys.aff.weariness or wsys.aff.hypochondria) and wsys.aff.asthma and (wsys.aff.slickness and not wsys.aff.demonstain) and not wsys.aff.anorexia then 
		 --1 scenario
        --wsys.switchPrios( "slickness", 1 )
      end
    end
end --func

registerAnonymousEventHandler("got aff", "wsys.slicknessKelpStackedGained")
registerAnonymousEventHandler("reset aff prios", "wsys.slicknessKelpStackedGained")

function wsys.slicknessLost(event, affliction)
  if event == "lost aff" then
    if (wsys.affPosition("slickness") ~= wsys.defaultAffPosition("slickness")) and not wsys.aff.asthma and not (wsys.aff.sensitivity or wsys.aff.clumsiness or wsys.aff.weariness or wsys.aff.hypochondria) then
      wsys.affPrioRestore( "slickness" )
    end
  end
end --func

registerAnonymousEventHandler("lost aff", "wsys.slicknessLost")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Kelp vs Ginseng Handling</name><packageName /><script>function wsys.kelpVsGinseng()
  local ginsengs = wsys.affamount("ginseng")
  local kelps = wsys.affamount("kelp")
  if wsys.classTimerExists("shaman") and not wsys.classTimerExists("serpent") then
    if ginsengs &gt; kelps then
      --move haemophilia to same spot as paralysis if ginseng stacked
      --wsys.switchPrios( "haemophilia", wsys.affPosition("paralysis") )
    elseif kelps &gt; ginsengs then
      --move haemophilia down if not
      wsys.affPrioRestore( "haemophilia" )
    end
  elseif wsys.classTimerExists("serpent") and not wsys.classTimerExists("shaman") then

  elseif wsys.classTimerExists("apostate") then

  end
end

registerAnonymousEventHandler("got aff", "wsys.kelpVsGinseng")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>confusionAndDisrupt</name><packageName /><script>function wsys.confusionAndDisruptGained(event, affliction, class)
  if event == "got aff" then
    if wsys.aff.confusion and wsys.aff.disrupted and (not wsys.bals.focus or wsys.aff.impatience) and not wsys.aff.whisperingmadness then --2 scenario
      wsys.switchPrios( "confusion", 2 )
    end
  end
end --func

registerAnonymousEventHandler("got aff", "wsys.scytherusAndParalysisLost")
registerAnonymousEventHandler("reset aff prios", "wsys.scytherusAndParalysisLost")

function wsys.confusionAndDisruptLost(event, affliction)
  if event == "lost aff" then
    if affliction == "confusion" and (wsys.affPosition("confusion") ~= wsys.defaultAffPosition("confusion"))  then
      wsys.affPrioRestore( "confusion" )
    end
  end
end --func

registerAnonymousEventHandler("lost aff", "wsys.confusionAndDisruptLost")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>spirit disrupt</name><packageName /><script>function wsys.spiritdisruptGained(event, affliction, class)
  if event == "got aff" then
    if affliction == "spiritdisrupt" then
      --send("curing focus off")
    end
  end
end --func

registerAnonymousEventHandler("got aff", "wsys.spiritdisruptGained")

function wsys.spiritdisruptLost(event, affliction)
  if event == "lost aff" then
    if affliction == "spiritdisrupt" then
      --send("curing focus on")
    end
  end
end --func

registerAnonymousEventHandler("lost aff", "wsys.spiritdisruptLost")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Haemo handling</name><packageName /><script>function wsys.haemoBleedGain(event, affliction, class)
  if event == "got aff" then
    if affliction == "bleeding" and wsys.classTimerExists("shaman") then
      local bleedthreshold = (wsys.stats.h - 1500) / 6 * 0.66
      if wsys.bleedtype == "health" and wsys.bleeding &gt; bleedthreshold then
        wsys.switchPrios( "haemophilia", 1 )
      end
    end
  end
end --func

registerAnonymousEventHandler("got aff", "wsys.haemoBleedGain")
registerAnonymousEventHandler("reset aff prios", "wsys.haemoBleedGain")


function wsys.haemoLost(event, affliction)
  if event == "lost aff" then
    if affliction == "haemophilia" and (wsys.affPosition("haemophilia") ~= wsys.defaultAffPosition("haemophilia")) then
      wsys.affPrioRestore( "haemophilia" )
    end
  end
end --func

registerAnonymousEventHandler("lost aff", "wsys.haemoLost")

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Hypochondria handling</name><packageName /><script>function wsys.hypochondriaFull(event, affliction, class)
  if event == "got aff" then
    if (wsys.aff.lethargy or wsys.aff.nausea or wsys.aff.addiction or wsys.aff.darkshade) and wsys.aff.hypochondria then
      wsys.switchPrios( "hypochondria", 1 )
      wsys.switchPrios( "impatience", 4)
    end
  end
end --func

registerAnonymousEventHandler("got aff", "wsys.hypochondriaFull")
registerAnonymousEventHandler("reset aff prios", "wsys.hypochondriaFull")

function wsys.hypochondriaLost(event, affliction)
  if event == "lost aff" then
    if affliction == "hypochondria" then
      wsys.affPrioRestore( "hypochondria" )
      wsys.affPrioRestore( "impatience" )
    end
  end
end --func

registerAnonymousEventHandler("lost aff", "wsys.hypochondriaLost")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>got Aeoned</name><packageName /><script>function wsys.aeonedGained(event, affliction, class)
  if event == "got aff" then
    if affliction == "aeon" and not wsys.retard then
      send("curing batch off", false)
      send("curing siphealth " .. wsys.settings.aeonsiphealth, false)
      send("curing sipmana " .. wsys.settings.aeonsipmana, false)
      send("curing mosshealth 0", false)
      send("curing mossmana 0", false)
      wsys.switchPrios( "asthma", 3 )
      wsys.switchPrios( "weariness", 4 )
      wsys.switchPrios( "anorexia", 5 )
      wsys.switchPrios( "impatience", 7 )
      wsys.switchPrios( "paralysis", 8 )
      wsys.waittime = 1 + wsys.myPing()*3
    end
  end
end --func

registerAnonymousEventHandler("got aff", "wsys.aeonedGained")

function wsys.aeonedLost(event, affliction)
  if event == "lost aff" then
    if affliction == "aeon" then
      send("curing batch on", false)
      send("curing siphealth " .. wsys.settings.siphealth, false)
      send("curing sipmana " .. wsys.settings.sipmana, false)
      if wsys.settings.usemoss then send("curing mosshealth " .. wsys.settings.mosshealth - 10, false) end
      if wsys.settings.usemoss then send("curing mossmana " .. wsys.settings.mossmana - 10, false) end
      wsys.affPrioRestore( "asthma" )
      wsys.affPrioRestore( "weariness" )
      wsys.affPrioRestore( "anorexia" )
      wsys.affPrioRestore( "impatience" )
      wsys.affPrioRestore( "paralysis" )
      if wsys.retard then wsys.retardationOff() end
      wsys.waittime = wsys.myPing()*2
    end
  end
end --func

registerAnonymousEventHandler("lost aff", "wsys.aeonedLost")

function wsys.unaeonDiagnose()
  wsys.promptTrigger("something", function()
    if not wsys.aff.aeon and wsys.waittime &gt; 1 then
      send("curing batch on", false)
      send("curing siphealth " .. wsys.settings.siphealth, false)
      send("curing sipmana " .. wsys.settings.sipmana, false)
      if wsys.settings.usemoss then send("curing mosshealth " .. wsys.settings.mosshealth - 10, false) end
      if wsys.settings.usemoss then send("curing mossmana " .. wsys.settings.mossmana - 10, false) end
      wsys.waittime = wsys.myPing()*2
      if wsys.retard then wsys.retardationOff() end
    end
  end)
end

registerAnonymousEventHandler("reset aff prios", "wsys.unaeonDiagnose")
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Misc Functions</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Prefix Warning Function</name><packageName /><script>-- Set the prefixWarning that gets used in the @warning prompt tag

wsys.prefixWarning = ""

function wsys.setPrefixWarning(message, duration, key)
  wsys.prefixWarning = "&lt;MediumVioletRed&gt;{!" .. message .. "!}"
	wsys.prefixWarningKey = key
  if wsys.timer.prefixWarningTimer then killTimer(wsys.timer.prefixWarningTimer) end
  wsys.timer.prefixWarningTimer = tempTimer(duration, [[wsys.timer.prefixWarningTimer = nil;wsys.prefixWarning = ""]])
end

function wsys.clearPrefixWarning(key)
	if wsys.prefixWarningKey == key then
		if wsys.timer.prefixWarningTimer then killTimer(wsys.timer.prefixWarningTimer) end
			wsys.timer.prefixWarningTimer = nil
			wsys.prefixWarning = ""
	end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>thingies</name><packageName /><script>--displays a message in a handy box
--shamelessly stolen from Svo
function wsys.boxDisplay(msg, color)
    deselect()
    local colTbl = {}
    if color then
       colTbl = string.split(color, ":")
       for k = 1,2 do
          if colTbl[k] == "" then
             colTbl[k] = nil
          end
       end
       if colTbl[2] then
          bg(colTbl[2])
       end
    end
    colTbl[1] = colTbl[1] or "red"
    fg(colTbl[1])
	local leng = ((2*string.len(msg)) + 11)
	local mes = string.upper(msg)
	echo("\n ")
    echo( string.rep("-", leng+2) )
    echo(" \n|     " .. mes .. " | " .. mes .. "     |\n ")
    echo( string.rep("-", leng+2) )
    echo(" \n")
    resetFormat()
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Pause|Unpause</name><packageName /><script>wsys.paused = false
wsys.softpaused = false

function wsys.pause()
  if not wsys.paused then
    wsys.report("Paused")
    wsys.paused = true
    send("curing off")
  end
end

function wsys.unpause()
  if wsys.paused then
    wsys.report("UNpaused")
    wsys.paused = false
    send("curing on")
    --wsys.lyrequeue()

    wsys.canaction()
  end
end

function wsys.togglePause()
  if wsys.paused then
    wsys.unpause()
  elseif not wsys.paused then
    wsys.pause()
  end
end

function wsys.softpause()
  if not wsys.softpaused then
    wsys.report("SoftPaused")
    wsys.softpaused = true
    send("curing off")
  end
end

function wsys.unsoftpause()
  if wsys.softpaused then
    wsys.report("UNSoftPaused")
    wsys.softpaused = false
    send("curing on")
    --wsys.lyrequeue()

    wsys.canaction()
  end
end

function wsys.toggleSoftPause()
  if wsys.softpaused then
    wsys.unsoftpause()
  elseif not wsys.softpaused then
    wsys.softpause()
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Incoming Dragoncurse</name><packageName /><script>function wsys.incomingDragoncurse()
  if wsys.timer.incomingdcurse then killTimer(wsys.timer.incomingdcurse) end
  wsys.timer.incomingdcurse = tempTimer(1-wsys.myPing()*2, [[wsys.timer.incomingdcurse = nil]])
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>my limb hit</name><packageName /><script>-- self limb damage table
wsys = wsys or {}
wsys.tb = wsys.tb or {}
wsys.tb.selflimbdamage = wsys.tb.selflimbdamage or {
	["head"] = {damage = 0,},
	["torso"] = {damage = 0,},
	["left arm"] = {damage = 0,},
	["right arm"] = {damage = 0,},
	["left leg"] = {damage = 0,},
	["right leg"] = {damage = 0,},
}

local off_limbs = {
	head = "torso",
	torso = "head",
	["left arm"] = "right arm",
	["right arm"] = "left arm",
	["left leg"] = "right leg",
	["right leg"] = "left leg",
}

local timers = timers or {}

wsys.lastlimbhit = wsys.lastlimbhit or "left leg"

-- BM: Main slash 1.5, off slash 1, compassslash 1.5, drawslash = ? These are rough guesses.
-- Psion: breaks in 4
-- Dragon: breaks in 4
	
local attacks = {
  ["snb rend"] = 1.75,
  ["legslash"] = 1.5,
  ["armslash"] = 1.5,
  ["centreslash"] = 1.5,
  ["compassslash"] = 1.5,
  ["drawslash"] = 1.3
  }
	
local off_attacks = {
  ["legslash"] = 1,
  ["armslash"] = 1,
  ["centreslash"] = 1,
}

function wsys.my_limb_hit(limb, attack)
  selectString(limb, 1)
  setItalics(true) fg("white") bg("blue")
  resetFormat() deselect()
  tempLineTrigger( 1, 1, [[wsys.my_limb_hit_next_line("]]..limb..[[","]]..attack..[[")]])
end

function wsys.my_limb_hit_next_line(limb, attack)
  if line:match("You parry the attack with a deft manoeuvre.")
    or line:match( "The attack rebounds back onto %w+!" )
    or line:match( "The attack rebounds onto %w+!" )
    or line:match( "%w+ misses you with " )
    or line:match( "You dodge nimbly out of the way." )
    or line:match( "One of your reflections has been destroyed" )
    or line:match( "You twist your body out of harm's way." )
    or line:match( "You quickly jump back, avoiding the attack." )
    or line:match( "The attack rebounds off your rebounding aura!" )
    or line:match( "You frantically attempt to parry the attack of %w+, but succeed only in redirecting it." )
    or line:match( "You move inside %w+'s guard, deflecting %w+ attack to one side with your forearm before countering with a swift blow to %w+ temple.")
    or line:match( "%w+'s blow lands upon you but is robbed of much of its impact by %w+ flawed technique." ) then -- psion only
  else
    wsys.my_limb_hit_add( limb, attack )
  end
end

function wsys.my_limb_hit_add(limb, attack)
  wsys.lastlimbhit = limb
	
  if off_attacks[attack] then
    wsys.addSelfDamage(off_limbs[limb], off_attacks[attack])
  end
	
  wsys.addSelfDamage(limb, attacks[attack] or 1 )
  selectString(limb, 1)
  setItalics(true) fg("white") bg("blue")
  resetFormat() deselect()
  raiseEvent("myLimbHit", limb, attack)
end

function wsys.resetSelfDamage(limb)
  wsys.clearSelfDamage(limb)
  cecho("&lt;seashell&gt;Self "..limb.." timed out!")
end

function wsys.addSelfDamage(limb, n)
  wsys.tb.selflimbdamage[limb].damage = wsys.tb.selflimbdamage[limb].damage + n
  timers[limb] = timers[limb] or {}
  if timers[limb].timer then killTimer( timers[limb].timer ) end
  timers[limb].timer = tempTimer( 180, [[wsys.resetSelfDamage("]]..limb..[[")]] )
end

function wsys.clearSelfDamage(limb)
  wsys.tb.selflimbdamage[limb].damage = 0
  if timers[limb] and timers[limb].timer then killTimer( timers[limb].timer ) end
  timers[limb] = nil
end

function wsys.clearSelfDamageAll()
  for limb,_t in pairs( wsys.tb.selflimbdamage ) do
    wsys.clearSelfDamage( limb )
  end
end

function wsys.brokenLimbListener(event, affliction)
  -- GMCP triggers before the limb hit line, so don't rely on gmcp to call the got aff event here
  if event == "got aff" or event == "lost aff" then
    if affliction == "damagedleftarm" or affliction == "mangledleftarm" then
      wsys.clearSelfDamage("left arm")
    elseif affliction == "damagedrightarm" or affliction == "mangledrightarm" then
      wsys.clearSelfDamage("right arm")
    elseif affliction == "damagedleftleg" or affliction == "mangledleftleg" then
      wsys.clearSelfDamage("left leg")
    elseif affliction == "damagedrightleg" or affliction == "mangledrightleg" then
      wsys.clearSelfDamage("right leg")
    elseif affliction == "damagedhead" or affliction == "mangledhead" then
      wsys.clearSelfDamage("head")
    elseif affliction == "mildtrauma" or affliction == "serioustrauma" then
      wsys.clearSelfDamage("torso")
    end
  end
end

if wsys.events.limbhit_lost_aff then killAnonymousEventHandler( wsys.events.limbhit_lost_aff ) end

wsys.events.limbhit_lost_aff = registerAnonymousEventHandler("lost aff", "wsys.brokenLimbListener")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Alertness Exits</name><packageName /><script>function wsys.GMCPRefreshRoomExits()
  if wsys.def.alertness then
    -- if we dont have alertness, theres no need to track this..
    exits = {}
    for i,v in pairs(gmcp.Room.Info.exits) do
      if i == 'e' then
        exits[getRoomName(v)] = 'east'
      elseif i == 'se' then
        exits[getRoomName(v)] = 'southeast'
      elseif i == 's' then
        exits[getRoomName(v)] = 'south'
      elseif i == 'sw' then
        exits[getRoomName(v)] = 'southwest'
      elseif i == 'w' then
        exits[getRoomName(v)] = 'west'
      elseif i == 'nw' then
        exits[getRoomName(v)] = 'northwest'
      elseif i == 'n' then
        exits[getRoomName(v)] = 'north'
      elseif i == 'ne' then
        exits[getRoomName(v)] = 'northeast'
      elseif i == 'd' then
        exits[getRoomName(v)] = 'down'
      elseif i == 'u' then
        exits[getRoomName(v)] = 'up'
      elseif i == 'in' then
        exits[getRoomName(v)] = 'in'
      elseif i == 'out' then
        exits[getRoomName(v)] = 'out'
      end
    end
  end
end

registerAnonymousEventHandler("gmcp.Room.Info", "wsys.GMCPRefreshRoomExits")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Items in Room</name><packageName /><script>-- roomitems table
wsys.roomitems = wsys.roomitems or {}

--new Items list on moving rooms
function wsys.updateroomitems()
  wsys.roomitems = {}
  for k,v in pairs(gmcp.Char.Items.List.items) do
    wsys.roomitems[v.id] = v.name
  end -- for
  raiseEvent("roomitems changed")
end

registerAnonymousEventHandler("gmcp.Char.Items.List", "wsys.updateroomitems")

--item added to room
function wsys.addroomitem()
  --check if item was added to room
  if gmcp.Char.Items.Add.location == "room" then
    --check if item is already in roomitems table
    if not table.contains(wsys.roomitems, gmcp.Char.Items.Add.item.id) then
      wsys.roomitems[gmcp.Char.Items.Add.item.id] = gmcp.Char.Items.Add.item.name
      raiseEvent("roomitems changed")
    end
  end
end

--manually add item to room
function wsys.manualAddItem(id, name)
  if not table.contains(wsys.roomitems, id) then
    wsys.roomitems[id] = name
    raiseEvent("roomitems changed")
  end
end

registerAnonymousEventHandler("gmcp.Char.Items.Add", "wsys.addroomitem")

--item removed from room
function wsys.removeroomitem()
  if gmcp.Char.Items.Remove.location == "room" then
    if table.contains(wsys.roomitems, gmcp.Char.Items.Remove.item.id) then
      wsys.roomitems[gmcp.Char.Items.Remove.item.id] = nil
      raiseEvent("roomitems changed")
    end
  end
end

--manually remove person leaving room from people_here
function wsys.manualRemoveItem(id)
  if table.contains(wsys.roomitems, id) then
    wsys.roomitems[id] = nil
    raiseEvent("roomitems changed")
  end
end

registerAnonymousEventHandler("gmcp.Char.Items.Remove", "wsys.removeroomitem")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>shit to do on snapping</name><packageName /><script>local gotSnapped = false


function wsys.realSnap()
	gotSnapped = true
	if wsys.timer.gotSnappedTimer then killTimer(wsys.timer.gotSnappedTimer) end
	wsys.timer.gotSnappedTimer = tempTimer(15, [[wsys.timer.gotSnappedTimer = nil;gotSnapped = false]])
	wsys.mwOnSnap()
end

function wsys.is_GotSnapped()
	return gotSnapped
end


function wsys.mwOnSnap()
	wsys.dofreeadd("metawake on")
	if wsys.timer.mwOnSnapTimer then killTimer(wsys.timer.mwOnSnapTimer) end
	wsys.timer.mwOnSnapTimer = tempTimer(7, [[ wsys.sleepLockCheck() ]])
end

function wsys.sleepLockCheck()
   wsys.timer.mwOnSnapTimer = nil
	if not wsys.aff.hypersomnia and wsys.def.insomnia then
		send("metawake off")
	end
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Lightwall Detection</name><packageName /><script>wsys.lightwall = false

function wsys.lightwallCheck()
  for k,v in pairs(wsys.roomitems) do
    if v == "a lightwall" then
      wsys.lightwall = true
      return
    end
  end

  --if no lightwall found in gmcp then set it false
  wsys.lightwall = false
end

registerAnonymousEventHandler("roomitems changed", "wsys.lightwallCheck")


</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Auto Unsoftpause scenarios</name><packageName /><script>function wsys.unsoftpauseScenarios(event, affliction, class)
  if event == "got aff" and wsys.softpaused then
    if affliction == "paralysis" and not propping then
      wsys.unsoftpause()
    elseif affliction == "prone" then
      wsys.unsoftpause()
    elseif affliction == "webbed" and not propping then
      wsys.unsoftpause()
    elseif affliction == "transfixation" and not propping then
      wsys.unsoftpause()
    elseif affliction == "impaled" then
      wsys.unsoftpause()
    elseif affliction == "anorexia" and not propping then
      wsys.unsoftpause()
    elseif affliction == "sleeping" and not propping then
      wsys.unsoftpause()
    elseif affliction == "asthma" and not propping then
      wsys.unsoftpause()
    elseif affliction == "daeggerimpale" then
      wsys.unsoftpause()
    elseif affliction == "speared" then
      wsys.unsoftpause()
    elseif affliction == "entangled" then
      wsys.unsoftpause()
    elseif affliction == "bound" then
      wsys.unsoftpause()
    end
  end --if
end

registerAnonymousEventHandler("got aff", "wsys.unsoftpauseScenarios")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Raid</name><packageName /><script>wsys.raid = false

function wsys.isRaid()
  return wsys.raid
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>salvia send display</name><packageName /><script>function wsys.salviaSend(...)
	sendAll(...)
	wsys.addToSalviaSendTable(...)
end

function wsys.ssend(...)
	sendAll(...)
	wsys.addToSalviaSendTable(...)
end

wsys.salviaSendTable = wsys.salviaSendTable or {}

function wsys.clearSalviaSendTable()
	wsys.salviaSendTable = {}
end

function wsys.addToSalviaSendTable(...)
	local args = {...}
	if args[#args] ~= false then
	for i,v in ipairs(args) do
		if type(v) == "string" then
          wsys.salviaSendTable[#wsys.salviaSendTable+1] = v
		end
	end -- for
	end -- if
end

function wsys.salviaSendEcho()
	if next(wsys.salviaSendTable) then
		local salviaSendTableConcat = table.concat(wsys.salviaSendTable, "|", 1, #wsys.salviaSendTable)
		moveCursor(previousPromptLineNumberLength, previousPromptLineNumber)
		--echo("&lt;blue&gt;(&lt;white&gt;" .. salviaSendTableConcat .."&lt;blue&gt;)")
		fg("white")
		insertText("(" .. salviaSendTableConcat ..")")
		deselect()
		resetFormat()
		moveCursorEnd()
		wsys.clearSalviaSendTable()
	end
end

--registerAnonymousEventHandler("sysDataSendRequest", "wsys.salviaSendEcho")




</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Dragonform detection</name><packageName /><script>wsys.race = "unformed mass"

function wsys.dragonformDetection()
  if wsys.parseDragon(gmcp.Char.Status.race):lower() == "dragon" then
    wsys.dragonformed()
    if wsys.race ~= "Dragon" then
      wsys.race = "Dragon"
      wsys.dragonformedDefs()
    end
    wsys.race = "Dragon"
  else
    wsys.race = gmcp.Char.Status.race
    wsys.lesserformed()
  end
end

function wsys.dragonformed()
  --cecho("&lt;green&gt;dformed")
  wsys.settings.dform = true
  wsys.lostallchannels()

  if wsys.settings.affprio[wsys.profile]["dragon"] == nil then
    wsys.newclasstables("dragon")
  end
end

function wsys.lesserformed()
  wsys.settings.dform = false
  wsys.def.dragonarmour = false
  wsys.def.dragonbreath = false

  if wsys.settings.affprio[wsys.profile][wsys.myClass()] == nil then
    wsys.newclasstables(wsys.myClass())
  end
end

function wsys.dragonformedDefs()
  for k,v in pairs(wsys.def) do
    local sk = false
    if not wsys.tb.defenceTable[k] then --cecho("&lt;red&gt;Unknown defense for '"..k.."'\n")
      wsys.def[k] = nil
    else
      if wsys.tb.defenceTable[k]["skillset"] then sk = wsys.tb.defenceTable[k]["skillset"] end
      if not (table.contains(sk, "dragoncraft") or table.contains(sk, "tattoos") or table.contains(sk, "survival") or table.contains(sk, "vision") or table.contains(sk, "curative") or table.contains(sk, "enchantment")) then
        wsys.def[k] = false
      end
    end
  end
end

function wsys.dragonBreath( breath )
  local weapons = { acid = "black", ice = "blue", psi = "gold", venom = "green",	 dragonfire = "red", lightning = "silver" }
  if breath and weapons[breath] then
    wsys.settings.dcolor = weapons[breath]
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Parry Strategies Event Handler</name><packageName /><script>function wsys.parryStrat(event, limb)
   if wsys.settings.parrystrategy == "lasthit" then
    wsys.parryf(limb)
   end
end

registerAnonymousEventHandler("myLimbHit", "wsys.parryStrat")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>meditating</name><packageName /><script>wsys.meditating = false

function wsys.toggleMeditate()
  if wsys.meditating then
    wsys.meditating = false
    wsys.report("&lt;red&gt;Stopped &lt;white&gt;Meditating")
  else
    wsys.meditating = true
    wsys.meditate()
    wsys.report("&lt;green&gt;Started &lt;white&gt;Meditating")
  end
end

function wsys.meditate()
  if wsys.cancure() and not wsys.timer.medwait then
    wsys.dofreeadd("meditate")
    if wsys.timer.medwait then killTimer(wsys.timer.medwait) end
    wsys.timer.medwait = tempTimer(wsys.myPing()*2, [[wsys.timer.medwait = nil]])
  end --if
end --func

function wsys.stopmeditating()
  wsys.meditating = false
  wsys.report("Done meditating")
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Time Elapsed</name><packageName /><script>--check time difference between input and now in milliseconds
--input string format is "hr:min:sec:millisec" with or without preceding zeros
--getTime(true, "HH:mm:ss:zzz" ) is how you get a valid input string
function wsys.timeElapsed(time)
  --change time string into time values
  local timetable = string.split(time, ":")
  local hr = tonumber(timetable[1])
  local min = tonumber(timetable[2])
  local sec = tonumber(timetable[3])
  local msec = tonumber(timetable[4])
  --get current time values
  local hrnow   = tonumber(getTime(true, "H"))
  local minnow  = tonumber(getTime(true, "m"))
  local secnow  = tonumber(getTime(true, "s"))
  local msecnow = tonumber(getTime(true, "z"))
  --calculate time elapsed
  local totalmsec = ((hrnow - hr) % 24) * 60 * 60 * 1000 +
                    ((minnow - min)) * 60 * 1000 +
                    ((secnow - sec)) * 1000 +
                    (msecnow - msec)

  return totalmsec
end

--check time difference between two times in milliseconds
--input string format for the times is "hr:min:sec:millisec" with or without preceding zeros
--t1 is the newer time, t2 is the older one
function wsys.timeDifference(t1, t2)
  --change t1 string into time values
  local timetable1 = string.split(t1, ":")
  local hr1 = tonumber(timetable1[1])
  local min1 = tonumber(timetable1[2])
  local sec1 = tonumber(timetable1[3])
  local msec1 = tonumber(timetable1[4])
  --change t2 string into time values
  local timetable2 = string.split(t2, ":")
  local hr2   = tonumber(timetable2[1])
  local min2  = tonumber(timetable2[2])
  local sec2  = tonumber(timetable2[3])
  local msec2 = tonumber(timetable2[4])
  --calculate time difference
  local totalmsec = ((hr1 - hr2) % 24) * 60 * 60 * 1000 +
                    ((min1 - min2)) * 60 * 1000 +
                    ((sec1 - sec2)) * 1000 +
                    (msec1 - msec2)

  return totalmsec
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Fullstats</name><packageName /><script>wsys.fullstats = wsys.fullstats or false
wsys.fullstatsaction = wsys.fullstatsaction or false

function wsys.set_fullstatsaction(ac)
  wsys.fullstatsaction = ac
end

function wsys.clear_fullstatsaction()
  wsys.fullstatsaction = false
end

function wsys.fullstatsf(ac)
  if ac then
    wsys.set_fullstatsaction(ac)
  end
  wsys.fullstats = true
  send("curing siphealth 99", false)
  send("curing sipmana 99", false)
end

function wsys.fullstatsHandler()
  if wsys.fullstats then
    local healthp = wsys.stats.h/wsys.stats.maxh * 100
    local manap = wsys.stats.m/wsys.stats.maxm * 100
    if healthp &gt;= 99 and manap &gt;= 99 then
      wsys.fullstats = false
      send("curing siphealth " .. wsys.settings.siphealth, false)
      send("curing sipmana " .. wsys.settings.sipmana, false)
      if wsys.fullstatsaction then
        wsys.osend(wsys.fullstatsaction)
        wsys.clear_fullstatsaction()
      end
    end
  end
end

registerAnonymousEventHandler("gmcp.Char.Vitals", "wsys.fullstatsHandler")
registerAnonymousEventHandler("gmcp.Char.Vitals", "wsys.fullstatsHandler")
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Do and Dofree</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>do once</name><packageName /><script>
-- Table of label -&gt; function pairs for do commands that should only
-- be entered into the queue once
wsys.doOnce_list = wsys.doOnce_list or {}

wsys.doOnce_list.fitness = function()
	return "fitness on"
end

wsys.doOnce_list.manualcure = function()
	return "fitness on"
end

wsys.doOnce_list.stand = function()
	return "stand"
end

wsys.doOnce_list.restore = function()
	return "restore"
end

wsys.doOnce_list.dragonheal = function()
	return "dragonheal"
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>do and dofree</name><packageName /><script>wsys.dofreequeue = wsys.dofreequeue or {}
wsys.dofreeSub = wsys.dofreeSub or {}
wsys.doqueue = wsys.doqueue or {}
wsys.doOnce_list = wsys.doOnce_list or {}

wsys.doSub = wsys.doSub or ""
wsys.dorSub = wsys.dorSub or ""

wsys.doqueued = false

local function expand_command( str )
  str = str:gsub( "^ONCE: ", "")
  return str:gsub( "$(%w+)", 
    function( n )
		  local expand_to = wsys.overrides.doqueue.expand[ n ]
      return expand_to and expand_to() or n
		end)
end

local function eval_command( element )
  if element.label and wsys.doOnce_list[element.label] then
    return wsys.doOnce_list[element.label]()
  else
	  return expand_command( element.ac )
  end
end

--use / to seperate multiple commands
--ex. wsys.dofreeadd("g gold/put gold in "..myPack)
function wsys.dofreeadd(ac, silent)
  local dofreequeuesize = #wsys.dofreequeue
  if dofreequeuesize &lt; 7 then
      send("setalias dofree"..tostring(dofreequeuesize+1).." "..ac, not silent)
      send("queue add " .. wsys.selectDofreeQueue() .. " dofree"..tostring(dofreequeuesize+1), not silent)
      wsys.dofreequeue[dofreequeuesize+1] = ac
  else
    cecho("\n&lt;red&gt;DOFREE QUEUE FULL! Couldn't add "..ac)
  end
end

function wsys.dofreefirst(ac, silent)
  local dofreequeuesize = #wsys.dofreequeue
  if dofreequeuesize &lt; 7 then
      send("setalias dofree"..tostring(dofreequeuesize+1).." "..ac, not silent)
      send("queue prepend " .. wsys.selectDofreeQueue() .. " dofree"..tostring(dofreequeuesize+1), not silent)
      wsys.dofreequeue[dofreequeuesize+1] = ac
  else
    cecho("\n&lt;red&gt;DOFREE QUEUE FULL! Couldn't add "..ac)
  end
end

function wsys.selectDofreeQueue()
  if wsys.bals.b and wsys.bals.e then
    return "bal"
  elseif wsys.bals.b and not wsys.bals.e then
    return "eq"
  elseif not wsys.bals.b and wsys.bals.e then
    return "bal"
  elseif not wsys.bals.b and not wsys.bals.e then
    return "bal"
  end
end

function wsys.dofreeremove(n)
  wsys.dofreequeue[tonumber(n)] = nil
end

function wsys.dofreeclear()
  wsys.dofreequeue = {}
end

--queue[i] = { element = "action", priority = [1-N] } --1 is highest priority
local default_queue_priority = 25 --arbitrary low priority. Picked this because curing/defences use 1-25
function wsys.priority_queue_insert( queue, element, priority, lifo )
  local inserted = false
  for index,item in ipairs(queue) do
    if priority &lt; item.priority then
      -- New priority is lower than existing. Insert
      table.insert( queue, index, { element = element, priority = priority } )
      inserted = true
      break
    elseif priority == item.priority then
      --Same priority. If lifo, insert, else go until lower
      if lifo then
        table.insert( queue, index, { element = element, priority = priority } )
        inserted = true
        break
      end
    end
  end
  if not inserted then
    -- Add to the end
    table.insert( queue, { element = element, priority = priority } )
  end
end

function wsys.doadd(ac, priority, silent, on_run )
  wsys.priority_queue_insert( wsys.doqueue, { ac = ac, silent = silent, on_run = on_run }, priority or default_queue_priority )
  
	-- TODO: Need to check for priority?
	if not wsys.doqueue_pending then
		wsys.dosend()
  end
end
 
function wsys.dofirst(ac, priority, silent, on_run )
  wsys.priority_queue_insert( wsys.doqueue, { ac = ac, silent = silent, on_run = on_run }, priority or default_queue_priority, true )
  wsys.dosend()
end

function wsys.doOnce( label, priority, silent )
  local match_found = false
  --Check the current pending command for a match
  if wsys.doqueue_pending and wsys.doqueue_pending.element.label and wsys.doqueue_pending.element.label == label then
    --Match found. See if we need to update
    wsys.doupdate()
    match_found = true
  else
    for i,item in ipairs( wsys.doqueue ) do
      if item.element.label == label then
        match_found = true
        --TODO: Update priority?
        break
      end
    end
  end

  if not match_found then
    wsys.priority_queue_insert( wsys.doqueue, { ac = "ONCE: "..label, silent = silent, label = label }, priority or default_queue_priority, true )
    wsys.dosend()
  end
end

function wsys.doupdate()
	--Check this from aff tracking update?
  if wsys.doqueue_pending then
    local text = eval_command( wsys.doqueue_pending.element )
    if not text or #text == 0 then
      wsys.debug("\ndoupdate() Updating action! Is now empty")
      --Action is empty. Remove it and queue the next thing
      send("clearqueue eqbal", false )
      -- Make sure the next command gets sent
      wsys.dosent()
    elseif wsys.do1_eval ~= text then
      wsys.debug("\ndoupdate() Updating attack!")
      wsys.do1_eval = text
      send("setalias do1 "..wsys.do1_eval, not wsys.doqueue_pending.element.silent )
    end
  end
end

local function get_next_action()
  while #wsys.doqueue &gt; 0 do
    local text = eval_command( wsys.doqueue[1].element )
    if text and #text &gt; 0 then
      return text
    else
      -- action evaluated to nil or empty string. Remove it
      table.remove(wsys.doqueue, 1)
    end
  end
  return false
end

function wsys.dosend()
  wsys.debug( "dosend() - dowait = " .. ( tostring(wsys.timer.dowait) or "nil" ) )
  wsys.debug("\ndosend() - " .. #wsys.doqueue .. " queued.")
  if not wsys.paused then--or	not wsys.timer.dowait then
  local text = get_next_action()
    if text then
		if wsys.doqueued and wsys.doqueue_pending and ( wsys.do1_eval == text or wsys.doqueue_pending.priority &lt; wsys.doqueue[1].priority ) then
			--Next element is same as pending command, or higher priority. Don't re-queue
			wsys.debug("\ndosend() returning early "..wsys.do1_eval)
			return
		end
      wsys.timer.dowait = tempTimer(wsys.myPing()*3, [[wsys.timer.dowait = nil]])
		wsys.do1_eval = text
      send("setalias do1 "..wsys.do1_eval , not wsys.doqueue[1].element.silent )
      --if wsys.doraction then
        send("clearqueue eqbal", not wsys.doqueue[1].element.silent )
      --end
      wsys.doqueued = true
      send("queue add eqbal do1", not wsys.doqueue[1].element.silent )
      local temp = wsys.doqueue[1]
      if wsys.doqueue_pending then
        --We interrupted a pending command. Add back to the list
        wsys.doqueue[1] = wsys.doqueue_pending
      else
        table.remove(wsys.doqueue, 1)
      end
      wsys.doqueue_pending = temp
    elseif wsys.doraction and not wsys.uselyre then
      wsys.timer.dowait = tempTimer(wsys.myPing()*1.5, [[wsys.timer.dowait = nil]])
      send("queue add eqbal dor")
      if wsys.timer.dorfailsafe then killTimer(wsys.timer.dorfailsafe) end
      wsys.timer.dorfailsafe = tempTimer(3.5, [[wsys.timer.dorfailsafe = nil;if wsys.bals.b and wsys.bals.e then wsys.dosend() end]])
    end
  end
end

function wsys.dosent(type)
  if type == "do" then
    raiseEvent("do action ran", wsys.doSub)
		
		if wsys.doqueue_pending and wsys.doqueue_pending.element.on_run then
			wsys.doqueue_pending.element.on_run()
		end
		
  elseif type == "dor" then
    raiseEvent("dor action ran", wsys.dorSub)
  end
	
  wsys.doqueued = false
  wsys.doqueue_pending = nil
  if wsys.timer.dowait then
    killTimer(wsys.timer.dowait)
    wsys.timer.dowait = nil
  end
  if wsys.timer.dorfailsafe then
    killTimer(wsys.timer.dorfailsafe)
    wsys.timer.dorfailsafe = nil
  end
  wsys.dosend()
end

function wsys.dolist()
        --NOTE: Feel free to pretty this up
        local color = "&lt;white&gt;"
        cecho(color.."[Do]: List -\n")
        if wsys.doqueue_pending then
                cecho(color.."0: ("..wsys.doqueue_pending.priority..") "..wsys.doqueue_pending.element.ac.."\n")
        end
        for i,v in pairs( wsys.doqueue ) do
                cecho(color..i..": ("..v.priority..") "..v.element.ac.."\n")
        end
end


-- remove the first element (either lifo or fifo) from the queue with priority [low, high] (inclusive)
function wsys.undo( lifo, low, high, all )
        local index = lifo and 0 or #wsys.doqueue --index to start with
        low = low or 25
 
        local valid_index = function(i) return ( i and i &gt;= 0 and i &lt;= #wsys.doqueue ) and i or false end
        local next_index = function(i) return lifo and valid_index(i+1) or valid_index(i-1) end
        local should_remove = function(t) return t.priority &gt;= low and ( not high or t.priority &lt;= high ) end
        local echo_removed = function(t) cecho("&lt;white&gt;[Do]: Removed ("..t.priority..") '"..t.element.ac.."' from the do queue.\n") end
       
        while valid_index(index) do
                if index == 0 then
                        --Index 0 indicates a command we already queued. Only try to remove it if we don't have bal and eq
                        if wsys.doqueue_pending and not (wsys.bals.b and wsys.bals.e ) and should_remove( wsys.doqueue_pending ) then
                                echo_removed( wsys.doqueue_pending )
                                send("clearqueue eqbal", false)
                                wsys.doqueue_pending = nil
                                if not all then
                                        --Make sure the next command gets queued
                                        wsys.dosent("do")
                                        return true
                                end
                        else
                                index = next_index( index )
                        end
                elseif wsys.doqueue[index] and should_remove( wsys.doqueue[index] ) then
                        echo_removed( wsys.doqueue[index] )
                        table.remove( wsys.doqueue, index )
                        if not all then
                                return true
                        elseif not lifo then
                                index = index - 1
                        end
                else
                        index = next_index( index )
                end
        end
        if #wsys.doqueue == 0 then
                cecho("&lt;white&gt;[Do]: The do queue is empty.\n")
        end
        return false
end

function wsys.undoall( lifo, low, high )
	wsys.undo( lifo, low, high, true )
end

--registerAnonymousEventHandler("lost balance", "wsys.dosent")
--registerAnonymousEventHandler("lost equilibrium", "wsys.dosent")

function wsys.dofailsafes()
  wsys.doqueued = false
  wsys.dofreeclear()
end

registerAnonymousEventHandler("got balance", "wsys.dofailsafes")
registerAnonymousEventHandler("got equilibrium", "wsys.dofailsafes")

--dor
function wsys.doradd(a)
  wsys.doraction = a
  send("setalias dor "..wsys.doraction, false)
  wsys.dosend()
end


function wsys.dorclear()
  wsys.doraction = false
  send("clearqueue eqbal", false)
  wsys.report("&lt;green&gt;Cleared the dorepeat queue.")
end
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Balance and Equilibrium</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Balance functions</name><packageName /><script>function wsys.canaction()
 if wsys.timer.balwait then
  killTimer(tostring(wsys.timer.balwait))
  wsys.timer.balwait = nil
 end
 wsys.balqueue()
end -- func
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>gained and lost equilibrium</name><packageName /><script>function wsys.gainedb( display_diff )
wsys.times.bals.got.b = getTime(true, "HH:mm:ss:zzz" )
raiseEvent("got balance")
--cecho("&lt;green&gt;got balance")
local lost_time = wsys.times.bals.lost.b
wsys.bals.b = true
wsys.gotBalanceValue(gmcp.Char.Vitals.bal)
wsys.lockqueue()
if wsys.bals.e then
 wsys.refillqueue()
 wsys.canaction()
end -- if
wsys.lyrequeue()

if display_diff then
  local balanceTime = wsys.timeDifference(wsys.times.bals.got.b, lost_time) / 1000
  cecho("&lt;grey&gt; " .. balanceTime .. "s")
end
end -- func

function wsys.gainede( display_diff )
 wsys.times.bals.got.e = getTime(true, "HH:mm:ss:zzz" )
 raiseEvent("got equilibrium")
 wsys.bals.e = true
 local lost_time = wsys.times.bals.lost.e
 wsys.gotEquilibriumValue( gmcp.Char.Vitals.eq )
 if wsys.bals.e and wsys.vmode then wsys.unignoreRestoBreaks() end
 if wsys.bals.b then
  wsys.lockqueue()
  wsys.refillqueue()
  wsys.canaction()
 end -- if
 if wsys.aff.disrupted then wsys.aff.disrupted = nil end
 wsys.lyrequeue()

 if display_diff then
   local eqTime = wsys.timeDifference(wsys.times.bals.got.e, lost_time) / 1000
   cecho("&lt;grey&gt; " .. eqTime .. "s")
 end

end -- func


function wsys.lostb()
 --cecho("&lt;red&gt;lost balance")
 wsys.times.bals.lost.b = getTime(true, "HH:mm:ss:zzz" )
 raiseEvent("lost balance")
end -- func

function wsys.loste()
 wsys.times.bals.lost.e = getTime(true, "HH:mm:ss:zzz" )
 raiseEvent("lost equilibrium")
end -- func

function wsys.gotBalanceValue(v)
  if wsys.bals.b and v == "0" then
    wsys.bals.b = false
    wsys.lostb()
  elseif not wsys.bals.b and v == "1" then
    wsys.bals.b = true
  elseif wsys.bals.b and v == "1" then
    wsys.bals.b = true
  elseif not wsys.bals.b and v == "0" then
    wsys.bals.b = false
  end
end

function wsys.gotEquilibriumValue(v)
  if wsys.bals.e and v == "0" then
    wsys.bals.e = false
    wsys.loste()
  elseif not wsys.bals.e and v == "1" then
    wsys.bals.e = true
  elseif v == "1" then
    wsys.bals.e = true
  elseif v == "0" then
    wsys.bals.e = false
  end
end

function wsys.vitalsUpdate()
  if gmcp.Char.Vitals then
    wsys.gotEquilibriumValue(gmcp.Char.Vitals.eq)
    wsys.gotBalanceValue(gmcp.Char.Vitals.bal)
  end
end

registerAnonymousEventHandler("gmcp.Char", "wsys.vitalsUpdate")


</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Curing</name><packageName /><script>
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>HM Functions</name><packageName /><script>wsys.hmprio = "h"

function wsys.hmbal()
  wsys.hmbalsub()
  wsys.gotBal("hm")
end -- if

function wsys.sipped(elix)
  if wsys.sipping == "health" or wsys.sipping == "mana" then
    wsys.lostBal("hm", 6)
    if wsys.cancure() and wsys.settings.usemoss then wsys.mossThreshholdUp() end
  elseif wsys.sipping == "immunity" then
    wsys.cure = wsys.sipping
  end
end

function wsys.mossed()
  wsys.lostBal("moss", 6.5)
end

function wsys.mossbal()
  wsys.gotBal("moss")
end

function wsys.mossThreshholdDown()
  local mh = wsys.settings.mosshealth - 10
  local mm = wsys.settings.mossmana - 10
  if mh &lt; 0 then mh = 0 end
  if mm &lt; 0 then mm = 0 end
  send("curing mosshealth " .. mh, false)
  send("curing mossmana " .. mm,false)
end

function wsys.mossThreshholdUp()
  send("curing mosshealth "..wsys.settings.mosshealth, false)
  send("curing mossmana "..wsys.settings.mossmana, false)
end

function wsys.mossThreshholdDownFailsafe(event, bal)
  if event == "got bal" and bal == "hm"  then
    if wsys.cancure() and wsys.settings.usemoss then wsys.mossThreshholdDown() end
  end
end

registerAnonymousEventHandler("got bal", "wsys.mossThreshholdDownFailsafe")

function wsys.manaprio()
 wsys.hmprio = "m"
 send("curing priority mana")
 wsys.report("Switched to &lt;deep_sky_blue&gt;MANA &lt;red&gt;priority")
end

function wsys.healthprio()
 wsys.hmprio = "h"
 send("curing priority health")
 wsys.report("Switched to &lt;green&gt;HEALTH &lt;red&gt;priority")
end

function onSap()
  if wsys.hmprio == "h" then
    wsys.manaprio()
    if sapManaSipTimer then killTimer(tostring(sapManaSipTimer)) end
    sapManaSipTimer = tempTimer(5, [[sapManaSipTimer = nil;wsys.healthprio()]]) 
  end
end

function hmtoggle()
  if wsys.hmprio == "h" then
    wsys.manaprio()
  else
    wsys.healthprio()
  end -- if
end

function wsys.moss()
  if wsys.settings.usetransmutation then
    wsys.osend("outr potash")
    wsys.osend("eat potash")
  else
    wsys.osend("outr irid")
    wsys.osend("eat irid")
  end
end

function wsys.hmsip(hm)
  if hm == "health" then
    wsys.osend("sip health")
  elseif hm == "mana" then
    wsys.osend("sip mana")
  else
   wsys.report("Not a valid thing to sip, check your wsys.hmsip() implementation")
  end
end




</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Affprio Display</name><packageName /><script>local lprios = {}
local lastcat = lastcat or false

function wsys.affpriodisplay(cat)
 lprios = {
   ["wake"] = {},
   ["stand"] = {},
   ["herb"] = {},
   ["salve"] = {},
   ["smoke"] = {},
   ["health"] = {},
   ["focus"] = {},
   ["writhe"] = {},
   ["compose"] = {},
   ["concentrate"] = {},
   ["immunity"] = {},
  }

  for k,v in pairs(wsys.settings.affprio[wsys.profile][wsys.myClass()]) do
    lprios[wsys.tb.affctype[k]][k] = v
  end
  lastcat = cat or false
  if cat == "all" or cat == nil then
    for k,v in pairs(lprios) do
      wsys.report(string.title(k) .. " priorities:")
      for k,v in wsys.spairs(v, function(t,a,b) return t[b] &gt; t[a] end) do
        cecho("&lt;white&gt;\n"..k .. ": " .. v)
        local aliasone = "wconfig affprio " .. k .. " " .. tonumber(v) + 1
        local commandone = [[expandAlias("]]..aliasone..[[")]]
        echo(" ")
        echoLink("(+)", commandone, "Move 'down' " .. k, true)
        echo(" ")
        local aliastwo = "wconfig affprio " .. k .. " " .. tonumber(v) - 1
        local commandtwo = [[expandAlias("]]..aliastwo..[[")]]
        echoLink("(-)", commandtwo, "Move 'up' " .. k, true)
      end
    end
  elseif table.contains(lprios, cat) then
    wsys.report(string.title(cat) .. " priorities:")
    for k,v in wsys.spairs(lprios[cat], function(t,a,b) return t[b] &gt; t[a] end) do
      cecho("&lt;white&gt;\n"..k .. ": " .. v)
      local aliasone = "wconfig affprio " .. k .. " " .. tonumber(v) + 1
      local commandone = [[expandAlias("]]..aliasone..[[")]]
      echo(" ")
      echoLink("(+)", commandone, "Move 'down' " .. k, true)
      echo(" ")
      local aliastwo = "wconfig affprio " .. k .. " " .. tonumber(v) - 1
      local commandtwo = [[expandAlias("]]..aliastwo..[[")]]
      echoLink("(-)", commandtwo, "Move 'up' " .. k, true)
    end
  else
    wsys.report("Not a valid category. Please pick one of: ........")
  end
end

--don't worry about this one, its just choosing what to echo after a prio setting change
function wsys.postchangeaffpriodisplay(aff)
  if lastcat == "all" then
    wsys.affpriodisplay("all")
  elseif lastcat == wsys.tb.affctype[aff] then
    wsys.affpriodisplay(lastcat)
  else
    wsys.affpriodisplay(wsys.tb.affctype[aff])
  end
end

function wsys.spairs(t, order)
    -- collect the keys
    local keys = {}
    for k in pairs(t) do keys[#keys+1] = k end

    -- if order function given, sort by it by passing the table and keys a, b,
    -- otherwise just sort the keys 
    if order then
        table.sort(keys, function(a,b) return order(t, a, b) end)
    else
        table.sort(keys)
    end

    -- return the iterator function
    local i = 0
    return function()
        i = i + 1
        if keys[i] then
            return keys[i], t[keys[i]]
        end
    end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Amnesia</name><packageName /><script>function wsys.onAmnesiaCheck(event, affliction)
  if event == "got aff" and affliction == "amnesia" then
    if not wsys.paused and not wsys.softpaused then
    	send("touch flaws", false)
    end -- if
  end
end

if wsys.events.on_amnesia then killAnonymousEventHandler( wsys.events.on_amnesia ) end
wsys.events.on_amnesia = registerAnonymousEventHandler("got aff", "wsys.onAmnesiaCheck")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Affliction Priority Functions</name><packageName /><script>function wsys.resetAffPrios()
  if wsys.settings.curingsets == "true" then
    wsys.cloneDefaultCuringSet()
  else
    for k,v in pairs(wsys.settings.affprio[wsys.profile][wsys.myClass()]) do
      -- reset affs that aren't at their setting position
      if wsys.affPosition(k) ~= wsys.defaultAffPosition(k) then
      send("curing priority " .. k .. " " .. tostring(v), false)
      end
    end
  end
  raiseEvent("reset aff prios")
end

function wsys.resetAllAffPrios()
  if wsys.settings.curingsets == "true" then
    wsys.cloneDefaultCuringSet()
  else
    for k,v in pairs(wsys.settings.affprio[wsys.profile][wsys.myClass()]) do
      send("curing priority " .. k .. " " .. tostring(v), false)
    end
  end
  raiseEvent("reset aff prios")
end

wsys.afflictionPrioritiesCurrent = wsys.afflictionPrioritiesCurrent or {}

-- If higher_only == true, then only allow shifting to higher priorities (e.g. 5-&gt;2 but not 2-&gt;5)
function wsys.switchPrios( aff, pos, higher_only )
  if not (wsys.afflictionPrioritiesCurrent[aff] == pos) then
    if not higher_only or not wsys.afflictionPrioritiesCurrent[aff] or pos &lt; wsys.afflictionPrioritiesCurrent[aff] then
    	send("curing priority " .. aff .. " " .. tostring(pos), false)
    end
  end
end

function wsys.affPrioChanged( aff, pos )
	wsys.afflictionPrioritiesCurrent[aff] = pos
end

function wsys.affPrioRestore( aff )
	if not wsys.afflictionPrioritiesCurrent[aff] or wsys.afflictionPrioritiesCurrent[aff] ~= wsys.defaultAffPosition(aff) then
		send("curing priority " .. aff .. " " .. tostring(wsys.defaultAffPosition(aff)), false)
	end
end

function wsys.affPosition(affliction)
  local affSpot = 25
  if table.contains(wsys.afflictionPrioritiesCurrent, affliction) then
    affSpot = wsys.afflictionPrioritiesCurrent[affliction]
  else
    affSpot = wsys.defaultAffPosition(affliction)
  end
  return affSpot
end

function wsys.defaultAffPosition(affliction)
  return wsys.settings.affprio[wsys.profile][wsys.myClass()][affliction]
end


function wsys.targettedCure(c)
  return table.contains(wsys.tb.targettedCureTable, c)
end



function wsys.affprioset(aff, num, profile, class)
  local p = wsys.profile
  local cl = wsys.myClass()
  if profile then p = profile end
  if class then cl = class end
  if table.contains(wsys.tb.affc, aff) then
    if tonumber(num) &gt;= 1 and tonumber(num) &lt;= 26 then
      wsys.settings["affprio"][p][cl][aff] = tonumber(num)
      wsys.report("Set " .. aff .. " to " .. tostring(num) .. " priority for " .. p .. " ("..cl..")")
      wsys.saveSettings()
      wsys.postchangeaffpriodisplay(aff)
    else
      wsys.report("Cannot set a number lower than 1 or higher than 26!")
    end
  else
    --invalid fucking aff right here son
    wsys.report(aff .. " is not a valid affliction!")
  end
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Stand Functions</name><packageName /><script>function wsys.stand()
 if wsys.timer.standwait then
  killTimer(tostring(wsys.timer.standwait))
 end
 wsys.timer.standwait = tempTimer(wsys.waittime, [[wsys.timer.standwait = nil]])
 send("curing queue remove stand")
 send("curing queue add stand")
end -- func


function wsys.stood()
 if wsys.cure == "stand" then
  wsys.affcured("prone")
  wsys.cure = nil
 end
end -- func

function wsys.mountCommand()
  return wsys.settings.havevault and "vault" or "mount"
end

function wsys.mount()
 enableTrigger("Mount")
 if wsys.timer.standwait then
  killTimer(tostring(wsys.timer.standwait))
 end
 wsys.timer.standwait = tempTimer(wsys.waittime, [[wsys.timer.standwait = nil]])
 wsys.osend("drop " .. wsys.settings.mount)
 wsys.osend(wsys.mountCommand().." " .. wsys.settings.mount)
end -- func


function wsys.mountd()
 disableTrigger("Mount")
 if wsys.timer.standwait then
  killTimer(tostring(wsys.timer.standwait))
  wsys.timer.standwait = nil
  wsys.def.mounted = true
 end -- if
end -- func


function wsys.dismount()
 if wsys.timer.standwait then
  killTimer(tostring(wsys.timer.standwait))
 end
 wsys.timer.standwait = tempTimer(wsys.waittime, [[wsys.timer.standwait = nil]])
 wsys.osend("dismount", "order " .. wsys.settings.mount .. " follow me")
end -- func


function wsys.dismountd()
 if wsys.timer.standwait then
  killTimer(tostring(wsys.timer.standwait))
  wsys.timer.standwait = nil
 end -- if
end -- func
 
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Curing Balances</name><packageName /><script>--for when you regain a balance
function wsys.gotBal(bal)
  wsys.times.bals.got[bal] = getTime(true, "HH:mm:ss:zzz" )
  wsys.bals[bal] = true
  if wsys.timer[bal.."bal"] then
   killTimer(tostring(wsys.timer[bal.."bal"]))
  end
  wsys.timer[bal.."bal"] = nil
  raiseEvent("got bal", bal)
end

--for when you lose a balance (except balance/equilibrium)
function wsys.lostBal(bal, time)
  wsys.times.bals.lost[bal] = getTime(true, "HH:mm:ss:zzz" )
  local thebal = bal
  wsys.bals[bal] = false
  raiseEvent("lost bal", thebal)
  --set the timer with the 'time' failsafe here
  if wsys.timer[bal.."bal"] then
    killTimer(tostring(wsys.timer[bal.."bal"]))
  end
  wsys.timer[bal.."bal"] = tempTimer(time, function() 
       wsys.times.bals.got[bal] = getTime(true, "HH:mm:ss:zzz" )
		wsys.timer[bal.."bal"] = nil
       wsys.bals[bal] = true
       raiseEvent("got bal", bal)
	end)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Heartseed Curing</name><packageName /><script>wsys.heartseedmode = false
local heartseedjuke = heartseedjuke or false

function wsys.hseedIgnoreResto(event, affliction, class)
  if event == "got aff" and wsys.heartseedmode then
    if affliction == "damagedleftleg" or affliction == "damagedrightleg" or affliction == "damagedleftarm" or affliction == "damagedrightarm" then
      wsys.switchPrios( "damagedleftleg", 26 )
      wsys.switchPrios( "damagedrightleg", 26 )
      wsys.switchPrios( "mangledleftleg", 26 )
      wsys.switchPrios( "mangledrightleg", 26 )
      wsys.switchPrios( "damagedleftarm", 26 )
      wsys.switchPrios( "damagedrightarm", 26 )
      wsys.switchPrios( "mangledleftarm", 26 )
      wsys.switchPrios( "mangledrightarm", 26 )
    end
  end
end

registerAnonymousEventHandler("got aff", "wsys.hseedIgnoreResto")

function wsys.heartseedMendingCured(event, affliction)
  if event == "lost aff" and wsys.heartseedmode then
    if affliction == "brokenleftleg" or affliction == "brokenrightleg" or affliction == "brokenleftarm" or affliction == "brokenrightleg" then
      heartseedjuke = true
      if wsys.timer.heartseedjuketimer then killTimer(tostring(wsys.timer.heartseedjuketimer)) end
      wsys.timer.heartseedjuketimer = tempTimer(2, [[heartseedjuke = false;wsys.timer.heartseedjuketimer = nil]])
    end
  end
end

registerAnonymousEventHandler("lost aff", "wsys.heartseedMendingCured")

--will fake apply to a leg to bait the heartseed
function wsys.jukeApply(event, bal)
  if event == "got bal" and bal == "salve" and wsys.heartseedmode and heartseedjuke then
   if not wsys.aff.heartseed then
    if (wsys.aff.damagedleftleg or wsys.aff.damagedrightleg) then
      send("apply mending to legs")
    elseif (wsys.aff.damagedleftarm or wsys.aff.damagedrightarm) then
      send("apply mending to arms")
    end
   end
   heartseedjuke = false
  end
end

registerAnonymousEventHandler("got bal", "wsys.jukeApply")


--turn on leg curing again
function wsys.heartseedGone(event, aff)
  if event == "lost aff" and aff == "heartseed" then
    if wsys.heartseedmode and (wsys.aff.damagedleftleg or wsys.aff.damagedrightleg) then
      wsys.affPrioRestore( "damagedleftleg" )
      wsys.affPrioRestore( "damagedrightleg" )
      wsys.affPrioRestore( "mangledleftleg" )
      wsys.affPrioRestore( "mangledrightleg" )
      wsys.affPrioRestore( "damagedleftarm" )
      wsys.affPrioRestore( "damagedrightarm" )
      wsys.affPrioRestore( "mangledleftarm" )
      wsys.affPrioRestore( "mangledrightarm" )
    end
  end
end

registerAnonymousEventHandler("lost aff", "wsys.heartseedGone")

function wsys.thornrended(event, limb, attack)
  if event == "myLimbHit" and attack == "thornrend" then
    if wsys.heartseedmode and (wsys.aff.damagedleftleg or wsys.aff.damagedrightleg) then
      wsys.affPrioRestore( "damagedleftleg" )
      wsys.affPrioRestore( "damagedrightleg" )
      wsys.affPrioRestore( "mangledleftleg" )
      wsys.affPrioRestore( "mangledrightleg" )
      wsys.affPrioRestore( "damagedleftarm" )
      wsys.affPrioRestore( "damagedrightarm" )
      wsys.affPrioRestore( "mangledleftarm" )
      wsys.affPrioRestore( "mangledrightarm" )
    end
  end
end

registerAnonymousEventHandler("myLimbHit", "wsys.thornrended")
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Curing Queues</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Balance Queue</name><packageName /><script>function wsys.balqueue()
if wsys.cancure() and wsys.bals.b and wsys.bals.e then
 if not wsys.tanglecheck() and not wsys.damagedarms() and not wsys.aff.paralysis then
  --parrying
  if wsys.toparry then wsys.parryFunction() end

  --transmuting for monks
  if wsys.isClass("monk") then
   wsys.transmutequeue()
  end -- if transmuting


 end -- if
end
end -- func
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Lock Queue</name><packageName /><script>function wsys.lockqueue()
  if wsys.cancure() then
  --asthma anorexia slickness impatience/off focus bal
    if wsys.aff.asthma and wsys.aff.anorexia and wsys.aff.slickness and (wsys.aff.impatience or not wsys.bals.focus) then
      if (not wsys.aff.paralysis and wsys.bals.tree) and not wsys.damagedarms() then
       	wsys.tree()
      elseif (wsys.isClass("magi") or wsys.isClass("sylvan")) and not wsys.isHindered() and wsys.bals.b and wsys.bals.e then
        send("cast bloodboil")
      elseif wsys.isClass("alchemist") and not wsys.isHindered() and wsys.bals.b and wsys.bals.e then
        send("educe salt")
      elseif (wsys.isClass("sentinel") or wsys.isClass("druid")) and not wsys.aff.weariness and wsys.bals.b and wsys.bals.e then
        sendAll("morph jaguar", "fitness")
      elseif (wsys.isClass("sentinel") or wsys.isClass("druid")) and wsys.bals.b and wsys.bals.e then
        sendAll("morph jaguar", "might")
      elseif wsys.isClass("serpent") and not wsys.aff.weariness and wsys.bals.b and wsys.bals.e then
        wsys.shrug()
      elseif (wsys.isClass("occultist") or wsys.isClass("jester")) and wsys.bals.b and wsys.bals.e and not wsys.isHindered() and not wsys.timer.foolwait and wsys.bals.fool then
        wsys.fool()
      elseif wsys.isFitnessClass() and wsys.bals.fitness and not wsys.aff.weariness then --and wsys.bals.b and wsys.bals.e
        wsys.fitness()
      elseif wsys.isDragon() and wsys.bals.dragonheal and wsys.bals.b and wsys.bals.e and wsys.stats.m &gt;= 1500 and not (wsys.aff.weariness and wsys.aff.recklessness) then
        wsys.dheal()
      else
        cecho("\n&lt;pale_violet_red&gt;TRUELOCK SUSPECTED, DIAGNOSE OR GO MANUAL\n")
      end --curable lock bit end
      --vivi mode curing
    elseif wsys.vmode and not wsys.bals.salve and (wsys.stats.m &gt;= 100) and wsys.damagedarms() and wsys.bothdamagedlegs() and (wsys.aff.brokenleftarm or wsys.aff.brokenrightarm or wsys.aff.brokenleftleg or wsys.aff.brokenrightleg) then
        cecho("&lt;orange&gt;should be restoring")
        wsys.restore()
    -- empty valerian pipe
    elseif wsys.aff.impatience and wsys.aff.anorexia and wsys.aff.slickness and (wsys.aff.asthma or wsys.emptyValerianPipes()) then
      if ((not wsys.aff.paralysis and wsys.bals.tree) and not wsys.timer.treewait) and not wsys.damagedarms() then
          wsys.tree()
      end
    -- Riftlock
    elseif wsys.aff.asthma and wsys.aff.slickness and wsys.damagedarms() and wsys.herbsout.kelp &lt; 1 and wsys.herbsout.aurum &lt; 1 and wsys.herbsout.bloodroot &lt; 1 and wsys.herbsout.magnesium &lt; 1 then
     if wsys.isFitnessClass() and wsys.bals.b and wsys.bals.e and wsys.bals.fitness and not wsys.aff.weariness then
      wsys.fitness()
     elseif wsys.settings.dform and wsys.bals.dragonheal and wsys.bals.b and wsys.bals.e and wsys.stats.m &gt;= 1500 then -- elseif
      wsys.dheal()
     elseif (wsys.aff.brokenleftarm or wsys.aff.brokenrightarm) and wsys.bals.b and wsys.bals.e then
      wsys.restore()
     else
      cecho("\n&lt;pale_violet_red&gt;RIFTLOCK SUSPECTED, DIAGNOSE OR GO MANUAL\n")
     end
    -- Special tree cases 
    elseif (not wsys.aff.paralysis and wsys.bals.tree) and not wsys.damagedarms() then
			local kelp = wsys.affamount("kelp")
			local ginseng = wsys.affamount("kelp")
			if wsys.aff.slickness and wsys.aff.asthma and kelp &gt;= 3 and (kelp + ginseng &gt;= 4) then
				-- Not a lock, but we're far behind and asthma is buried
				wsys.tree()
			end
   	end
  end -- if
end -- func
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Clot Queue</name><packageName /><script>function wsys.clotqueue()
 if wsys.cancure() and wsys.bleeding &gt; 30 and not wsys.aff.haemophilia and not wsys.settings.stopclot then
  if wsys.bleedtype == "health" then
   if (wsys.stats.m&gt;wsys.manathreshold()) and wsys.stats.m &gt; 500 then
    wsys.clot()
   end
  elseif wsys.bleedtype == "mana" then
   if wsys.stats.h &gt; (wsys.stats.maxh * 0.75) then
   --if we're off moss and sip bal (health prio on that) then stop at 75% hp, otherwise go to 60%
    wsys.clot()
   elseif wsys.bals.moss and (wsys.stats.h &lt;= (wsys.stats.maxh *.70)) then
    --got moss bal, so can clot more health away
    wsys.clot()
   elseif wsys.bals.hm and (wsys.stats.h &lt;= (wsys.stats.maxh *.65)) then
    --got health elixir bal, so can clot more health away
    wsys.clot()
   end
  end --if
 end -- if
end -- func
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Knight Queues</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Rage Queue</name><packageName /><script>function wsys.ragequeue()
 if wsys.settings.haverage and wsys.settings.userage and wsys.cancure() and not wsys.timer.ragewait and wsys.bals.rage and wsys.stats.m &gt; 500 and wsys.stats.w &gt; 100 then
  --use rage if there's one or more bellwort affs
  if wsys.bellwortAffCount() &gt;= 1 then
    wsys.rage()
  end
 end
end -- func


function wsys.bellwortAffCount()
  local count = 0

  if wsys.aff.justice then count = count + 1 end
  if wsys.aff.peace then count = count + 1 end
  if wsys.aff.generosity then count = count + 1 end
  if wsys.aff.lovers then count = count + 1 end
  if wsys.aff.pacified then count = count + 1 end
  if wsys.aff.indifference then count = count + 1 end
  if wsys.aff.retribution then count = count + 1 end
  if wsys.aff.timeloop then count = count + 1 end

  return count
end
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Curing Functions</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Affliction Functions</name><packageName /><script>wsys.predicted = {}

---------------------------------------------------
-- Translation layer to map wsysf.affs to wsys.aff
---------------------------------------------------

-- Note, this meta table allows you to access the values
-- From wsysf.affs, but it does not automatically map pairs()
-- or next(). Both of these will always be empty
wsys.aff = setmetatable({}, {
	__index = function(table, key)
		return wsysf.affs[key] or wsys.predicted[aff]
	end,
	__newindex = function(table, key, value)
		echo("!Don't set wsys.aff."..key.." = "..tostring(value))
	end
})

local wsysf_aff_event_handler = function( event, affliction )

	if wsys.predicted[ affliction ] then wsys.predicted[ affliction ] = nil end
	
	wsys.checkaffs_next_prompt()
	
	if event == "wsysf got aff" then
		raiseEvent( "got aff", affliction )
	elseif event == "wsysf lost aff" then
		raiseEvent( "lost aff", affliction )
	end
end

if wsys.events.aff_add then killAnonymousEventHandler( wsys.events.aff_add ) end
if wsys.events.aff_remove then killAnonymousEventHandler( wsys.events.aff_remove ) end
if wsys.events.aff_list then killAnonymousEventHandler( wsys.events.aff_list ) end

wsys.events.aff_add = registerAnonymousEventHandler("wsysf got aff", wsysf_aff_event_handler)
wsys.events.aff_remove = registerAnonymousEventHandler("wsysf lost aff", wsysf_aff_event_handler)
wsys.events.aff_list = registerAnonymousEventHandler("gmcp.Char.Afflictions.List", function() wsys.predicted = {} end)

function wsys.affpredict(aff, value)
  if value == nil then value = true end
	
	if not wsysf.affs[aff] and wsys.predicted[aff] ~= value then
		if value then
			send("curing predict "..aff) -- ,false)
		else
			send("curing unpredict "..aff) -- ,false)
  		end
  		wsys.predicted[aff] = value
	end
end
	
---------------------------------------------------
-- Old Aff tracking functions. Some of these may
-- functions may no longer be needed
---------------------------------------------------
	
-- Deprecated in favour of pure GMCP aff tracking
-- This is only used for class tracking and the aff print lines now
function wsys.affadd(affliction, class, time, from_gmcp)
  if not wsys.lifevision then
    local gained = wsys.affs_gained[affliction]
    if not from_gmcp and wsys.affline ~= getLineNumber() then
      wsys.affprint(affliction)
    end -- if

    if class then wsys.newClassTimer( class ) end

    if not from_gmcp then
      wsys.affline = getLineNumber()
    end
  end -- if
end -- func


function wsys.affcured(affliction)
 if not wsys.lifevision then
  if wsys.aff.blackout then
   wsys.affcheckblackout(affliction)
   do return end
  end -- if
  if (wsys.cure and table.contains(wsys.tb.affc[affliction], wsys.cure)) or (wsys.applying and table.contains(wsys.tb.affc[affliction], wsys.applying)) or wsys.cure == "tree" or wsys.cure == "dheal" or wsys.cure == "fool" or affliction == "aeon"  or affliction == "inquisition" or affliction == "crone" or wsys.cure == "corrupt" or affliction == "sleeping" or wsys.cure == "passive" or wsys.cure == "shrugging" then
   wsys.affcuredconfirm(affliction)
   if wsys.targettedCure(wsys.cure) then
     --wsys.curedAICheck(affliction)
   end
  end -- if 
 end -- if
 --wsys.checkaffs()
end -- func


function wsys.affcuredconfirm(affliction, from_gmcp)
  if affliction == "aeon" then
    wsys.def.speed = false
  end -- if

  if not from_gmcp then
    disableTrigger(string.title(affliction) .. " -")
    wsys.affcureprint(affliction)
  end

  wsys.checkaffs(affliction)

  if wsys.timer[affliction.."decay"] then 
    killTimer(wsys.timer[affliction.."decay"])
    wsys.timer[affliction.."decay"] = nil
  end
end -- func


function wsys.affcheckblackout(affliction)
 for k,v in ipairs(wsys.tb.affc[affliction]) do
  if wsys.eating == v then
   wsys.ate(wsys.eating)
   wsys.affcuredconfirm(affliction)
   do return end
  end -- if
  if wsys.applying == v then
   wsys.affcuredconfirm(affliction)
   do return end
  end -- if
  if wsys.pipes.smoking == v then
   wsys.smoked(wsys.pipes.smoking)
   wsys.affcuredconfirm(affliction)
   do return end
  end -- if
  if v == "focus" and wsys.timer.focuswait then
   wsys.focused()
   wsys.affcuredconfirm(affliction)
   do return end
  end -- if
  if v == "restore" and wsys.timer.restorewait then
   wsys.restored()
   wsys.affcuredconfirm(affliction)
   do return end
  end -- if
  if v == "immunity" and wsys.timer.immunitywait then
   immunityd()
   wsys.affcuredconfirm("voyria")
   do return end
  end -- if
  if v == "stand" and wsys.cure == "stand" then
   wsys.affcuredconfirm("prone")
   do return end
  end -- if
  if v == "fitness" and wsys.timer.fitnesswait then
   wsys.fitnessd()
   wsys.affcuredconfirm("asthma")
   do return end
  end -- if
  if wsys.timer.dhealwait then
   wsys.dhealed()
   wsys.affcuredconfirm(affliction)
   do return end
  end -- if
  if wsys.timer.foolwait then
   fooled()
   wsys.affcuredconfirm(affliction)
   do return end
  end -- if
 end -- for
 if affliction == "aeon" then
  wsys.affcuredconfirm("aeon")
 end -- if
end -- func


local affs_next_prompt_id = nil
function wsys.checkaffs_next_prompt()
	if not affs_next_prompt_id then
		affs_next_prompt_id = tempPromptTrigger( function()
			affs_next_prompt_id = nil
			wsys.checkaffs()
		end, 1)
	end
end

function wsys.checkaffs()
 wsys.lockqueue()
end -- func
    

function wsys.firequeues()
 if wsys.lifevision then
  wsys.tb.affstogether = {}
  if not wsys.self_illusion then cecho("&lt;pink&gt;ILLUSION BITCH!") end
  do return end
 end -- if
 
 if wsys.aff.aeon then
  if wsys.retard then
   --retardqueue()
  else
   --aeonqueue()
  end -- if
  do return end
 end -- if

 wsys.ragequeue()
 wsys.lockqueue()
end -- func


function wsys.pairscheck(cure) -- What is this for?
 wsys.checkaffs()
end -- func


function wsys.unstunned()
 wsys.cleartimers()
 wsys.checkaffs()
 wsys.canaction()
end -- func

if wsys.events.blackoutloss then killAnonymousEventHandler( wsys.events.blackoutloss ) end
wsys.events.blackoutloss = registerAnonymousEventHandler( "lost aff", "wsys.blackoutloss" )

function wsys.blackoutloss( event, affliction )
  if event == "lost aff" and affliction == "blackout" then
    disableTrigger("Blackout -")
    tempPromptTrigger(function()
      if not wsys.bals.e then
      	send("curing predict disrupted", false)
      end -- if
      if wsys.stats.h == wsys.stats.maxh and wsys.stats.m == wsys.stats.maxm then
        wsys.affpredict("recklessness")
      end -- if
      if not wsys.aff.aeon and wsys.classTimerExists("occultist") or wsys.classTimerExists("jester") or wsys.classTimerExists("shaman") then
      	send("curing predict aeon")
      end
      --send("plist")
      if not wsys.aff.aeon then
      	send("curing queue add speed")
      end
    end, 1)
  end
end -- func

function wsys.return_defaultaffprios()
  return {
    ---------------------------------
    --HERBS (+ a few focusables obv)
    ---------------------------------
    -- depsthwalker priors: paralysis &gt; timeloop &gt; madness/depression &gt; retribution &gt; parasite
    ["paralysis"] = 4,
    ["timeloop"] = 5,
    ["hypochondria"] = 5,
    ["shadowmadness"] = 6,
    ["depression"] = 6,
    ["retribution"] = 6,	-- This should be &gt; madness, but &lt; parasite. So either 6 or 7
    ["scytherus"] = 6,
    ["impatience"] = 6,
    ["parasite"] = 7,
    ["asthma"] = 7,
    ["sensitivity"] = 7,
    ["weariness"] = 7,
    ["guilt"] = 8,
    ["darkshade"] = 8,
    ["hypersomnia"] = 9,
    ["hallucinations"] = 9,
    --10 GAP FOR OFF-FOCUS BAL SHIFTS
    ["nausea"] = 11,
    ["haemophilia"] = 11,
    ["lethargy"] = 11,
    ["addiction"] = 11,
    ["tenderskin"] = 11,
    ["spiritburn"] = 11,
    --13 GAP
    ["temperedmelancholic"] = 14,
    ["temperedcholeric"] = 14,
    ["temperedsanguine"] = 14,
    ["temperedphlegmatic"] = 14,
    ["lovers"] = 14, 
    ["pacified"] = 14, 
    ["healthleech"] = 14,
    ["clumsiness"] = 14,
    ["dissonance"] = 14,
    ["loneliness"] = 16,
    ["claustrophobia"] = 16,
    ["agoraphobia"] = 16,
    ["vertigo"] = 16,


    ["peace"] = 16, 
    ["justice"] = 16, 
    ["generosity"] = 16,

    ["dementia"] = 17,
    ["paranoia"] = 17,

    ["stupidity"] = 18, --move to 9 if off focus balance
    ["epilepsy"] = 18,
    ["confusion"] = 20, --move to 2 if disrupted, move to 8 if off focus balance
    ["recklessness"] = 21, --move up higher if off focus balance
    ["masochism"] = 21,

    ["dizziness"] = 23, --if off focus balance move this to 14? Seems too high honestly.
    ["shyness"] = 23, --if off focus balance move this to 14?

    --------------------------
    --SALVE
    --------------------------
    ["heartseed"] = 3,
    ["hypothermia"] = 3,
    ["anorexia"] = 4,
    ["crushedthroat"] = 5,
    ["itching"] = 5,

    --6 GAP: For resto leg breaks and prone

    ["brokenleftleg"] = 7,
    ["brokenrightleg"] = 7,

    ["damagedleftleg"] = 8, --move these up if prone so Sents can't screw me over.
    ["damagedrightleg"] = 8,
    ["mangledleftleg"] = 8,
    ["mangledrightleg"] = 8,

    ["mangledhead"] = 9,

    ["brokenleftarm"] = 10,
    ["brokenrightarm"] = 10,

    ["damagedleftarm"] = 11,

    ["damagedhead"] = 12,
    ["concussion"] = 12,

    ["damagedrightarm"] = 13,

    ["mangledleftarm"] = 14,
    ["mangledrightarm"] = 14,

    ["frozen"] = 15,
    ["shivering"] = 15, --same rank as frozen
    --CALORIC(insulation) at 15 unless it's a damn sentinel, then move up to 2 along with frozen and shivering
    ["scalded"] = 16,
    ["mildtrauma"] = 17,
    ["serioustrauma"] = 17,

    --MASS at 18

    ["burning"] = 19,
    ["stuttering"] = 19,
    ["slashedthroat"] = 19,
    ["laceratedthroat"] = 19,
    ["selarnia"] = 20,

    --broken = crippled
    --damaged = broken
    --mangled = mangled
    --lvl1 torso = mildtrauma
    --lvl2 torso = serioustrauma

    ---------------------------
    --PIPE
    ---------------------------
    ["aeon"] = 2,
    ["slickness"] = 3, --1 higher than para so that smoke &gt; eat broot if para and slick.
    ["whisperingmadness"] = 11,
    ["hellsight"] = 12,
    -- From Oblive - Air Lord priority: manaleech&gt;deadening&gt;disloyalty&gt;tension&gt;pressure
    ["manaleech"] = 13,
    ["deadening"] = 14,
    ["disloyalty"] = 15,
    ["pressure"] = 16,
    ["tension"] = 17,	--  Pressure &gt; Tension, unless sent airborne, then swap

    --["rebounding"] = 18, (DEFENCE QUEUE SLOT 18) IMPORTANT TO MOVE THIS DOWN BELOW PRESSURE

    ------------------------
    --HEALTH ELIXIR
    ------------------------
    ["skullfractures"] = 8,
    ["crackedribs"] = 9,
    ["torntendons"] = 10,
    ["wristfractures"] = 11,

    -------------------------
    --WRITHE
    -------------------------
    ["bound"] = 6,
    ["transfixation"] = 6,
    ["webbed"] = 6,
    ["entangled"] = 6,
    ["daeggerimpale"] = 6,
    ["impaled"] = 6,

    -----------------------
    --BAL FREE CURES
    -----------------------
    ["sleeping"] = 2,
    ["voyria"] = 9,
    ["prone"] = 9,
    ["disrupted"] = 9,
    ["fear"] = 20, --low for retardation/aeon curing

  }
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Compose Functions</name><packageName /><script>function wsys.composed()
  wsys.cure = "compose"
  wsys.affcured("fear")
  wsys.cure = nil
end -- func
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Tree Functions</name><packageName /><script>function wsys.tree()
	if not wsys.timer.treedelay then 
	-- Bit of a hack. Calling queue add touch tree twice will touch it once, then again after 
	-- regaining tree balance, by which point you really no longer need to touch it. 
		send("curing queue remove touch tree")
		send("curing queue add touch tree")
		wsys.timer.treedelay = tempTimer( 4, function() wsys.timer.treedelay = nil end  )
	end
end -- func

if wsys.events.tree_para_check then killAnonymousEventHandler( wsys.events.tree_para_check ) end
wsys.events.tree_para_check = registerAnonymousEventHandler( "got aff",
  function(event, affliction)
		if wsys.timer.treedelay and event == "got aff" and affliction == "paralysis" then
			killTimer( wsys.timer.treedelay )
			wsys.timer.treedelay = nil
			send("curing queue remove touch tree")
		end
	end)

local treeprompt = false

function wsys.treed(empty)
if (wsys.timer.treewait or forced or wsys.timer.snap) and not wsys.lifevision then
 wsys.timer.treewait = nil
 wsys.treesub()
 if wsys.aff.slimeobscure then
   wsys.lostBal("tree", wsys.settings.treebaltime + 10)
 else
   wsys.lostBal("tree", wsys.settings.treebaltime)
 end
 if not empty then
  wsys.cure = "tree"
  if treeprompt then killTrigger(tostring(treeprompt)) end
  if not wsys.aff.blackout then
   if not wsys.timer.snap then
    treeprompt = tempLineTrigger(1,1, [[if isPrompt() then wsys.emptytree() end]])
   end -- if
  end -- if
 end -- if
 if wsys.timer.snap then
  killTimer(tostring(wsys.timer.snap))
  wsys.timer.snap = nil
 end -- if
end -- if
end -- func

function wsys.treebal(event, bal)
  if event == "got bal" and bal == "tree" then
    cecho("\n&lt;green&gt;You may TREE again\n")
    wsys.lockqueue()
  end
end

registerAnonymousEventHandler("got bal", "wsys.treebal")

function wsys.emptytree()
 for k,v in pairs(wsys.tb.cures.tree) do
   wsys.predicted[v] = nil
   if wsysf.affs[v] then
     wsysf.core.debug.print(2, "Empty tree should clear ".. v.."?")
   end
  disableTrigger(string.title(v) .. " -")
 end -- for
 wsys.pairscheck("tree")
 wsys.cure = nil
end -- func

function wsys.treeAffs()
  local c = 0
	
	for _,aff in ipairs(wsys.tb.cures.tree) do
		c = c + wsysf.affv[aff]
	end

  return c
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Prompt Check Helper Functions</name><packageName /><script>function wsys.recklessnesscheck()
  wsys.tb.justreckless = {line, getLineNumber()}
  enableTrigger("Prompt Checks")
end

function wsys.restobreakcheck(l)
  wsys.tb.restorationlist[#wsys.tb.restorationlist+1] = {l, getLineNumber(), line}
  enableTrigger("Prompt Checks")
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Focus Shifts</name><packageName /><script>function wsys.focusshifthandler(event, bal)
	-- Shift when off both focus and herb balance. Only restore when both are back
  if event == "got bal" and not wsys.settings.stopfocus and ( ( bal == "focus" and wsys.bals.herb ) or ( bal == "herb" and wsys.bals.focus ) ) then
    wsys.onfocusbalprios()
  elseif event == "lost bal" and ( ( bal == "focus" and not wsys.bals.herb ) or ( bal == "herb" and not wsys.bals.focus ) ) then
    wsys.offfocusbalprios()
  end
end

registerAnonymousEventHandler("got bal", "wsys.focusshifthandler")
registerAnonymousEventHandler("lost bal", "wsys.focusshifthandler")

function wsys.offfocusbalprios()
  for k,v in pairs(wsys.settings.focusshifts[wsys.profile][wsys.myClass()]) do
    wsys.switchPrios(k, v)
  end
end

function wsys.onfocusbalprios()
  for k,v in pairs(wsys.settings.focusshifts[wsys.profile][wsys.myClass()]) do
    wsys.affPrioRestore(k)
  end
end

function wsys.focusshiftsdisplay()
  wsys.report("Focus shifts (" .. wsys.profile .. "):")
  for k,v in wsys.spairs(wsys.settings.focusshifts[wsys.profile][wsys.myClass()], function(t,a,b) return t[b] &gt; t[a] end) do
    cecho("&lt;white&gt;\n"..k .. ": " .. v)
    local aliasone = "wconfig focusshift " .. k .. " " .. tonumber(v) + 1
    local commandone = [[expandAlias("]]..aliasone..[[")]]
    echo(" ")
    echoLink("(+)", commandone, "Move 'down' " .. k, true)
    echo(" ")
    local aliastwo = "wconfig focusshift " .. k .. " " .. tonumber(v) - 1
    local commandtwo = [[expandAlias("]]..aliastwo..[[")]]
    echoLink("(-)", commandtwo, "Move 'up' " .. k, true)
  end
end

function wsys.setfocusshift(affliction, prio)
  if (tonumber(prio) &gt; 0) and (tonumber(prio) &lt;= 26) then
    wsys.settings.focusshifts[wsys.profile][wsys.myClass()][affliction] = tonumber(prio)
    wsys.report("Set " .. aff .. " to " .. prio .. " on focus shift (if off focus balance).")
  else
    wsys.report("Cannot set a prio lower than 1 or higher than 26.")
  end
  wsys.focusshiftsdisplay()
end

function wsys.return_defaultfocusshifts()
  return {
    recklessness = 12,
    confusion = 8,
    stupidity = 9,
    dizziness = 14,
    shyness = 14,
    paranoia = 14,
    dementia = 14,
    hallucinations = 14
  }
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Writhe Functions</name><packageName /><script>function wsys.emptywrithe()
  wsys.writhesub()
  if wsys.timer.writhewait then
   killTimer(tostring(wsys.timer.writhewait))
  end
  wsys.timer.writhewait = nil
  for k,v in pairs(wsys.tb.cures.writhe) do
    wsys.predicted[v] = nil
    if wsysf.affs[v] then
      wsysf.core.debug.print(2, "Empty writhe should clear ".. v.."?")
    end
    disableTrigger(string.title(v) .. " -")
  end -- for
  wsys.cure = nil
end -- func


function wsys.writhedimpaled()
 if not wsys.lifevision then
  if wsys.timer.writhebalimpaled then
   wsys.writhesub()
   wsys.cure = "writhe"
   killTimer(tostring(wsys.timer.writhebalimpaled))
   wsys.timer.writhebalimpaled = nil
   if wsys.aff.impaled then
     wsys.affcured("impaled")
   elseif wsys.aff.daeggerimpale then
     wsys.affcured("daeggerimpale")
   end
   wsys.cure = nil
  end -- if
 end -- if
end -- func


function wsys.writhed(what)
 if not wsys.lifevision then
  if wsys.timer.writhebal then
   --wsys.writhesub()
   wsys.cure = "writhe"
   killTimer(tostring(wsys.timer.writhebal))
   wsys.timer.writhebal = nil
   wsys.affcured(what)
   wsys.cure = nil
  end -- if
 end -- if
end -- func



function wsys.writhestart(line)
  wsys.writhesub()
  if wsys.timer.writhewait then
   killTimer(tostring(wsys.timer.writhewait))
  end
  wsys.timer.writhewait = nil
  if string.match(line, "impaled you") then
   if wsys.damagedlegs() then
    wsys.timer.writhebalimpaled = tempTimer(8, [[wsys.timer.writhebalimpaled=nil]])
   else
    wsys.timer.writhebalimpaled = tempTimer(4, [[wsys.timer.writhebalimpaled=nil]])
   end -- if
  else
   wsys.timer.writhebal = tempTimer(5, [[wsys.timer.writhebal=nil]])
  end -- if
end -- func


function wsys.writhing()
 if wsys.timer.writhebal then
  wsys.writhesub()
  killTimer(tostring(wsys.timer.writhebal))
  wsys.timer.writhebal = tempTimer(4, [[wsys.timer.writhebal=nil]])
 end -- func
end-- func
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Herb Functions</name><packageName /><script>wsys.lastherb = "nothing"

function wsys.ate(herb)
 --ginger level handling
 --[[if (herb == "ginger" or herb == "antimony") and (wsys.lastherb == "ginger" or wsys.lastherb == "antimony") then
  --check if ginger was eaten quick enough
  if wsys.timeElapsed(wsys.times.bals.lost.herb) &lt; 2300 then
   cecho(" &lt;deep_pink&gt;GINGER LEVEL +1!")
   wsys.gingerlevel = math.min(wsys.gingerlevel + 1, 10)
  else
   cecho(" &lt;deep_pink&gt;GINGER LEVEL RESET!")
   wsys.gingerlevel = 1
  end
 else]]
  --TODO: Per announce 4313, ginger additional curing is blocked by the alchemist being in the room
  --      For now, just assume it always only cures one level.
  wsys.gingerlevel = 1
 --end
 wsys.lastherb = herb
 wsys.atesub(herb) 
 wsys.cure = herb
 wsys.eating = false
 if not wsys.aff.homunculusmercury then
  wsys.lostBal("herb", 1.9)
 else
  wsys.lostBal("herb", 2.9)
 end
end -- func

function wsys.emptyherb()
 if wsys.cure == "cohosh" or wsys.cure == "gypsum" then
  wsys.def.insomnia = true
 elseif wsys.cure ~= "hawthorn" and wsys.cure ~= "calamine" then
  for k,v in pairs(wsys.tb.cures[wsys.cure]) do
    wsys.predicted[v] = nil
	
    if wsysf.affs[v] then
      wsysf.core.debug.print(2, "Empty herb eat should clear ".. v.."?")
    end
   disableTrigger(string.title(v) .. " -")
  end -- for
 end -- if
 wsys.pairscheck(wsys.cure)
 wsys.cure = nil
end -- if


function wsys.herbbal()
 if not wsys.bals.herb and not wsys.lifevision then
  wsys.gotBal("herb")
  wsys.herbbalsub()
 end -- if
end -- func


function wsys.herbballoss()
 if wsys.aff.blackout then
  wsys.ate(wsys.eating)
  do return end
 end -- if
end -- func

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Focus Functions</name><packageName /><script>function wsys.focus()
 send("curing queue remove focus")
 send("curing queue add focus")
end -- func


function wsys.focusbal()
 wsys.focusbalsub()
 wsys.gotBal("focus")
 disableTrigger("FocusBalance")
end -- func

local focusprompt = false

function wsys.focused()
  wsys.cure = "focus"
  wsys.focussub()
  enableTrigger("FocusBalance")
  if wsys.aff.weakenedmind then
    cecho("&lt;red&gt;Longer focus balance RIXIL")
    wsys.lostBal("focus", 7.7)
  else
    wsys.lostBal("focus", 3.8)
  end
  if focusprompt then killTrigger(tostring(focusprompt)) end
  if not wsys.aff.blackout then
   focusprompt = tempLineTrigger(1,1, [[if isPrompt() then wsys.emptyfocus() end]])
  end -- if
end -- func


function wsys.emptyfocus()
 if wsys.stats.m &lt; wsys.stats.om then
   for k,v in pairs(wsys.tb.cures.focus) do
     wsys.predicted[v] = nil
     if wsysf.affs[v] then
       wsysf.core.debug.print(2, "Empty focus should clear ".. v.."?")
     end
     disableTrigger(string.title(v) .. " -")
   end -- for
   wsys.pairscheck("focus")
 end -- if
 wsys.cure = nil
end -- func


function wsys.focusAffCount()
  local fCount = 
    wsysf.affv.stupidity +
    wsysf.affv.epilepsy +
    wsysf.affv.dizziness +
    wsysf.affv.shyness +
    wsysf.affv.recklessness +
    wsysf.affv.masochism +
    wsysf.affv.loneliness +
    wsysf.affv.claustrophobia +
    wsysf.affv.agoraphobia +
    wsysf.affv.vertigo +
    wsysf.affv.confusion +
    wsysf.affv.anorexia +
    wsysf.affv.dementia +
    wsysf.affv.paranoia +
    wsysf.affv.hallucinations
  
  return fCount
end

function wsys.hasFocusAffs()
  if wsys.focusAffCount() == 0 then
    return false
  else
    return true
  end
end

function wsys.hasDisruptedElement()
  return wsys.aff.waterdisrupt or wsys.aff.airdisrupt or wsys.aff.firedisrupt or wsys.aff.earthdisrupt
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Burning Stacks</name><packageName /><script>function wsys.burningStacks( num )
	if wsys.aff.burning ~= num then
		wsys.aff.burning = num
		wsys.newClassTimer( "magi" )
		raiseEvent( "got aff", "burning" )
	end
end

function wsys.burningDown()
	local count = wsys.aff.burning and tonumber(wsys.aff.burning) or 0
	if count and count &gt; 1 then
		count = count - 1
	else
		count = 1
	end	
	wsys.aff.burning = count
	raiseEvent( "got aff", "burning" )
end

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Demon Corrupt Functions</name><packageName /><script>function wsys.demonCorrupted()
  wsys.cure = "corrupt"
  wsys.promptTrigger("corrupt", function()
	wsys.cure = nil
  end)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Restore Functions</name><packageName /><script>function wsys.restore()
 enableTrigger("Restore")
 if wsys.timer.restorewait then
  killTimer(tostring(wsys.timer.restorewait))
 end
 wsys.timer.restorewait = tempTimer(wsys.myPing() * 2, [[wsys.timer.restorewait = nil;disableTrigger("Restore");wsys.lockqueue()]])
 wsys.doOnce("restore", 5)
end -- func

local restoreprompt = false

function wsys.restored()
 if wsys.timer.restorewait then
  if wsys.vmode then wsys.ignoreRestoBreaks() end
  wsys.restoresub()
  disableTrigger("Restore")
  wsys.cure = "restore"
  if restoreprompt then killTrigger(tostring(restoreprompt)) end
  if not wsys.aff.blackout then
   if wsys.timer.restorewait then
    killTimer(tostring(restorewait))
   end
   wsys.timer.restorewait = nil
   restoreprompt = tempLineTrigger(1,1, [[if isPrompt() then wsys.emptyrestore() end]])
  end -- if
 end -- if
end -- func


function wsys.emptyrestore()
 for k,v in pairs(wsys.tb.cures.restore) do
    wsys.predicted[v] = nil
	
    if wsysf.affs[v] then
      wsysf.core.debug.print(2, "Empty restore should clear ".. v.."?")
    end
  disableTrigger(string.title(v) .. " -")
 end -- for
 wsys.pairscheck("restore")
 wsys.cure = nil
end -- func

function wsys.ignoreRestoBreaks()
  wsys.report("Ignoring restoration breaks")
  wsys.switchPrios( "damagedleftleg", 26 )
  wsys.switchPrios( "damagedrightleg", 26 )
  wsys.switchPrios( "mangledleftleg", 26 )
  wsys.switchPrios( "mangledrightleg", 26 )
  wsys.switchPrios( "damagedleftarm", 26 )
  wsys.switchPrios( "damagedrightarm", 26 )
  wsys.switchPrios( "mangledleftarm", 26 )
  wsys.switchPrios( "mangledrightarm", 26 )
  wsys.switchPrios( "damagedhead", 26 )
  wsys.switchPrios( "mangledhead", 26 )
end


function wsys.unignoreRestoBreaks()
  wsys.report("Resume curing resto breaks")
  wsys.affPrioRestore( "damagedleftleg" )
  wsys.affPrioRestore( "damagedrightleg" )
  wsys.affPrioRestore( "mangledleftleg" )
  wsys.affPrioRestore( "mangledrightleg" )
  wsys.affPrioRestore( "damagedleftarm" )
  wsys.affPrioRestore( "damagedrightarm" )
  wsys.affPrioRestore( "mangledleftarm" )
  wsys.affPrioRestore( "mangledrightarm" )
  wsys.affPrioRestore( "damagedhead" )
  wsys.affPrioRestore( "mangledhead" )
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Prompt Functions</name><packageName /><script>function wsys.prompt()
 wsys.affs_gained = {}

 if next(wsys.tb.affstogether) then
  wsys.firequeues()
 end -- if
 
 --if health is 0 you died, pause, clear affs, defs and timers
 if wsys.stats.h == 0 and wsys.stats.oh &gt; 0 then
  raiseEvent("You Died")
  wsys.pause()
  --wsys.aff = {}
  for k in pairs(wsys.herbsout) do
   wsys.herbsout[k] = 0
  end -- for
  for k in pairs(wsys.def) do
   wsys.def[k] = false
  end -- for
  wsys.cleartimers()
  
  enableTrigger("Prompt Checks")
 end -- if

 if wsys.stats.h ~= wsys.stats.oh or wsys.stats.m ~= wsys.stats.om then
  wsys.checkManaThreshold()
  if wsys.softpaused and ((wsys.stats.h/wsys.stats.maxh)&lt;(wsys.settings.unsoftpausehealth/100)) then wsys.unsoftpause() end
 end -- if

 if (wsys.stats.h ~= wsys.stats.maxh or wsys.stats.m ~= wsys.stats.maxm) and wsys.aff.recklessness then
   wsys.aff.recklessness = nil
 end

if not wsys.deletefull then
 wsys.promptsub()
else
 deleteLine()
 wsys.deletefull = false
end -- if

wsys.checkAutoMount()
wsys.kaiboostcheck()

if next(wsys.queuestable) then
 wsys.doqueues()
end -- if

end -- func



function wsys.addqueue(que)
 if not table.contains(wsys.queuestable, que) then
  wsys.queuestable[#wsys.queuestable+1] = que
 end -- if
end -- func


function wsys.doqueues()
 if next(wsys.queuestable) then
  for k,v in ipairs(wsys.queuestable) do
   _G["wsys"][v .. "queue"]()
  end -- for
  wsys.queuestable = {}
 end -- if
end -- func

wsys.queuestable = {}
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Salve Functions</name><packageName /><script>function wsys.affcuredsalve(affliction)
 wsys.applying = nil
end -- func


function wsys.emptysalve()
 for k,v in pairs(wsys.tb.cures[wsys.applying]) do
   wsys.predicted[v] = nil
	
   if wsysf.affs[v] then
     wsysf.core.debug.print(2, "Empty salve should clear ".. v.."?")
   end
   disableTrigger(string.title(v) .. " -")
 end -- for
 wsys.pairscheck(wsys.cure)
 wsys.applying = nil
 wsys.cure = nil
 disableTrigger("Empty Salves")
end -- func


function wsys.mendingreset()
 if wsys.applying == "mendinglegs" then
  if wsys.aff.brokenrightleg then
   wsys.aff.damagedrightleg = true
   enableTrigger("Damagedrightleg -")
   wsys.aff.brokenrightleg = nil
   disableTrigger("Brokenrightleg -")
  end -- if
  if wsys.aff.brokenleftleg then
   wsys.aff.damagedleftleg = true
   enableTrigger("Damagedleftleg -")
   wsys.aff.brokenleftleg = nil
   disableTrigger("Brokenleftleg -")
  end -- if
  if wsys.aff.cleg then
   wsys.aff.cleg = nil
   disableTrigger("Cleg -")
   wsys.aff.bleg = true
   enableTrigger("Bleg -")
  end -- if
 elseif wsys.applying == "mendingarms" then
  if wsys.aff.brokenrightarm then
   wsys.aff.brokenrightarm = nil
   disableTrigger("Brokenrightarm -")
   wsys.aff.damagedrightarm = true
   enableTrigger("Damagedrightarm -")
  end -- if
  if wsys.aff.brokenleftarm then
   wsys.aff.brokenleftarm = nil
   disableTrigger("Brokenleftarm -")
   wsys.aff.damagedleftarm = true
   enableTrigger("Damagedleftarm -")
  end -- if
  if wsys.aff.carm then
   wsys.aff.carm = nil
   disableTrigger("Carm -")
   wsys.aff.barm = true
   enableTrigger("Barm -")
  end -- if
 end -- if
 wsys.applying = false
 wsys.cure = nil
 disableTrigger("Empty Salves")
end -- func


function wsys.restoreset()
 if not wsys.lifevision then
  if wsys.applying == "restorationlegs" then
   wsys.aff.damagedleftleg = nil
   wsys.aff.damagedrightleg = nil
   wsys.aff.mangledleftleg = nil
   wsys.aff.mangledrightleg = nil
   wsys.aff.bleg = nil
  elseif wsys.applying == "restorationarms" then
   wsys.aff.damagedleftarm = nil
   wsys.aff.damagedrightarm = nil
   wsys.aff.mangledleftarm = nil
   wsys.aff.mangledrightarm = nil
   wsys.aff.barm = nil
  elseif wsys.applying == "restorationhead" then
   wsys.aff.damagedhead = nil
   wsys.aff.mangledhead = nil
  elseif wsys.applying == "restorationtorso" then
   wsys.aff.mildtrauma = nil
   wsys.aff.serioustrauma = nil
   wsys.aff.heartseed = nil
  end -- if
 end -- if
 wsys.applying = false
 wsys.cure = nil
 disableTrigger("Empty Salves")
end -- func


function wsys.salvebal()
 if wsys.applying then
   wsys.gotBal("salve")
   wsys.applying = false
 end
end -- func

function wsys.applied()
 if wsys.applying then
  if string.starts(wsys.applying, "restoration") then
    if wsys.aff.timeflux then
      wsys.lostBal("salve", 6.3)
    else
      wsys.lostBal("salve", 4.3)
    end
  else
    if wsys.aff.timeflux then
      wsys.lostBal("salve", 1.4)
    else
      wsys.lostBal("salve", 1.9)
    end
  end
 end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Dheal Functions</name><packageName /><script>function wsys.dheal()
 enableTrigger("Dheal")
 if wsys.timer.dhealwait then
   killTimer(tostring(wsys.timer.dhealwait))
 end
 wsys.timer.dhealwait = tempTimer(wsys.myPing() * 2, [[wsys.timer.dhealwait = nil;disableTrigger("Dheal");wsys.lockqueue()]])
 wsys.doOnce("dragonheal", 5 )
end -- func

local dhealprompt = false

function wsys.dhealed()
 if wsys.timer.dhealwait then
  wsys.dhealsub()
  disableTrigger("Dheal")
  wsys.cure = "dheal"
  wsys.lostBal("dragonheal", 20)
  if dhealprompt then killTrigger(tostring(dhealprompt)) end
  if not wsys.aff.blackout then
   dhealprompt = tempLineTrigger(1,1, [[if isPrompt() then wsys.emptydheal() end]])
   if wsys.timer.dhealwait then
     killTimer(tostring(wsys.timer.dhealwait))
   end
   wsys.timer.dhealwait = nil
  end -- if
 end -- if
 if wsys.timer.reactivatecuring then 
   killTimer(wsys.timer.reactivatecuring)
   wsys.timer.reactivatecuring = nil
   send("curing on")
 end
end -- func


function wsys.emptydheal()
 for k,v in pairs(wsys.tb.cures.dheal) do
 	if wsysf.affs[v] then
  	wsysf.core.debug.print(2, "Empty dheal should clear ".. v.."?")
	end
  disableTrigger(string.title(v) .. " -")
 end -- for
 wsys.pairscheck("dheal")
 wsys.cure = nil
end -- func

function wsys.faileddheal()
  if wsys.timer.dhealwait then
    killTimer(tostring(wsys.timer.dhealwait))
    wsys.timer.dhealwait = nil
    wsys.cure = nil
    wsys.lostBal("dragonheal", 2)
  end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Pipe Functions</name><packageName /><script>wsys.pipes = {
 elmpuffs = 4,
 elmtwopuffs = 4,
 valerianpuffs = 4,
 valeriantwopuffs = 4,
 skullcappuffs = 4,
 skullcaptwopuffs = 4,
 smoking = false,
 nonartiepipes = false,
 unlitpipes = false,
}




local pipeprompt = false

function wsys.smoked(herb)
  wsys.lostBal("smoke", 2)
  if herb == "empty" then
   wsys.emptySmoke(wsys.pipes.smoking)
  else
   if wsys.settings.usetransmutation then
     wsys.pipes[wsys.tb.opps[herb] .. "puffs"] = wsys.pipes[wsys.tb.opps[herb] .. "puffs"] - 1
   else
     wsys.pipes[herb.."puffs"] = wsys.pipes[herb.."puffs"] - 1
   end
   wsys.pipes.smoking = false
  end -- if
  wsys.refillqueue()
  if pipeprompt then killTrigger(tostring(pipeprompt)) end
  if not wsys.aff.blackout then
   pipeprompt = tempLineTrigger(1,1, [[if isPrompt() then wsys.emptypipe(wsys.cure) end]])
  end -- if
end -- func

function wsys.emptySmoke(herb)

end --func

function wsys.smokebal()
  if wsys.timer.smokebal and not wsys.lifevision then
    wsys.gotBal("smoke")
  end
end


function wsys.plist(pipe, herb, num)
 if wsys.settings.elmpipe == pipe then
  if string.match(herb, "empty") then
   wsys.pipes.elmpuffs = 0
  else
   wsys.pipes.elmpuffs = tonumber(num)
  end -- if
 elseif wsys.settings.elmtwopipe == pipe then
  if string.match(herb, "empty") then
   wsys.pipes.elmtwopuffs = 0
  else
   wsys.pipes.elmtwopuffs = tonumber(num)
  end -- if
 elseif wsys.settings.valerianpipe == pipe then
  if string.match(herb, "empty") then
   wsys.pipes.valerianpuffs = 0
  else
   wsys.pipes.valerianpuffs = tonumber(num)
  end -- if
elseif wsys.settings.valeriantwopipe == pipe then
  if string.match(herb, "empty") then
    wsys.pipes.valeriantwopuffs = 0
  else
    wsys.pipes.valeriantwopuffs = tonumber(num)
  end
 elseif wsys.settings.skullcappipe == pipe then
  if string.match(herb, "empty") then
   wsys.pipes.skullcappuffs = 0
  else
   wsys.pipes.skullcappuffs = tonumber(num)
  end -- if
 elseif wsys.settings.skullcaptwopipe == pipe then
  if string.match(herb, "empty") then
    wsys.pipes.skullcaptwopuffs = 0
  else
    wsys.pipes.skullcaptwopuffs = tonumber(num)
  end
 end -- if
 if wsys.pipes.unlitpipes and not wsys.timer.lightpipewait then
  wsys.timer.lightpipewait = tempTimer(0.5, [[wsys.timer.lightpipewait = nil]])
  wsys.dofreeadd("light pipes")
 end
 wsys.refillqueue()
end -- func


function wsys.refill(pipe)
  -- check to make sure pipe exists in settings
  --[=[if pipe then
    enableTrigger("Pipe Refilling")
    if wsys.timer.refillwait then
      killTimer(tostring(wsys.timer.refillwait))
    end
      wsys.timer.refillwait = tempTimer(4, [[wsys.timer.refillwait = nil]])
    if wsys.timer.refillfailsafe then
      killTimer(tostring(wsys.timer.refillfailsafe))
    end
    wsys.timer.refillfailsafe = tempTimer(4, [[wsys.timer.refillfailsafe = nil;wsys.refillqueue()]])

    -- herb or mineral
    local pherb = wsys.pipecurative(pipe)
    -- set up refill string
    local rfstring = "empty " .. pipe
    -- is the herb outrifted?
    if wsys.herbsout[pherb] == 0 then
      rfstring = "outr " .. pherb .. "/" .. rfstring
    end
    -- complete the refill string
    rfstring = rfstring .. "/put " .. pherb .. " in " .. pipe
    -- add to dofree
    wsys.dofreeadd(rfstring)
    
    -- light pipe if needed
    if wsys.pipes.nonartiepipes and not wsys.timer.lightpipewait then
      wsys.timer.lightpipewait = tempTimer(0.5, [[wsys.timer.lightpipewait = nil]])
      wsys.dofreeadd("light pipes")
    end
  end]=]
end


function wsys.refilled(herb)
  disableTrigger("Pipe Refilling")

  if herb == "cinnabar" or herb == "elm" then
    if wsys.pipes.elmpuffs &lt;= 3 then
      wsys.pipes.elmpuffs = 10
    elseif wsys.pipes.elmtwopuffs &lt;= 3 then
      wsys.pipes.elmtwopuffs = 10
    end
  elseif herb == "malachite" or herb == "skullcap" then
    if wsys.pipes.skullcappuffs &lt;= 2 then
      wsys.pipes.skullcappuffs = 10
    elseif wsys.pipes.skullcaptwopuffs &lt;= 2 then
      wsys.pipes.skullcaptwopuffs = 10
    end
  elseif herb == "realgar" or herb == "valerian" then
    if wsys.pipes.valerianpuffs &lt;= 3 then
      wsys.pipes.valerianpuffs = 10
    elseif wsys.pipes.valeriantwopuffs &lt;= 3 then
      wsys.pipes.valeriantwopuffs = 10
    end
  end -- if

  killTimer(tostring(wsys.timer.refillwait))
  wsys.timer.refillwait = nil
  killTimer(tostring(wsys.timer.refillfailsafe))
  wsys.timer.refillfailsafe = nil
  wsys.refillqueue()
end -- func


function wsys.refilledempty(herb)
  if wsys.timer.refillwait then
    disableTrigger("Pipe Refilling")
    if wsys.timer.refillwait then
      killTimer(tostring(wsys.timer.refillwait))
    end
    wsys.timer.refillwait = nil
    wsys.herbsout[herb] = 0
    wsys.osend("outr " .. herb)
    wsys.refillqueue()
  end -- if
end -- func
  


function wsys.refillqueue()
  if wsys.cancure() and not wsys.timer.refillwait and not wsys.tanglecheck() and not wsys.damagedarms() and not wsys.aff.paralysis then
    if not wsys.def.selfishness then
      if wsys.pipes.elmpuffs &lt;= 3 then
        wsys.refill(wsys.settings.elmpipe)
      elseif wsys.pipes.valerianpuffs &lt;= 3 then
        wsys.refill(wsys.settings.valerianpipe)
      elseif wsys.pipes.skullcappuffs &lt;= 2 then
        wsys.refill(wsys.settings.skullcappipe)
      elseif wsys.pipes.elmtwopuffs &lt;= 3 then
        wsys.refill(wsys.settings.elmtwopipe)
      elseif wsys.pipes.valeriantwopuffs &lt;= 3 then
        wsys.refill(wsys.settings.valeriantwopipe)
      elseif wsys.pipes.skullcaptwopuffs &lt;= 2 then
        wsys.refill(wsys.settings.skullcaptwopipe)
      end -- if
    elseif wsys.def.selfishness then
      if wsys.pipes.elmpuffs == 0 then
        wsys.refill(wsys.settings.elmpipe)
      elseif wsys.pipes.valerianpuffs == 0 then
        wsys.refill(wsys.settings.valerianpipe)
      elseif wsys.pipes.skullcappuffs == 0 then
        wsys.refill(wsys.settings.skullcappipe)
      elseif wsys.pipes.elmtwopuffs == 0 then
        wsys.refill(wsys.settings.elmtwopipe)
      elseif wsys.pipes.valeriantwopuffs == 0 then
        wsys.refill(wsys.settings.valeriantwopipe)
      elseif wsys.pipes.skullcaptwopuffs == 0 then
        wsys.refill(wsys.settings.skullcaptwopipe)
      end -- if
    end
  end -- if
end -- func

function wsys.pipelist()
  send("pipelist")
end --func

function wsys.emptyValerianPipes()
  if wsys.pipes.valerianpuffs == 0 and wsys.pipes.valeriantwopuffs == 0 then
    return true
  else
    return false
  end
end

function wsys.emptypipe(herb)
 if herb ~= "skullcap" and herb ~= "malachite" then
  for k,v in pairs(wsys.tb.cures[herb]) do
    wsys.predicted[v] = nil
	
    if wsysf.affs[v] then
      wsysf.core.debug.print(2, "Empty smoke should clear ".. v .."?")
    end
    disableTrigger(string.title(v) .. " -")
  end -- for
 end --if
 wsys.cure = nil
end -- if

-- return the herb for the pipe (string)
function wsys.pipecurative(pipe)
  local ans = ""
  if pipe == wsys.settings.elmpipe or pipe == wsys.settings.elmtwopipe then
    ans = "elm"
  elseif pipe == wsys.settings.valerianpipe or pipe == wsys.settings.valeriantwopipe then
    ans = "valerian"
  elseif pipe == wsys.settings.skullcappipe or pipe == wsys.settings.skullcaptwopipe then
    ans = "skullcap"
  end

  if wsys.settings.usetransmutation then
    ans = wsys.tb.opps[ans]
  end

  return ans
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Clot Functions</name><packageName /><script>wsys.bleeding = 0
wsys.bleedtype = "health"

function wsys.clot()
 if wsys.timer.clotwait then
  killTimer(tostring(wsys.timer.clotwait))
 end
 wsys.timer.clotwait = tempTimer(wsys.myPing() * 2, [[wsys.timer.clotwait = nil;wsys.addqueue("clot")]])
 wsys.salviaSend("clot", false)
end -- func

function wsys.clotd()
  if wsys.bleeding &lt;= 30 then
    wsys.bleeding = 0
  else
    wsys.bleeding = wsys.bleeding - 30
  end
  
  wsys.clotqueue()
end -- func

function wsys.clotcure()
  wsys.timer.bleedingTimer = nil
  wsys.cure = "clot"
  wsys.bleeding = 0
  if wsys.timer.bleedingTimer then
   killTimer(wsys.timer.bleedingTimer)
   wsys.timer.bleedingTimer = nil
  end
end -- func

function wsys.bleedingfor(amount, type)
  --[=[wsys.affadd("bleeding")
  wsys.bleeding = tonumber(amount)
  wsys.bleedtype = tostring(type)
  if wsys.timer.bleedingTimer then
   killTimer(wsys.timer.bleedingTimer)
  end
  wsys.timer.bleedingTimer = tempTimer(15, [[wsys.timer.bleedingTimer = nil;wsys.clotcure()]])]=]
end --func

--clots as much as you will allow according to your mana threshold.
function wsys.maxclot()

  local manaleft = wsys.stats.m - wsys.manathreshold()
  local clotnum = 0
  local aliasstring = ""

  if wsys.settings.magirobes then
    clotnum = math.floor((manaleft-100)/40)
  else
    clotnum = math.floor((manaleft-100)/60)
  end

  if clotnum &gt; 0 then
    aliasstring = "clot"
    clotnum = clotnum - 1
  end

  while clotnum &gt; 0 do
    aliasstring = aliasstring .. "/clot"
    clotnum = clotnum - 1
  end

  send("setalias maxclot " .. aliasstring)
  send("maxclot")

end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Fracture Functions</name><packageName /><script>function wsys.fracturecount()
  return wsysf.affv.skullfractures + wsysf.affv.crackedribs + wsysf.affv.torntendons + wsysf.affv.wristfractures
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Humor levels</name><packageName /><script>--Aff pools:
--Choleric: Nausea, sensitivity, slickness.
--Melancholic: stupidity, anorexia, impatience.
--Phlegmatic: clumsiness, weariness, asthma.
--Sanguine: Haemophilia, recklessness, paralysis.

wsys.gingerlevel = 1

local humourafftable = {
  "nausea", "sensitivity", "slickness", 
  "stupidity", "anorexia", "impatience",
  "clumsiness", "weariness", "asthma",
  "haemophilia", "recklessness", "paralysis",
  } 

function wsys.humourReset(h)
  --local humour = "tempered" .. h
  --wsys.aff[humour] = nil
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Concentrate Functions</name><packageName /><script>function wsys.concentrated()
  wsys.cure = "concentrate"
  wsys.affcured("disrupted")
  wsys.cure = nil
end -- func

function wsys.concentrate()
  send("curing queue add concentrate")
end
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Knight Curing</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Rage functions</name><packageName /><script>function wsys.rage()
 enableTrigger("Rage")
 if wsys.timer.ragewait then
  killTimer(tostring(wsys.timer.ragewait))
 end
 wsys.timer.ragewait = tempTimer(wsys.myPing() * 4, [[wsys.timer.ragewait = nil;disableTrigger("Rage")]])
 wsys.salviaSend("rage")
end -- func

local rageprompt = false

function wsys.raged()
  wsys.cure = "rage"
  if not wsys.aff.blackout then
   if wsys.timer.ragewait then
    killTimer(tostring(wsys.timer.ragewait))
   end
   wsys.timer.ragewait = nil
   disableTrigger("Rage")
   wsys.lostBal("rage", 11)
   if rageprompt then killTrigger(tostring(rageprompt)) end
   rageprompt = tempLineTrigger(1,1, [[if isPrompt() then wsys.emptyrage() end]])
  end -- if
end -- func


function wsys.emptyrage()
 if not wsys.bals.rage then
  disableTrigger("Rage")
  if wsys.timer.ragewait then
   killTimer(tostring(wsys.timer.ragewait))
  end
  wsys.timer.ragewait = nil
  for k,v in pairs(wsys.tb.cures.rage) do
    if wsysf.affs[v] then
      wsysf.core.debug.print(2, "Empty rage should clear ".. v.."?")
    end
    disableTrigger(string.title(v) .. " -")
  end -- for
 end -- if
end -- func

function wsys.ragebalgained()
  wsys.gotBal("rage")
end

function wsys.ragedoffbal()
  lostBal("rage", 10)
end
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Monk Curing Functions</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Fitness Functions</name><packageName /><script>function wsys.fitness()
 enableTrigger("Fitness")
 if wsys.timer.fitnesswait then
   killTimer(tostring(wsys.timer.fitnesswait))
 end
 wsys.timer.fitnesswait = tempTimer(5, [[wsys.timer.fitnesswait = nil;disableTrigger("Fitness");wsys.addqueue("lock")]])
 wsys.doOnce("fitness", 5 )
end -- func


function wsys.fitnessd()
 if wsys.timer.fitnesswait then
  disableTrigger("Fitness")
  if wsys.timer.fitnesswait then
   killTimer(tostring(wsys.timer.fitnesswait))
  end
  wsys.timer.fitnesswait = nil
  wsys.cure = "fitness"
  wsys.affcured("asthma")
  wsys.cure = nil
  wsys.lostBal("fitness", 10)
 end -- if
 if wsys.timer.reactivatecuring then 
  killTimer(wsys.timer.reactivatecuring)
  wsys.timer.reactivatecuring = nil
  send("curing on")
 end
end -- func

function wsys.aeonfitness()
 enableTrigger("Fitness")
 if wsys.timer.fitnesswait then
   killTimer(tostring(wsys.timer.fitnesswait))
 end
 wsys.timer.fitnesswait = tempTimer(1 + wsys.myPing()*1.5, [[wsys.timer.fitnesswait = nil;disableTrigger("Fitness")]])
 wsys.salviaSend("fitness on")
end

function wsys.failedfitness()
  if wsys.timer.fitnesswait then
    killTimer(tostring(wsys.timer.fitnesswait))
    wsys.timer.fitnesswait = nil
    wsys.cure = nil
    lostBal("fitness", 1)
  end
end


function wsys.emptyfitness()
 if wsys.timer.fitnesswait then
  disableTrigger("Fitness")
  if wsys.timer.fitnesswait then
   killTimer(tostring(wsys.timer.fitnesswait))
   wsys.timer.fitnesswait = nil
  end
  wsys.aff.asthma = nil
  disableTrigger("Asthma -")
  wsys.pairscheck("fitness")
 end -- if
end -- func

</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Occultists Curing Functions</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Fool Functions</name><packageName /><script>function wsys.fool()
 enableTrigger("Fool")
 if wsys.timer.foolwait then
   killTimer(tostring(wsys.timer.foolwait))
 end
 wsys.timer.foolwait = tempTimer(wsys.waittime, [[wsys.timer.foolwait = nil;disableTrigger("Fool");wsys.lockqueue()]])
 wsys.salviaSend("outd fool", "charge fool", "fling fool at me")
end -- func

local foolprompt = false

function wsys.fooled()
 if wsys.timer.foolwait then
--  foolsub()
  wsys.lostBal("fool", 62)
  wsys.cure = "fool"
  if foolprompt then killTrigger(tostring(foolprompt)) end
  if not wsys.aff.blackout then
   if wsys.timer.foolwait then
    killTimer(tostring(wsys.timer.foolwait))
   end
   wsys.timer.foolwait = nil
   foolprompt = tempLineTrigger(1,1, [[if isPrompt() then wsys.emptyfool() end]])
  end -- if
 end -- if
end -- func


function wsys.emptyfool()
 for k,v in pairs(wsys.tb.cures.fool) do
  if wsysf.affs[v] then
   wsysf.core.debug.print(2, "Empty fool should clear ".. v.."?")
 end
  disableTrigger(string.title(v) .. " -")
 end -- for
 wsys.pairscheck("dheal")
 wsys.cure = nil
end -- func


function wsys.foolbal(event, bal)
 if event == "got bal" and bal == "fool" then
   disableTrigger("Fool")
   wsys.lockqueue()
 end
end -- func

registerAnonymousEventHandler("got bal", "wsys.foolbal")
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Class Specifics</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>Monk</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Transmute Queue</name><packageName /><script>wsys.transmuting = false

function wsys.transmutequeue()
	if wsys.settings.monktransmute then
	if wsys.cancure() and wsys.isClass("monk") and not wsys.aff.prone and not wsys.aff.blackout and not wsys.aff.recklessness then
	local transmuteToHP = math.ceil(wsys.stats.maxh * (wsys.settings.monktransmuteto / 100))
	if wsys.stats.m&gt;wsys.manathreshold() and (not (wsys.aff.aeon or wsys.retard)) then
		local manaleft = wsys.stats.m - wsys.manathreshold()
		local missingHealth = missinghealth or (transmuteToHP - gmcp.Char.Vitals.hp)
		--is there any health to transmute?
		if missingHealth &gt; 1 then
			--check if health needed is greater than mana left
			if missingHealth &gt; manaleft then
				wsys.transmuteHelper(manaleft)
				wsys.transmuting = true
			else
				--have enough mana to 
				wsys.transmuteHelper(missingHealth)
				wsys.transmuting = true
			end
		end
	end
	end -- if cancure check
	end
end

function wsys.transmuteHelper(n)
	if n &gt; 1000 and wsys.stats.m &gt; 1000 then
		wsys.osend("transmute " .. 1000)
		n = n - 1000
		wsys.transmuteHelper(n)
	else
		wsys.osend("transmute " .. n)
		wsys.transmuting = false
	end
end

function wsys.transmuted()

end


function wsys.transmuteToFull()
	if wsys.stats.m&gt;wsys.manathreshold() and (not svo.inslowcuringmode()) then
		local missingHealth = gmcp.Char.Vitals.maxhp - gmcp.Char.Vitals.hp
		--echo("missinghealth calced " .. missingHealth)
		wsys.transmuteHelper(missingHealth)
	end
end

--transmute 200 if mana is full and health not
function wsys.miniTransmute()
	if (wsys.stats.h &lt; (wsys.stats.maxh - 200)) and (wsys.stats.h &gt;= (wsys.stats.maxh * 0.99)) then
		wsys.osend("transmute 200")
	end
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Kaido Deaf and Blind</name><packageName /><script>function wsys.deafHerbQueueCount()

	local herbsToGo = 0
	
	if wsys.aff.paralysis then herbsToGo = herbsToGo + 1 end
	if wsys.aff.impatience then herbsToGo = herbsToGo + 1 end
	if wsys.aff.scytherus then herbsToGo = herbsToGo + 1 end
	if wsys.aff.asthma then herbsToGo = herbsToGo + 1 end
	if wsys.aff.sensitivity then herbsToGo = herbsToGo + 1 end
	if wsys.aff.darkshade then herbsToGo = herbsToGo + 1 end
	if wsys.aff.hypersomnia then herbsToGo = herbsToGo + 1 end
	if wsys.aff.hallucinations then herbsToGo = herbsToGo + 1 end
	if wsys.aff.confusion then herbsToGo = herbsToGo + 1 end
	if wsys.aff.stupidity then herbsToGo = herbsToGo + 1 end
	if wsys.aff.epilepsy then herbsToGo = herbsToGo + 1 end
	if wsys.aff.recklessness then herbsToGo = herbsToGo + 1 end
	if wsys.aff.masochism then herbsToGo = herbsToGo + 1 end
	if wsys.aff.nausea then herbsToGo = herbsToGo + 1 end
	if wsys.aff.haemophilia then herbsToGo = herbsToGo + 1 end
	if wsys.aff.lethargy then herbsToGo = herbsToGo + 1 end
	if wsys.aff.loneliness then herbsToGo = herbsToGo + 1 end
	if wsys.aff.shyness then herbsToGo = herbsToGo + 1 end
	if wsys.aff.recklessness then herbsToGo = herbsToGo + 1 end
	if wsys.aff.masochism then herbsToGo = herbsToGo + 1 end
	if not wsys.def.blindness then herbsToGo = herbsToGo + 1 end
	
	return herbsToGo
	
end


function wsys.deafOrHerb()
	if wsys.deafHerbQueueCount() &gt;= 1 and not wsys.def.deafness and wsys.isClass("monk") then
		useDeaf()
	end
end

function wsys.useDeaf()
	if not wsys.timer.monkdeafing then
		wsys.timer.monkdeafing = tempTimer(6.3, [[wsys.timer.monkdeafing = nil]])
		wsys.osend("deaf")
	end
end

function wsys.blindOrHerb()
	if wsys.deafHerbQueueCount() &gt;= 3 and not wsys.def.blindness and wsys.isClass("monk") then
		wsys.useBlind()
	end
end

function wsys.useBlind()
	if not wsys.timer.monkblinding then
		wsys.timer.monkblinding = tempTimer(6.4, [[wsys.timer.monkblinding = nil]])
		wsys.osend("blind")
	end
end
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Monk Defenses</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Kai Boost</name><packageName /><script>wsys.kaiboost_flags = wsys.kaiboost_flags or {}
function wsys.kaiboostcancel()
  wsys.kaiboost_flags.disabled = true
  send("curing priority defence kaiboost reset", false)
end

function wsys.kaiboostcheck()
 if wsys.kaiboost_flags.disabled and wsys.cancure() and wsys.isClass("monk") and wsys.settings.keepup[wsys.profile]["monk"]["kaiboost"] and 
    not wsys.def.kaiboost and wsys.stats.kai &gt;= 11 then
  wsys.kaiboost_flags.disabled = false
  wsys.enableSSDef( "kaiboost", wsys.settings.defprio[wsys.profile][wsys.myClass()].kaiboost, true )
 end -- if
end -- func
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Monk defenses</name><packageName /><script>--TEKURA
--Stances
wsys.def.scorpionstance = false
wsys.def.dragonstance = false
wsys.def.bearstance = false
wsys.def.catstance = false
wsys.def.eaglestance = false
wsys.def.horsestance = false
wsys.def.ratstance = false

--Blocks
wsys.def.bodyblock = false
wsys.def.pinchblock = false
wsys.def.evadeblock = false

--Guarding


--KAIDO

wsys.def.kaitrance = false  --done
wsys.def.kaiboost = false  --done
wsys.def.numbness = false
wsys.def.dodging = false  --done
wsys.def.splitmind = false
wsys.def.boosting = false
wsys.def.vitality = false
wsys.def.regeneration = false





--TELEPATHY
wsys.def.mindcloak = false
wsys.def.mindnet = false
</script><eventHandlerList /></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Serpent</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Shrugging</name><packageName /><script>--check if you should shrug or not.
--run this on every aff gain and loss event
function wsys.autoshrugcheck()
  if wsys.settings.autoshrugging and wsys.isClass("serpent") and wsys.cancure() then
    local saffs = wsys.shrugAffs()
    if saffs &gt;= wsys.settings.autoshrugat and not wsys.aff.weariness and wsys.bals.shrugging and not wsys.timer.shrugwait then
      --queue the shrug here
      wsys.shrug()
    elseif saffs &lt; wsys.settings.autoshrugat and wsys.timer.shrugwait then
      wsys.cancelshrug()
    end
  end
end

registerAnonymousEventHandler("got aff", "wsys.autoshrugcheck")
registerAnonymousEventHandler("lost aff", "wsys.autoshrugcheck")

wsys.shrugqueue = "bal"

function wsys.shrug()
  --triggers for shrugging
  enableTrigger("Shrugged")
  --shrugwait timer
  wsys.timer.shrugwait = tempTimer(5, [[wsys.timer.shrugwait = nil;disableTrigger("Shrugged")]])
  --queue the shrug
  wsys.dofreefirst("shrugging")
  wsys.shrugqueue = wsys.selectDofreeQueue()

end


function wsys.cancelshrug()
  --remove 'shrugging' from dofree queue.
  --we used DOFREEFIRST, it'll always be at #1
  --so just replace the #1 of rememberedQueue (eq or bal) with nothing!
  if wsys.timer.shrugwait then
    --kill the timer and nil it
    killTimer(tostring(wsys.timer.shrugwait))
    wsys.timer.shrugwait = nil
    --disable shrugging triggers
    disableTrigger("Shrugged")
    --remove from queue via hold breath
    send("queue replace " .. wsys.shrugqueue .. " 1 hold breath")
  end

end

local shrugprompt = false

function wsys.shrugged()
  if wsys.timer.shrugwait and not wsys.lifevision then
    wsys.cure = "shrugging"
    killTimer(tostring(wsys.timer.shrugwait))
    wsys.timer.shrugwait = nil
    wsys.lostBal("shrugging", 10.5)
    if shrugprompt then killTrigger(tostring(shrugprompt)) end
    shrugprompt = tempLineTrigger(1, 1, [[if isPrompt() then wsys.emptyshrug() end]])
    disableTrigger("Shrugged")
  end
end


function wsys.emptyshrug()
  if wsys.timer.shrugwait then
    disableTrigger("Shrug")
    killTimer(tostring(wsys.timer.shrugwait))
    wsys.timer.shrugwait = nil
    for k,v in pairs(wsys.tb.cures.shrugging) do
      if wsysf.affs[v] then
        wsysf.core.debug.print(2, "Empty shrug should clear ".. v.."?")
      end
      disableTrigger(string.title(v) .. " -")
    end
  end
end

function wsys.shrugbalgained()
  wsys.gotBal("shrugging")
  wsys.lockqueue()
end

function wsys.shruggedoffbal()
  if wsys.timer.shrugwait then killTimer(tostring(wsys.timer.shrugwait)) end
  wsys.timer.shrugwait = nil
  wsys.lostBal("shrugging", 10)
end

function wsys.shrugfail()
  if wsys.timer.shrugwait then
    killTimer(tostring(wsys.timer.shrugwait))
    wsys.timer.shrugwait = nil
    wsys.affadd("weariness")
  end
end


function wsys.shrugAffs()
  local c = 0

  if wsys.aff.addiction then c = c + 1 end
  if wsys.aff.agoraphobia then c = c + 1 end
  if wsys.aff.anorexia then c = c + 1 end
  if wsys.aff.asthma then c = c + 1 end
  if wsys.aff.carm then c = c + 1 end
  if wsys.aff.claustrophobia then c = c + 1 end
  if wsys.aff.cleg then c = c + 1 end
  if wsys.aff.clumsiness then c = c + 1 end
  if wsys.aff.confusion then c = c + 1 end
  if wsys.aff.brokenrightleg then c = c + 1 end
  if wsys.aff.darkshade then c = c + 1 end
  if wsys.aff.dissonance then c = c + 1 end
  if wsys.aff.dizziness then c = c + 1 end
  if wsys.aff.epilepsy then c = c + 1 end
  if wsys.aff.generosity then c = c + 1 end
  if wsys.aff.haemophilia then c = c + 1 end
  if wsys.aff.hallucinations then c = c + 1 end
  if wsys.aff.healthleech then c = c + 1 end
  if wsys.aff.hypersomnia then c = c + 1 end
  if wsys.aff.hypochondria then c = c + 1 end
  if wsys.aff.impatience then c = c + 1 end
  if wsys.aff.lethargy then c = c + 1 end
  if wsys.aff.loneliness then c = c + 1 end
  if wsys.aff.lovers then c = c + 1 end
  if wsys.aff.justice then c = c + 1 end
  if wsys.aff.manaleech then c = c + 1 end
  if wsys.aff.masochism then c = c + 1 end
  if wsys.aff.nausea then c = c + 1 end
  if wsys.aff.pacified then c = c + 1 end
  if wsys.aff.paralysis then c = c + 1 end
  if wsys.aff.paranoia then c = c + 1 end
  if wsys.aff.peace then c = c + 1 end
  if wsys.aff.recklessness then c = c + 1 end
  if wsys.aff.scytherus then c = c + 1 end
  if wsys.aff.sensitivity then c = c + 1 end
  if wsys.aff.shivering then c = c + 1 end
  if wsys.aff.shyness then c = c + 1 end
  if wsys.aff.slickness then c = c + 1 end
  if wsys.aff.stupidity then c = c + 1 end
  if wsys.aff.vertigo then c = c + 1 end

  return c
end




</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Bard</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /></ScriptGroup></ScriptGroup></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>mudlet-mapper</name><packageName>mudlet-mapper</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>Mudlet Mapper</name><packageName /><script>mudlet = mudlet or {}; mudlet.mapper_script = true</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Initialize</name><packageName /><script>mmp.startup()
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Lock Area</name><packageName /><script>-- Lock Area

mmp.locked = mmp.locked or {}
mmp.lastLockSearch = mmp.lastLockSearch or nil

function mmp.doLockArea(search)
	local areaList
	if search ~= nil then
		local r = rex.new(string.lower(search))
		mmp.lastLockSearch = search
		for name, id in pairs(getAreaTable()) do
			if r:match(string.lower(name)) then
				areaList = areaList or {}
				areaList[name] = id
			end
		end
		if areaList == nil then
			mmp.echo("'" .. search .. "' did not match any known areas!")
			return
		end
	else
		mmp.lastLockSearch = nil
		areaList = getAreaTable()
	end

	for name, id in pairs(areaList) do
		mmp.echon(name .. string.rep(" ", 40 - string.len(name)))
		if not mmp.locked[id] then
			setFgColor(0, 200, 0)
			setUnderline(true)
			echoLink("Lock!", [[mmp.lockArea( ']] .. name:gsub("'", [[\']]) .. [[', true )]], "Click to lock area '" .. name .. "'", true)
		else
			setFgColor(200, 0, 0)
			setUnderline(true)
			echoLink("Unlock!", [[mmp.lockArea( ']] .. name:gsub("'", [[\']]) .. [[', false )]], "Click to unlock area '" .. name .. "'", true)
		end
	end

	if not search then
		echo"\n\n" mmp.echo("Use &lt;green&gt;arealock &lt;area&gt;&lt;white&gt; to filter areas.")
	end
end

function mmp.lockArea(name, lock, dontreshow)
	local areas = getAreaTable()
	local rooms = getAreaRooms(areas[name]) or {}
    local lockRoom = lockRoom
    local count = 0
	for _, room in pairs(rooms) do
		lockRoom(room, lock)
        count = count + 1
	end

	mmp.locked[areas[name]] = lock and true or nil
	mmp.echo(string.format("Area '%s' %slocked! All %s room%s within it.", name, (lock and '' or 'un'), count, (count == 1 and '' or 's')))

	if not dontreshow then mmp.doLockArea(mmp.lastLockSearch) end
end



</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Load settings</name><packageName /><script>-- mmp = mudlet mapper namespace
mmp =
  mmp or
  {
    paused = false,
    autowalking = false,
    currentroom = 0,
    currentroomname = "(unknown)",
    firstRun = true,
    specials = {},
    ferry_rooms = {},
  }
speedWalkWatch = createStopWatch()
-- populated by Mudlet from getPath() and gotoRoom()
speedWalkPath = speedWalkPath or {}
speedWalkDir = speedWalkDir or {}
speedWalkCounter = 0
-- actually used by the mapper for walking
mmp.speedWalk = mmp.speedWalk or {}
mmp.speedWalkPath = mmp.speedWalkPath or {}
mmp.speedWalkDir = mmp.speedWalkDir or {}
mmp.lagtable =
  {
    [1] = {description = "Normal, default level.", time = 0.5},
    [2] = {description = "Decent, but slightly laggy.", time = 1},
    [3] = {description = "Noticeably laggy with occasional spikes.", time = 2},
    [4] = {description = "Bad. Terrible. Terribad.", time = 5},
    [5] = {description = "Carrier Pigeon", time = 10},
  }
local newversion = "21.12.2"
if mmp.version and mmp.version ~= newversion then
  if not mmp.game then
    mmp.echo("Mapper script updated - Thanks! I don't know what game are you connected to, though - so please reconnect, if you could.")
  else
    mmp.echo("Mapper script updated - thanks! You don't need to restart.")
  end
end
mmp.version = newversion

function mmp.startup()
  if not mmp.firstRun then
    return
  end
  local private_settings = {}

  --General settings

  private_settings["echocolour"] = createOption("cyan", mmp.changeEchoColour, {"string"}, "Set the color for room number echos?", function(newSetting) return color_table[newSetting] ~= nil end)
  private_settings["crowdmap"] = createOption(false, mmp.changeMapSource, {"boolean"}, "Use a crowd-sourced map instead of IREs default?", nil, {achaea = true, starmourn = true, lusternia = true, stickmud = true, asteria = true, imperian = true})
  private_settings["showcmds"] = createOption(true, mmp.changeBoolFunc, {"boolean"}, "Show walking commands?")
  private_settings["laglevel"] = createOption(1, mmp.changeLaglevel, {"number"}, "How laggy is your connection, (fast 1&lt;-&gt;5 slow)?", mmp.verifyLaglevel)
  private_settings["slowwalk"] = createOption(false, mmp.setSlowWalk, {"boolean"}, "Walk slowly instead of as quick as possible?")
  private_settings["updatemap"] = createOption(true, mmp.changeUpdateMap, {"boolean"}, "Check for new maps from your MUD?")
  private_settings["waterwalk"] = createOption(true, mmp.setWaterWalk, {"boolean"}, "Have waterwalk (don't avoid water)?", nil, {achaea = true})

  --Settings that lock things

  private_settings["lockpathways"] = createOption(true, mmp.lockPathways, {"boolean"}, "Lock pathway exits?", nil, {lusternia = true})
  private_settings["locksewers"] = createOption(false, mmp.lockSewers, {"boolean"}, "Lock all sewers?", nil, {achaea = true})
  private_settings["lockspecials"] = createOption(false, mmp.lockSpecials, {"boolean"}, "Lock all special exits?")
  private_settings["lockwormholes"] = createOption(true, mmp.lockWormholes, {"boolean"}, "Lock all wormholes?", nil, {achaea = true, imperian = true, aetolia = true})

  --Sprint movement

  private_settings["dash"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Dash?", nil, {achaea = true, imperian = true, aetolia = true})
  private_settings["sprint"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Sprint?")
  private_settings["gallop"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Gallop?")
  private_settings["runaway"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Jester Runaway?", nil, {achaea = true})

  --Achaea wings and things

  private_settings["winglanguage"] = createOption("", mmp.setWingsLanguage, {"string"}, "Speak non-default language for wings:", nil, {achaea = true})
  private_settings["pebble"] = createOption(false, mmp.lockPebble, {"boolean"}, "Make use of your enchanted pebble?", nil, {achaea = true})
  private_settings["removewings"] = createOption(true, mmp.setWingsRemoval, {"boolean"}, "Remove Wings after using them?", nil, {achaea = true, imperian = true})
  private_settings["harness"] = createOption(false, mmp.setHarness, {"boolean"}, "Use Stratospheric Harness?", nil, {achaea = true})
  private_settings["duantahar"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Chenubian Wings?", nil, {achaea = true})
  private_settings["duanatharan"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Atavian Wings?", nil, {achaea = true})
  private_settings["duanathar"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Eagle Wings?", nil, {achaea = true})
  private_settings["duanatharic"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Island Wings?", nil, {achaea = true})
  private_settings["soar"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Aero Soar?", nil, {achaea = true})
  private_settings["shackle"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Take off shackle?", nil, {achaea = true})
  private_settings["universe"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Universe Tarot?", nil, {achaea = true})
  private_settings["gare"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Gare?", nil, {achaea = true})

  --Wings pathfinding improvements

  private_settings["betterwings"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Better Wings pathfinding?", nil, {achaea = true})

  --Achaea Orb of Confinement

  private_settings["orbashtan"] = createOption(false, function() mmp.setOrb("ashtan") end, {"boolean"}, "Orb of Confinement active in Ashtan?", nil, {achaea = true})
  private_settings["orbcyrene"] = createOption(false, function() mmp.setOrb("cyrene") end, {"boolean"}, "Orb of Confinement active in Cyrene?", nil, {achaea = true})
  private_settings["orbeleusis"] = createOption(false, function() mmp.setOrb("eleusis") end, {"boolean"}, "Orb of Confinement active in Eleusis?", nil, {achaea = true})
  private_settings["orbhashan"] = createOption(false, function() mmp.setOrb("hashan") end, {"boolean"}, "Orb of Confinement active in Hashan?", nil, {achaea = true})
  private_settings["orbmhaldor"] = createOption(false, function() mmp.setOrb("mhaldor") end, {"boolean"}, "Orb of Confinement active in Mhaldor?", nil, {achaea = true})
  private_settings["orbtargossas"] = createOption(false, function() mmp.setOrb("targossas") end, {"boolean"}, "Orb of Confinement active in Targossas?", nil, {achaea = true})

  --Imperian wings

  private_settings["shekinah"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Seraphim Wings?", nil, {imperian = true})
  private_settings["suriel"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Orphanim Wings?", nil, {imperian = true})

  --Lusternia bixes

  private_settings["torus"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Torus?", nil, {lusternia = true})
  private_settings["prism"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your transplanar prism?", nil, {lusternia = true})
  private_settings["cubix"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Cubix?", nil, {lusternia = true})
  private_settings["medallion"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Medallion?", nil, {lusternia = true})

  --Lusternia Bubblixes
  private_settings["twist"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Mt. Dio Bix?", nil, {lusternia = true})
  private_settings["figurine"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Icewynd Bix?", nil, {lusternia = true})
  private_settings["periscope"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Aquagoria Bix?", nil, {lusternia = true})
  private_settings["pebble"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Lyraa Bix?", nil, {lusternia = true})
  private_settings["shard"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Xion Bix?", nil, {lusternia = true})
  private_settings["tibia"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Cankermore Bix?", nil, {lusternia = true})
  private_settings["mud"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Mucklemarsh Bix?", nil, {lusternia = true})
  private_settings["cookie"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Crumkindivia Bix?", nil, {lusternia = true})
  private_settings["icicle"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Frosticia Bix?", nil, {lusternia = true})
  private_settings["screwdriver"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Facility Bix?", nil, {lusternia = true})
  private_settings["snowglobe"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Tree of Trees Bix?", nil, {lusternia = true})
  private_settings["head"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Bottledowns Bix?", nil, {lusternia = true})
  private_settings["wheel"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Dramube Bix?", nil, {lusternia = true})

  --lusternia athergoop setButtons

  private_settings["buttons"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of Aethergoop Buttons?", nil, {lusternia = true})

  --Lusternia Curio collections

  private_settings["bonecurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Bone curios?", nil, {lusternia = true})
  private_settings["facecurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Face curios?", nil, {lusternia = true})
  private_settings["feathercurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Feather curios?", nil, {lusternia = true})
  private_settings["figurecurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Figure curios?", nil, {lusternia = true})
  private_settings["flowercurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Flower curios?", nil, {lusternia = true})
  private_settings["fluttercurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Flutter curios?", nil, {lusternia = true})
  private_settings["toolcurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Tool curios?", nil, {lusternia = true})
  private_settings["vernalcurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Vernal curios?", nil, {lusternia = true})
  private_settings["utensilcurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Utensil curios?", nil, {lusternia = true})
  private_settings["toycurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Toy curios?", nil, {lusternia = true})
  private_settings["soullesscurio"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Soulless curios?", nil, {lusternia = true})

  --Lusternia epic quest bixes

  private_settings["fingerblade"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Fingerblade?", nil, {lusternia = true})
  private_settings["blossom"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Flame of dae'Seren?", nil, {lusternia = true})
  private_settings["belt"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Belt?", nil, {lusternia = true})
  private_settings["mandala"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Mandala?", nil, {lusternia = true})
  private_settings["mantle"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Mantle?", nil, {lusternia = true})
  private_settings["key"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Key?", nil, {lusternia = true})

  --Lusternia other travel things
  private_settings["compass"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use the Compass of the Basin?", nil, {lusternia = true})
  private_settings["astrojump"] = createOption(false, mmp.astroboots, {"boolean"}, "Use Astral Jumping boots?", nil, {lusternia = true})


  --I have no idea what this does tbh

  private_settings["caravan"] = createOption(false, mmp.changeBoolFunc, {"boolean"}, "Walk caravans?", nil, {imperian = true})



  mmp.settings = createOptionsTable(private_settings)
  mmp.settings.disp = mmp.echo
  mmp.game = false
  mmp.settings.dispOption =
    function(opt, val)
      cecho(
        "&lt;green&gt;" ..
        val.use ..
        "&lt;white&gt; (" ..
        opt ..
        ") " ..
        string.rep(" ", 50 - val.use:len() - opt:len()) ..
        tostring(val.value) ..
        "\n"
      )
    end
  mmp.settings.dispDefaultWriteError =
    function()
      mmp.echo("Please use the mconfig alias to set options!")
    end
  raiseEvent("mmp areas changed")
  mmp.firstRun = false
  mmp.echon("Mudlet Mapper script for IREs (" .. tostring(mmp.version) .. ") loaded! (")
  echoLink(
    "homepage",
    "(openUrl or openURL)'http://wiki.mudlet.org/w/IRE_mapping_script'",
    "Clicky clicky to read up on what's this about"
  )
  echo(")\n")
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>speedwalking</name><packageName /><script>function mmp.gotoRoom(where, dashtype, gotoType)
  mmp.speedWalk.type = gotoType or "room"
  if not where or not tonumber(where) then
    mmp.echo("Where do you want to go to?")
    return
  end
  if tonumber(where) == mmp.currentroom then
    mmp.echo("We're already at " .. where .. "!")
    raiseEvent("mmapper arrived")
    return
  end
  -- allow mapper 'addons' to link their own exits in
  raiseEvent("mmp link externals")
  -- if getPath worked, then the dirs and room #'s tables were populated for us
  if not mmp.getPath(mmp.currentroom, tonumber(where)) then
    mmp.echo("Don't know how to get there (" .. tostring(where) .. ") from here :(")
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    raiseEvent("mmapper failed path")
    if mmp.settings.shackle then
      expandAlias("wear shackle")
    end
    -- allow mapper 'addons' to unlink their special exits
    raiseEvent("mmp clear externals")
    return
  end
  doSpeedWalk(dashtype)
  -- allow mapper 'addons' to unlink their special exits
  raiseEvent("mmp clear externals")
end

function mmp.gotoArea(where, number, dashtype, exact)
  mmp.speedWalk.type = "area"
  if not where or type(where) ~= "string" then
    mmp.echo("Where do you want to go to?")
    return
  end
  local where = where:lower()
  number = tonumber(number)
  local tmp = getRoomUserData(1, "gotoMapping")
  if not tmp or tmp == '' then
    tmp = "[]"
  end
  local temp, maptable = yajl.to_value(tmp), {}
  for k, v in pairs(temp) do
    maptable[k:lower()] = v
  end
  local destinationRoom = maptable[where]
  if destinationRoom then
    mmp.gotoRoom(destinationRoom, dashtype)
    return
  end
  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
    mmp.gotoAreaID(areaid)
  elseif not areaid and #multiples &gt; 0 then
    if number and number &lt;= #multiples then
      mmp.gotoArea(multiples[number], nil, dashtype, true)
      return
    end
    mmp.echo("Which area would you like to go to?")
    fg("DimGrey")
    for key, areaname in ipairs(multiples) do
      echo("  ")
      echoLink(
        key .. ") ",
        'mmp.gotoArea("' ..
        areaname ..
        '", nil, ' ..
        (dashtype and '"' .. dashtype .. '"' or "nil") ..
        ', true)',
        "Click to go to " .. areaname,
        true
      )
      setUnderline(true)
      echoLink(
        areaname,
        'mmp.gotoArea("' ..
        areaname ..
        '", nil, ' ..
        (dashtype and '"' .. dashtype .. '"' or "nil") ..
        ', true)',
        "Click to go to " .. areaname,
        true
      )
      setUnderline(false)
      echo("\n")
    end
    resetFormat()
    return
  else
    mmp.echo(string.format("Don't know of any area named '%s'.", where))
    return
  end
end

--- DOES NOT ACCOUNT FOR CHANGING THE MAP YET (within a profile load), because we don't know when it happens
local getpathcache = {}
--setmetatable(getpathcache, {__mode = "kv"}) -- weak keys/values = it'll periodically get cleaned up by gc

function mmp.getPath(from, to)
  assert(tonumber(from) and tonumber(to), "mmp.getPath: both from and to have to be room IDs")
  local key = string.format("%s_%s", from, to)
  local resulttbl = getpathcache[key]
  -- not in cache?
  if not resulttbl then
    mmp.computeGetPath = mmp.computeGetPath or createStopWatch()
    startStopWatch(mmp.computeGetPath)
    local boolean = getPath(from, to)
    if mmp.debug then
      mmp.echo(
        "a new getPath() from " ..
        from ..
        " to " ..
        to ..
        " took " ..
        stopStopWatch(mmp.computeGetPath) ..
        "s."
      )
    end
    -- save it into the cache &amp; send away
    getpathcache[key] = {boolean, speedWalkDir, speedWalkPath}
    return boolean
  end
  -- or if it is, retrieve &amp; send away
  speedWalkDir = resulttbl[2]
  speedWalkPath = resulttbl[3]
  return resulttbl[1]
end

function mmp.clearpathcache()
  if mmp.debug then
    mmp.echo("path cache cleared")
  end
  getpathcache = {}
end

registerAnonymousEventHandler("mmapper updated map","mmp.clearpathcache")

function mmp.showpathcache()
  return getpathcache
end

function mmp.setmovetimer(time)
  if mmp.movetimer then
    killTimer(mmp.movetimer)
  end
  if mmp.settings.slowwalk and not mmp.hasty then
    return
  end
  local laglevel = mmp.settings.laglevel or 1
  time = time or mmp.lagtable[laglevel].time
  mmp.movetimer =
    tempTimer(
      getNetworkLatency() + time,
      function()
        mmp.movetimer = false
        mmp.move()
      end
    )
end

-- moves to the next room we need to.

function mmp.move()
  if mmp.paused or not mmp.autowalking or mmp.movetimer or not mmp.canmove() then
    return
  end
  -- sometimes it's 0 - default to 1
  if speedWalkCounter == 0 then
    speedWalkCounter = 1
  end
  local cmd
  if mmp.settings["caravan"] then
    cmd = "lead caravan " .. mmp.speedWalkDir[speedWalkCounter]
  else
    cmd = mmp.speedWalkDir[speedWalkCounter]
  end
  cmd = cmd or ''
  -- timeout before loadstring, so it can set its own if it would like to.
  mmp.setmovetimer()
  if string.starts(cmd, "script:") then
    cmd = string.gsub(cmd, "script:", "")
    loadstring(cmd)()
    if mmp.settings.showcmds and not mmp.hasty then
      cecho(
        string.format(
          "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;%s&lt;red&gt;)",
          #mmp.speedWalkDir - speedWalkCounter + 1,
          "&lt;script&gt;"
        )
      )
    end
    mmp.hasty = false
  else
    send(cmd, false)
    if mmp.settings.showcmds and not mmp.hasty then
      cecho(
        string.format(
          "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;%s&lt;red&gt;)",
          #mmp.speedWalkDir - speedWalkCounter + 1,
          cmd
        )
      )
    end
    mmp.hasty = false
  end
end

function mmp.swim()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then
    return
  end
  send(
    "swim " ..
    mmp.speedWalkDir[speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
      "runaway ", ""
    ),
    false
  )
  if mmp.settings.showcmds then
    cecho(
      string.format(
        "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;swim %s&lt;red&gt;)",
        #mmp.speedWalkDir - speedWalkCounter + 1,
        mmp.speedWalkDir[speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
          "runaway ", ""
        )
      )
    )
  end
  mmp.hasty = true
  mmp.setmovetimer(2.5)
end

function mmp.enterGrate()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then
    return
  end
  send("enter grate " .. mmp.speedWalkDir[speedWalkCounter], false)
  if mmp.settings.showcmds then
    cecho(
      string.format(
        "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;enter grate %s&lt;red&gt;)",
        #mmp.speedWalkDir - speedWalkCounter + 1,
        mmp.speedWalkDir[speedWalkCounter]
      )
    )
  end
  mmp.hasty = true
  mmp.setmovetimer(2.5)
end

function mmp.openDoor()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then
    return
  end
  if mmp.game == "asteria" then
   send(
    "open " ..
    mmp.speedWalkDir[speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
      "runaway ", ""
    ),
    false
  )
  if mmp.settings.showcmds then
    cecho(
      string.format(
        "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;open %s&lt;red&gt;)",
        #mmp.speedWalkDir - speedWalkCounter + 1,
        mmp.speedWalkDir[speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
          "runaway ", ""
        )
      )
    )
  end
else
  send(
    "open door " ..
    mmp.speedWalkDir[speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
      "runaway ", ""
    ),
    false
  )
  if mmp.settings.showcmds then
    cecho(
      string.format(
        "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;open door %s&lt;red&gt;)",
        #mmp.speedWalkDir - speedWalkCounter + 1,
        mmp.speedWalkDir[speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
          "runaway ", ""
        )
      )
    )
  end
end
  mmp.hasty = true
  mmp.setmovetimer(getNetworkLatency())
end

function mmp.unlockDoor()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then
    return
  end
  send(
    "unlock door " ..
    mmp.speedWalkDir[speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
      "runaway ", ""
    ),
    false
  )
  if mmp.settings.showcmds then
    cecho(
      string.format(
        "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;unlock door %s&lt;red&gt;)",
        #mmp.speedWalkDir - speedWalkCounter,
        mmp.speedWalkDir[speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
          "runaway ", ""
        )
      )
    )
  end
  mmp.hasty = true
  mmp.setmovetimer(getNetworkLatency())
end

function mmp.customwalkdelay(delay)
  mmp.setmovetimer(getNetworkLatency() + delay)
end

function mmp.stop()
  mmp.speedWalkPath = {}
  mmp.speedWalkDir = {}
  speedWalkCounter = 0
  stopStopWatch(speedWalkWatch)
  --if mmp.movetimer then killTimer( mmp.movetimer ) end
  mmp.autowalking = false
  -- clear all the temps we've got
  for trigger, ID in pairs(mmp.specials) do
    killTrigger(ID)
  end
  mmp.specials = {}
  mmp.echo("Stopped walking.")
  raiseEvent("mmapper stopped")
  if mmp.settings.shackle then
    expandAlias("wear shackle")
  end
end

-- Aetolia and Lusternia support showing balances in GMCP. This is easy to support, so we do!
-- if we can't move, setup a polling timer to prompt walking when we can again.
-- popular systems that expose balance &amp; equilibrium values can be added here as well, perhaps though a similarly-named function.

function mmp.canmove(fromtimer)
  if mapper_can_move and mapper_can_move() then
    if fromtimer then
      mmp.move()
    else
      return true
    end
  elseif mapper_can_move then
    tempTimer(0.2, [[mmp.canmove(true)]])
    return false
  end
  if not gmcp.Char then
    return true
  end
  -- Achaea
  -- Lusternia
 if
    (
      gmcp.Char and
      (not gmcp.Char.Vitals.bal or gmcp.Char.Vitals.bal == "1") and
      (not gmcp.Char.Vitals.eq or gmcp.Char.Vitals.eq == "1") and
      (not gmcp.Char.Vitals.balance or gmcp.Char.Vitals.balance == "1") and
      (not gmcp.Char.Vitals.equilibrium or gmcp.Char.Vitals.equilibrium == "1") and
      (not gmcp.Char.Vitals.right_arm or gmcp.Char.Vitals.right_arm == "1") and
      (not gmcp.Char.Vitals.left_arm or gmcp.Char.Vitals.left_arm == "1") and
      (not gmcp.Char.Vitals.right_leg or gmcp.Char.Vitals.right_leg == "1") and
      (not gmcp.Char.Vitals.left_leg or gmcp.Char.Vitals.left_leg == "1") and
      (not gmcp.Char.Vitals.psisuper or gmcp.Char.Vitals.psisuper ~= "0") and
      (not gmcp.Char.Vitals.psisub or gmcp.Char.Vitals.psisub ~= "0") and
      (not gmcp.Char.Vitals.psiid or gmcp.Char.Vitals.psiid ~= "0") and
      (not gmcp.Char.Balance or gmcp.Char.Balance.List.balance == "1") and
      (not gmcp.Char.Balance or gmcp.Char.Balance.List.equilibrium == "1") and
      (not gmcp.Char.Balance or gmcp.Char.Balance.List.rarm == "1") and
      (not gmcp.Char.Balance or gmcp.Char.Balance.List.larm == "1") and
      (not gmcp.Char.Balance or gmcp.Char.Balance.List.legs == "1") and
      (not gmcp.Char.Vitals.prone or (gmcp.Char.Vitals.prone == "0" or gmcp.Char.Vitals.prone == 0)
    ))
  then
    if fromtimer then
      mmp.move()
    else
      return true
    end
  else
    tempTimer(0.2, [[mmp.canmove(true)]])
    return false
  end
end

local oldnum

function speedwalking(event, num)
  local num = tonumber(num) or tonumber(gmcp.Room.Info.num)
  if num ~= mmp.currentroom then
    mmp.previousroom = mmp.currentroom
  end
  mmp.currentroom = num
  mmp.currentroomname = getRoomName(num)
  -- Try to track if we're flying or not, for Imperian wings
  -- This is to avoid being "off path" if we FLY due to wings.
  local madeflight = false
  if gmcp.Room then
    local flying = false
    if string.find(gmcp.Room.Info.name, "^flying above") then
      flying = true
    end
    if mmp.flying and not flying then
      -- We were flying, and now we are not. Gravity!
      mmp.flying = false
    elseif not mmp.flying and flying then
      -- We were not flying and now we are.
      madeflight = true
      mmp.flying = true
    elseif not flying then
      mmp.flying = false
    end
  else
    mmp.flying = false
  end
  -- track if we're inside or outside, if possible
  if gmcp.Room then
    local areaID = getRoomArea(mmp.currentroom)
    if
      mmp.inside and
      not (
        table.contains(gmcp.Room.Info.details, "indoors") or
        table.contains(gmcp.Room.Info.details, "considered indoors")
      ) and
      not mmp.orbed()
    then
      mmp.inside = false
      raiseEvent("mmapper went outside")
    elseif
      not mmp.inside and
      (
        table.contains(gmcp.Room.Info.details, "indoors") or
        table.contains(gmcp.Room.Info.details, "considered indoors") or
        mmp.orbed()
      )
    then
      mmp.inside = true
      raiseEvent("mmapper went inside")
    end
    if
      #table.n_union(
        mmp.getareacontinents(getRoomArea(mmp.previousroom)),
        mmp.getareacontinents(getRoomArea(num))
      ) ~= #mmp.getareacontinents(getRoomArea(num))
    then
      raiseEvent("mmapper changed continent")
    end
    -- the event could cancel speedwalking - in this case quit
    if mmp.ignore_speedwalking then
      mmp.ignore_speedwalking = nil
      return
    end
  end
  if oldnum == num then
    return
  else
    oldnum = num
  end
  if not mmp.autowalking then
    return
  end
  if mmp.movetimer then
    killTimer(mmp.movetimer)
    mmp.movetimer = false
  end
  if num == mmp.speedWalkPath[#mmp.speedWalkPath] then
    local walktime = stopStopWatch(speedWalkWatch)
    mmp.echo(string.format("We've arrived! Took us %.1fs.\n", walktime))
    raiseEvent("mmapper arrived")
    if mmp.settings.shackle then
      expandAlias("wear shackle")
    end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    mmp.autowalking = false
  elseif mmp.speedWalkPath[speedWalkCounter] == num then
    speedWalkCounter = speedWalkCounter + 1
    tempPromptTrigger(mmp.move, 1)
  elseif mmp.game == "imperian" and madeflight then
    mmp.echo("We began flying!")
    tempPromptTrigger(mmp.move, 1)
  elseif
    #mmp.speedWalkPath &gt; 0 and
    not mmp.ferry_rooms[num] and
    not (gmcp.Room.Info.details and table.contains(gmcp.Room.Info.details, "ferry"))
  then
    -- ended up somewhere we didn't want to be, and this isn't a ferry room?
    speedWalkMoved = false
    -- re-calculate path then
    mmp.echo("Ended up off the path, recalculating a new path...")
    local destination = mmp.speedWalkPath[#mmp.speedWalkPath]
    if not mmp.getPath(num, destination) then
      mmp.echo(
        string.format(
          "Don't know how to get to %d (%s) anymore :( Move into a room we know of to continue",
          destination,
          getRoomName(destination)
        )
      )
    else
      mmp.gotoRoom(destination)
    end
  end
end

function doSpeedWalk(dashtype)
  mmp.speedWalkDir = mmp.deepcopy(speedWalkDir)
  mmp.speedWalkPath = mmp.deepcopy(speedWalkPath)
  speedWalkDir, speedWalkPath = {}, {}
  resetStopWatch(speedWalkWatch)
  startStopWatch(speedWalkWatch)
  if
    mmp.settings["gallop"] or
    mmp.settings["dash"] or
    mmp.settings.sprint or
    mmp.settings.runaway or
    dashtype
  then
    mmp.fixPath(
      mmp.currentroom,
      mmp.speedWalkPath[#mmp.speedWalkPath],
      (mmp.settings["gallop"] and "gallop") or
      (mmp.settings["dash"] and "dash") or
      (mmp.settings.sprint and "sprint") or
      (mmp.settings.runaway and "runaway") or
      dashtype
    )
  end
  mmp.fixSpecialExits(mmp.speedWalkDir)
  if #mmp.speedWalkPath == 0 then
    mmp.autowalking = false
    mmp.echo("Couldn't find a path to the destination :(")
    raiseEvent("mmapper failed path")
    if mmp.settings.shackle then
      expandAlias("wear shackle")
    end
    return
  end
  -- this is a fix: convert nums to actual numbers
  for i = 1, #mmp.speedWalkPath do
    mmp.speedWalkPath[i] = tonumber(mmp.speedWalkPath[i])
  end
  mmp.autowalking = true
  raiseEvent("s")
  if mmp.settings.shackle then
    expandAlias("remove shackle")
  end
  if not mmp.paused then
    mmp.echon("Starting speedwalk from " .. (atcp.RoomNum or gmcp.Room.Info.num) .. " to ")
    cechoLink(
      "&lt;" .. mmp.settings.echocolour .. "&gt;" .. mmp.speedWalkPath[#mmp.speedWalkPath],
      'mmp.gotoRoom "' .. mmp.speedWalkPath[#mmp.speedWalkPath] .. '"',
      'Go to ' .. mmp.speedWalkPath[#mmp.speedWalkPath],
      true
    )
    echo(": ")
    speedWalkCounter = 1
    if mmp.canmove() then
      mmp.hasty = true
      mmp.setmovetimer(0.1)
    else
      echo("(when we get balance back / aren't hindered)")
    end
  else
    mmp.echo(
      "Will go to " ..
      mmp.speedWalkPath[#mmp.speedWalkPath] ..
      " as soon as the mapper is unpaused."
    )
  end
end

function mmp.failpath()
  if mmp.movetimer then
    local walktime = stopStopWatch(speedWalkWatch)
    mmp.echo(string.format("Can't continue further! Took us %.1fs to get here.\n", walktime))
  end
  mmp.autowalking = false
  if mmp.settings.shackle then
    expandAlias("wear shackle")
  end
  mmp.speedWalkPath = {}
  mmp.speedWalkDir = {}
  speedWalkCounter = 0
  if mmp.movetimer then
    killTimer(mmp.movetimer)
    mmp.movetimer = nil
  end
  raiseEvent("mmapper failed path")
end

function mmp.changeBoolFunc(name, option)
  local en
  en = option and "will now use" or "will no longer use"
  mmp.echo("&lt;green&gt;Okay, the mapper " .. en .. " &lt;white&gt;" .. name .. "&lt;green&gt;!")
end

function mmp.fixPath(rFrom, rTo, dashtype)
  local currentPath, currentIds = {}, {}
  local dRef = {["n"] = "north", ["e"] = "east", ["s"] = "south", ["w"] = "west"}
  if not getPath(rFrom, rTo) then
    return false
  end
  -- Logic: Look for a direction repeated at least two times.
  -- count the number of times it repeats, then look that many rooms ahead.
  -- if that room also contains the direction we're headed, just travel that many directions.
  -- otherwise, dash.
  local repCount = 1
  local index = 1
  local dashExaust = false
  while mmp.speedWalkDir[index] do
    if not table.contains(getSpecialExits(mmp.speedWalkPath[index]), mmp.speedWalkDir[index]) then
      dashExaust = false
      repCount = 1
      while mmp.speedWalkDir[index + repCount] == mmp.speedWalkDir[index] do
        repCount = repCount + 1
        if repCount == 11 then
          dashExaust = true
          break
        end
      end
      if repCount &gt; 1 then
        -- Found direction repetition. Calculate dash path.
        local exits = getRoomExits(mmp.speedWalkPath[index + (repCount - 1)])
        local pname = ""
        for word in mmp.speedWalkDir[index]:gmatch("%w") do
          pname = pname .. (dRef[word] or word)
        end
        if not exits[pname] or dashExaust then
          -- Final room in this direction does not continue, dash!
          table.insert(currentPath, string.format("%s %s", dashtype, mmp.speedWalkDir[index]))
          currentIds[#currentIds + 1] = mmp.speedWalkPath[index + repCount - 1]
        else
          -- Final room in this direction continues onwards, don't dash unless on achaea
          if mmp.game == "achaea" then
            table.insert(
              currentPath, string.format("%s %s %s", dashtype, mmp.speedWalkDir[index], repCount)
            )
            currentIds[#currentIds + 1] = mmp.speedWalkPath[index + repCount - 1]
          else
            for i = 1, repCount do
              table.insert(currentPath, mmp.speedWalkDir[index])
              currentIds[#currentIds + 1] = mmp.speedWalkPath[index + i - 1]
            end
          end
        end
        index = index + repCount
      else
        -- No repetition, just add the direction.
        table.insert(currentPath, mmp.speedWalkDir[index])
        currentIds[#currentIds + 1] = mmp.speedWalkPath[index]
        index = index + 1
      end
    else
      -- Special exit, skip over this step
      table.insert(currentPath, mmp.speedWalkDir[index])
      currentIds[#currentIds + 1] = mmp.speedWalkPath[index]
      index = index + 1
    end
  end
  mmp.speedWalkDir = currentPath
  mmp.speedWalkPath = currentIds
  return true
end

-- a certain version of the mapper gave us special exits prepended with 0 or 1 in the command
-- depending on if it was locked. Need to remove these before we can use them

function mmp.fixSpecialExits(directions)
  for i = 1, #directions do
    if directions[i]:match("^%d") then
      directions[i] = directions[i]:sub(2)
    end
  end
end

-- cleanup function to remove the temp special exit we made

function mmp.clearspecials(deleterooms)
  local t = getSpecialExits(mmp.currentroom)
  for connectingroom, exits in pairs(t) do
    if table.contains(deleterooms, connectingroom) then
      -- delete the special exits linking to this room
      for command, locked in pairs(exits) do
        removeSpecialExit(mmp.currentroom, command)
      end
    end
  end
end

function mmp.getShortestOfMultipleRooms(possibleRooms)
  local shortestWeight, closestRoom = 10000000, 0
  local checkedsofar, outoftime = 0, false
  local getStopWatchTime, tonumber = getStopWatchTime, tonumber

  -- allocate only 500ms to finding the shortest path, or more if we failed to find anything
  mmp.computeShortestWatch = mmp.computeShortestWatch or createStopWatch()
  startStopWatch(mmp.computeShortestWatch)
  raiseEvent("mmp link externals")

  -- mmp.echo(string.format("Have %s rooms nodes, %ss taken so far...", table.size(possibleRooms), getStopWatchTime(mmp.computeShortestWatch)))
  for _, id in pairs(possibleRooms) do
    local possible, thisWeight = getPath(mmp.currentroom, tonumber(id))
    if possible and thisWeight &lt; shortestWeight then
      shortestWeight = thisWeight
      closestRoom = tonumber(id)
    end
    checkedsofar = checkedsofar + 1
    if (getStopWatchTime(mmp.computeShortestWatch) &gt;= .5) then
      outoftime = true
      break
    end

    -- mmp.echo(string.format("pathed from %s to %s, running time so far: %s", mmp.currentroom, id, getStopWatchTime(mmp.computeShortestWatch)))
  end
  --mmp.echo(string.format("total time took: %s", getStopWatchTime(mmp.computeShortestWatch)))
  stopStopWatch(mmp.computeShortestWatch)
  return closestRoom, outoftime, checkedsofar
end

function mmp.gotoAreaID(areaid, number, dashtype)
  if not areaid or not tonumber(areaid) then
    mmp.echo("To where do you want to go?")
    return
  end
  areaid = tonumber(areaid)
  if not mmp.areatabler[areaid] then
    mmp.echo("Invalid area ID selected")
    return
  end
  local possibleRooms, shortestBorder = {}, 0
  for id,_ in pairs(mmp.getAreaBorders(areaid)) do
    possibleRooms[#possibleRooms+1] = id
  end
  shortestBorder, outoftime, checkedsofar = mmp.getShortestOfMultipleRooms(possibleRooms)
  if shortestBorder == 0 then
    if outoftime then
      mmp.echo(
        string.format(
          "I checked %d of the %d possible exits \"%s\" has, but none of the ways there worked and it was taking too long :( try doing this again?",
          checkedsofar,
          table.size(possibleRooms),
          getRoomAreaName(areaid)
        )
      )
    else
      mmp.echo(
        "Checked " ..
        table.size(possibleRooms) ..
        " exits in that area, and none of them worked :( I Don't know how to get you there."
      )
    end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    raiseEvent("mmapper failed path")
    raiseEvent("mmp clear externals")
    return
  end
  raiseEvent("mmp clear externals")
  mmp.gotoRoom(shortestBorder, dashtype, "area")
end

function mmp.gotoFeature(partialFeatureName, dashtype)
  local mapFeatures = mmp.getMapFeatures()
  local feature
  if mapFeatures[partialFeatureName:lower()] then
    feature = partialFeatureName:lower()
  else
    for key in pairs(mapFeatures) do
      if key:find(partialFeatureName:lower()) then
        feature = key
        break
      end
    end
  end
  if not feature then
    mmp.echo("No feature like " .. partialFeatureName .. " found.")
    return
  end
  local possibleRooms = searchRoomUserData("feature-" .. feature, "true")
  closestFeature, outoftime, checkedsofar = mmp.getShortestOfMultipleRooms(possibleRooms)
  if closestFeature == 0 then
    if outoftime then
      mmp.echo(
        string.format(
          "I checked %d of the %d possible features \"%s\" has, but none of the ways there worked and it was taking too long :( try doing this again?",
          checkedsofar,
          table.size(possibleRooms),
          partialFeatureName
        )
      )
    else
      mmp.echo(
        "Checked " ..
        table.size(possibleRooms) ..
        " rooms with that feature, and none of them worked :( I Don't know how to get you there."
      )
    end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    raiseEvent("mmapper failed path")
    raiseEvent("mmp clear externals")
    return
  end
  raiseEvent("mmp clear externals")
  mmp.gotoRoom(closestFeature, dashtype, "area")
end
</script><eventHandlerList>
						</eventHandlerList></Script><Script isActive="yes" isFolder="no"><name>Person tracking</name><packageName /><script>--[[
mmp will have 2 person tracking databases:
- mmp.pdb  =  used to store the last known location of a person
- mmp.pdb_lastupdate  =  used to store the output of the last locating command

Both databases work with the person's name as key and the location name as value.

]]
mmp.pdb = mmp.pdb or {}
mmp.pdb_lastupdate = mmp.pdb_lastupdate or {}

function mmp.is_here(who)
  return (mmp.pdb[who] and mmp.pdb[who] == mmp.currentroomname) and true or false
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>map features</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

local function loadMapFeatures()
  local mapFeaturesString = getMapUserData("mapFeatures")
  local mapFeatures
  if mapFeaturesString and mapFeaturesString ~= "" then
    mapFeatures = yajl.to_value(mapFeaturesString)
  else
    mapFeatures = {}
  end
  return mapFeatures
end

local function saveMapFeatures(mapFeaturesToSave)
  local mapFeaturesString = yajl.to_string(mapFeaturesToSave)
  setMapUserData("mapFeatures", mapFeaturesString)
end

function mmp.createMapFeature(featureName, roomCharacter)
  if not featureName or featureName == "" then
    mmp.echo("Can't create an empty map feature.")
    return
  end
  if featureName:find("%d") then
    mmp.echo("Map feature names must not contain numbers.")
    return
  end
  roomCharacter = roomCharacter or ""
  if type(roomCharacter) ~= "string" then
    mmp.echo(
      "The new room character must be either a string or nil. " ..
      type(roomCharacter) ..
      " is not allowed."
    )
    return
  end
  local lowerFeatureName = featureName:lower()
  local mapFeatures = loadMapFeatures()
  if not mapFeatures[lowerFeatureName] then
    mapFeatures[lowerFeatureName] = roomCharacter
    saveMapFeatures(mapFeatures)
    mmp.echo(
      "Created map feature '" ..
      featureName ..
      "' with the room character '" ..
      roomCharacter ..
      "'."
    )
  else
    mmp.echo("A map feature with the name '" .. featureName .. "' already exists.")
    return
  end
  return true
end

function mmp.listMapFeatures()
  local mapFeatures = loadMapFeatures()
  mmp.echo("This map has the following features:")
  echo(string.format("    %-25s | %s\n", "feature name", "room character"))
  echo(string.format("    %s\n", string.rep("-", 45)))
  for featureName, roomCharacter in pairs(mapFeatures) do
    echo(string.format("    %-25s | %s\n", featureName, roomCharacter))
  end
  return true
end

function mmp.roomCreateMapFeature(featureName, roomId)
  -- checks for the feature name
  if not featureName then
    mmp.echo("Which feature would you like to create?")
    return
  end
  local lowerFeatureName = featureName:lower()
  local mapFeatures = loadMapFeatures()
  if not mapFeatures[lowerFeatureName] then
    mmp.echo(
      "A feature with name '" ..
      featureName ..
      "' does not exist. You need to use 'feature create' first."
    )
    return
  end
  -- checks for the room ID
  if not roomId then
    if not mmp.currentroom then
      mmp.echo("Don't know where we are at the moment.")
      return
    end
    roomId = mmp.currentroom
  else
    if type(roomId) ~= "number" then
      mmp.echo("Need a room ID as number for creating a map feature on a room.")
      return
    end
  end
  if not getRoomName(roomId) then
    mmp.echo("Room number '" .. roomId .. "' does not exist.")
    return
  end
  -- check if feature already exists
  if table.contains(mmp.getRoomMapFeatures(roomId), lowerFeatureName) then
    mmp.echo("Room '" .. roomId .. "' has already map feature '" .. featureName .. "'.")
    return
  end
  -- create map feature in room
  setRoomUserData(roomId, "feature-" .. lowerFeatureName, "true")
  mmp.echo(string.format("Map feature '%s' created in room number '%d'.", featureName, roomId))
  local featureRoomChar = mapFeatures[lowerFeatureName]
  if featureRoomChar ~= "" then
    setRoomChar(roomId, featureRoomChar)
    mmp.echo("The room now carries the room char '" .. featureRoomChar .. "'.")
  end
  return true
end

function mmp.roomDeleteMapFeature(featureName, roomId)
  -- checks for the feature name
  if not featureName then
    mmp.echo("Which feature would you like to delete?")
    return
  end
  local lowerFeatureName = featureName:lower()
  -- checks for the room ID
  if not roomId then
    if not mmp.currentroom then
      mmp.echo("Don't know where we are at the moment.")
      return
    end
    roomId = mmp.currentroom
  else
    if type(roomId) ~= "number" then
      mmp.echo("Need a room ID as number for deleting a map feature from a room.")
      return
    end
  end
  if not getRoomName(roomId) then
    mmp.echo("Room number '" .. roomId .. "' does not exist.")
    return
  end
  -- check if feature exists
  local roomMapFeatures = mmp.getRoomMapFeatures(roomId)
  if not table.contains(roomMapFeatures, lowerFeatureName) then
    mmp.echo("Room '" .. roomId .. "' doesn't have map feature '" .. featureName .. "'.")
    return
  end
  -- delete map feature from room
  setRoomUserData(roomId, "feature-" .. lowerFeatureName, "")
  mmp.echo(string.format("Map feature '%s' deleted from room number '%d'.", featureName, roomId))
  -- now update room char if needed.
  -- first update current map features of this room
  roomMapFeatures = mmp.getRoomMapFeatures(roomId)
  local mapFeatures = loadMapFeatures()
  -- find out if we need to set a new room character
  if getRoomChar(roomId) == mapFeatures[lowerFeatureName] and getRoomChar(roomId) ~= "" then
    local index, otherRoomMapFeature
    -- find another usable room character
    repeat
      index, otherRoomMapFeature = next(roomMapFeatures, index)
    until not otherRoomMapFeature or mapFeatures[otherRoomMapFeature] ~= ""
    if otherRoomMapFeature then
      -- we found a usable room character, now set it
      local newRoomChar = mapFeatures[otherRoomMapFeature]
      setRoomChar(roomId, newRoomChar)
      mmp.echo("Using '" .. newRoomChar .. "' as new room character.")
    else
      -- we didn't find a usable room character, delete it.
      setRoomChar(roomId, "")
      mmp.echo("Deleted the current room character.")
    end
  end
  return true
end

function mmp.getRoomMapFeatures(roomId)
  -- checks for the room ID
  if not roomId then
    if not mmp.currentroom then
      mmp.echo("Don't know where we are at the moment.")
      return
    end
    roomId = mmp.currentroom
  else
    if type(roomId) ~= "number" then
      mmp.echo("Need a room ID as number for getting all map features of a room.")
      return
    end
  end
  if not getRoomName(roomId) then
    mmp.echo("Room number '" .. roomId .. "' does not exist.")
    return
  end
  local result = {}
  local mapFeatures = loadMapFeatures()
  for mapFeature in pairs(mapFeatures) do
    if getRoomUserData(roomId, "feature-" .. mapFeature) == "true" then
      result[#result + 1] = mapFeature
    end
  end
  return result
end

function mmp.deleteMapFeature(featureName)
  if not featureName or featureName == "" then
    mmp.echo("Which map feature would you like to delete?")
    return
  end
  local lowerFeatureName = featureName:lower()
  local mapFeatures = loadMapFeatures()
  if not mapFeatures[lowerFeatureName] then
    mmp.echo("Map feature '" .. featureName .. "' does not exist.")
    return
  end
  local roomsWithFeature = searchRoomUserData("feature-" .. lowerFeatureName, "true")
  for _, roomId in pairs(roomsWithFeature) do
    local deletionResult = mmp.roomDeleteMapFeature(lowerFeatureName, roomId)
    if not deletionResult then
      mmp.echo(
        "Something went wrong deleting the map feature '" ..
        featureName ..
        "' from all rooms. Deletion incomplete."
      )
      return
    end
  end
  mapFeatures[lowerFeatureName] = nil
  saveMapFeatures(mapFeatures)
  mmp.echo("Deleted map feature '" .. featureName .. "' from map.")
  return true
end

function mmp.getMapFeatures()
  return loadMapFeatures()
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Center view via GMCP</name><packageName /><script /><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Create Option Table</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
local spairs = spairs or function(tbl, order)
  local keys = table.keys(tbl)
  if order then
    table.sort(keys, function(a,b) return order(tbl, a, b) end)
  else
    table.sort(keys)
  end

  local i = 0
  return function()
    i = i + 1
    if keys[i] then
      return keys[i], tbl[keys[i]]
    end
  end
end


function createOption(startingValue, onChangeFunc, allowedVarTypes, use, checkOption, games)
	if allowedVarTypes then -- make sure our starting Value follows type rules
		if not table.contains(allowedVarTypes, type(startingValue)) then
			echo("Starting type is not of allowed type!\n")
			display(allowedVarTypes)
			echo("type: " .. type(startingValue) .. "\n")
			return
		end
	end

	local option = {
		value = startingValue,
		onChange = onChangeFunc,
		allowedVarTypes = allowedVarTypes,
		use = use or "",
		games = games,
		checkOption = checkOption or function() return true end
	}

	return option
end

function createOptionsTable(defaultTable)
	local index = {} -- index to store the default table at in our proxy table


	local proxyTable = {} -- This is the table that is returned to the user

	proxyTable.disp = echo

	proxyTable.dispDefaultWriteError = function()
		echo("Can't overwrite default options. Please use the SetOption function to change the value\n")
	end

	proxyTable.dispOption = function(opt, val)
		if not opt or not val then return end
		echo("Name: " .. string.title(opt) .. string.rep(" ", 10 - string.len(opt)))
		echo("Val: " .. tostring(val.value))
		echo(string.rep(" ", 10 - string.len(tostring(val.value))) ..  "- " .. val.use .. "\n")
	end

	function proxyTable:showAllOptions(game)
		proxyTable.disp("Available options: \n")
		for k, v in spairs(self[index]) do
			if not game or not v.games or v.games[game] then
				self.dispOption(k, v)
			end
		end
		echo("\n")
		for k, v in spairs(self["_customOptions"]) do
			self.dispOption(k, v)
		end

	end

	function proxyTable:getAllOptions()
		local t = {}
		for k, v in pairs(self[index]) do
			t[k] = v.value
		end

		return t
	end

   function proxyTable:setOption(option, value, silent)
		if self[option] == nil then
			proxyTable.disp("No such option!\n")
			return
		end

		-- otherwise, set the option
		if self["_customOptions"][option] then
			if not (table.contains(self["_customOptions"][option].allowedVarTypes, type(value)) and self["_customOptions"][option].checkOption(value)) then
				proxyTable.disp("You can't set '" .. option .. "' to that!\n")
				return
			end
			self["_customOptions"][option].value = value
			if self["_customOptions"][option].onChange then
				self["_customOptions"][option].onChange(option, value)
			end
		else
			if not (table.contains(self[index][option].allowedVarTypes, type(value)) and self[index][option].checkOption(value)) then
				proxyTable.disp("You can't set '" .. option .. "' to that!\n")
				return
			end
			rawset(self[index][option], "value", value)
			local opt = rawget(self[index], option)
			if opt.onChange  and not silent then opt.onChange(option, value) end
		end
		if mmp and mmp.clearpathcache then mmp.clearpathcache() end
	end


	proxyTable._customOptions = {}

	local mt = {
		__index = function(t, k)
			local custOp = rawget(t, "_customOptions")
			if custOp[k] then
			 	local opt = custOp[k]
				if opt then return opt.value else return nil end
			else
				local opt = t[index][k]
				if opt then return opt.value else return nil end
			end
		end,

		__newindex = function (t, k, v)
			if t[index][k] then
				proxyTable.dispDefaultWriteError()
			else
				t["_customOptions"][k] = v
			end
		end
	}


	proxyTable[index] = defaultTable

	setmetatable(proxyTable, mt)

	return proxyTable

end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>mmapper_went_outside</name><packageName /><script>--genericized version of the went_outside event handlers.
--when you go outside, it sees if a shorter path can be found using external links. If so, routes you on the new path instead.
function mmapper_went_outside()
  if
    not mmp.autowalking or
    (mmp.currentroom == mmp.speedWalkPath[#mmp.speedWalkPath]) or
    table.contains(gmcp.Room.Info.details, "indoors") or
    table.contains(gmcp.Room.Info.details, "considered indoors") or
    mmp.orbed(mmp.currentroom)
  then
    return
  end
  -- repath, maybe that'll allow us to use wings now.
  local previousDirection = mmp.speedWalkDir[speedWalkCounter + 1]
  if mmp.speedWalk.type == "room" then
    raiseEvent("mmp link externals")
    mmp.getPath(mmp.currentroom, mmp.speedWalkPath[#mmp.speedWalkPath])
    raiseEvent("mmp clear externals")
    -- don't need to check return value since that fact shouldnt've changed
  else
    mmp.gotoAreaID(getRoomArea(mmp.speedWalkPath[#mmp.speedWalkPath]))
  end
  -- if our path didn't change, re-instate it as it was (since the new path starts from this room that we checked at)
  if speedWalkDir[1] ~= previousDirection then
    speedWalkCounter = 0
    mmp.echo("We got outside - going to shortcut with travel device.")
    if mmp.speedWalk.type == "room" then
      mmp.gotoRoom(mmp.speedWalkPath[#mmp.speedWalkPath])
    else
      mmp.gotoAreaID(getRoomArea(mmp.speedWalkPath[#mmp.speedWalkPath]))
    end
    mmp.ignore_speedwalking = true
  end
end
</script><eventHandlerList>
						</eventHandlerList></Script><Script isActive="yes" isFolder="no"><name>Utilities</name><packageName /><script>-- functions internal to the mapper

function mmp.highlight_unfinished_rooms()
	if not mmp.areatable then return end
	for a,b in pairs (mmp.areatable) do
		local roomList = getAreaRooms(b) or {}
		for c,d in pairs (roomList) do
			if (getRoomName(d) == "") then
				local fgr,fgg,fgb = unpack(color_table.red)
				local bgr,bgg,bgb = unpack(color_table.blue)
				highlightRoom(d, fgr,fgg,fgb,bgr,bgg,bgb, 1, 100, 100)
			end
		end
	end
end

function mmp.usebix()
	if mmp.game ~= "lusternia" then return end

	if (table.contains(gmcp.Room.Info.details, "the Prime Material Plane") or
		table.contains(gmcp.Room.Info.details, "the Ethereal Plane") or
		table.contains(gmcp.Room.Info.details, "the Water Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Air Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Fire Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Earth Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "Celestia, Plane of Light") or
		table.contains(gmcp.Room.Info.details, "the Tainted Plane of Nil") or
		table.contains(gmcp.Room.Info.details, "the Cosmic Plane of Continuum") or
		table.contains(gmcp.Room.Info.details, "the Cosmic Plane of Vortex") or
		table.contains(gmcp.Room.Info.details, "the Astral Plane")) and
        gmcp.Room.Info.area ~= "the City of Climanti" and
		table.contains(gmcp.Room.Info.details, "outdoors") then
		return true
	end
	return false
end

function mmp.useprism()
	if mmp.game ~= "lusternia" then return end
	if (table.contains(gmcp.Room.Info.details, "the Prime Material Plane") or
	table.contains(gmcp.Room.Info.details, "the Ethereal Plane") or
	table.contains(gmcp.Room.Info.details, "the Water Elemental Plane") or
	table.contains(gmcp.Room.Info.details, "the Air Elemental Plane") or
	table.contains(gmcp.Room.Info.details, "the Fire Elemental Plane") or
	table.contains(gmcp.Room.Info.details, "the Earth Elemental Plane")) and
    gmcp.Room.Info.area ~= "the City of Climanti" and
	table.contains(gmcp.Room.Info.details, "outdoors") then
		return true
	end
	return false
end
function mmp.usebubblix()
	if mmp.game ~= "lusternia" then return end

	if ((table.contains(gmcp.Room.Info.details, "the Prime Material Plane") or
		table.contains(gmcp.Room.Info.details, "the Ethereal Plane") or
		table.contains(gmcp.Room.Info.details, "the Water Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Air Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Fire Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Earth Elemental Plane")) and
        gmcp.Room.Info.area ~= "the City of Climanti" and
		table.contains(gmcp.Room.Info.details, "outdoors")) or
		table.contains(gmcp.Room.Info.details, "an Aetherbubble") then
		return true
	end
	return false
end
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Wings and other fast travel</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Achaea</name><packageName /><script>registerAnonymousEventHandler("mmp link externals", "mmp.addWingsAchaea")



function mmp.addWingsAchaea()
  --Trimmed down version of the original function, meant to only be used for wings. (Where the command varies based on several MCONFIGS)

  local function getcmd(word)
    return
      mmp.settings.removewings and
      string.format(
        [[script:sendAll("wear wings", "say *%s %s", "remove wings", false)]],
        (mmp.settings.winglanguage and mmp.settings.winglanguage or ""),
        word
      ) or
      string.format(
        [[script:send("say *%s %s", false)]],
        (mmp.settings.winglanguage and mmp.settings.winglanguage or ""),
        word
      )
  end

  --Achaea stuff!
  if mmp.game ~= "achaea" then
    return
  end
  local area = getRoomArea(mmp.currentroom)
  --WINGS!
  if
    (mmp.settings.duanathar or mmp.settings.duanatharan or mmp.settings.duantahar) and
    not mmp.inside
  then
    --Sarapis wings.
    if mmp.oncontinent(area, "Main") then
      if mmp.settings.duanatharan then
        mmp.tempSpecialExit(4882, getcmd("duanatharan"))
        mmp.tempSpecialExit(3885, getcmd("duanathar"))
      elseif mmp.settings.duantahar then
        mmp.tempSpecialExit(42319, getcmd("duanathar"))
        mmp.tempSpecialExit(4882, getcmd("duanatharan"))
      else
        mmp.tempSpecialExit(3885, getcmd("duanathar"))
      end
      --Meropis Wings
    elseif mmp.oncontinent(area, "Meropis") then
      if mmp.settings.duanatharan then
        mmp.tempSpecialExit(51603, getcmd("duanatharan"))
        mmp.tempSpecialExit(51188, getcmd("duanathar"))
      elseif mmp.settings.duantahar then
        mmp.tempSpecialExit(42319, getcmd("duanathar"))
        mmp.tempSpecialExit(51603, getcmd("duanatharan"))
      else
        mmp.tempSpecialExit(51188, getcmd("duanathar"))
      end
    end
  end
  --Island wings.
  if mmp.settings.duanatharic and not mmp.inside then
    if
      mmp.oncontinent(area, "Main") or
      mmp.oncontinent(area, "Arcadia") or
      mmp.oncontinent(area, "Outer") or
      mmp.oncontinent(area, "Meropis") or
      mmp.oncontinent(area, "Island") or
      mmp.oncontinent(area, "North")
    then
      mmp.tempSpecialExit(47571, getcmd("duanatharic"))
    end
  end
  -- Stratospheric Harness support -- PapaGuacamole
  if mmp.settings.harness and not mmp.inside then
    -- eastern isles
    if mmp.oncontinent(area, "Eastern_Isles") then
      mmp.tempSpecialExit(54231, "Shake Harness")
      -- northern isles
    elseif mmp.oncontinent(area, "Northen_Isles") then
      mmp.tempSpecialExit(48719, "Shake Harness")
      -- western isles
    elseif mmp.oncontinent(area, "Western_Isles") then
      mmp.tempSpecialExit(54632, "Shake Harness")
    end
  end
  -- Air Elemental Aero Soar
  if mmp.settings.soar and not mmp.inside then
    --Sarapis soar.
    if mmp.oncontinent(area, "Main") then
      if
        gmcp.Char.Status.class == "air Elemental Lord" or
        gmcp.Char.Status.class == "air Elemental Lady"
      then
        mmp.tempSpecialExit(4882, "aero soar high", 10)
        -- duanatharan
        mmp.tempSpecialExit(3885, "aero soar low", 10)
        -- duanathar
        mmp.tempSpecialExit(54173, "aero soar stratosphere", 10)
        -- Stratosphere!
      end
      --Meropis soar
    elseif mmp.oncontinent(area, "Meropis") then
      if
        gmcp.Char.Status.class == "air Elemental Lord" or
        gmcp.Char.Status.class == "air Elemental Lady"
      then
        mmp.tempSpecialExit(51603, "aero soar high", 10)
        -- duanatharan
        mmp.tempSpecialExit(51188, "aero soar low", 10)
        -- duanathar
        mmp.tempSpecialExit(54173, "aero soar stratosphere", 10)
        -- Stratosphere!
      end
    end
  end
  --universe tarot
  if mmp.settings.universe and mmp.oncontinent(area, "Main") then
    local tarotLocations =
      {
        azdun = 1772,
        blackrock = 10573,
        bitterfork = 25093,
        genji = 10091,
        manusha = 8730,
        newthera = 20386,
        caerwitrin = 17678,
        shastaan = 2855,
        mannaseh = 1745,
        manara = 9124,
        brasslantern = 30383,
        mhojave = 39103,
        thraasi = 35703,
        newhope = 25581,
      }
    for village, roomnum in pairs(tarotLocations) do
      mmp.tempSpecialExit(
        roomnum,
        [=[script:
        mmp.customwalkdelay(4.5)
        send("fling universe at ground",false)
        tempTimer(4,[[send("touch ]=] ..
        village ..
        [=[",false)]])
        ]=],
        10
      )
    end
  end
  --gare
  if mmp.settings.gare and gmcp.Char and string.match(gmcp.Char.Status.race, "Dragon") then
    if
      mmp.oncontinent(area, "Main") or
      mmp.oncontinent(area, "Meropis") or
      mmp.oncontinent(area, "Island") or
      mmp.oncontinent(area, "North") or
      mmp.oncontinent(area, "Arcadia")
    then
      mmp.tempSpecialExit(
        12695,
        [=[script:
        mmp.customwalkdelay(4.5)
        send("pierce the veil",false)
        ]=],
        20
      )
    end
  end
  mmp.clearpathcache()
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Imperian</name><packageName /><script>registerAnonymousEventHandler("mmp link externals", "mmp.addWingsImperian")
mmp.imperian = mmp.imperian or {}

function mmp.addWingsImperian()
  local function getcmd(word)
    return
      mmp.settings.removewings and
      [[script:if mmp.flying then sendAll("queue eqbal wear wings","queue eqbal say ]] ..
      word ..
      [[","queue eqbal remove wings",false) else sendAll("wear wings","fly",false) end]] or
      [[script:if mmp.flying then sendAll("queue eqbal say ]] ..
      word ..
      [[",false) else sendAll("fly",false) end]]
  end

  if
    (mmp.settings.shekinah or mmp.settings.suriel) and
    gmcp.Room and
    not table.contains(gmcp.Room.Info.details, "indoors") and
    not table.contains(gmcp.Room.Info.details, "considered indoors") and
    table.contains(mmp.imperian.wingAbleAreas, getRoomArea(mmp.currentroom))
  then
    if mmp.settings.shekinah then
      -- Seraphim wings - "Say shekinah"
      local weight = 15
      if mmp.flying then
        weight = 1
      end
      mmp.tempSpecialExit(4882, getcmd("shekinah"), weight)
    elseif mmp.settings.suriel then
      -- Using Orphanim wings, SURIEL works, takes you to 3885
      local weight = 15
      if mmp.flying == "1" then
        weight = 1
      end
      mmp.tempSpecialExit(3885, getcmd("suriel"), weight)
      -- clear cache so mmp.getPath accounts for the new way
    end
  end
  mmp.clearpathcache()
end

mmp.imperian.wingAbleAreas =
  {
    45,
    35,
    15,
    56,
    101,
    123,
    36,
    110,
    18,
    75,
    172,
    9,
    66,
    148,
    113,
    175,
    188,
    244,
    88,
    171,
    118,
    295,
    167,
    25,
    139,
    70,
    132,
    28,
    135,
    174,
    8,
    275,
    107,
    53,
    112,
    185,
    158,
    164,
    299,
    74,
    351,
    16,
    63,
    269,
    77,
    85,
    142,
    328,
    318,
    46,
    95,
    17,
    329,
    33,
    96,
    82,
    47,
    144,
    121,
    3,
    68,
    51,
    134,
    1,
    319,
    11,
    19,
    129,
    146,
    65,
    324,
    325,
    125,
    191,
    163,
    30,
    54,
    292,
    290,
    7,
    136,
    267,
    335,
    102,
    43,
    89,
    20,
    169,
    49,
    147,
    196,
    301,
    252,
    99,
    145,
    195,
    130,
    42,
    270,
    166,
    128,
    168,
    34,
    223,
    170,
    22,
    27,
    138,
    115,
    337,
    44,
    6,
    161,
    32,
    92,
    83,
    294,
    104,
    69,
    23,
    155,
    350,
    48,
    57,
    150,
    97,
    341,
    105,
    340,
    5,
    194,
    338,
    327,
    271,
    323,
    322,
    79,
    122,
    62,
    131,
    176,
    133,
    310,
    307,
    120,
    137,
    13,
    76,
    160,
    60,
    304,
    94,
    306,
    303,
    81,
    291,
    276,
    302,
    149,
    297,
    179,
    272,
    41,
    293,
    289,
    91,
    159,
    71,
    157,
    298,
    266,
    208,
    109,
    80,
    14,
    2,
    186,
    12,
    178,
    52,
    124,
    274,
    141,
    343,
    177,
    67,
    103,
    111,
    72,
    268,
    87,
    117,
    21,
    353,
    253,
    93,
    308,
    40,
    248,
    243,
    4,
    153,
    212,
    116,
    84,
    197,
    61,
    78,
    184,
    173,
    31,
    98,
    114,
    162,
    50,
    37,
    140,
    73,
    127,
    156,
    90,
    100,
    143,
    309,
    126,
  }
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Lusternia</name><packageName /><script>registerAnonymousEventHandler("mmp link externals", "mmp.addWingsLusternia")

function mmp.addWingsLusternia()
  if mmp.game ~= "lusternia" then
    return
  end
  --items that use standard bix rules
  if mmp.usebix() then
    --cubix and things
    if mmp.settings.medallion then
      mmp.tempSpecialExit(13367, "touch medallion")
    end
    if mmp.settings.cubix then
      mmp.tempSpecialExit(6184, "touch cubix")
    end
    if mmp.settings.torus and mmp.usebix() then
      mmp.tempSpecialExit(28548, "touch torus")
    end
    --epic quest items
    if mmp.settings.fingerblade then
      mmp.tempSpecialExit(18777, "touch fingerblade")
    end
    if mmp.settings.blossom then
      mmp.tempSpecialExit(18730, "touch blossom")
    end
    if mmp.settings.mandala then
      mmp.tempSpecialExit(19563, "touch mandala")
    end
    if mmp.settings.belt then
      mmp.tempSpecialExit(19627, "touch enlightened")
    end
    if mmp.settings.mantle then
      mmp.tempSpecialExit(18762, "touch starlight")
    end
    if mmp.settings.key then
      mmp.tempSpecialExit(18732, "touch key")
    end
  end
  --things which use prism rules
  if mmp.useprism() then
    if mmp.settings.prism then
      mmp.tempSpecialExit(6182, "touch prism")
    end
    --curio collections
    if mmp.settings.bonecurio then
      mmp.tempSpecialExit(28613, "curio collection activate bone")
    end
    if mmp.settings.flowercurio then
      mmp.tempSpecialExit(28624, "curio collection activate flower")
    end
    if mmp.settings.utensilcurio then
      mmp.tempSpecialExit(28617, "curio collection activate utensil")
    end
    if mmp.settings.fluttercurio then
      mmp.tempSpecialExit(28622, "curio collection activate flutter")
    end
    if mmp.settings.toolcurio then
      mmp.tempSpecialExit(28586, "curio collection activate tool")
    end
    if mmp.settings.facecurio then
      mmp.tempSpecialExit(28433, "curio collection activate face")
    end
    if mmp.settings.toycurio then
      mmp.tempSpecialExit(21548, "curio collection activate toy")
    end
    if mmp.settings.feathercurio then
      mmp.tempSpecialExit(28591, "curio collection activate feather")
    end
    if mmp.settings.figurecurio then
      mmp.tempSpecialExit(28312, "curio collection activate figure")
    end
    if mmp.settings.vernalcurio then
      mmp.tempSpecialExit(29908, "curio collection activate vernal")
    end
    if mmp.settings.soullesscurio then
      mmp.tempSpecialExit(29909, "curio collection activate soulless")
    end
  end
  --all the bubblixes!
  local bubblixes =
    {
      {
        setting = "figurine",
        item = "icebix",
        room = 23187,
        areas = {"Northern Icewynd Mountains", "Southern Icewynd Mountains"},
      },
      {setting = "twist", item = "diobix", room = 18203, areas = {"Mount Dio"}},
      {setting = "snowglobe", item = "treebix", room = 10992, areas = {"the Great Spirit Tree"}},
      {setting = "periscope", item = "aquabix", room = 36073, areas = {"Aquagoria"}},
      {setting = "pebble", item = "lyraabix", room = 33825, areas = {"Lyraa Ey Rielys"}},
      {setting = "shard", item = "xionbix", room = 12652, areas = {"the Workshop of Xion"}},
      {setting = "cookie", item = "crumbix", room = 9888, areas = {"Crumkindivia"}},
      {setting = "wheel", item = "drambix", room = 10509, areas = {"the Dramube Triangle"}},
      {setting = "head", item = "bottlebix", room = 11811, areas = {"the Bubble of Bottledowns"}},
      {setting = "icicle", item = "frostbix", room = 10457, areas = {"Frosticia"}},
      {setting = "screwdriver", item = "facbix", room = 10185, areas = {"the Facility"}},
      {setting = "mud", item = "mucklebix", room = 9985, areas = {"Mucklemarsh"}},
      {
        setting = "tibia",
        item = "cankerbix",
        room = 11600,
        areas = {"the Cankermore Battlegrounds"},
      },
    }
  local shortcutCreated = false
  for _, bubblix in pairs(bubblixes) do
    if mmp.settings[bubblix.setting] then
      local command = "touch " .. bubblix.item
      if not shortcutCreated then
        --for the first bubblix in the list, let it be used as a shortcut to aetherplex.
        mmp.tempSpecialExit(bubblix.room, 6831, command)
        shortcutCreated = true
      end
      --for every bix, create an exit from outside aetherplex to the bubble.
      mmp.tempSpecialExit(148, bubblix.room, command)
      if mmp.usebubblix() then
        if table.contains(bubblix.areas, gmcp.Room.Info.area) then
          mmp.tempSpecialExit(mmp.currentroom, 6831, command)
        elseif not table.contains(gmcp.Room.Info.details, "an Aetherbubble") then
          mmp.tempSpecialExit(mmp.currentroom, bubblix.room, command)
        end
      end
    end
  end
  --one use button travel!
  if mmp.settings.buttons then
    local colors =
      {
        blue = 36073,
        brown = 11811,
        black = 11600,
        yellow = 9888,
        red = 10509,
        steel = 10185,
        white = 10457,
        purple = 47812,
        green = 9985,
        crystal = 12652,
        wooden = 10992,
      }
    local exitScript = [[script:sendAll("outr %sbutton", "touch %sbutton", false)]]
    if
      table.contains(gmcp.Room.Info.details, "the Prime Material Plane") and
      table.contains(gmcp.Room.Info.details, "outdoors")
    then
      for color, room in pairs(colors) do
        mmp.tempSpecialExit(mmp.currentroom, room, exitScript:format(color, color), 20)
      end
    else
      for color, room in pairs(colors) do
        mmp.tempSpecialExit(148, room, exitScript:format(color, color), 20)
      end
    end
  end
  --basin of life specific travel devices
  if mmp.settings.compass then
    local startingRoom = mmp.lusterniaInBasin() and mmp.currentroom or 148
    local compassPoints =
      {
        north = 21695,
        northeast = 10742,
        northwest = 6546,
        east = 9789,
        southeast = 14998,
        south = 10670,
        southwest = 19613,
        west = 20037,
      }
    for direction, destinationRoom in pairs(compassPoints) do
      mmp.tempSpecialExit(startingRoom, destinationRoom, "Touch compass " .. direction, 40)
    end
  end
  mmp.clearpathcache()
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Wings functions</name><packageName /><script>local exitsCreated = exitsCreated or {}

function mmp.tempSpecialExit(start, destination, command, weight)
  if type(destination) == "string" then
    -- no start room given, so shift all arguments one to the right
    start, destination, command, weight = mmp.currentroom, start, destination, command
  end
  table.insert(exitsCreated, {room = start, command = command})
  addSpecialExit(start, destination, command)
  if weight then
    setExitWeight(start, command, weight)
  end
end

function mmp.removeWings()
  --remove all special exits that were created by addWings, then resets the table.
  for _, exit in ipairs(exitsCreated) do
    removeSpecialExit(exit.room, exit.command)
  end
  exitsCreated = {}
end

registerAnonymousEventHandler("mmp clear externals", "mmp.removeWings")
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Achaea betterWings</name><packageName /><script>--builds a table based on current orb settings, then returns a function which can be used to quickly check that table.

local function orbedBlackList()
  local bannedAreas = {}
  local areaTable = mmp.getAchaeaOrbTable()
  for org, areas in pairs(areaTable) do
    for _, area in pairs(areas) do
      bannedAreas[area] = mmp.settings["orb" .. org]
    end
  end
  return
    function(roomId)
      return not bannedAreas[getRoomArea(roomId)]
    end
end

--searches for closest room that meets requirements.
--does stuff to handle weighted rooms, locked rooms, special exits.

local function closestOutdoors(startRoom)
--visited is rooms which have already been found by the search.
  local visited = {[startRoom] = true}
  --checking is the rooms that it is currently checking to see if they meet the desired conditions.
  local checking = {[startRoom] = true}
  --nextCheck is a list of rooms which will be checked once the algorithm is finished with the rooms in checking.
  local nextCheck = {}
  --weightedRooms contains rooms with greater than 1 weight, so that they can be handled differently.
  local weightedRooms = {}
  local orbed = orbedBlackList()

  --functions for handling weighted rooms.
  local function addWeighted(room, weight)
    if not weightedRooms[room] or weight &lt; weightedRooms[room] then
      weightedRooms[room] = weight
    end
  end

  --this function subtracts 1 from every room weight in the weighted room list.
  --if they hit zero then it will add them to the checking table and removes them from weightedRooms

  local function reduceWeights()
    --display(weightedRooms)
    local toDelete = {}
    for room, weight in pairs(weightedRooms) do
      weightedRooms[room] = weightedRooms[room] - 1
      if weightedRooms[room] &lt;= 0 then
        if not visited[room] then
          checking[room] = true
          visited[room] = true
        end
        toDelete[room] = true
      end
    end
    --cleans up the weighted stuff.
    for room, _ in pairs(toDelete) do
      weightedRooms[room] = nil
    end
  end

  local stopwatch = createStopWatch()
  startStopWatch(stopwatch)
  --only willing to search for 500ms. Will abort in longer cases,
  while getStopWatchTime(stopwatch) &lt; .5 do
    for room, val in pairs(checking) do
      --if these conditions are met, returns a roomid and exits out.
      --probably doesn't work great on weird planes, as when off plane, the room returned may not work for wings.
      if getRoomUserData(room, "outdoors") == "y" and orbed(room) then
        return room
      end
      local weights = getExitWeights(room)
      --loops through all exits in the room, doing stuff.
      for direction, destRoom in pairs(getRoomExits(room)) do
        if not hasExitLock(room, direction) and not visited[destRoom] then
          --if the exit+roomweight is higher than 1 (the default, for 1 room weight + 0 exit weight), then do a room weight subroutine
          if
            (((weights[direction] or 0) + getRoomWeight(destRoom)) &gt; 1) and not roomLocked(destRoom)
          then
            addWeighted(destRoom, (weights[direction] or 0) + getRoomWeight(destRoom))
          else
            --add it to visited, so it doesn't double back on it in the future.
            visited[destRoom] = true
            --if it's not locked, add it to nextCheck, which are the rooms that it searches through next cycle.
            --if it is locked, just ignore it.
            if not roomLocked(destRoom) then
              nextCheck[destRoom] = true
            end
          end
        end
      end
      --same as above loop, but for specialExits
      for destRoom, specialExits in pairs(getSpecialExits(room)) do
        for specialExit, locked in pairs(specialExits) do
          if locked == "0" and not visited[destRoom] then
            if
              (((weights[direction] or 0) + getRoomWeight(destRoom)) &gt; 1) and
              not roomLocked(destRoom)
            then
              addWeighted(destRoom, (weights[direction] or 0) + getRoomWeight(destRoom))
            else
              visited[destRoom] = true
            end
            if not roomLocked(destRoom) then
              nextCheck[destRoom] = true
            end
          end
        end
      end
    end
    --replaces checking with the next set of rooms to check, and clears nextCheck.
    checking, nextCheck = nextCheck, {}
    reduceWeights()
    --if no rooms on checking and weightedRooms, exits out.
    --If no rooms in checking but there are rooms in weightedRooms, it will iterate down the weights until something is in checking.
    if not next(checking) then
      if next(weightedRooms) then
        while next(weightedRooms) and not next(checking) do
          reduceWeights()
        end
      else
        return
      end
    end
  end
end

--does the actual linking and stuff. Mostly copied over from the main wings script.
--however, half of the checks have been removed because they were already done in the process
--of searching for a valid outdoors room.

local function linkWingsRemote(room)
  local function getcmd(word)
    return
      mmp.settings.removewings and
      string.format(
        [[script:sendAll("wear wings", "say *%s %s", "remove wings", false)]],
        (mmp.settings.winglanguage and mmp.settings.winglanguage or ""),
        word
      ) or
      string.format(
        [[script:send("say *%s %s", false)]],
        (mmp.settings.winglanguage and mmp.settings.winglanguage or ""),
        word
      )
  end

  --decided to pull this out and set it as a local variable instead of calling it 20x throughout the script.
  local area = getRoomArea(room)
  --sarapis wings
  if (mmp.settings.duanathar or mmp.settings.duanatharan or mmp.settings.duantahar) then
    if mmp.oncontinent(area, "Main") then
      if mmp.settings.duanatharan then
        mmp.tempSpecialExit(room, 4882, getcmd("duanatharan"))
        mmp.tempSpecialExit(room, 3885, getcmd("duanathar"))
      elseif mmp.settings.duantahar then
        mmp.tempSpecialExit(room, 42319, getcmd("duanathar"))
        mmp.tempSpecialExit(room, 4882, getcmd("duanatharan"))
      else
        mmp.tempSpecialExit(room, 3885, getcmd("duanathar"))
      end
      --Meropis Wings
    elseif mmp.oncontinent(area, "Meropis") then
      if mmp.settings.duanatharan then
        mmp.tempSpecialExit(room, 51603, getcmd("duanatharan"))
        mmp.tempSpecialExit(room, 51188, getcmd("duanathar"))
      elseif mmp.settings.duantahar then
        mmp.tempSpecialExit(room, 42319, getcmd("duanathar"))
        mmp.tempSpecialExit(room, 51603, getcmd("duanatharan"))
      else
        mmp.tempSpecialExit(room, 51188, getcmd("duanathar"))
      end
    end
  end
  --island wings
  if
    mmp.settings.duanatharic and
    (
      mmp.oncontinent(area, "Main") or
      mmp.oncontinent(area, "Arcadia") or
      mmp.oncontinent(area, "Outer") or
      mmp.oncontinent(area, "Meropis") or
      mmp.oncontinent(area, "Island") or
      mmp.oncontinent(area, "North")
    )
  then
    mmp.tempSpecialExit(room, 47571, getcmd("duanatharic"))
  end
  if mmp.settings.harness then
    -- eastern isles
    if mmp.oncontinent(area, "Eastern_Isles") then
      mmp.tempSpecialExit(room, 54231, "Shake Harness")
      -- northern isles
    elseif mmp.oncontinent(area, "Northen_Isles") then
      mmp.tempSpecialExit(room, 48719, "Shake Harness")
      -- western isles
    elseif mmp.oncontinent(area, "Western_Isles") then
      mmp.tempSpecialExit(room, 54632, "Shake Harness")
    end
  end
  if mmp.settings.soar then
    --Sarapis soar.
    if mmp.oncontinent(area, "Main") then
      if
        gmcp.Char.Status.class == "air Elemental Lord" or
        gmcp.Char.Status.class == "air Elemental Lady"
      then
        mmp.tempSpecialExit(room, 4882, "aero soar high", 10)
        -- duanatharan
        mmp.tempSpecialExit(room, 3885, "aero soar low", 10)
        -- duanathar
        mmp.tempSpecialExit(room, 54173, "aero soar stratosphere", 10)
        -- Stratosphere!
      end
      --Meropis soar
    elseif mmp.oncontinent(area, "Meropis") then
      if
        gmcp.Char.Status.class == "air Elemental Lord" or
        gmcp.Char.Status.class == "air Elemental Lady"
      then
        mmp.tempSpecialExit(room, 51603, "aero soar high", 10)
        -- duanatharan
        mmp.tempSpecialExit(room, 51188, "aero soar low", 10)
        -- duanathar
        mmp.tempSpecialExit(room, 54173, "aero soar stratosphere", 10)
        -- Stratosphere!
      end
    end
  end
  mmp.clearpathcache()
end

--is called when you do pathfinding.

function mmp.achaeaBetterWings()
  --if you're not on achaea, or the crowdmap is not enabled, or the room you're in is flagged as outdoors, exit out.
  if
    (mmp.game ~= "achaea") or
    (not mmp.settings.betterwings) or
    (not mmp.settings.crowdmap) or
    (getRoomUserData(mmp.currentroom, "outdoors") == "y" and orbedBlackList()(mmp.currentroom))
  then
    return
  end
  --if none of the shortcut items are enabled, return.
  if
    not (
      mmp.settings.duanathar or
      mmp.settings.duantahar or
      mmp.settings.duanatharan or
      mmp.settings.soar or
      mmp.settings.harness or
      mmp.settings.duanatharic
    )
  then
    return
  end
  --find closest room, if that function returned something useful, call above function to create temporary remote special exits depending on settings.
  local closestRoom = closestOutdoors(mmp.currentroom)
  if closestRoom then
    if mmp.debug then
      mmp.echo("Closest outdoors room found at "..closestRoom)
    end
    linkWingsRemote(closestRoom)
  end
end

registerAnonymousEventHandler("mmp link externals", "mmp.achaeaBetterWings")
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Game-specific</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Aetolia</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Achaea</name><packageName /><script /><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Imperian</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Lusternia</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>StickMUD</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external scripts --
-------------------------------------------------

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Starmourn</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Asteria</name><packageName /><script /><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Dragonswords</name><packageName /><script /><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Lithmeria</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Check for map updates</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="no" isFolder="no"><name>mmp_see_dl_errors</name><packageName /><script>-- this should be off by default
function mmp_see_dl_errors(...)
  display{...}
end
</script><eventHandlerList>
							</eventHandlerList></Script><Script isActive="yes" isFolder="no"><name>mmp_downloaded_file</name><packageName /><script>function mmp_downloaded_file(_, filename)
  if not io.exists(filename) then return end

  -- workaround for https://bugs.launchpad.net/mudlet/+bug/1092769
--  if mmp["downloaded_file_block_"..filename] then return end
--  mmp["downloaded_file_block_"..filename] = tempTimer(5, [[mmp["downloaded_file_block_]]..filename..[["] = nil]])

  if filename == tostring(mmp.mapperfile) then   -- mapper script version
	mmp.checkingupdates = false

    local f, s = io.open(filename)
    if f then s = f:read("*l"):trim(); io.close(f) end

    if s ~= tostring(mmp.version) then
      mmp.newmapperversion = s
      mmp.retrievechangelog()
    end

  elseif filename == tostring(mmp.changelogfile) then   -- changelog for the mapper script
	mmp.checkingupdates = false

    local f, s, changelog = io.open(filename)
    if f then changelog = f:read("*a"); io.close(f) end

    mmp.echon("")
    echoLink("The mapper script was updated! Would you like to download the update? Click here if so.", "mmp.downloadmapperscript()", "Changelog for the latest ("..tostring(mmp.version).." -&gt; "..tostring(mmp.newmapperversion)..") update:\n"..changelog, true)

  elseif filename == mmp.crowdchangelogfile then   -- changelog for the crowdmap
    local f, s = io.open(filename)
    if f then s = f:read("*a"); io.close(f) end

    -- make environment
    local env = {} -- add functions you know are safe here

    -- run code under environment [Lua 5.1]
    local function run(untrusted_code)
      if untrusted_code:byte(1) == 27 then return nil, "binary bytecode prohibited" end
      local untrusted_function, message = loadstring(untrusted_code)
      if not untrusted_function then return nil, message end
      setfenv(untrusted_function, env)
      return pcall(untrusted_function)
    end

    run(s)

	mmp.crowdchangelog = env.changelog

    mmp.echon("The crowdmap map was ")
    setUnderline(true)
    echoLink("updated", '', "New version: "..tostring(mmp.newversion)..", previous version: "..(mmp.oldversion or "(none)"), true)
    setUnderline(false)
    echo(" (")
    setUnderline(true)
    echoLink("see full changelog", "mmp.showcrowdchangelog()", 'View the full changelog for mappers', true)
    setUnderline(false)
    echo("). Latest improvement is: "..tostring(mmp.crowdchangelog and mmp.crowdchangelog[#mmp.crowdchangelog] or '?')..".\n")

    mmp.downloadcrowdmap(mmp.newversion)

  elseif filename == mmp.crowdmapfile then    -- crowdmap map
    mmp.echo("Map downloaded, loading it in...")

    local tmp = getRoomUserData(1, "gotoMapping")
    local oldmaptable = {}

    if tmp ~= "" then
      oldmaptable = yajl.to_value(tmp)
    end

    local ok = loadMap(filename)

    if ok then
      if mmp.game ~= "starmourn" then
        local wc = mmp.lockWormholes()
  	local ws = mmp.lockSewers()
        mmp.lockPebble()
        if mmp.game == "achaea" and wc == 0 and ws == 0 then -- in achaea, using crowdmap, if we didn't get any special exits - it means Mudlet needs to be updated
          mmp.echo("Sorry, it seems your Mudlet isn't compatible with the new crowdmap format - and the map cannot be loaded fully. Please update your Mudlet:\n  http://www.mudlet.org/download/")
          return
        end
      end

      if mmp.settings.waterwalk then mmp.enableWaterWalk() else mmp.disableWaterWalk() end

      mmp.echo("Map loaded fine - enjoy!")

      tmp = getRoomUserData(1, "gotoMapping")
      local newmaptable = {}

      if tmp ~= "" then
        newmaptable = yajl.to_value(tmp)
      end

      for k,v in pairs(oldmaptable) do newmaptable[k] = v end
      setRoomUserData(1, "gotoMapping", yajl.to_string(newmaptable))
      mmp.echo("Marks from the old map migrated successfully.")

      raiseEvent("mmapper updated map")
    else
      mmp.echon("Map failed to load - you need to have the mapper open. Please open it, and then ")
      echoLink("click here", [[
        local tmp = getRoomUserData(1, "gotoMapping")
        local oldmaptable = {}
        if tmp ~= "" then
          oldmaptable = yajl.to_value(tmp)
        end

        local ok = loadMap(']]..filename..[[')
        if ok then
        local wc = mmp.lockWormholes()
	    local ws = mmp.lockSewers()
        mmp.lockPebble()
        if mmp.game == "achaea" and wc == 0 and ws == 0 then -- in achaea, using crowdmap, if we didn't get any special exits - it means Mudlet needs to be updated
          mmp.echo("Sorry, it seems your Mudlet isn't compatible with the new crowdmap format - and the map cannot be loaded fully. Please update your Mudlet:\n  http://www.mudlet.org/download/")
          return
        end

        if mmp.settings.waterwalk then mmp.enableWaterWalk() else mmp.disableWaterWalk() end

        mmp.echo("Map loaded successfully!")

          tmp = getRoomUserData(1, "gotoMapping")
          local newmaptable = {}
          if tmp ~= "" then
            newmaptable = yajl.to_value(tmp)
          end
          for k,v in pairs(oldmaptable) do newmaptable[k] = v end
          setRoomUserData(1, "gotoMapping", yajl.to_string(newmaptable))
          mmp.echo("Marks from the old map migrated successfully.")
          raiseEvent("mmapper updated map")
        else mmp.echo("Nope, didn't work. Open the map and try again?") end
      ]],
      "Click here to try loading the map again")
      echo(" to try loading it in again.\n")
    end

  elseif filename == tostring(mmp.downloadedscript) then   -- new mapper script xml downloaded
	mmp.checkingupdates = false

    mmp.echo("Your mapper script was downloaded to '"..filename.."' - uninstall the current copy and install the new one now!")

  elseif filename == tostring(mmp.mapfile) then   -- map version #, either IRE's or crowd
	mmp.checkingupdates = false

    local function needupdate(currentmd5, oldmd5)
      if not mmp.settings.crowdmap then
        mmp.echon("The games map was ")
        echoLink("updated", '', "New MD5: "..tostring(currentmd5)..", previous MD5: "..(oldmd5 or "(none)"), true)
        echo(" - you should update yours! Go to Settings -&gt; Mapper tab and click on the button there. Once you've updated, ")
        echoLink("click here", "mmp.updatedmap('"..currentmd5.."')", "Click here to quiet the update reminder")
        echo(" to remove the reminder.")
      else
        mmp.newversion, mmp.oldversion = currentmd5, oldmd5
        mmp.retrievecrowdchangelog()
      end
    end

    local f, s = io.open(filename)
    if f then s = f:read("*a"); io.close(f) end
    local currentmd5 = string.match(s, "([a-z0-9]+)  map%.xml")

    -- using crowdsourced map
    if not currentmd5 then
      currentmd5 = s:trim()
    end

	os.remove(filename)

    -- never checked yet?
    if not io.exists(getMudletHomeDir().."/map downloads/current") then needupdate(currentmd5) return end

    -- otherwise read old file and check
    local f, s = io.open(getMudletHomeDir().."/map downloads/current")
    if f then s = f:read("*a"); io.close(f) end

    if s ~= currentmd5 then needupdate(currentmd5, s) end
  end
end
</script><eventHandlerList>
							</eventHandlerList></Script><Script isActive="yes" isFolder="no"><name>Check for updates</name><packageName /><script>local downloadfolder = getMudletHomeDir() .. "/map downloads/"
local whereisit
-- this should get called at start and every hour after that

function mmp.checkforupdate()
  if not mmp.game or mmp.checkingupdates then
    return
  end
  local game = mmp.game
  mmp.mapfile = downloadfolder .. "MD5"
  mmp.mapperfile = downloadfolder .. "mapper"
  if not downloadFile then
    mmp.echo("Your version of Mudlet doesn't support downloading files - please upgrade to 2.0+")
  else
    if not lfs.attributes(downloadfolder) then
      if lfs and lfs.mkdir then
        local t, s = lfs.mkdir(downloadfolder)
        if not t and s ~= "File exists" then
          mmp.echo("Couldn't make the '" .. downloadfolder .. "' folder; " .. s)
          return
        end
      else
        mmp.echo(
          "Sorry, but you need LuaFileSystem (lfs) installed, or have the '" ..
          downloadfolder ..
          "' folder exist."
        )
        return
      end
    end
    if mmp.settings.crowdmap then
      if game == "achaea" then
        downloadFile(
          mmp.mapfile, "http://ire-mudlet-mapping.github.io/AchaeaCrowdmap/Map/version.txt"
        )
      elseif game == "starmourn" then
        downloadFile(
          mmp.mapfile, "http://ire-mudlet-mapping.github.io/StarmournCrowdmap/Map/version.txt"
        )
      elseif game == "lusternia" then
        downloadFile(
          mmp.mapfile, "http://ire-mudlet-mapping.github.io/LusterniaCrowdmap/Map/version.txt"
        )
      elseif game == "imperian" then
        downloadFile(
          mmp.mapfile, "http://ire-mudlet-mapping.github.io/ImperianCrowdmap/Map/version.txt"
        )
      elseif game == "asteria" then
        downloadFile(
          mmp.mapfile, "http://asteria-ui.github.io/AsteriaCrowdmap/Map/version.txt"
        )
      elseif game == "stickmud" then
        downloadFile(
          mmp.mapfile, "http://stickmud.github.io/StickMUDCrowdmap/Map/version.txt"
        )
      end
    elseif mmp.settings.updatemap then
      downloadFile(mmp.mapfile, "http://www." .. game .. ".com/maps/MD5SUM")
    end
    downloadFile(
      mmp.mapperfile, "http://ire-mudlet-mapping.github.io/ire-mapping-script/downloads/version"
    )
    mmp.checkingupdates = true
  end
end

-- called by the user when the map is updated to register the fact that it was

function mmp.updatedmap(currentmd5)
  assert(currentmd5, "need md5 sum to write to file")
  local f, err = io.open(downloadfolder .. "current", "w")
  if not f then
    return mmp.echo("Couldn't write to the update file, because: " .. err)
  end
  f:write(currentmd5)
  f:close()
  local t = {"Go you for updating!", "Thanks for updating the map!", "Alright, map updated!"}
  mmp.echo(t[math.random(1, #t)])
end

-- downloads the latest changelog for the mapper if it was updated

function mmp.retrievechangelog()
  mmp.changelogfile = downloadfolder .. "changelog"
  downloadFile(
    mmp.changelogfile, "http://ire-mudlet-mapping.github.io/ire-mapping-script/downloads/changelog"
  )
end

function mmp.retrievecrowdchangelog()
  mmp.crowdchangelogfile = downloadfolder .. "crowdchangelogfile"
  if mmp.game == "achaea" then
    downloadFile(
      mmp.crowdchangelogfile, "http://ire-mudlet-mapping.github.io/AchaeaCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "starmourn" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://ire-mudlet-mapping.github.io/StarmournCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "lusternia" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://ire-mudlet-mapping.github.io/LusterniaCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "imperian" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://ire-mudlet-mapping.github.io/ImperianCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "asteria" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://asteria-ui.github.io/AsteriaCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "stickmud" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://stickmud.github.io/StickMUDCrowdmap/Map/changelog.txt"
    )
  end
end

-- downloads the public crowdsources map!

function mmp.downloadmapperscript()
  local downloadlocationfile = downloadfolder .. "savepath"
  local downloadlocation
  local exists = lfs.attributes
  -- somewhat complicated thing to nicely deal with all scenarios.
  if not exists(downloadlocationfile) then
    downloadlocation = whereisit()
    if not downloadlocation then
      return
    end
  end
  if not downloadlocation then
    local f, s = io.open(downloadlocationfile)
    if f then
      downloadlocation = f:read("*a");
      io.close(f)
    end
    if not exists(downloadlocation) then
      downloadlocation = whereisit()
      if not downloadlocation or not exists(downloadlocation) then
        return
      end
    end
  end
  mmp.downloadedscript = downloadlocation .. "/mudlet-mapper.xml"
  downloadFile(
    mmp.downloadedscript,
    "http://ire-mudlet-mapping.github.io/ire-mapping-script/downloads/mudlet-mapper.xml"
  )
  local f, err = io.open(downloadlocationfile, "w")
  if not f then
    return mmp.echo("Couldn't write to the location file, because: " .. err)
  end
  f:write(downloadlocation)
  f:close()
  mmp.echo("Okay, downloading the mapper script...")
end

function mmp.downloadcrowdmap(newversion)
  mmp.crowdmapfile = downloadfolder .. "crowdmap"
  local f, err = io.open(downloadfolder .. "current", "w")
  if not f then
    return mmp.echo("Couldn't write to the update file, because: " .. err)
  end
  f:write(newversion)
  f:close()
  if mmp.game == "achaea" then
    downloadFile(mmp.crowdmapfile, "http://ire-mudlet-mapping.github.io/AchaeaCrowdmap/Map/map")
  elseif mmp.game == "starmourn" then
    downloadFile(mmp.crowdmapfile, "http://ire-mudlet-mapping.github.io/StarmournCrowdmap/Map/map")
  elseif mmp.game == "lusternia" then
    downloadFile(mmp.crowdmapfile, "http://ire-mudlet-mapping.github.io/LusterniaCrowdmap/Map/map")
  elseif mmp.game == "imperian" then
    downloadFile(mmp.crowdmapfile, "http://ire-mudlet-mapping.github.io/ImperianCrowdmap/Map/map")
  elseif mmp.game == "asteria" then
    downloadFile(mmp.crowdmapfile, "http://asteria-ui.github.io/AsteriaCrowdmap/Map/map")
  elseif mmp.game == "stickmud" then
    downloadFile(mmp.crowdmapfile, "http://stickmud.github.io/StickMUDCrowdmap/Map/map")
  end
  mmp.echo("Downloading the latest crowdmap...")
end

function mmp.showcrowdchangelog()
  mmp.echo("Public map changelog:")
  if not mmp.crowdchangelog then
    mmp.echo("(none yet)")
    return
  end
  for k, v in ipairs(mmp.crowdchangelog) do
    cecho(string.format("  %s) %s\n", k, v:gsub("\t", "     ")))
  end
end

whereisit =
  function()
    local path =
      invokeFileDialog(false, "Where should we save the file? Select a folder and click Open")
    if path == "" then
      return nil
    else
      return path
    end
  end
</script><eventHandlerList /></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Test | one-time things</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="no" isFolder="no"><name>mmp_grabenvid</name><packageName /><script>function mmp_grabenvid()
  if not mmp.envids[gmcp.Room.Info.environment] then
    mmp.envids[gmcp.Room.Info.environment] = getRoomEnv(mmp.currentroom)
    mmp.echo(string.format("Remembered environment %s as %d", gmcp.Room.Info.environment, mmp.envids[gmcp.Room.Info.environment]))
  end
end

function mmp.getMaxID()
  local roomIDs = {}
  for area, _ in pairs(mmp.areatabler) do
    local ok, t = pcall(getAreaRooms, area)
    if ok then
      for _, id in pairs(t or {}) do
        roomIDs[id] = true
      end
    end
  end

  return table.maxn(roomIDs)
end

function mmp.getUnknownEnvs()
  local maxid, missing = mmp.getMaxID(), {}

  for i = 1, maxid do
    if mmp.roomexists(i) then
      if not table.contains(mmp.envids, getRoomEnv(i)) and not table.contains(missing, getRoomEnv(i)) then
        mmp.echo(string.format("Missing env %d from room %d ('%s' in '%s')",
          tostring(getRoomEnv(i)), i, tostring(getRoomName(i)), tostring(mmp.areatabler[getRoomArea(i)])))
        missing[i] = getRoomEnv(i)
      end
    end
  end
end
</script><eventHandlerList>
							</eventHandlerList></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>mm Mapping</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>mmp_mapping_newroom</name><packageName /><script>--mmp_mapping_newroom

local function makeroom(oldid, newid, x, y, z)
  assert(x and y and z, "makeroom: need all 3 coordinates")
  addRoom(newid)
  setRoomCoordinates(newid, x, y, z)
  setRoomArea(newid, getRoomArea(oldid))
  local fgr, fgg, fgb = unpack(color_table.red)
  local bgr, bgg, bgb = unpack(color_table.blue)
  highlightRoom(newid, fgr, fgg, fgb, bgr, bgg, bgb, 1, 100, 100)
  if mmp.envids[gmcp.Room.Info.environment] then
    setRoomEnv(newid, mmp.envids[gmcp.Room.Info.environment])
  else
    setRoomEnv(newid, getRoomEnv(oldid))
  end
  return string.format("Created new room %d at %dx,%dy,%dz.", newid, x, y, z)
end

-- gives the reverse shifted coordinates, ie asking for the sw exit + coords will give the coords at ne

local function getshiftedcoords(original, ox, oy, oz)
  local x, y, z
  local has = table.contains
  -- reverse the exit
  w = mmp.ranytolong(original)
  if has({"west", "left", "w", "l"}, w) then
    x = (x or ox) - 1
    y = (y or oy)
    z = (z or oz)
  elseif has({"east", "right", "e", "r"}, w) then
    x = (x or ox) + 1
    y = (y or oy)
    z = (z or oz)
  elseif has({"north", "top", "n", "t"}, w) then
    x = (x or ox)
    y = (y or oy) + 1
    z = (z or oz)
  elseif has({"south", "bottom", "s", "b"}, w) then
    x = (x or ox)
    y = (y or oy) - 1
    z = (z or oz)
  elseif has({"northwest", "topleft", "nw", "tl"}, w) then
    x = (x or ox) - 1
    y = (y or oy) + 1
    z = (z or oz)
  elseif has({"northeast", "topright", "ne", "tr"}, w) then
    x = (x or ox) + 1
    y = (y or oy) + 1
    z = (z or oz)
  elseif has({"southeast", "bottomright", "se", "br"}, w) then
    x = (x or ox) + 1
    y = (y or oy) - 1
    z = (z or oz)
  elseif has({"southwest", "bottomleft", "sw", "bl"}, w) then
    x = (x or ox) - 1
    y = (y or oy) - 1
    z = (z or oz)
  elseif has({"up", "u"}, w) then
    x = (x or ox)
    y = (y or oy)
    z = (z or oz) + 1
  elseif has({"down", "d"}, w) then
    x = (x or ox)
    y = (y or oy)
    z = (z or oz) - 1
  elseif has({"in", "i"}, w) then
    x = (x or ox)
    y = (y or oy)
    z = (z or oz) - 1
  elseif has({"out", "o"}, w) then
    x = (x or ox)
    y = (y or oy)
    z = (z or oz) + 1
  else
    mmp.echo(
      "Don't know where to shift the coordinates for a " ..
      tostring(w) ..
      " (" ..
      tostring(original) ..
      ") exit."
    )
  end
  return x, y, z
end

function mmp_mapping_newroom(_, num)
  local s, m =
    xpcall(
      function()
        if not mmp.editing then
          return
        end
        if not gmcp.Room then
          mmp.echo(
            "You need to have GMCP turned on (see preferences on a recent Mudlet) for mapping stuff."
          )
          return
        end
        -- wilderness mapping right now is UNFINISHED! It does not handle the grid breakup. So, please don't try it, and please won't whine about it.

        local function inwilderness()
          return (gmcp.Room.Info.coords == "" and gmcp.Room.Info.area == "")
        end

        local getRoomName, getRoomCoordinates, getRoomsByPosition =
          getRoomName, getRoomCoordinates, getRoomsByPosition
        local num = tonumber(num) or tonumber(gmcp.Room.Info.num)
        local currentexits = gmcp.Room.Info.exits
        local s = ""
        if not mmp.roomexists(num) then
          -- see if we can create and link this room with an existing one
          -- wilderness and non-wilderness rooms require different methods of calculating relative coordinates
          if not inwilderness() then
            for exit, id in pairs(currentexits) do
              if mmp.roomexists(id) then
                s = makeroom(id, num, getshiftedcoords(exit, getRoomCoordinates(id)))
              end
            end
          else
            local x, y = tostring(num):match(".-(%d%d%d)(%d%d%d)$")
            -- Achaea's coordinates seem to be in the 4th quadrant, while Mudlets 0,0 is in the middle of the map. Invert y so going north-south looks alright
            s = makeroom(mmp.previousroom, num, x, y * -1, 0)
          end
        end
        -- if we created it, and some data could be filled in
        if mmp.roomexists(num) then
          -- cleanup the room name
          local rootroomname = mmp.cleanroomname(gmcp.Room.Info.name)
          -- match exact case, so mappers alertness' works properly
          if getRoomName(num) ~= rootroomname then
            setRoomName(num, rootroomname)
            unHighlightRoom(num)
            s = s .. (#s &gt; 0 and " " or "") .. "Updated room name to '" .. rootroomname .. "'."
          end
          -- autolink exits
          if not inwilderness() then
            local x = getRoomExits(num) or {}
            -- check for missing exits
            for exit, id in pairs(currentexits) do
              if id == 0 then
                s =
                  s ..
                  (#s &gt; 0 and " " or "") ..
                  "Can't link to the " ..
                  exit ..
                  ", it leads to a room with ID 0 (and that's not supported yet)."
              else
                if not x[mmp.anytolong(exit)] then
                  if not mmp.roomexists(id) then
                    s =
                      makeroom(
                        num, id, getshiftedcoords(mmp.ranytolong(exit), getRoomCoordinates(num))
                      )
                  end
                  if setExit(num, id, exit) then
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      "Added missing exit " ..
                      exit ..
                      " to " ..
                      (getRoomName(id) ~= "" and getRoomName(id) or "''") ..
                      " (" ..
                      id ..
                      ")."
                  else
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      string.format(
                        "Failed to link %d with %d via %s exit for some reason :/", num, id, exit
                      )
                  end
                end
              end
            end
          else
            local function getshiftedcoords(direction, ox, oy, oz)
              if direction == 'n' then
                return ox, oy + 1, oz
              elseif direction == 'e' then
                return ox + 1, oy, oz
              elseif direction == 's' then
                return ox, oy - 1, oz
              elseif direction == 'w' then
                return ox - 1, oy, oz
              elseif direction == 'ne' then
                return ox + 1, oy + 1, oz
              elseif direction == 'se' then
                return ox + 1, oy - 1, oz
              elseif direction == 'sw' then
                return ox - 1, oy - 1, oz
              elseif direction == 'nw' then
                return ox - 1, oy + 1, oz
              else
                error("getshiftedcoords: direction " .. direction .. " isn't supported yet.")
              end
            end

            local x, y, z = getRoomCoordinates(num)
            local currentexits = getRoomExits(num) or {}
            for _, exit in ipairs({'n', 'e', 's', 'w', 'ne', 'se', 'sw', 'nw'}) do
              local roomatdir =
                getRoomsByPosition(getRoomArea(num), getshiftedcoords(exit, x, y, z))
              if roomatdir[0] then
                local id = roomatdir[0]
                if not currentexits[mmp.anytolong(exit)] then
                  if setExit(num, id, exit) then
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      "Added missing exit " ..
                      exit ..
                      " to " ..
                      (getRoomName(id) ~= "" and getRoomName(id) or "''") ..
                      " (" ..
                      id ..
                      ")."
                  else
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      string.format(
                        "Failed to link %d with %d via %s exit for some reason :/", num, id, exit
                      )
                  end
                  local exit = mmp.anytoshort(mmp.ranytolong(exit))
                  if setExit(id, num, exit) then
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      "Added missing exit " ..
                      exit ..
                      " to " ..
                      (getRoomName(id) ~= "" and getRoomName(id) or "''") ..
                      " (" ..
                      id ..
                      ")."
                  else
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      string.format(
                        "Failed to link %d with %d via %s exit for some reason :/", num, id, exit
                      )
                  end
                end
              end
            end
          end
          -- check for unexisting exits
          if mmp.settings["autoclear"] then
            for exit, id in pairs(getRoomExits(num)) do
              if not currentexits[mmp.anytoshort(exit)] then
                setExit(num, -1, exit)
                s =
                  s ..
                  (#s &gt; 0 and " " or "") ..
                  exit ..
                  " exit to " ..
                  id ..
                  " doesn't actually exist, removed it."
              end
            end
          end
          -- check for environment update, if we have environments mapped out
          if
            mmp.envids[gmcp.Room.Info.environment] and
            mmp.envids[gmcp.Room.Info.environment] ~= getRoomEnv(num)
          then
            setRoomEnv(num, mmp.envids[gmcp.Room.Info.environment])
            s =
              s ..
              (#s &gt; 0 and " " or "") ..
              "Updated environment name to " ..
              gmcp.Room.Info.environment ..
              "."
          end
          -- check indoors status
          if mmp.game ~= "asteria" then
            local indoors = table.contains(gmcp.Room.Info.details, "indoors")
            if indoors and (getRoomUserData(num, "indoors") == '' or getRoomUserData(num,"outdoors") ~= '') then
            setRoomUserData(num, "indoors", "y")
            clearRoomUserDataItem(num, "outdoors")
            s = s .. (#s &gt; 0 and " " or "") .. "Updated room to be indoors."
          elseif not indoors and (getRoomUserData(num, "indoors") ~= '' or getRoomUserData(num, "outdoors") == '') then
            clearRoomUserDataItem(num, "indoors")
            setRoomUserData(num, "outdoors", "y")
            s = s .. (#s &gt; 0 and " " or "") .. "Updated room to be outdoors."
          end
        end

          -- check server area name (Achaea only for now)
          if mmp.game == "achaea" then
            local serverArea = gmcp.Room.Info.area
            if serverArea ~= getRoomUserData(num, "Game Area") then
              setRoomUserData(num, "Game Area", serverArea)
              s = s .. (#s &gt; 0 and " " or "") .. "Updated game area to " .. serverArea .. "."
            end
          end
          -- check for wilderness exits
          if getRoomChar(num) ~= "W" and table.contains(gmcp.Room.Info.details, "wilderness") then
            setRoomChar(num, "W")
            s = s .. (#s &gt; 0 and " " or "") .. "Added the wilderness mark."
          end
        end
        if #s &gt; 0 then
          mmp.echo(s)
          centerview(mmp.currentroom)
        end
      end,
      function(error)
        mmp.echo("Oops! Has a small problem (" .. error .. ").")
        echo("  ")
        echoLink(
          "view steps",
          'echo[[' .. debug.traceback() .. ']]',
          "View steps of code that led up to it"
        )
      end
    )
  if not s then
    mmp.echo(m)
  end
end
</script><eventHandlerList>
							</eventHandlerList></Script><Script isActive="yes" isFolder="no"><name>mmp_load_options</name><packageName /><script>function mmp_load_options()
	local loadTable = mmp_load_locks()

	if loadTable.options then
		for k, v in pairs(loadTable.options) do
			mmp.settings:setOption(k, v, true)
		end
	end
end

function mmp_load_locks()
	local loadTable = {}

	if string.char(getMudletHomeDir():byte()) == "/" then _sep = "/" else  _sep = "\\" end
	local loadFile = getMudletHomeDir() ..  _sep .. "mapper.options.lua"

    if io.exists(loadFile) then table.load(loadFile, loadTable) end

	if loadTable.locked_areas then
		mmp.locked = loadTable.locked_areas
	end

    local lockRoom, getAreaRooms = lockRoom, getAreaRooms
	for area in pairs(mmp.locked) do
		local rooms = getAreaRooms(area)
		for _, roomid in pairs(rooms or {}) do
			lockRoom(roomid, true)
		end
	end

	return loadTable
end
</script><eventHandlerList>
							</eventHandlerList></Script><Script isActive="yes" isFolder="no"><name>mmp_save_options</name><packageName /><script>function mmp_save_options()
	local saveTable = {
		locked_areas = mmp.locked,
		options = mmp.settings:getAllOptions()
	}

	if string.char(getMudletHomeDir():byte()) == "/" then _sep = "/" else  _sep = "\\" end
	local saveFile = getMudletHomeDir() ..  _sep .. "mapper.options.lua"

	table.save(saveFile, saveTable)
end
</script><eventHandlerList>
							</eventHandlerList></Script></ScriptGroup></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Chat</name><packageName>Chat</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>tabbed chat1</name><packageName>tabbed chat1</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>Tabbed Chat</name><packageName /><script>--Do not remove the following lines. Or change them.
demonnic = demonnic or {}
demonnic.chat = demonnic.chat or {}
demonnic.chat.tabsToBlink = demonnic.chat.tabsToBlink or {}
demonnic.chat.config = demonnic.chat.config or {}
demonnic.chat.tabs = demonnic.chat.tabs or {}
demonnic.chat.windows = demonnic.chat.windows or {}
demonnic.chat.config.activeColors = demonnic.chat.config.activeColors or {}
demonnic.chat.config.inactiveColors = demonnic.chat.config.inactiveColors or {}</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>functionality</name><packageName /><script>function nocase (s)
	s = string.gsub(s, "%a", function (c)
	return string.format("[%s%s]", string.lower(c),
                                  string.upper(c))
          end)
	return s
end


pickUpList = {"corpse", "sovereigns", "bound spyglass", "driftwood", "tinted glass bottle", " shard"}
function pickUp()
	for _, v in pairs(pickUpList) do	
		for _, j in pairs(itemlist) do
			if string.find(j.name, v) then
					svo.doaddfree("get " ..j.id)
			end
		end
	end
end

function ndbgetrgb(person) --returns rgb colour tag for decho
	person=person:title()
	local color=ndb.getcolorp(person)
	if not color then return("") else
		local rgb=string.format("%d,%d,%d",getRGB(color))
		return("&lt;"..rgb.."&gt;")
	end
end

function recolourChat(line)
	local str=line
	selectString(str,1)
	local rgb=string.format("%d,%d,%d",getFgColor())
	local rgb="&lt;"..rgb.."&gt;"
	deselect()
	fixedstring=string.gsub(str, "(%w+)", function(w) if ndb.isperson(w) then return ndbgetrgb(w)..w..rgb else return w end end)
	retrun(fixedstring)
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>demonnicOnStart</name><packageName /><script>function demonnicOnStart()
  if demonnic.chat.use then
    demonnic.chat:create()
  end
end
</script><eventHandlerList>
							</eventHandlerList></Script><Script isActive="yes" isFolder="no"><name>Code</name><packageName /><script>--[[
If the label callbacks ever decide to start taking a function which is part of a table, 0then this will change.
Or if it's modified to take actual functions. Anonymouse function clickcallback would be awfully nice.
]]

function demonnicChatSwitch(chat)
  local r = demonnic.chat.config.inactiveColors.r
  local g = demonnic.chat.config.inactiveColors.g
  local b = demonnic.chat.config.inactiveColors.b
  local newr = demonnic.chat.config.activeColors.r
  local newg = demonnic.chat.config.activeColors.g
  local newb = demonnic.chat.config.activeColors.b
  local oldchat = demonnic.chat.currentTab
  if demonnic.chat.currentTab ~= chat then
    demonnic.chat.windows[oldchat]:hide()
    demonnic.chat.tabs[oldchat]:setColor(r,g,b)
    demonnic.chat.tabs[oldchat]:echo(oldchat, demonnic.chat.config.inactiveTabText, "c")
    if demonnic.chat.config.blink and demonnic.chat.tabsToBlink[chat] then
      demonnic.chat.tabsToBlink[chat] = nil
    end
    if demonnic.chat.config.blink and chat == demonnic.chat.config.Alltab then
      demonnic.chat.tabsToBlink = {}
    end
  end
  demonnic.chat.tabs[chat]:setColor(newr,newg,newb)
  demonnic.chat.tabs[chat]:echo(chat, demonnic.chat.config.activeTabText, "c")
  demonnic.chat.windows[chat]:show()
  demonnic.chat.currentTab = chat  
end

function demonnic.chat:resetUI()
  demonnic.chat.container = Geyser.Container:new(demonnic.chat[demonnic.chat.config.location]())
  demonnic.chat.tabBox = Geyser.HBox:new({
    x=0,
    y=0,
    width = "100%",
    height = "25px",
    name = "DemonChatTabs",
  },demonnic.chat.container)

end

function demonnic.chat:create()
  --reset the UI
  demonnic.chat:resetUI()
  --Set some variables locally to increase readability
  local r = demonnic.chat.config.inactiveColors.r
  local g = demonnic.chat.config.inactiveColors.g
  local b = demonnic.chat.config.inactiveColors.b
  local winr = demonnic.chat.config.windowColors.r
  local wing = demonnic.chat.config.windowColors.g
  local winb = demonnic.chat.config.windowColors.b

  --iterate the table of channels and create some windows and tabs
  for i,tab in ipairs(demonnic.chat.config.channels) do
    demonnic.chat.tabs[tab] = Geyser.Label:new({
      name=string.format("tab%s", tab),
    }, demonnic.chat.tabBox)
    demonnic.chat.tabs[tab]:echo(tab, demonnic.chat.config.inactiveTabText, "c")
    demonnic.chat.tabs[tab]:setColor(r,g,b)
    demonnic.chat.tabs[tab]:setClickCallback("demonnicChatSwitch", tab)
    demonnic.chat.windows[tab] = Geyser.MiniConsole:new({
--      fontSize = demonnic.chat.config.fontSize,
      x = 0,
      y = 25,
      height = "100%",
      width = "100%",
      name = string.format("win%s", tab),
    }, demonnic.chat.container)
    demonnic.chat.windows[tab]:setFontSize(demonnic.chat.config.fontSize)
    demonnic.chat.windows[tab]:setColor(winr,wing,winb)
    demonnic.chat.windows[tab]:setWrap(demonnic.chat.config.width)
    demonnic.chat.windows[tab]:hide()
  end
  local showme = demonnic.chat.config.Alltab or demonnic.chat.config.channels[1]
  demonnicChatSwitch(showme)
  --start the blink timers, if enabled
  if demonnic.chat.config.blink and not demonnic.chat.blinkTimerOn then
    demonnic.chat:blink()
  end
end

function demonnic.chat:append(chat)
  local r = demonnic.chat.config.windowColors.r
  local g = demonnic.chat.config.windowColors.g
  local b = demonnic.chat.config.windowColors.b
  selectCurrentLine()
  local ofr,ofg,ofb = getFgColor()
  local obr,obg,obb = getBgColor()
  if demonnic.chat.config.preserveBackground then
    setBgColor(r,g,b)
  end
  copy()
  if demonnic.chat.config.timestamp then
    local timestamp = getTime(true, demonnic.chat.config.timestamp)
    local tsfg = {}
    local tsbg = {}
    local colorLeader = ""
    if demonnic.chat.config.timestampCustomColor then
      if type(demonnic.chat.config.timestampFG) == "string" then
        tsfg = color_table[demonnic.chat.config.timestampFG]
      else
        tsfg = demonnic.chat.config.timestampFG
      end
      if type(demonnic.chat.config.timestampBG) == "string" then
        tsbg = color_table[demonnic.chat.config.timestampBG]
      else
        tsbg = demonnic.chat.config.timestampBG
      end
      colorLeader = string.format("&lt;%s,%s,%s:%s,%s,%s&gt;",tsfg[1],tsfg[2],tsfg[3],tsbg[1],tsbg[2],tsbg[3])
    else
      colorLeader = string.format("&lt;%s,%s,%s:%s,%s,%s&gt;",ofr,ofg,ofb,obr,obg,obb)
    end
    local fullstamp = string.format("%s%s",colorLeader,timestamp)
      demonnic.chat.windows[chat]:decho(fullstamp)
      demonnic.chat.windows[chat]:echo(" ")
      if demonnic.chat.config.Alltab then 
        demonnic.chat.windows[demonnic.chat.config.Alltab]:decho(fullstamp)
        demonnic.chat.windows[demonnic.chat.config.Alltab]:echo(" ")
      end
  end
  demonnic.chat.windows[chat]:append()
  if demonnic.chat.config.gag then 
    deleteLine() 
    tempLineTrigger(1,1, [[if isPrompt() then deleteLine() end]])
  end
  if demonnic.chat.config.Alltab then appendBuffer(string.format("win%s", demonnic.chat.config.Alltab)) end
  if demonnic.chat.config.blink and chat ~= demonnic.chat.currentTab then 
    if (demonnic.chat.config.Alltab == demonnic.chat.currentTab) and not demonnic.chat.config.blinkOnAll then
      return
    else
      demonnic.chat.tabsToBlink[chat] = true
    end
  end
end



function demonnic.chat:blink()
  if demonnic.chat.blinkID then killTimer(demonnic.chat.blinkID) end
  if not demonnic.chat.config.blink then 
    demonnic.chat.blinkTimerOn = false
    return 
  end
  for tab,_ in pairs(demonnic.chat.tabsToBlink) do
    demonnic.chat.tabs[tab]:flash()
  end
  demonnic.chat.blinkID = tempTimer(demonnic.chat.config.blinkTime, function () demonnic.chat:blink() end)
end

function demonnic.chat:topright()
  return {
    fontSize = demonnic.chat.config.fontSize,
    x=string.format("-%sc",demonnic.chat.config.width + 2),
    y=0,
    width="-15px",
    height=string.format("%ic", demonnic.chat.config.lines + 2),
  }
end

function demonnic.chat:topleft()
  return {
    fontSize = demonnic.chat.config.fontSize,
    x=0,
    y=0,
    width=string.format("%sc",demonnic.chat.config.width),
    height=string.format("%ic", demonnic.chat.config.lines + 2),
  }
end

function demonnic.chat:bottomright()
  return {
    fontSize = demonnic.chat.config.fontSize,
    x=string.format("-%sc",demonnic.chat.config.width + 2),
    y=string.format("-%sc",demonnic.chat.config.lines + 2),
    width="-15px",
    height=string.format("%ic", demonnic.chat.config.lines + 2),
  }
end

function demonnic.chat:bottomleft()
  return {
    fontSize = demonnic.chat.config.fontSize,
    x=0,
    y=string.format("-%sc",demonnic.chat.config.lines + 2),
    width=string.format("%sc",demonnic.chat.config.width),
    height=string.format("%ic", demonnic.chat.config.lines + 2),
  }
end
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Configuration Options</name><packageName /><script>--[[
This is where all of the configuration options can be set. 
Anything I've put in this script object can be changed, but please do pay attention to what you're doing.
If you change one of the values to something it shouldn't be, you could break it. 
]]

--This is where you tell it to use tabbed chat.
demonnic.chat.use = true

--[[
This is where you say what corner of the screen you want the tabbed chat on
Valid settings are "topright", "topleft", "bottomright", "bottomleft"
]]--
demonnic.chat.config.location = "bottomleft"

--[[
This is a table of channels you would like.
AKA the place you tell the script what tabs you want.
Each entry must be a string. The defaults should be a pretty effective guide.
]]

demonnic.chat.config.channels = {
  "All",
  "Order",
  "House",
  "City",
  "Clans",
  "Tells",
  "Says",
  "Party",
  "Combat",
}


--Set this to the name of the channel you want to have everything sent to. 
--Per the default, this would be the "All" channel. If you have a different name for it:
--
--demonnic.chat.config.Alltab = "Bucket"  
--
--And if you don't want it turned on at all:
--
-- demonnic.chat.config.Alltab = false

demonnic.chat.config.Alltab = "All"



---------------------------------------------------------------------------------
--                                                                             --
--The infamous blinking stuff!!!                                               --
--                                                                             --
---------------------------------------------------------------------------------

--[[
Do you want tabs to blink when you get new messages, until you click on the tab?
True if yes, false if no.
]]
demonnic.chat.config.blink = true

--How long (in seconds) between blinks? For example, 1 would mean a 1 second pause in between blinks.
demonnic.chat.config.blinkTime = 3

--Blink if the bucket tab ("All" by default, but configured above) is in focus?
demonnic.chat.config.blinkFromAll = false




--Font size for the chat messages

demonnic.chat.config.fontSize = 12

--[[
Should we preserve the formatting of the text. 
Or should we set the background of it to match the window color?
Set this to false if you want the background for all chat to match the background of the window.
Useful if you change the background from black, and don't like the way the pasted chat makes blocks in it
]]

demonnic.chat.config.preserveBackground = false

--[[
Gag the chat lines in the main window?
defaults to false, set to true if you want to gag.
]]

demonnic.chat.config.gag = false

--[[
Number of lines of chat visible at once. 
Will determine how tall the window for the chats is.
]]

demonnic.chat.config.lines = 18

--[[
Number of characters to wrap the chatlines at.
This will also determine how wide the chat windows are.
]]

demonnic.chat.config.width = 72

--[[
Set the color for the active tab. R,G,B format.
The default here is a brightish green
]]

demonnic.chat.config.activeColors = {
  r = 0,
  g = 120,
  b = 180,
}

--[[
Set the color for the inactive tab. R,G,B format.
The default here is a drab grey
]]

demonnic.chat.config.inactiveColors = {
  r = 60,
  g = 60,
  b = 60,
}

--[[
Set the color for the chat window itself. R,G,B format.
Defaulted to the black of my twisted hardened soul. Or something.
]]

demonnic.chat.config.windowColors = {
  r = 0,
  g = 0,
  b = 0,
}

--[[
Set the color for the text on the active tab. Uses color names.
Set the default to purple. So the tab you're looking at, by default will be purple on bright green. 
Did I mention I'm a bit colorblind?
]]

demonnic.chat.config.activeTabText = "purple"

--[[
Set the color for the text on the inactive tabs. Uses color names.
Defaulted this to white. So the tabs you're not looking at will be white text on boring grey background.
]]

demonnic.chat.config.inactiveTabText = "white"

--[[
have to make sure a currentTab is set... 
so we'll use the one for the bucket, or the first one in the channels table
Or, you know... what it's currently set to, if it's already set.
]]
demonnic.chat.currentTab = demonnic.chat.currentTab or demonnic.chat.config.Alltab or demonnic.chat.config.channels[1]

</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>echo functions</name><packageName /><script>
function demonnic.chat:cecho(chat, message)
  local alltab = demonnic.chat.config.Alltab
  local blink = demonnic.chat.config.blink
  cecho(string.format("win%s",chat), message)
  if alltab and chat ~= alltab then 
    cecho(string.format("win%s", alltab), message)
  end
  if blink and chat ~= demonnic.chat.currentTab then
    if (alltab == demonnic.chat.currentTab) and not demonnic.chat.config.blinkOnAll then
      return
    else
      demonnic.chat.tabsToBlink[chat] = true
    end
  end
end

function demonnic.chat:decho(chat, message)
  local alltab = demonnic.chat.config.Alltab
  local blink = demonnic.chat.config.blink
  decho(string.format("win%s",chat), message)
  if alltab and chat ~= alltab then 
    decho(string.format("win%s", alltab), message)
  end
  if blink and chat ~= demonnic.chat.currentTab then
    if (alltab == demonnic.chat.currentTab) and not demonnic.chat.config.blinkOnAll then
      return
    else
      demonnic.chat.tabsToBlink[chat] = true
    end
  end
end

function demonnic.chat:hecho(chat, message)
  local alltab = demonnic.chat.config.Alltab
  local blink = demonnic.chat.config.blink
  hecho(string.format("win%s",chat), message)
  if alltab and chat ~= alltab then 
    hecho(string.format("win%s", alltab), message)
  end
  if blink and chat ~= demonnic.chat.currentTab then
    if (alltab == demonnic.chat.currentTab) and not demonnic.chat.config.blinkOnAll then
      return
    else
      demonnic.chat.tabsToBlink[chat] = true
    end
  end
end

function demonnic.chat:echo(chat, message)
  local alltab = demonnic.chat.config.Alltab
  local blink = demonnic.chat.config.blink
  echo(string.format("win%s",chat), message)
  if alltab and chat ~= alltab then 
    echo(string.format("win%s", alltab), message)
  end
  if blink and chat ~= demonnic.chat.currentTab then
    if (alltab == demonnic.chat.currentTab) and not demonnic.chat.config.blinkOnAll then
      return
    else
      demonnic.chat.tabsToBlink[chat] = true
    end
  end
end
</script><eventHandlerList /></Script><ScriptGroup isActive="no" isFolder="yes"><name>Shared</name><packageName /><script>--Bootstrapping variables/etc. Don't touch this unless you really know what you're doing

--I mean it. I'll point. AND laugh. loudly. 
demonnic = demonnic or {}
demonnic.config = demonnic.config or {}
demonnic.balances = demonnic.balances or {}
demonnic.balances.balance = demonnic.balances.balance or 1
demonnic.balances.equilibrium = demonnic.balances.equilibrium or 1
demonnic.debug = demonnic.debug or {}
demonnic.debug.active = demonnic.debug.active or nil
demonnic.debug.categories = demonnic.debug.categories or { }


function demonnic:echo(msg)
 cecho(string.format("\n&lt;blue&gt;(&lt;green&gt;Demonnic&lt;blue&gt;):&lt;white&gt; %s", msg))
end</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Align</name><packageName /><script>
function align(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful
info. But if they didn't send a second argument then that's ok, the defaults
will be enough to get by and just center the txt
]]--
  if (type(options) ~= "table") and (options ~= nil) then return "You call this with align(\"some text to format\", &lt;table of options&gt;. Pls check comments for what options and usage information" end
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or "center" --if we don't specify, it's centered
  options.cap = options.cap or "" --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or " " --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

 
  if options.alignment == "center" then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, "&lt;", "&gt;")
      rightCap = string.gsub(rightCap, "%[", "%]")
      rightCap = string.gsub(rightCap, "{", "}")
      rightCap = string.gsub(rightCap, "%(", "%)")
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(" %s ", str)
   
  elseif options.alignment == "right" then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = ""
    str = string.format(" %s", str)
   
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = ""
    str = string.format("%s ", str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing.
 
  if options.inside then
  --if we're placing the repated spacer inside
  --"=====endcap some text endcap====="
  --"=====endcap some text pacdne====="
  --"=================endcap some text"
  --"some text endcap================="
    return leftCap .. string.rep(options.spacer, (leftPadLen - capLen)) .. str ..string.rep(options.spacer, (rightPadLen - capLen)).. rightCap
  else
  --otherwise, it''s be the spaces on the 'inside'
  -- "endcap===== some text =====endcap"
  -- "endcap===== some text =====pacdne"
  -- "endcap================= some text"
  -- "some text =================endcap"
    return string.rep(options.spacer, (leftPadLen - capLen)) .. leftCap .. str .. rightCap .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end


function calign(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful 
info. But if they didn't send a second argument then that's ok, the defaults 
will be enough to get by and just center the txt
]]--
  if (not type(options) == "table") and (not options == nil) then return "You call this with align(\"some text to format\", &lt;table of options&gt;. Pls check comments for what options and usage information" end 
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or "center" --if we don't specify, it's centered
  options.cap = options.cap or "" --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or " " --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  options.capColor = options.capColor or "&lt;white&gt;"--by default, don't change the color of the caps
  options.spacerColor = options.spacerColor or "&lt;white&gt;"
  options.textColor = options.textColor or "&lt;white&gt;"--or the text
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

  
  if options.alignment == "center" then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, "&lt;", "&gt;")
      rightCap = string.gsub(rightCap, "%[", "%]")
      rightCap = string.gsub(rightCap, "{", "}")
      rightCap = string.gsub(rightCap, "%(", "%)")
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(" %s ", str)
    
  elseif options.alignment == "right" then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = ""
    str = string.format(" %s", str)
    
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = ""
    str = string.format("%s ", str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing. 
  
  if options.inside then 
  --if we're placing the repated spacer inside
  --"=====endcap some text endcap=====" 
  --"=====endcap some text pacdne====="
  --"=================endcap some text" 
  --"some text endcap================="
    return options.capColor .. leftCap .. options.spacerColor.. string.rep(options.spacer, (leftPadLen - capLen)) .. options.textColor .. str .. options.spacerColor ..string.rep(options.spacer, (rightPadLen - capLen)) .. options.capColor .. rightCap
  else 
  --otherwise, it''s be the spaces on the 'inside'
  -- "endcap===== some text =====endcap"
  -- "endcap===== some text =====pacdne" 
  -- "endcap================= some text" 
  -- "some text =================endcap"
    return options.spacerColor .. string.rep(options.spacer, (leftPadLen - capLen)) .. options.capColor .. leftCap .. options.textColor .. str .. options.capColor .. rightCap .. options.spacerColor .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end

function dalign(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful 
info. But if they didn't send a second argument then that's ok, the defaults 
will be enough to get by and just center the txt
]]--
  if (not type(options) == "table") and (not options == nil) then return "You call this with align(\"some text to format\", &lt;table of options&gt;. Pls check comments for what options and usage information" end 
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or "center" --if we don't specify, it's centered
  options.cap = options.cap or "" --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or " " --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  options.capColor = options.capColor or "&lt;255,255,255&gt;"--by default, don't change the color of the caps
  options.spacerColor = options.spacerColor or "&lt;255,255,255&gt;" 
  options.textColor = options.textColor or "&lt;255,255,255&gt;"--or the text
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

  
  if options.alignment == "center" then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, "&lt;", "&gt;")
      rightCap = string.gsub(rightCap, "%[", "%]")
      rightCap = string.gsub(rightCap, "{", "}")
      rightCap = string.gsub(rightCap, "%(", "%)")
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(" %s ", str)
    
  elseif options.alignment == "right" then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = ""
    str = string.format(" %s", str)
    
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = ""
    str = string.format("%s ", str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing. 
  
  if options.inside then 
  --if we're placing the repated spacer inside
  --"=====endcap some text endcap=====" 
  --"=====endcap some text pacdne====="
  --"=================endcap some text" 
  --"some text endcap================="
    return options.capColor .. leftCap .. options.spacerColor.. string.rep(options.spacer, (leftPadLen - capLen)) .. options.textColor .. str .. options.spacerColor ..string.rep(options.spacer, (rightPadLen - capLen)) .. options.capColor .. rightCap
  else 
  --otherwise, it''s be the spaces on the 'inside'
  -- "endcap===== some text =====endcap"
  -- "endcap===== some text =====pacdne" 
  -- "endcap================= some text" 
  -- "some text =================endcap"
    return options.spacerColor .. string.rep(options.spacer, (leftPadLen - capLen)) .. options.capColor .. leftCap .. options.textColor .. str .. options.capColor .. rightCap .. options.spacerColor .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end

function halign(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful 
info. But if they didn't send a second argument then that's ok, the defaults 
will be enough to get by and just center the txt
]]--
  if (not type(options) == "table") and (not options == nil) then return "You call this with align(\"some text to format\", &lt;table of options&gt;. Pls check comments for what options and usage information" end 
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or "center" --if we don't specify, it's centered
  options.cap = options.cap or "" --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or " " --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  options.capColor = options.capColor or "|cFFFFFF"--by default, don't change the color of the caps
  options.spacerColor = options.spacerColor or "|cFFFFFF" 
  options.textColor = options.textColor or "|cFFFFFF"--or the text
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

  
  if options.alignment == "center" then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, "&lt;", "&gt;")
      rightCap = string.gsub(rightCap, "%[", "%]")
      rightCap = string.gsub(rightCap, "{", "}")
      rightCap = string.gsub(rightCap, "%(", "%)")
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(" %s ", str)
    
  elseif options.alignment == "right" then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = ""
    str = string.format(" %s", str)
    
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = ""
    str = string.format("%s ", str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing. 
  
  if options.inside then 
  --if we're placing the repated spacer inside
  --"=====endcap some text endcap=====" 
  --"=====endcap some text pacdne====="
  --"=================endcap some text" 
  --"some text endcap================="
    return options.capColor .. leftCap .. options.spacerColor.. string.rep(options.spacer, (leftPadLen - capLen)) .. options.textColor .. str .. options.spacerColor ..string.rep(options.spacer, (rightPadLen - capLen)) .. options.capColor .. rightCap
  else 
  --otherwise, it''s be the spaces on the 'inside'
  -- "endcap===== some text =====endcap"
  -- "endcap===== some text =====pacdne" 
  -- "endcap================= some text" 
  -- "some text =================endcap"
    return options.spacerColor .. string.rep(options.spacer, (leftPadLen - capLen)) .. options.capColor .. leftCap .. options.textColor .. str .. options.capColor .. rightCap .. options.spacerColor .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end
 
</script><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>Geyser Additions</name><packageName /><script>function Geyser.MiniConsole:clear()
   clearWindow(self.name)
end

function Geyser.MiniConsole:append()
  appendBuffer(self.name)
end
</script><eventHandlerList /></Script><Script isActive="no" isFolder="no"><name>demonnicVitals</name><packageName /><script>--Set some vital statistics. Will work with both ATCP and GMCP. 

function demonnicVitals( msg, arg )
  demonnic.nextLevel = tonumber(gmcp.Char.Vitals.nl)
  demonnic.curHealth = tonumber(gmcp.Char.Vitals.hp)    
  demonnic.maxHealth = tonumber(gmcp.Char.Vitals.maxhp)
  demonnic.curMana = tonumber(gmcp.Char.Vitals.mp)
  demonnic.maxMana = tonumber(gmcp.Char.Vitals.maxmp)
  demonnic.curEgo = tonumber(gmcp.Char.Vitals.ego)
  demonnic.maxEgo = tonumber(gmcp.Char.Vitals.maxego)
  demonnic.curPower = tonumber(gmcp.Char.Vitals.pow)
  demonnic.maxPower = tonumber(gmcp.Char.Vitals.maxpow)
  demonnic.curWillpower = tonumber(gmcp.Char.Vitals.wp)
  demonnic.maxWillpower = tonumber(gmcp.Char.Vitals.maxwp)
  demonnic.curEndurance = tonumber(gmcp.Char.Vitals.ep)
  demonnic.maxEndurance = tonumber(gmcp.Char.Vitals.maxep)
end
</script><eventHandlerList>
								</eventHandlerList></Script><Script isActive="yes" isFolder="no"><name>Debugging</name><packageName /><script>--Adds debugging functionality 

function demonnic:Debug(category,debugData)
   if category then
      if table.contains(demonnic.debug.categories, category) then
         if type(debugData) == "table" then
            demonnic:echo("&lt;red&gt;DEBUG " .. category .. ":&lt;white&gt;")
            display(debugData)
         elseif type(debugData) == "string" or type(debugData) == "number" then
            demonnic:echo("&lt;red&gt;DEBUG " .. category .. ":&lt;white&gt; " .. debugData .. "\n" )
         else
            demonnic:echo("&lt;red&gt;DEBUG " .. category .. ":&lt;white&gt; " .. tostring(debugData) .. "\n" )
         end
      end
   else
      if type(debugData) == "table" then
         demonnic:echo("&lt;red&gt;DEBUG:&lt;white&gt;")
         display(debugData)
      elseif type(debugData) == "string" or type(debugData) == "number" then
         demonnic:echo("&lt;red&gt;DEBUG:&lt;white&gt; " .. debugData)
      else
         demonnic:echo("&lt;red&gt;DEBUG:&lt;white&gt; " .. tostring(debugData))
      end
   end
end

function demonnic:printDebug(category, debugData)
   if not demonnic.debug.active then return end
   demonnic:Debug(category, debugData)
end

function demonnic:toggleDebug()
   if demonnic.debug.active then demonnic.debug.active = nil
   else demonnic.debug.active = true
   end
   demonnic:echo("Debugging is currently " .. (( demonnic.debug.active and "&lt;green&gt;ON&lt;white&gt;") or "&lt;red&gt;OFF&lt;white&gt;"))
end

function demonnic:watchCategory( category )
   if table.contains(demonnic.debug.categories, category) then
      for i,v in ipairs(demonnic.debug.categories) do
         if v == category then
            table.remove(demonnic.debug.categories, i)
         end
      end
      demonnic:echo("No longer watching the '&lt;red&gt;"..category.."&lt;white&gt;' category.") 
   else
      table.insert(demonnic.debug.categories, category)
      demonnic:echo("Now watching the '&lt;red&gt;"..category.."&lt;white&gt;' category.")
   end
   demonnic:echo("Debugging is currently " .. (( demonnic.debug.active and "&lt;green&gt;ON&lt;white&gt;") or "&lt;red&gt;OFF&lt;white&gt;"))
end

function demonnic:listCategories()
   if #demonnic.debug.categories &gt; 0 then
      demonnic:echo("You are currently watching the following categories:\n" .. table.concat(demonnic.debug.categories,", ") )
   else
      demonnic:echo("You are not watching any debugs.")
   end
end

</script><eventHandlerList /></Script><ScriptGroup isActive="no" isFolder="yes"><name>GMCP Events</name><packageName /><script /><eventHandlerList /><Script isActive="yes" isFolder="no"><name>EnableIRE.Rift</name><packageName /><script>gmod.registerUser("Demonnic")
gmod.enableModule("Demonnic", "IRE.Rift")
</script><eventHandlerList /></Script><ScriptGroup isActive="yes" isFolder="yes"><name>Skill Events</name><packageName /><script>--[[
set of events which will autopopulate a skills table called demonnic.skills
You can use this to determine what skills are available to your char
and adjust other variables accordingly
display(demonnic.skills) to see the format
]]</script><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>Get skills in group</name><packageName /><script>--[[
This populates the subtable for each skill group. It is recieved for an individual skillgroup, and will fire once for each one
demonnic.skills.skillgroup will be the name (IE demonnic.skills.environment will hold the list of all the skills you've learned in environment
Because when we get the list of groups it sends a request for each group of skills we know, it will populate the whole table.
]]</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>demonnic_skillsList</name><packageName /><script>function demonnic_skillsList()
  local group = gmcp.Char.Skills.List.group
  local list = gmcp.Char.Skills.List.list
  if group then
    if not demonnic.skills then demonnic.skills = {} end
    demonnic.skills[group] = list
    raiseEvent("demonnicSkillFilled", group)
  end
end
</script><eventHandlerList>
											</eventHandlerList></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Get list of groups</name><packageName /><script>--[[
This will create demonnic.skills.skillgroup as a table, and send a GMCP request for the list of skills in each skillgroup
IOW, this tells us what skills we can lookup (like AB with no argument)
It also sends a newline, so that we get all the returns from the gmcp requests
]]</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>demonnic_skillGroups</name><packageName /><script>function demonnic_skillGroups()
  demonnic.skills = {}
  for _,extra in ipairs(gmcp.Char.Skills.Groups) do
    skillstring = string.format("Char.Skills.Get %s", yajl.to_string({group=extra.name}))
    sendGMCP(skillstring)
  end
  send("\n")
end
</script><eventHandlerList>
											</eventHandlerList></Script></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Room Items</name><packageName /><script>--[[
The events kept within this folder will populate demonnic.roomItems on entering a room or doing 'look'
It also adds items to the list as they enter the room (or get dropped)
And removes them when they get picked up
you can do display(demonnic.roomItems) to see the format to work with
]]</script><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>Add items when they enter</name><packageName /><script>--[[
This event adds items when gmcp tells you items have been added to the room
IE a creature enters, someone drops something, etc.
]]</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>demonnic_riadd</name><packageName /><script>function demonnic_riadd()
  local item = gmcp.Char.Items.Add
  if item.location == "room" then 
    item = item.item 
    if not demonnic.roomItems[item.name] then demonnic.roomItems[item.name] = {} end
    table.insert(demonnic.roomItems[item.name], item.id)
  end
end
</script><eventHandlerList>
											</eventHandlerList></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Populate on look</name><packageName /><script>--[[
This event resets demonnic.roomItems, since it gives the complete list of items
It fires when you move, or LOOK.
]]</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>demonnic_rilist</name><packageName /><script>function demonnic_rilist()
  local list = gmcp.Char.Items.List
  if list.location == "room" then
    demonnic.roomItems = {}
    for _,v in ipairs(list.items) do
      if not demonnic.roomItems[v.name] then demonnic.roomItems[v.name] = {} end
      table.insert(demonnic.roomItems[v.name], v.id)
    end
  end
  if list.location == "inv" then
    return
  end
end
</script><eventHandlerList>
											</eventHandlerList></Script></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Remove items when they leave</name><packageName /><script>--[[
This event fires when gmcp says an item leaves the room
IE someone picks it up, it's a mob and it moves out of the room, etc.
]]</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>demonnic_rileave</name><packageName /><script>function demonnic_rileave()
  local item = gmcp.Char.Items.Remove
  if item.location == "room" then
    for name,items in pairs(demonnic.roomItems) do
      for i,id in ipairs(items) do
        if id == tostring(item.item) then
          table.remove(demonnic.roomItems[name],i) 
          if #demonnic.roomItems[name] == 0 then
            demonnic.roomItems[name] = nil
          end
        end
      end
    end
  end
end
</script><eventHandlerList>
											</eventHandlerList></Script></ScriptGroup></ScriptGroup></ScriptGroup></ScriptGroup></ScriptGroup></ScriptGroup></ScriptGroup><ScriptGroup isActive="yes" isFolder="yes"><name>Prospector</name><packageName>Prospector</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>prospectingscript</name><packageName>prospectingscript</packageName><script /><eventHandlerList /><ScriptGroup isActive="yes" isFolder="yes"><name>Prospecting</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

</script><eventHandlerList /><Script isActive="yes" isFolder="no"><name>ProspectingArrived</name><packageName /><script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

LodeList = {}


function ProspectingArrived()

	if ProspectList[1] and prospecting == 1 then
		table.remove(ProspectList,1)
		if ProspectList[1] then 
			prospectingtimer = tempTimer(0.8, [[mmp.gotoRoom(ProspectList[1])]]) 
		else 
			echo("Area fully explored!")
			prospecting=0
		end
	send("prospect") 
	send("read sign")
	end


end
</script><eventHandlerList>
							</eventHandlerList></Script></ScriptGroup></ScriptGroup></ScriptGroup></ScriptPackage><KeyPackage><KeyGroup isActive="yes" isFolder="yes"><name>Megophrys</name><script /><command /><packageName>Megophrys</packageName><keyCode>0</keyCode><keyModifier>0</keyModifier><Key isActive="yes" isFolder="no"><name>Toggle 3</name><script>(Megophrys[Megophrys.class].toggleThree or Megophrys.toggleThree)()
</script><command /><packageName /><keyCode>16777273</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Toggle 1'</name><script>(Megophrys[Megophrys.class].toggleOne or Megophrys.toggleOne)(true)
</script><command /><packageName /><keyCode>16777271</keyCode><keyModifier>1073741824</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SubMode 4</name><script>Megophrys[Megophrys.class].subMode(4)
</script><command /><packageName /><keyCode>16777270</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Toggle 2</name><script>(Megophrys[Megophrys.class].toggleTwo or Megophrys.toggleTwo)()
</script><command /><packageName /><keyCode>16777272</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SubMode 2</name><script>Megophrys[Megophrys.class].subMode(2)
</script><command /><packageName /><keyCode>16777268</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SubMode 3'</name><script>Megophrys[Megophrys.class].subMode(3, true)
</script><command /><packageName /><keyCode>16777269</keyCode><keyModifier>1073741824</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SubMode 2'</name><script>Megophrys[Megophrys.class].subMode(2, true)
</script><command /><packageName /><keyCode>16777268</keyCode><keyModifier>1073741824</keyModifier></Key><Key isActive="yes" isFolder="no"><name>PvPMode</name><script>if Megophrys.class == 'Psion' then
  Megophrys.setMode('bonk')
elseif Megophrys.class == 'Magi' then
  Megophrys.setMode('pummel')
elseif Megophrys.class == 'Blademaster' then
  Megophrys.setMode('bstar')
elseif Megophrys.class == 'Alchemist' then
  Megophrys.setMode('aurify')
end
</script><command /><packageName /><keyCode>16777266</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SubMode 4'</name><script>Megophrys[Megophrys.class].subMode(4, true)
</script><command /><packageName /><keyCode>16777270</keyCode><keyModifier>1073741824</keyModifier></Key><Key isActive="yes" isFolder="no"><name>RaidMode</name><script>Megophrys.setMode('raid')
</script><command /><packageName /><keyCode>16777265</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SubMode 3</name><script>Megophrys[Megophrys.class].subMode(3)
</script><command /><packageName /><keyCode>16777269</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Special</name><script>Megophrys[Megophrys.class].doSpecial()
</script><command /><packageName /><keyCode>96</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SubMode 1'</name><script>Megophrys[Megophrys.class].subMode(1, true)
</script><command /><packageName /><keyCode>16777267</keyCode><keyModifier>1073741824</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SubMode 1</name><script>Megophrys[Megophrys.class].subMode(1)
</script><command /><packageName /><keyCode>16777267</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>HuntMode</name><script>Megophrys.setMode('denizen')
</script><command /><packageName /><keyCode>16777264</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Toggle 1</name><script>(Megophrys[Megophrys.class].toggleOne or Megophrys.toggleOne)()
</script><command /><packageName /><keyCode>16777271</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Toggle 5</name><script>(Megophrys[Megophrys.class].toggleFive or Megophrys.toggleFive)()
</script><command /><packageName /><keyCode>16777275</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Toggle 4</name><script>(Megophrys[Megophrys.class].toggleFour or Megophrys.toggleFour)()
</script><command /><packageName /><keyCode>16777274</keyCode><keyModifier>0</keyModifier></Key><KeyGroup isActive="yes" isFolder="yes"><name>Mission Ctrl</name><script /><command /><packageName /><keyCode>33554431</keyCode><keyModifier>0</keyModifier><Key isActive="yes" isFolder="no"><name>Pursue</name><script>Megophrys.pursue()
</script><command /><packageName /><keyCode>16777301</keyCode><keyModifier>1073741824</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Flee</name><script>Megophrys.autoEscape()
</script><command /><packageName /><keyCode>16777301</keyCode><keyModifier>134217728</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Stop</name><script>Megophrys.eStopAuto()
</script><command /><packageName /><keyCode>16777301</keyCode><keyModifier>1207959552</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Resist</name><script>Megophrys.autoResist()
</script><command /><packageName /><keyCode>16777300</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Attack</name><script>Megophrys.autoAttack()
</script><command /><packageName /><keyCode>16777301</keyCode><keyModifier>0</keyModifier></Key></KeyGroup><KeyGroup isActive="yes" isFolder="yes"><name>Movement</name><script /><command /><packageName /><keyCode>33554431</keyCode><keyModifier>0</keyModifier><Key isActive="yes" isFolder="no"><name>Duanatharan!</name><script /><command>' *human Duanatharan!</command><packageName /><keyCode>16777278</keyCode><keyModifier>0</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Duanathar!</name><script /><command>' *human Duanathar!</command><packageName /><keyCode>16777279</keyCode><keyModifier>0</keyModifier></Key><KeyGroup isActive="yes" isFolder="yes"><name>Homunculus</name><script /><command /><packageName /><keyCode>33554431</keyCode><keyModifier>0</keyModifier><Key isActive="yes" isFolder="no"><name>EXITS {Ctrl + Numpad}</name><script /><command>homunculus exits</command><packageName /><keyCode>16777222</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>UP {Ctrl + Numpad}</name><script /><command>homunculus move up</command><packageName /><keyCode>45</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>W {Ctrl + Numpad}</name><script /><command>homunculus move w</command><packageName /><keyCode>16777234</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SE {Ctrl + Numpad}</name><script /><command>homunculus move se</command><packageName /><keyCode>16777239</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>L {Ctrl + Numpad}</name><script /><command>homunculus look</command><packageName /><keyCode>16777227</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>S {Ctrl + Numpad}</name><script /><command>homunculus move s</command><packageName /><keyCode>16777237</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SW {Ctrl + Numpad}</name><script /><command>homunculus move sw</command><packageName /><keyCode>16777233</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>NW {Ctrl + Numpad}</name><script /><command>homunculus move nw</command><packageName /><keyCode>16777232</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>OUT {Ctrl + Numpad}</name><script /><command>homunculus move out</command><packageName /><keyCode>42</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>NE {Ctrl + Numpad}</name><script /><command>homunculus move ne</command><packageName /><keyCode>16777238</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>DN {Ctrl + Numpad}</name><script /><command>homunculus move down</command><packageName /><keyCode>43</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>E {Ctrl + Numpad}</name><script /><command>homunculus move e</command><packageName /><keyCode>16777236</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>N {Ctrl + Numpad}</name><script /><command>homunculus move n</command><packageName /><keyCode>16777235</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>IN {Ctrl + Numpad}</name><script /><command>homunculus move in</command><packageName /><keyCode>47</keyCode><keyModifier>603979776</keyModifier></Key><Key isActive="yes" isFolder="no"><name>LISTEN {Ctrl + Numpad}</name><script /><command>homunculus listen on</command><packageName /><keyCode>16777223</keyCode><keyModifier>603979776</keyModifier></Key></KeyGroup><KeyGroup isActive="yes" isFolder="yes"><name>Normal</name><script /><command /><packageName /><keyCode>33554431</keyCode><keyModifier>0</keyModifier><Key isActive="yes" isFolder="no"><name>L {Numpad}</name><script /><command>l</command><packageName /><keyCode>16777227</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>N {Numpad}</name><script>Megophrys.goDir('n')
</script><command /><packageName /><keyCode>16777235</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>NW {Numpad}</name><script>Megophrys.goDir('nw')
</script><command /><packageName /><keyCode>16777232</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>W {Numpad}</name><script>Megophrys.goDir('w')
</script><command /><packageName /><keyCode>16777234</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SW {Numpad}</name><script>Megophrys.goDir('sw')
</script><command /><packageName /><keyCode>16777233</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>UP {Numpad}</name><script>Megophrys.goDir('up')
</script><command /><packageName /><keyCode>45</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>IN {Numpad}</name><script>Megophrys.goDir('in')
</script><command /><packageName /><keyCode>47</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SE {Numpad}</name><script>Megophrys.goDir('se')
</script><command /><packageName /><keyCode>16777239</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>E {Numpad}</name><script>Megophrys.goDir('e')
</script><command /><packageName /><keyCode>16777236</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>DN {Numpad}</name><script>Megophrys.goDir('down')
</script><command /><packageName /><keyCode>43</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>WHO HERE {Numpad}</name><script>Megophrys.autoSelectHuntingTarget()
</script><command /><packageName /><keyCode>16777222</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>S {Numpad}</name><script>Megophrys.goDir('s')
</script><command /><packageName /><keyCode>16777237</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>SCRY {Numpad}</name><script>send('scout surroundings')
if Megophrys.class == 'Magi' then
  send('cast scry at '.. target)
elseif Megophrys.class == 'Psion' then
  send('servitor act')
elseif Megophrys.class == 'Blademaster' then
  send('fullsense')
elseif Megophrys.class == 'Apostate' then
  send('demon presences')
end
</script><command /><packageName /><keyCode>16777223</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>OUT {Numpad}</name><script>Megophrys.goDir('out')
</script><command /><packageName /><keyCode>42</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>NE {Numpad}</name><script>Megophrys.goDir('ne')
</script><command /><packageName /><keyCode>16777238</keyCode><keyModifier>536870912</keyModifier></Key></KeyGroup></KeyGroup></KeyGroup><KeyGroup isActive="yes" isFolder="yes"><name>AK Opponent Tracking</name><script /><command /><packageName>AK Opponent Tracking</packageName><keyCode>0</keyCode><keyModifier>0</keyModifier><KeyGroup isActive="yes" isFolder="yes"><name>AK Opponent Tracking</name><script /><command /><packageName /><keyCode>-1</keyCode><keyModifier>0</keyModifier><KeyGroup isActive="no" isFolder="yes"><name>Shaman Keys</name><script /><command /><packageName /><keyCode>-1</keyCode><keyModifier>0</keyModifier><Key isActive="yes" isFolder="no"><name>Inflame 5</name><script>
if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "Ginseng"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO:       GINSENG DAMAGE!!\n\n")
	ak.scoreup(target)
end
</script><command /><packageName /><keyCode>53</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Slow 3</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "Slow"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO: Slow Soft!!!\n\n")
	ak.scoreup(target)
end
</script><command /><packageName /><keyCode>51</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Iva 8</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "Swift Damage"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO:  Swifty Damage Pull!!\n\n")
	ak.scoreup(target)
end
</script><command /><packageName /><keyCode>56</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Ivp 4</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "ivp"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO:        Impatience via Paralyse!!\n\n")
	ak.scoreup(target) 
end
</script><command /><packageName /><keyCode>52</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Tza 1</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "Tzantza"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO: TZANTZA!!\n\n")
	ak.scoreup(target)
end
</script><command /><packageName /><keyCode>49</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Lock 2</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "Lock"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO: Lock Workable!!\n\n")
	ak.scoreup(target)
end


</script><command /><packageName /><keyCode>50</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Behead 7</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "Behead"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO:        Behead!!\n\n")
	ak.scoreup(target)
end
</script><command /><packageName /><keyCode>55</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Avp 9</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else

end
</script><command /><packageName /><keyCode>57</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Mangle 6</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "Mangle33"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO: Mangle 33!\n\n")
	ak.scoreup(target)
end

</script><command /><packageName /><keyCode>54</keyCode><keyModifier>536870912</keyModifier></Key></KeyGroup><KeyGroup isActive="yes" isFolder="yes"><name>Movement Keys</name><script /><command /><packageName /><keyCode>-1</keyCode><keyModifier>0</keyModifier><Key isActive="no" isFolder="no"><name>. Shield</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	if ak.defs.shield then 
		ak.defs.shield = false
		cecho("\n\n&lt;cyan&gt; SHIELDING TURNED OFF!")
		ak.scoreup(target)
	else 
		ak.defs.shield = true
		cecho("\n\n&lt;cyan&gt; SHIELDING TURNED ON!")
		ak.scoreup(target)
	end
end
</script><command /><packageName /><keyCode>46</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>| Stab</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
    send(presend.."in"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "in" .. postsend)
  end
else
	send("jab "..target)
end
</script><command /><packageName /><keyCode>47</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>* WardReset </name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
    send(presend.."out"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "out" .. postsend)
	end
else
	if ak.defs.curseward then 
		ak.defs.curseward = false
		cecho("\n\n&lt;cyan&gt; WARDING TURNED OFF!")
		ak.scoreup(target)
	else 
		ak.defs.curseward = true
		cecho("\n\n&lt;cyan&gt; WARDING TURNED ON!")
		ak.scoreup(target)
	end
end
</script><command /><packageName /><keyCode>42</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>4</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
    send(presend.."w"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "w" .. postsend)
	end
end
</script><command /><packageName /><keyCode>52</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>9</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
    send(presend.."ne"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "ne" .. postsend)
  end
end
</script><command /><packageName /><keyCode>57</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>5</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
   send("ql")
elseif gmcp and gmcp.Char and gmcp.Char.Vitals and gmcp.Char.Vitals.charstats[3] == "Spec: Dual Cutting" then
	if ak.stack == "dwckelp" then
		ak.stack = "dwcstupid"
		ak.scoreup(target)
	else
		ak.stack = "dwckelp"
		ak.scoreup(target)
	end 
end
</script><command /><packageName /><keyCode>53</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>8</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
    send(presend.."n"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "n" .. postsend)
	end
end
</script><command /><packageName /><keyCode>56</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>2</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
    send(presend.."s"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "s" .. postsend)
	end
end
</script><command /><packageName /><keyCode>50</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>- Illusion Send</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
		if TumbleEngaged then
    send(presend.."up"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "up" .. postsend)
	end
else
	ak.scoreup(target)
	ak.illusions_send()
	if gmcp.Char.Status.race:match("Dragon") == "Dragon" then 
	   send("conjure " ..target.. " illusion " .. illusion)
	elseif gmcp.Char.Status.class == "Serpent" then 
	   send("conjure " ..target.. " illusion " .. illusion)
	elseif gmcp.Char.Status.class == "Magi" or gmcp.Char.Status.class == "Sylvan" then
	   send("cast " ..target.. " illusion " .. illusion)
	end
	illusionredo = 1
end
</script><command /><packageName /><keyCode>45</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>6</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
    send(presend.."e"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "e" .. postsend)
	end
end
</script><command /><packageName /><keyCode>54</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>0 Rebounding</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
	ak.softreset()
else
	if ak.defs.rebounding then 
		ak.defs.rebounding = false
		ak.defs.reRebounding = false
		cecho("\n\n&lt;cyan&gt; REBOUNDING TURNED OFF!")
		cecho("\n&lt;cyan&gt; DISABLED REDEF SINGLE!\n\n")
		ak.scoreup(target)
	else
		ak.defs.rebounding = true
		ak.defs.reRebounding = true
		cecho("\n\n&lt;cyan&gt; REBOUNDING TURNED ON!")
		cecho("\n&lt;cyan&gt; ENABLED REDEF SINGLE!\n\n")
		ak.scoreup(target)
	end
end
</script><command /><packageName /><keyCode>48</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>+ Aff Reset</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
     send(presend.."down"..postsend)
  else
     send("queue addclear eqbal " .. presend .. "down" .. postsend)
	end
else
   ak.softreset()
end

</script><command /><packageName /><keyCode>43</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>7</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
    send(presend.."nw"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "nw" .. postsend)
	end
end
</script><command /><packageName /><keyCode>55</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>1</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
    send(presend.."sw"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "sw" .. postsend)
	end
end
</script><command /><packageName /><keyCode>49</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>3</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then
  local presend = ""
  local postsend = ""
  if wsys.def.phased then
    postsend = "|look at shrine|look at guard"
  end
	if TumbleEngaged then
    send(presend.."se"..postsend)
  else
    send("queue addclear eqbal " .. presend .. "se" .. postsend)
	end
end
</script><command /><packageName /><keyCode>51</keyCode><keyModifier>536870912</keyModifier></Key></KeyGroup><KeyGroup isActive="no" isFolder="yes"><name>Dragon Keys</name><script /><command /><packageName /><keyCode>-1</keyCode><keyModifier>0</keyModifier><Key isActive="yes" isFolder="no"><name>Dragon solo 6</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "dragon"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO:        Dragon(solo)!!\n\n")
	send("wipe dirk")
	send("wipe claws")
	ak.scoreup(target)
end
</script><command /><packageName /><keyCode>54</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Salve Lock 3</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "salve"
	send("wipe dirk")
	send("wipe claws")
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO:        SALVE(GOGO)!!!!\n\n")
	ak.scoreup(target)
end


</script><command /><packageName /><keyCode>51</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>DragnLock 9</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "dlock"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO:        Dragon LOCK!!\n\n")
	send("wipe dirk")
	send("wipe claws")
	ak.scoreup(target)
end
</script><command /><packageName /><keyCode>57</keyCode><keyModifier>536870912</keyModifier></Key><Key isActive="yes" isFolder="no"><name>Not Stacking 5</name><script>if table.contains(ak.MovementKeys, gmcp.Char.Name.name) then

else
	ak.stack = "NONE"
	cecho("\n\n&lt;cyan&gt; CHANGING STACK TO:        NOTHING(WILL GUST ON RENDS)!!!!\n\n")
	ak.scoreup(target)
end
</script><command /><packageName /><keyCode>53</keyCode><keyModifier>536870912</keyModifier></Key></KeyGroup><KeyGroup isActive="yes" isFolder="yes"><name>Psion Keys</name><script /><command /><packageName /><keyCode>-1</keyCode><keyModifier>0</keyModifier></KeyGroup></KeyGroup></KeyGroup></KeyPackage><HelpPackage><helpURL /></HelpPackage></MudletPackage>